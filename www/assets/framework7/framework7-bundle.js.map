{"version":3,"file":"framework7-bundle.js.map","sources":["../../node_modules/ssr-window/ssr-window.esm.js","../../node_modules/dom7/dom7.esm.js","../../src/core/shared/dom7.js","../../src/core/shared/utils.js","../../src/core/shared/get-support.js","../../src/core/shared/get-device.js","../../src/core/shared/events-class.js","../../src/core/shared/class.js","../../src/core/shared/constructor-methods.js","../../src/core/shared/modal-methods.js","../../src/core/components/app/load-module.js","../../src/core/components/app/app-class.js","../../src/core/modules/device/device.js","../../src/core/modules/support/support.js","../../src/core/modules/utils/utils.js","../../src/core/modules/resize/resize.js","../../src/core/shared/request.js","../../src/core/modules/request/request.js","../../src/core/modules/touch/touch.js","../../node_modules/path-to-regexp/dist.es2015/index.js","../../src/core/shared/history.js","../../src/core/modules/router/swipe-back.js","../../src/core/modules/router/redirect.js","../../src/core/modules/router/process-route-queue.js","../../src/core/modules/router/app-router-check.js","../../src/core/modules/router/async-component.js","../../src/core/modules/router/navigate.js","../../src/core/modules/router/tab.js","../../src/core/modules/router/modal.js","../../src/core/modules/router/back.js","../../src/core/modules/router/clear-previous-history.js","../../src/core/modules/router/router-class.js","../../src/core/modules/router/router.js","../../src/core/components/view/resizable-view.js","../../src/core/components/view/view-class.js","../../src/core/modules/clicks/clicks.js","../../src/core/modules/router/component-loader.js","../../node_modules/htm/dist/htm.mjs","../../src/core/modules/component/$h.js","../../src/core/modules/component/snabbdom/vnode.js","../../src/core/modules/component/snabbdom/is.js","../../src/core/modules/component/snabbdom/h.js","../../src/core/modules/component/custom-components.js","../../src/core/modules/component/vdom.js","../../src/core/modules/component/snabbdom/htmldomapi.js","../../src/core/modules/component/snabbdom/thunk.js","../../src/core/modules/component/snabbdom/snabbdom.js","../../src/core/modules/component/snabbdom/modules/attributes.js","../../src/core/modules/component/snabbdom/modules/props.js","../../src/core/modules/component/snabbdom/modules/style.js","../../src/core/modules/component/eventslisteners.js","../../src/core/modules/component/patch.js","../../src/core/modules/component/component-class.js","../../src/core/modules/component/parse-component.js","../../src/core/modules/component/$jsx.js","../../src/core/modules/component/component.js","../../src/core/modules/history/history.js","../../src/core/modules/service-worker/service-worker.js","../../src/core/modules/store/create-store.js","../../src/core/modules/store/store.js","../../src/core/components/statusbar/statusbar.js","../../src/core/components/view/view.js","../../src/core/components/navbar/navbar.js","../../src/core/components/toolbar/toolbar.js","../../src/core/components/subnavbar/subnavbar.js","../../src/core/components/touch-ripple/touch-ripple-class.js","../../src/core/components/touch-ripple/touch-ripple.js","../../src/core/components/modal/modal-class.js","../../src/core/components/modal/custom-modal-class.js","../../src/core/components/modal/modal.js","../../src/core/components/appbar/appbar.js","../../src/core/shared/$jsx.js","../../src/core/components/dialog/dialog-class.js","../../src/core/components/dialog/dialog.js","../../src/core/components/popup/popup-class.js","../../src/core/components/popup/popup.js","../../src/core/components/login-screen/login-screen-class.js","../../src/core/components/login-screen/login-screen.js","../../src/core/components/popover/popover-class.js","../../src/core/components/popover/popover.js","../../src/core/components/actions/actions-class.js","../../src/core/components/actions/actions.js","../../src/core/components/sheet/sheet-class.js","../../src/core/components/sheet/sheet.js","../../src/core/components/toast/toast-class.js","../../src/core/components/toast/toast.js","../../src/core/components/preloader/preloader.js","../../src/core/components/progressbar/progressbar.js","../../src/core/components/sortable/sortable.js","../../src/core/components/swipeout/swipeout.js","../../src/core/components/accordion/accordion.js","../../src/core/components/contacts-list/contacts-list.js","../../src/core/components/virtual-list/virtual-list-class.js","../../src/core/components/virtual-list/virtual-list.js","../../src/core/components/list-index/list-index-class.js","../../src/core/components/list-index/list-index.js","../../src/core/components/timeline/timeline.js","../../src/core/components/tabs/tabs.js","../../src/core/components/panel/swipe-panel.js","../../src/core/components/panel/resizable-panel.js","../../src/core/components/panel/panel-class.js","../../src/core/components/panel/panel.js","../../src/core/components/card/card.js","../../src/core/components/chip/chip.js","../../src/core/components/form/form.js","../../src/core/components/input/input.js","../../src/core/components/checkbox/checkbox.js","../../src/core/components/radio/radio.js","../../src/core/components/toggle/toggle-class.js","../../src/core/components/toggle/toggle.js","../../src/core/components/range/range-class.js","../../src/core/components/range/range.js","../../src/core/components/stepper/stepper-class.js","../../src/core/components/stepper/stepper.js","../../src/core/components/smart-select/smart-select-class.js","../../src/core/components/smart-select/smart-select.js","../../src/core/components/grid/grid.js","../../src/core/components/calendar/calendar-class.js","../../src/core/components/calendar/calendar.js","../../src/core/components/picker/picker-column.js","../../src/core/components/picker/picker-class.js","../../src/core/components/picker/picker.js","../../src/core/components/infinite-scroll/infinite-scroll.js","../../src/core/components/pull-to-refresh/pull-to-refresh-class.js","../../src/core/components/pull-to-refresh/pull-to-refresh.js","../../src/core/components/lazy/lazy.js","../../src/core/components/data-table/data-table-class.js","../../src/core/components/data-table/data-table.js","../../src/core/components/fab/fab.js","../../src/core/components/searchbar/remove-diacritics.js","../../src/core/components/searchbar/searchbar-class.js","../../src/core/components/searchbar/searchbar.js","../../src/core/components/messages/messages-class.js","../../src/core/components/messages/messages.js","../../src/core/components/messagebar/messagebar-class.js","../../src/core/components/messagebar/messagebar.js","../../node_modules/swiper/esm/utils/dom.js","../../node_modules/swiper/esm/utils/utils.js","../../node_modules/swiper/esm/utils/get-support.js","../../node_modules/swiper/esm/utils/get-device.js","../../node_modules/swiper/esm/utils/get-browser.js","../../node_modules/swiper/esm/modules/resize/resize.js","../../node_modules/swiper/esm/modules/observer/observer.js","../../node_modules/swiper/esm/components/core/modular.js","../../node_modules/swiper/esm/components/core/events-emitter.js","../../node_modules/swiper/esm/components/core/update/updateSize.js","../../node_modules/swiper/esm/components/core/update/updateSlides.js","../../node_modules/swiper/esm/components/core/update/updateAutoHeight.js","../../node_modules/swiper/esm/components/core/update/updateSlidesOffset.js","../../node_modules/swiper/esm/components/core/update/updateSlidesProgress.js","../../node_modules/swiper/esm/components/core/update/updateProgress.js","../../node_modules/swiper/esm/components/core/update/updateSlidesClasses.js","../../node_modules/swiper/esm/components/core/update/updateActiveIndex.js","../../node_modules/swiper/esm/components/core/update/updateClickedSlide.js","../../node_modules/swiper/esm/components/core/update/index.js","../../node_modules/swiper/esm/components/core/translate/getTranslate.js","../../node_modules/swiper/esm/components/core/translate/setTranslate.js","../../node_modules/swiper/esm/components/core/translate/minTranslate.js","../../node_modules/swiper/esm/components/core/translate/maxTranslate.js","../../node_modules/swiper/esm/components/core/translate/translateTo.js","../../node_modules/swiper/esm/components/core/translate/index.js","../../node_modules/swiper/esm/components/core/transition/setTransition.js","../../node_modules/swiper/esm/components/core/transition/transitionStart.js","../../node_modules/swiper/esm/components/core/transition/transitionEnd.js","../../node_modules/swiper/esm/components/core/transition/index.js","../../node_modules/swiper/esm/components/core/slide/slideTo.js","../../node_modules/swiper/esm/components/core/slide/slideToLoop.js","../../node_modules/swiper/esm/components/core/slide/slideNext.js","../../node_modules/swiper/esm/components/core/slide/slidePrev.js","../../node_modules/swiper/esm/components/core/slide/slideReset.js","../../node_modules/swiper/esm/components/core/slide/slideToClosest.js","../../node_modules/swiper/esm/components/core/slide/slideToClickedSlide.js","../../node_modules/swiper/esm/components/core/slide/index.js","../../node_modules/swiper/esm/components/core/loop/loopCreate.js","../../node_modules/swiper/esm/components/core/loop/loopFix.js","../../node_modules/swiper/esm/components/core/loop/loopDestroy.js","../../node_modules/swiper/esm/components/core/loop/index.js","../../node_modules/swiper/esm/components/core/grab-cursor/setGrabCursor.js","../../node_modules/swiper/esm/components/core/grab-cursor/unsetGrabCursor.js","../../node_modules/swiper/esm/components/core/grab-cursor/index.js","../../node_modules/swiper/esm/components/core/manipulation/appendSlide.js","../../node_modules/swiper/esm/components/core/manipulation/prependSlide.js","../../node_modules/swiper/esm/components/core/manipulation/addSlide.js","../../node_modules/swiper/esm/components/core/manipulation/removeSlide.js","../../node_modules/swiper/esm/components/core/manipulation/removeAllSlides.js","../../node_modules/swiper/esm/components/core/manipulation/index.js","../../node_modules/swiper/esm/components/core/events/onTouchStart.js","../../node_modules/swiper/esm/components/core/events/onTouchMove.js","../../node_modules/swiper/esm/components/core/events/onTouchEnd.js","../../node_modules/swiper/esm/components/core/events/onResize.js","../../node_modules/swiper/esm/components/core/events/onClick.js","../../node_modules/swiper/esm/components/core/events/onScroll.js","../../node_modules/swiper/esm/components/core/events/index.js","../../node_modules/swiper/esm/components/core/breakpoints/setBreakpoint.js","../../node_modules/swiper/esm/components/core/breakpoints/getBreakpoint.js","../../node_modules/swiper/esm/components/core/breakpoints/index.js","../../node_modules/swiper/esm/components/core/classes/addClasses.js","../../node_modules/swiper/esm/components/core/classes/removeClasses.js","../../node_modules/swiper/esm/components/core/classes/index.js","../../node_modules/swiper/esm/components/core/images/loadImage.js","../../node_modules/swiper/esm/components/core/images/preloadImages.js","../../node_modules/swiper/esm/components/core/images/index.js","../../node_modules/swiper/esm/components/core/check-overflow/index.js","../../node_modules/swiper/esm/components/core/defaults.js","../../node_modules/swiper/esm/components/core/core-class.js","../../node_modules/swiper/esm/components/virtual/virtual.js","../../node_modules/swiper/esm/components/keyboard/keyboard.js","../../node_modules/swiper/esm/components/mousewheel/mousewheel.js","../../node_modules/swiper/esm/components/navigation/navigation.js","../../node_modules/swiper/esm/components/pagination/pagination.js","../../node_modules/swiper/esm/components/scrollbar/scrollbar.js","../../node_modules/swiper/esm/components/parallax/parallax.js","../../node_modules/swiper/esm/components/zoom/zoom.js","../../node_modules/swiper/esm/components/lazy/lazy.js","../../node_modules/swiper/esm/components/controller/controller.js","../../node_modules/swiper/esm/components/a11y/a11y.js","../../node_modules/swiper/esm/components/history/history.js","../../node_modules/swiper/esm/components/hash-navigation/hash-navigation.js","../../node_modules/swiper/esm/components/autoplay/autoplay.js","../../node_modules/swiper/esm/components/effect-fade/effect-fade.js","../../node_modules/swiper/esm/components/effect-cube/effect-cube.js","../../node_modules/swiper/esm/components/effect-flip/effect-flip.js","../../node_modules/swiper/esm/components/effect-coverflow/effect-coverflow.js","../../node_modules/swiper/esm/components/thumbs/thumbs.js","../../node_modules/swiper/swiper-bundle.esm.js","../../src/core/components/swiper/swiper.js","../../src/core/components/photo-browser/photo-browser-class.js","../../src/core/components/photo-browser/photo-browser.js","../../src/core/components/notification/notification-class.js","../../src/core/components/notification/notification.js","../../src/core/components/autocomplete/autocomplete-class.js","../../src/core/components/autocomplete/autocomplete.js","../../src/core/components/tooltip/tooltip-class.js","../../src/core/components/tooltip/tooltip.js","../../src/core/components/gauge/gauge-class.js","../../src/core/components/gauge/gauge.js","../../src/core/components/skeleton/skeleton.js","../../src/core/components/menu/menu.js","../../src/core/components/color-picker/modules/alpha-slider.js","../../src/core/components/color-picker/modules/current-color.js","../../src/core/components/color-picker/modules/hex.js","../../src/core/components/color-picker/modules/hsb-sliders.js","../../src/core/components/color-picker/modules/hue-slider.js","../../src/core/components/color-picker/modules/brightness-slider.js","../../src/core/components/color-picker/modules/palette.js","../../src/core/components/color-picker/modules/initial-current-colors.js","../../src/core/components/color-picker/modules/rgb-bars.js","../../src/core/components/color-picker/modules/rgb-sliders.js","../../src/core/components/color-picker/modules/sb-spectrum.js","../../src/core/components/color-picker/modules/hs-spectrum.js","../../src/core/components/color-picker/modules/wheel.js","../../src/core/components/color-picker/color-picker-class.js","../../src/core/components/color-picker/color-picker.js","../../src/core/components/treeview/treeview.js","../../src/core/components/text-editor/text-editor-class.js","../../src/core/components/text-editor/text-editor.js","../../src/core/components/pie-chart/pie-chart-class.js","../../src/core/components/pie-chart/pie-chart.js","../../src/core/components/area-chart/area-chart-class.js","../../src/core/components/area-chart/area-chart.js","../../src/core/components/elevation/elevation.js","../../src/core/components/typography/typography.js","../../src/core/framework7.js"],"sourcesContent":["/**\n * SSR Window 3.0.0\n * Better handling for window object in SSR environment\n * https://github.com/nolimits4web/ssr-window\n *\n * Copyright 2020, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: November 9, 2020\n */\n/* eslint-disable no-param-reassign */\nfunction isObject(obj) {\n    return (obj !== null &&\n        typeof obj === 'object' &&\n        'constructor' in obj &&\n        obj.constructor === Object);\n}\nfunction extend(target, src) {\n    if (target === void 0) { target = {}; }\n    if (src === void 0) { src = {}; }\n    Object.keys(src).forEach(function (key) {\n        if (typeof target[key] === 'undefined')\n            target[key] = src[key];\n        else if (isObject(src[key]) &&\n            isObject(target[key]) &&\n            Object.keys(src[key]).length > 0) {\n            extend(target[key], src[key]);\n        }\n    });\n}\n\nvar ssrDocument = {\n    body: {},\n    addEventListener: function () { },\n    removeEventListener: function () { },\n    activeElement: {\n        blur: function () { },\n        nodeName: '',\n    },\n    querySelector: function () {\n        return null;\n    },\n    querySelectorAll: function () {\n        return [];\n    },\n    getElementById: function () {\n        return null;\n    },\n    createEvent: function () {\n        return {\n            initEvent: function () { },\n        };\n    },\n    createElement: function () {\n        return {\n            children: [],\n            childNodes: [],\n            style: {},\n            setAttribute: function () { },\n            getElementsByTagName: function () {\n                return [];\n            },\n        };\n    },\n    createElementNS: function () {\n        return {};\n    },\n    importNode: function () {\n        return null;\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n};\nfunction getDocument() {\n    var doc = typeof document !== 'undefined' ? document : {};\n    extend(doc, ssrDocument);\n    return doc;\n}\n\nvar ssrWindow = {\n    document: ssrDocument,\n    navigator: {\n        userAgent: '',\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n    history: {\n        replaceState: function () { },\n        pushState: function () { },\n        go: function () { },\n        back: function () { },\n    },\n    CustomEvent: function CustomEvent() {\n        return this;\n    },\n    addEventListener: function () { },\n    removeEventListener: function () { },\n    getComputedStyle: function () {\n        return {\n            getPropertyValue: function () {\n                return '';\n            },\n        };\n    },\n    Image: function () { },\n    Date: function () { },\n    screen: {},\n    setTimeout: function () { },\n    clearTimeout: function () { },\n    matchMedia: function () {\n        return {};\n    },\n    requestAnimationFrame: function (callback) {\n        if (typeof setTimeout === 'undefined') {\n            callback();\n            return null;\n        }\n        return setTimeout(callback, 0);\n    },\n    cancelAnimationFrame: function (id) {\n        if (typeof setTimeout === 'undefined') {\n            return;\n        }\n        clearTimeout(id);\n    },\n};\nfunction getWindow() {\n    var win = typeof window !== 'undefined' ? window : {};\n    extend(win, ssrWindow);\n    return win;\n}\n\nexport { extend, getDocument, getWindow, ssrDocument, ssrWindow };\n","/**\n * Dom7 3.0.0\n * Minimalistic JavaScript library for DOM manipulation, with a jQuery-compatible API\n * https://framework7.io/docs/dom7.html\n *\n * Copyright 2020, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: November 9, 2020\n */\nimport { getWindow, getDocument } from 'ssr-window';\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\n/* eslint-disable no-proto */\nfunction makeReactive(obj) {\n  var proto = obj.__proto__;\n  Object.defineProperty(obj, '__proto__', {\n    get: function get() {\n      return proto;\n    },\n    set: function set(value) {\n      proto.__proto__ = value;\n    }\n  });\n}\n\nvar Dom7 = /*#__PURE__*/function (_Array) {\n  _inheritsLoose(Dom7, _Array);\n\n  function Dom7(items) {\n    var _this;\n\n    _this = _Array.call.apply(_Array, [this].concat(items)) || this;\n    makeReactive(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  return Dom7;\n}( /*#__PURE__*/_wrapNativeSuper(Array));\n\nfunction arrayFlat(arr) {\n  if (arr === void 0) {\n    arr = [];\n  }\n\n  var res = [];\n  arr.forEach(function (el) {\n    if (Array.isArray(el)) {\n      res.push.apply(res, arrayFlat(el));\n    } else {\n      res.push(el);\n    }\n  });\n  return res;\n}\nfunction arrayFilter(arr, callback) {\n  return Array.prototype.filter.call(arr, callback);\n}\nfunction arrayUnique(arr) {\n  var uniqueArray = [];\n\n  for (var i = 0; i < arr.length; i += 1) {\n    if (uniqueArray.indexOf(arr[i]) === -1) uniqueArray.push(arr[i]);\n  }\n\n  return uniqueArray;\n}\nfunction toCamelCase(string) {\n  return string.toLowerCase().replace(/-(.)/g, function (match, group) {\n    return group.toUpperCase();\n  });\n}\n\nfunction qsa(selector, context) {\n  if (typeof selector !== 'string') {\n    return [selector];\n  }\n\n  var a = [];\n  var res = context.querySelectorAll(selector);\n\n  for (var i = 0; i < res.length; i += 1) {\n    a.push(res[i]);\n  }\n\n  return a;\n}\n\nfunction $(selector, context) {\n  var window = getWindow();\n  var document = getDocument();\n  var arr = [];\n\n  if (!context && selector instanceof Dom7) {\n    return selector;\n  }\n\n  if (!selector) {\n    return new Dom7(arr);\n  }\n\n  if (typeof selector === 'string') {\n    var html = selector.trim();\n\n    if (html.indexOf('<') >= 0 && html.indexOf('>') >= 0) {\n      var toCreate = 'div';\n      if (html.indexOf('<li') === 0) toCreate = 'ul';\n      if (html.indexOf('<tr') === 0) toCreate = 'tbody';\n      if (html.indexOf('<td') === 0 || html.indexOf('<th') === 0) toCreate = 'tr';\n      if (html.indexOf('<tbody') === 0) toCreate = 'table';\n      if (html.indexOf('<option') === 0) toCreate = 'select';\n      var tempParent = document.createElement(toCreate);\n      tempParent.innerHTML = html;\n\n      for (var i = 0; i < tempParent.childNodes.length; i += 1) {\n        arr.push(tempParent.childNodes[i]);\n      }\n    } else {\n      arr = qsa(selector.trim(), context || document);\n    } // arr = qsa(selector, document);\n\n  } else if (selector.nodeType || selector === window || selector === document) {\n    arr.push(selector);\n  } else if (Array.isArray(selector)) {\n    if (selector instanceof Dom7) return selector;\n    arr = selector;\n  }\n\n  return new Dom7(arrayUnique(arr));\n}\n\n$.fn = Dom7.prototype;\n\nfunction addClass() {\n  for (var _len = arguments.length, classes = new Array(_len), _key = 0; _key < _len; _key++) {\n    classes[_key] = arguments[_key];\n  }\n\n  var classNames = arrayFlat(classes.map(function (c) {\n    return c.split(' ');\n  }));\n  this.forEach(function (el) {\n    var _el$classList;\n\n    (_el$classList = el.classList).add.apply(_el$classList, classNames);\n  });\n  return this;\n}\n\nfunction removeClass() {\n  for (var _len2 = arguments.length, classes = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    classes[_key2] = arguments[_key2];\n  }\n\n  var classNames = arrayFlat(classes.map(function (c) {\n    return c.split(' ');\n  }));\n  this.forEach(function (el) {\n    var _el$classList2;\n\n    (_el$classList2 = el.classList).remove.apply(_el$classList2, classNames);\n  });\n  return this;\n}\n\nfunction toggleClass() {\n  for (var _len3 = arguments.length, classes = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    classes[_key3] = arguments[_key3];\n  }\n\n  var classNames = arrayFlat(classes.map(function (c) {\n    return c.split(' ');\n  }));\n  this.forEach(function (el) {\n    classNames.forEach(function (className) {\n      el.classList.toggle(className);\n    });\n  });\n}\n\nfunction hasClass() {\n  for (var _len4 = arguments.length, classes = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n    classes[_key4] = arguments[_key4];\n  }\n\n  var classNames = arrayFlat(classes.map(function (c) {\n    return c.split(' ');\n  }));\n  return arrayFilter(this, function (el) {\n    return classNames.filter(function (className) {\n      return el.classList.contains(className);\n    }).length > 0;\n  }).length > 0;\n}\n\nfunction attr(attrs, value) {\n  if (arguments.length === 1 && typeof attrs === 'string') {\n    // Get attr\n    if (this[0]) return this[0].getAttribute(attrs);\n    return undefined;\n  } // Set attrs\n\n\n  for (var i = 0; i < this.length; i += 1) {\n    if (arguments.length === 2) {\n      // String\n      this[i].setAttribute(attrs, value);\n    } else {\n      // Object\n      for (var attrName in attrs) {\n        this[i][attrName] = attrs[attrName];\n        this[i].setAttribute(attrName, attrs[attrName]);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction removeAttr(attr) {\n  for (var i = 0; i < this.length; i += 1) {\n    this[i].removeAttribute(attr);\n  }\n\n  return this;\n}\n\nfunction prop(props, value) {\n  if (arguments.length === 1 && typeof props === 'string') {\n    // Get prop\n    if (this[0]) return this[0][props];\n  } else {\n    // Set props\n    for (var i = 0; i < this.length; i += 1) {\n      if (arguments.length === 2) {\n        // String\n        this[i][props] = value;\n      } else {\n        // Object\n        for (var propName in props) {\n          this[i][propName] = props[propName];\n        }\n      }\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction data(key, value) {\n  var el;\n\n  if (typeof value === 'undefined') {\n    el = this[0];\n    if (!el) return undefined; // Get value\n\n    if (el.dom7ElementDataStorage && key in el.dom7ElementDataStorage) {\n      return el.dom7ElementDataStorage[key];\n    }\n\n    var dataKey = el.getAttribute(\"data-\" + key);\n\n    if (dataKey) {\n      return dataKey;\n    }\n\n    return undefined;\n  } // Set value\n\n\n  for (var i = 0; i < this.length; i += 1) {\n    el = this[i];\n    if (!el.dom7ElementDataStorage) el.dom7ElementDataStorage = {};\n    el.dom7ElementDataStorage[key] = value;\n  }\n\n  return this;\n}\n\nfunction removeData(key) {\n  for (var i = 0; i < this.length; i += 1) {\n    var el = this[i];\n\n    if (el.dom7ElementDataStorage && el.dom7ElementDataStorage[key]) {\n      el.dom7ElementDataStorage[key] = null;\n      delete el.dom7ElementDataStorage[key];\n    }\n  }\n}\n\nfunction dataset() {\n  var el = this[0];\n  if (!el) return undefined;\n  var dataset = {}; // eslint-disable-line\n\n  if (el.dataset) {\n    for (var dataKey in el.dataset) {\n      dataset[dataKey] = el.dataset[dataKey];\n    }\n  } else {\n    for (var i = 0; i < el.attributes.length; i += 1) {\n      var _attr = el.attributes[i];\n\n      if (_attr.name.indexOf('data-') >= 0) {\n        dataset[toCamelCase(_attr.name.split('data-')[1])] = _attr.value;\n      }\n    }\n  }\n\n  for (var key in dataset) {\n    if (dataset[key] === 'false') dataset[key] = false;else if (dataset[key] === 'true') dataset[key] = true;else if (parseFloat(dataset[key]) === dataset[key] * 1) dataset[key] *= 1;\n  }\n\n  return dataset;\n}\n\nfunction val(value) {\n  if (typeof value === 'undefined') {\n    // get value\n    var el = this[0];\n    if (!el) return undefined;\n\n    if (el.multiple && el.nodeName.toLowerCase() === 'select') {\n      var values = [];\n\n      for (var i = 0; i < el.selectedOptions.length; i += 1) {\n        values.push(el.selectedOptions[i].value);\n      }\n\n      return values;\n    }\n\n    return el.value;\n  } // set value\n\n\n  for (var _i = 0; _i < this.length; _i += 1) {\n    var _el = this[_i];\n\n    if (Array.isArray(value) && _el.multiple && _el.nodeName.toLowerCase() === 'select') {\n      for (var j = 0; j < _el.options.length; j += 1) {\n        _el.options[j].selected = value.indexOf(_el.options[j].value) >= 0;\n      }\n    } else {\n      _el.value = value;\n    }\n  }\n\n  return this;\n}\n\nfunction value(value) {\n  return this.val(value);\n}\n\nfunction transform(transform) {\n  for (var i = 0; i < this.length; i += 1) {\n    this[i].style.transform = transform;\n  }\n\n  return this;\n}\n\nfunction transition(duration) {\n  for (var i = 0; i < this.length; i += 1) {\n    this[i].style.transitionDuration = typeof duration !== 'string' ? duration + \"ms\" : duration;\n  }\n\n  return this;\n}\n\nfunction on() {\n  for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n    args[_key5] = arguments[_key5];\n  }\n\n  var eventType = args[0],\n      targetSelector = args[1],\n      listener = args[2],\n      capture = args[3];\n\n  if (typeof args[1] === 'function') {\n    eventType = args[0];\n    listener = args[1];\n    capture = args[2];\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n\n  function handleLiveEvent(e) {\n    var target = e.target;\n    if (!target) return;\n    var eventData = e.target.dom7EventData || [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    if ($(target).is(targetSelector)) listener.apply(target, eventData);else {\n      var _parents = $(target).parents(); // eslint-disable-line\n\n\n      for (var k = 0; k < _parents.length; k += 1) {\n        if ($(_parents[k]).is(targetSelector)) listener.apply(_parents[k], eventData);\n      }\n    }\n  }\n\n  function handleEvent(e) {\n    var eventData = e && e.target ? e.target.dom7EventData || [] : [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    listener.apply(this, eventData);\n  }\n\n  var events = eventType.split(' ');\n  var j;\n\n  for (var i = 0; i < this.length; i += 1) {\n    var el = this[i];\n\n    if (!targetSelector) {\n      for (j = 0; j < events.length; j += 1) {\n        var event = events[j];\n        if (!el.dom7Listeners) el.dom7Listeners = {};\n        if (!el.dom7Listeners[event]) el.dom7Listeners[event] = [];\n        el.dom7Listeners[event].push({\n          listener: listener,\n          proxyListener: handleEvent\n        });\n        el.addEventListener(event, handleEvent, capture);\n      }\n    } else {\n      // Live events\n      for (j = 0; j < events.length; j += 1) {\n        var _event = events[j];\n        if (!el.dom7LiveListeners) el.dom7LiveListeners = {};\n        if (!el.dom7LiveListeners[_event]) el.dom7LiveListeners[_event] = [];\n\n        el.dom7LiveListeners[_event].push({\n          listener: listener,\n          proxyListener: handleLiveEvent\n        });\n\n        el.addEventListener(_event, handleLiveEvent, capture);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction off() {\n  for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n    args[_key6] = arguments[_key6];\n  }\n\n  var eventType = args[0],\n      targetSelector = args[1],\n      listener = args[2],\n      capture = args[3];\n\n  if (typeof args[1] === 'function') {\n    eventType = args[0];\n    listener = args[1];\n    capture = args[2];\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n  var events = eventType.split(' ');\n\n  for (var i = 0; i < events.length; i += 1) {\n    var event = events[i];\n\n    for (var j = 0; j < this.length; j += 1) {\n      var el = this[j];\n      var handlers = void 0;\n\n      if (!targetSelector && el.dom7Listeners) {\n        handlers = el.dom7Listeners[event];\n      } else if (targetSelector && el.dom7LiveListeners) {\n        handlers = el.dom7LiveListeners[event];\n      }\n\n      if (handlers && handlers.length) {\n        for (var k = handlers.length - 1; k >= 0; k -= 1) {\n          var handler = handlers[k];\n\n          if (listener && handler.listener === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (listener && handler.listener && handler.listener.dom7proxy && handler.listener.dom7proxy === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (!listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          }\n        }\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction once() {\n  var dom = this;\n\n  for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n    args[_key7] = arguments[_key7];\n  }\n\n  var eventName = args[0],\n      targetSelector = args[1],\n      listener = args[2],\n      capture = args[3];\n\n  if (typeof args[1] === 'function') {\n    eventName = args[0];\n    listener = args[1];\n    capture = args[2];\n    targetSelector = undefined;\n  }\n\n  function onceHandler() {\n    for (var _len8 = arguments.length, eventArgs = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n      eventArgs[_key8] = arguments[_key8];\n    }\n\n    listener.apply(this, eventArgs);\n    dom.off(eventName, targetSelector, onceHandler, capture);\n\n    if (onceHandler.dom7proxy) {\n      delete onceHandler.dom7proxy;\n    }\n  }\n\n  onceHandler.dom7proxy = listener;\n  return dom.on(eventName, targetSelector, onceHandler, capture);\n}\n\nfunction trigger() {\n  var window = getWindow();\n\n  for (var _len9 = arguments.length, args = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {\n    args[_key9] = arguments[_key9];\n  }\n\n  var events = args[0].split(' ');\n  var eventData = args[1];\n\n  for (var i = 0; i < events.length; i += 1) {\n    var event = events[i];\n\n    for (var j = 0; j < this.length; j += 1) {\n      var el = this[j];\n\n      if (window.CustomEvent) {\n        var evt = new window.CustomEvent(event, {\n          detail: eventData,\n          bubbles: true,\n          cancelable: true\n        });\n        el.dom7EventData = args.filter(function (data, dataIndex) {\n          return dataIndex > 0;\n        });\n        el.dispatchEvent(evt);\n        el.dom7EventData = [];\n        delete el.dom7EventData;\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction transitionEnd(callback) {\n  var dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('transitionend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('transitionend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction animationEnd(callback) {\n  var dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('animationend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('animationend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction width() {\n  var window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerWidth;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('width'));\n  }\n\n  return null;\n}\n\nfunction outerWidth(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      var _styles = this.styles();\n\n      return this[0].offsetWidth + parseFloat(_styles.getPropertyValue('margin-right')) + parseFloat(_styles.getPropertyValue('margin-left'));\n    }\n\n    return this[0].offsetWidth;\n  }\n\n  return null;\n}\n\nfunction height() {\n  var window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerHeight;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('height'));\n  }\n\n  return null;\n}\n\nfunction outerHeight(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      var _styles2 = this.styles();\n\n      return this[0].offsetHeight + parseFloat(_styles2.getPropertyValue('margin-top')) + parseFloat(_styles2.getPropertyValue('margin-bottom'));\n    }\n\n    return this[0].offsetHeight;\n  }\n\n  return null;\n}\n\nfunction offset() {\n  if (this.length > 0) {\n    var window = getWindow();\n    var document = getDocument();\n    var el = this[0];\n    var box = el.getBoundingClientRect();\n    var body = document.body;\n    var clientTop = el.clientTop || body.clientTop || 0;\n    var clientLeft = el.clientLeft || body.clientLeft || 0;\n    var scrollTop = el === window ? window.scrollY : el.scrollTop;\n    var scrollLeft = el === window ? window.scrollX : el.scrollLeft;\n    return {\n      top: box.top + scrollTop - clientTop,\n      left: box.left + scrollLeft - clientLeft\n    };\n  }\n\n  return null;\n}\n\nfunction hide() {\n  for (var i = 0; i < this.length; i += 1) {\n    this[i].style.display = 'none';\n  }\n\n  return this;\n}\n\nfunction show() {\n  var window = getWindow();\n\n  for (var i = 0; i < this.length; i += 1) {\n    var el = this[i];\n\n    if (el.style.display === 'none') {\n      el.style.display = '';\n    }\n\n    if (window.getComputedStyle(el, null).getPropertyValue('display') === 'none') {\n      // Still not visible\n      el.style.display = 'block';\n    }\n  }\n\n  return this;\n}\n\nfunction styles() {\n  var window = getWindow();\n  if (this[0]) return window.getComputedStyle(this[0], null);\n  return {};\n}\n\nfunction css(props, value) {\n  var window = getWindow();\n  var i;\n\n  if (arguments.length === 1) {\n    if (typeof props === 'string') {\n      // .css('width')\n      if (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(props);\n    } else {\n      // .css({ width: '100px' })\n      for (i = 0; i < this.length; i += 1) {\n        for (var _prop in props) {\n          this[i].style[_prop] = props[_prop];\n        }\n      }\n\n      return this;\n    }\n  }\n\n  if (arguments.length === 2 && typeof props === 'string') {\n    // .css('width', '100px')\n    for (i = 0; i < this.length; i += 1) {\n      this[i].style[props] = value;\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction each(callback) {\n  if (!callback) return this;\n  this.forEach(function (el, index) {\n    callback.apply(el, [el, index]);\n  });\n  return this;\n}\n\nfunction filter(callback) {\n  var result = arrayFilter(this, callback);\n  return $(result);\n}\n\nfunction html(html) {\n  if (typeof html === 'undefined') {\n    return this[0] ? this[0].innerHTML : null;\n  }\n\n  for (var i = 0; i < this.length; i += 1) {\n    this[i].innerHTML = html;\n  }\n\n  return this;\n}\n\nfunction text(text) {\n  if (typeof text === 'undefined') {\n    return this[0] ? this[0].textContent.trim() : null;\n  }\n\n  for (var i = 0; i < this.length; i += 1) {\n    this[i].textContent = text;\n  }\n\n  return this;\n}\n\nfunction is(selector) {\n  var window = getWindow();\n  var document = getDocument();\n  var el = this[0];\n  var compareWith;\n  var i;\n  if (!el || typeof selector === 'undefined') return false;\n\n  if (typeof selector === 'string') {\n    if (el.matches) return el.matches(selector);\n    if (el.webkitMatchesSelector) return el.webkitMatchesSelector(selector);\n    if (el.msMatchesSelector) return el.msMatchesSelector(selector);\n    compareWith = $(selector);\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  if (selector === document) {\n    return el === document;\n  }\n\n  if (selector === window) {\n    return el === window;\n  }\n\n  if (selector.nodeType || selector instanceof Dom7) {\n    compareWith = selector.nodeType ? [selector] : selector;\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  return false;\n}\n\nfunction index() {\n  var child = this[0];\n  var i;\n\n  if (child) {\n    i = 0; // eslint-disable-next-line\n\n    while ((child = child.previousSibling) !== null) {\n      if (child.nodeType === 1) i += 1;\n    }\n\n    return i;\n  }\n\n  return undefined;\n}\n\nfunction eq(index) {\n  if (typeof index === 'undefined') return this;\n  var length = this.length;\n\n  if (index > length - 1) {\n    return $([]);\n  }\n\n  if (index < 0) {\n    var returnIndex = length + index;\n    if (returnIndex < 0) return $([]);\n    return $([this[returnIndex]]);\n  }\n\n  return $([this[index]]);\n}\n\nfunction append() {\n  var newChild;\n  var document = getDocument();\n\n  for (var k = 0; k < arguments.length; k += 1) {\n    newChild = k < 0 || arguments.length <= k ? undefined : arguments[k];\n\n    for (var i = 0; i < this.length; i += 1) {\n      if (typeof newChild === 'string') {\n        var tempDiv = document.createElement('div');\n        tempDiv.innerHTML = newChild;\n\n        while (tempDiv.firstChild) {\n          this[i].appendChild(tempDiv.firstChild);\n        }\n      } else if (newChild instanceof Dom7) {\n        for (var j = 0; j < newChild.length; j += 1) {\n          this[i].appendChild(newChild[j]);\n        }\n      } else {\n        this[i].appendChild(newChild);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction appendTo(parent) {\n  $(parent).append(this);\n  return this;\n}\n\nfunction prepend(newChild) {\n  var document = getDocument();\n  var i;\n  var j;\n\n  for (i = 0; i < this.length; i += 1) {\n    if (typeof newChild === 'string') {\n      var tempDiv = document.createElement('div');\n      tempDiv.innerHTML = newChild;\n\n      for (j = tempDiv.childNodes.length - 1; j >= 0; j -= 1) {\n        this[i].insertBefore(tempDiv.childNodes[j], this[i].childNodes[0]);\n      }\n    } else if (newChild instanceof Dom7) {\n      for (j = 0; j < newChild.length; j += 1) {\n        this[i].insertBefore(newChild[j], this[i].childNodes[0]);\n      }\n    } else {\n      this[i].insertBefore(newChild, this[i].childNodes[0]);\n    }\n  }\n\n  return this;\n}\n\nfunction prependTo(parent) {\n  $(parent).prepend(this);\n  return this;\n}\n\nfunction insertBefore(selector) {\n  var before = $(selector);\n\n  for (var i = 0; i < this.length; i += 1) {\n    if (before.length === 1) {\n      before[0].parentNode.insertBefore(this[i], before[0]);\n    } else if (before.length > 1) {\n      for (var j = 0; j < before.length; j += 1) {\n        before[j].parentNode.insertBefore(this[i].cloneNode(true), before[j]);\n      }\n    }\n  }\n}\n\nfunction insertAfter(selector) {\n  var after = $(selector);\n\n  for (var i = 0; i < this.length; i += 1) {\n    if (after.length === 1) {\n      after[0].parentNode.insertBefore(this[i], after[0].nextSibling);\n    } else if (after.length > 1) {\n      for (var j = 0; j < after.length; j += 1) {\n        after[j].parentNode.insertBefore(this[i].cloneNode(true), after[j].nextSibling);\n      }\n    }\n  }\n}\n\nfunction next(selector) {\n  if (this.length > 0) {\n    if (selector) {\n      if (this[0].nextElementSibling && $(this[0].nextElementSibling).is(selector)) {\n        return $([this[0].nextElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (this[0].nextElementSibling) return $([this[0].nextElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction nextAll(selector) {\n  var nextEls = [];\n  var el = this[0];\n  if (!el) return $([]);\n\n  while (el.nextElementSibling) {\n    var _next = el.nextElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(_next).is(selector)) nextEls.push(_next);\n    } else nextEls.push(_next);\n\n    el = _next;\n  }\n\n  return $(nextEls);\n}\n\nfunction prev(selector) {\n  if (this.length > 0) {\n    var el = this[0];\n\n    if (selector) {\n      if (el.previousElementSibling && $(el.previousElementSibling).is(selector)) {\n        return $([el.previousElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (el.previousElementSibling) return $([el.previousElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction prevAll(selector) {\n  var prevEls = [];\n  var el = this[0];\n  if (!el) return $([]);\n\n  while (el.previousElementSibling) {\n    var _prev = el.previousElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(_prev).is(selector)) prevEls.push(_prev);\n    } else prevEls.push(_prev);\n\n    el = _prev;\n  }\n\n  return $(prevEls);\n}\n\nfunction siblings(selector) {\n  return this.nextAll(selector).add(this.prevAll(selector));\n}\n\nfunction parent(selector) {\n  var parents = []; // eslint-disable-line\n\n  for (var i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode !== null) {\n      if (selector) {\n        if ($(this[i].parentNode).is(selector)) parents.push(this[i].parentNode);\n      } else {\n        parents.push(this[i].parentNode);\n      }\n    }\n  }\n\n  return $(parents);\n}\n\nfunction parents(selector) {\n  var parents = []; // eslint-disable-line\n\n  for (var i = 0; i < this.length; i += 1) {\n    var _parent = this[i].parentNode; // eslint-disable-line\n\n    while (_parent) {\n      if (selector) {\n        if ($(_parent).is(selector)) parents.push(_parent);\n      } else {\n        parents.push(_parent);\n      }\n\n      _parent = _parent.parentNode;\n    }\n  }\n\n  return $(parents);\n}\n\nfunction closest(selector) {\n  var closest = this; // eslint-disable-line\n\n  if (typeof selector === 'undefined') {\n    return $([]);\n  }\n\n  if (!closest.is(selector)) {\n    closest = closest.parents(selector).eq(0);\n  }\n\n  return closest;\n}\n\nfunction find(selector) {\n  var foundElements = [];\n\n  for (var i = 0; i < this.length; i += 1) {\n    var found = this[i].querySelectorAll(selector);\n\n    for (var j = 0; j < found.length; j += 1) {\n      foundElements.push(found[j]);\n    }\n  }\n\n  return $(foundElements);\n}\n\nfunction children(selector) {\n  var children = []; // eslint-disable-line\n\n  for (var i = 0; i < this.length; i += 1) {\n    var childNodes = this[i].children;\n\n    for (var j = 0; j < childNodes.length; j += 1) {\n      if (!selector || $(childNodes[j]).is(selector)) {\n        children.push(childNodes[j]);\n      }\n    }\n  }\n\n  return $(children);\n}\n\nfunction remove() {\n  for (var i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode) this[i].parentNode.removeChild(this[i]);\n  }\n\n  return this;\n}\n\nfunction detach() {\n  return this.remove();\n}\n\nfunction add() {\n  var dom = this;\n  var i;\n  var j;\n\n  for (var _len10 = arguments.length, els = new Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {\n    els[_key10] = arguments[_key10];\n  }\n\n  for (i = 0; i < els.length; i += 1) {\n    var toAdd = $(els[i]);\n\n    for (j = 0; j < toAdd.length; j += 1) {\n      dom.push(toAdd[j]);\n    }\n  }\n\n  return dom;\n}\n\nfunction empty() {\n  for (var i = 0; i < this.length; i += 1) {\n    var el = this[i];\n\n    if (el.nodeType === 1) {\n      for (var j = 0; j < el.childNodes.length; j += 1) {\n        if (el.childNodes[j].parentNode) {\n          el.childNodes[j].parentNode.removeChild(el.childNodes[j]);\n        }\n      }\n\n      el.textContent = '';\n    }\n  }\n\n  return this;\n}\n\nfunction scrollTo() {\n  var window = getWindow();\n\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  var left = args[0],\n      top = args[1],\n      duration = args[2],\n      easing = args[3],\n      callback = args[4];\n\n  if (args.length === 4 && typeof easing === 'function') {\n    callback = easing;\n    left = args[0];\n    top = args[1];\n    duration = args[2];\n    callback = args[3];\n    easing = args[4];\n  }\n\n  if (typeof easing === 'undefined') easing = 'swing';\n  return this.each(function animate() {\n    var el = this;\n    var currentTop;\n    var currentLeft;\n    var maxTop;\n    var maxLeft;\n    var newTop;\n    var newLeft;\n    var scrollTop; // eslint-disable-line\n\n    var scrollLeft; // eslint-disable-line\n\n    var animateTop = top > 0 || top === 0;\n    var animateLeft = left > 0 || left === 0;\n\n    if (typeof easing === 'undefined') {\n      easing = 'swing';\n    }\n\n    if (animateTop) {\n      currentTop = el.scrollTop;\n\n      if (!duration) {\n        el.scrollTop = top;\n      }\n    }\n\n    if (animateLeft) {\n      currentLeft = el.scrollLeft;\n\n      if (!duration) {\n        el.scrollLeft = left;\n      }\n    }\n\n    if (!duration) return;\n\n    if (animateTop) {\n      maxTop = el.scrollHeight - el.offsetHeight;\n      newTop = Math.max(Math.min(top, maxTop), 0);\n    }\n\n    if (animateLeft) {\n      maxLeft = el.scrollWidth - el.offsetWidth;\n      newLeft = Math.max(Math.min(left, maxLeft), 0);\n    }\n\n    var startTime = null;\n    if (animateTop && newTop === currentTop) animateTop = false;\n    if (animateLeft && newLeft === currentLeft) animateLeft = false;\n\n    function render(time) {\n      if (time === void 0) {\n        time = new Date().getTime();\n      }\n\n      if (startTime === null) {\n        startTime = time;\n      }\n\n      var progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n      var easeProgress = easing === 'linear' ? progress : 0.5 - Math.cos(progress * Math.PI) / 2;\n      var done;\n      if (animateTop) scrollTop = currentTop + easeProgress * (newTop - currentTop);\n      if (animateLeft) scrollLeft = currentLeft + easeProgress * (newLeft - currentLeft);\n\n      if (animateTop && newTop > currentTop && scrollTop >= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateTop && newTop < currentTop && scrollTop <= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateLeft && newLeft > currentLeft && scrollLeft >= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (animateLeft && newLeft < currentLeft && scrollLeft <= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (done) {\n        if (callback) callback();\n        return;\n      }\n\n      if (animateTop) el.scrollTop = scrollTop;\n      if (animateLeft) el.scrollLeft = scrollLeft;\n      window.requestAnimationFrame(render);\n    }\n\n    window.requestAnimationFrame(render);\n  });\n} // scrollTop(top, duration, easing, callback) {\n\n\nfunction scrollTop() {\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  var top = args[0],\n      duration = args[1],\n      easing = args[2],\n      callback = args[3];\n\n  if (args.length === 3 && typeof easing === 'function') {\n    top = args[0];\n    duration = args[1];\n    callback = args[2];\n    easing = args[3];\n  }\n\n  var dom = this;\n\n  if (typeof top === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollTop;\n    return null;\n  }\n\n  return dom.scrollTo(undefined, top, duration, easing, callback);\n}\n\nfunction scrollLeft() {\n  for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    args[_key3] = arguments[_key3];\n  }\n\n  var left = args[0],\n      duration = args[1],\n      easing = args[2],\n      callback = args[3];\n\n  if (args.length === 3 && typeof easing === 'function') {\n    left = args[0];\n    duration = args[1];\n    callback = args[2];\n    easing = args[3];\n  }\n\n  var dom = this;\n\n  if (typeof left === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollLeft;\n    return null;\n  }\n\n  return dom.scrollTo(left, undefined, duration, easing, callback);\n}\n\nfunction animate(initialProps, initialParams) {\n  var window = getWindow();\n  var els = this;\n  var a = {\n    props: Object.assign({}, initialProps),\n    params: Object.assign({\n      duration: 300,\n      easing: 'swing' // or 'linear'\n\n      /* Callbacks\n      begin(elements)\n      complete(elements)\n      progress(elements, complete, remaining, start, tweenValue)\n      */\n\n    }, initialParams),\n    elements: els,\n    animating: false,\n    que: [],\n    easingProgress: function easingProgress(easing, progress) {\n      if (easing === 'swing') {\n        return 0.5 - Math.cos(progress * Math.PI) / 2;\n      }\n\n      if (typeof easing === 'function') {\n        return easing(progress);\n      }\n\n      return progress;\n    },\n    stop: function stop() {\n      if (a.frameId) {\n        window.cancelAnimationFrame(a.frameId);\n      }\n\n      a.animating = false;\n      a.elements.each(function (el) {\n        var element = el;\n        delete element.dom7AnimateInstance;\n      });\n      a.que = [];\n    },\n    done: function done(complete) {\n      a.animating = false;\n      a.elements.each(function (el) {\n        var element = el;\n        delete element.dom7AnimateInstance;\n      });\n      if (complete) complete(els);\n\n      if (a.que.length > 0) {\n        var que = a.que.shift();\n        a.animate(que[0], que[1]);\n      }\n    },\n    animate: function animate(props, params) {\n      if (a.animating) {\n        a.que.push([props, params]);\n        return a;\n      }\n\n      var elements = []; // Define & Cache Initials & Units\n\n      a.elements.each(function (el, index) {\n        var initialFullValue;\n        var initialValue;\n        var unit;\n        var finalValue;\n        var finalFullValue;\n        if (!el.dom7AnimateInstance) a.elements[index].dom7AnimateInstance = a;\n        elements[index] = {\n          container: el\n        };\n        Object.keys(props).forEach(function (prop) {\n          initialFullValue = window.getComputedStyle(el, null).getPropertyValue(prop).replace(',', '.');\n          initialValue = parseFloat(initialFullValue);\n          unit = initialFullValue.replace(initialValue, '');\n          finalValue = parseFloat(props[prop]);\n          finalFullValue = props[prop] + unit;\n          elements[index][prop] = {\n            initialFullValue: initialFullValue,\n            initialValue: initialValue,\n            unit: unit,\n            finalValue: finalValue,\n            finalFullValue: finalFullValue,\n            currentValue: initialValue\n          };\n        });\n      });\n      var startTime = null;\n      var time;\n      var elementsDone = 0;\n      var propsDone = 0;\n      var done;\n      var began = false;\n      a.animating = true;\n\n      function render() {\n        time = new Date().getTime();\n        var progress;\n        var easeProgress; // let el;\n\n        if (!began) {\n          began = true;\n          if (params.begin) params.begin(els);\n        }\n\n        if (startTime === null) {\n          startTime = time;\n        }\n\n        if (params.progress) {\n          // eslint-disable-next-line\n          params.progress(els, Math.max(Math.min((time - startTime) / params.duration, 1), 0), startTime + params.duration - time < 0 ? 0 : startTime + params.duration - time, startTime);\n        }\n\n        elements.forEach(function (element) {\n          var el = element;\n          if (done || el.done) return;\n          Object.keys(props).forEach(function (prop) {\n            if (done || el.done) return;\n            progress = Math.max(Math.min((time - startTime) / params.duration, 1), 0);\n            easeProgress = a.easingProgress(params.easing, progress);\n            var _el$prop = el[prop],\n                initialValue = _el$prop.initialValue,\n                finalValue = _el$prop.finalValue,\n                unit = _el$prop.unit;\n            el[prop].currentValue = initialValue + easeProgress * (finalValue - initialValue);\n            var currentValue = el[prop].currentValue;\n\n            if (finalValue > initialValue && currentValue >= finalValue || finalValue < initialValue && currentValue <= finalValue) {\n              el.container.style[prop] = finalValue + unit;\n              propsDone += 1;\n\n              if (propsDone === Object.keys(props).length) {\n                el.done = true;\n                elementsDone += 1;\n              }\n\n              if (elementsDone === elements.length) {\n                done = true;\n              }\n            }\n\n            if (done) {\n              a.done(params.complete);\n              return;\n            }\n\n            el.container.style[prop] = currentValue + unit;\n          });\n        });\n        if (done) return; // Then call\n\n        a.frameId = window.requestAnimationFrame(render);\n      }\n\n      a.frameId = window.requestAnimationFrame(render);\n      return a;\n    }\n  };\n\n  if (a.elements.length === 0) {\n    return els;\n  }\n\n  var animateInstance;\n\n  for (var i = 0; i < a.elements.length; i += 1) {\n    if (a.elements[i].dom7AnimateInstance) {\n      animateInstance = a.elements[i].dom7AnimateInstance;\n    } else a.elements[i].dom7AnimateInstance = a;\n  }\n\n  if (!animateInstance) {\n    animateInstance = a;\n  }\n\n  if (initialProps === 'stop') {\n    animateInstance.stop();\n  } else {\n    animateInstance.animate(a.props, a.params);\n  }\n\n  return els;\n}\n\nfunction stop() {\n  var els = this;\n\n  for (var i = 0; i < els.length; i += 1) {\n    if (els[i].dom7AnimateInstance) {\n      els[i].dom7AnimateInstance.stop();\n    }\n  }\n}\n\nvar noTrigger = 'resize scroll'.split(' ');\n\nfunction shortcut(name) {\n  function eventHandler() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (typeof args[0] === 'undefined') {\n      for (var i = 0; i < this.length; i += 1) {\n        if (noTrigger.indexOf(name) < 0) {\n          if (name in this[i]) this[i][name]();else {\n            $(this[i]).trigger(name);\n          }\n        }\n      }\n\n      return this;\n    }\n\n    return this.on.apply(this, [name].concat(args));\n  }\n\n  return eventHandler;\n}\n\nvar click = shortcut('click');\nvar blur = shortcut('blur');\nvar focus = shortcut('focus');\nvar focusin = shortcut('focusin');\nvar focusout = shortcut('focusout');\nvar keyup = shortcut('keyup');\nvar keydown = shortcut('keydown');\nvar keypress = shortcut('keypress');\nvar submit = shortcut('submit');\nvar change = shortcut('change');\nvar mousedown = shortcut('mousedown');\nvar mousemove = shortcut('mousemove');\nvar mouseup = shortcut('mouseup');\nvar mouseenter = shortcut('mouseenter');\nvar mouseleave = shortcut('mouseleave');\nvar mouseout = shortcut('mouseout');\nvar mouseover = shortcut('mouseover');\nvar touchstart = shortcut('touchstart');\nvar touchend = shortcut('touchend');\nvar touchmove = shortcut('touchmove');\nvar resize = shortcut('resize');\nvar scroll = shortcut('scroll');\n\nexport default $;\nexport { $, add, addClass, animate, animationEnd, append, appendTo, attr, blur, change, children, click, closest, css, data, dataset, detach, each, empty, eq, filter, find, focus, focusin, focusout, hasClass, height, hide, html, index, insertAfter, insertBefore, is, keydown, keypress, keyup, mousedown, mouseenter, mouseleave, mousemove, mouseout, mouseover, mouseup, next, nextAll, off, offset, on, once, outerHeight, outerWidth, parent, parents, prepend, prependTo, prev, prevAll, prop, remove, removeAttr, removeClass, removeData, resize, scroll, scrollLeft, scrollTo, scrollTop, show, siblings, stop, styles, submit, text, toggleClass, touchend, touchmove, touchstart, transform, transition, transitionEnd, trigger, val, value, width };\n","import * as methods from 'dom7';\n\nObject.keys(methods).forEach((methodName) => {\n  if (methodName === '$') return;\n  methods.$.fn[methodName] = methods[methodName];\n});\n\nexport default methods.$;\n","import { getWindow } from 'ssr-window';\n\nlet uniqueNum = 0;\nexport function uniqueNumber() {\n  uniqueNum += 1;\n  return uniqueNum;\n}\nexport function id(mask = 'xxxxxxxxxx', map = '0123456789abcdef') {\n  const length = map.length;\n  return mask.replace(/x/g, () => map[Math.floor(Math.random() * length)]);\n}\nexport const mdPreloaderContent = `\n  <span class=\"preloader-inner\">\n    <svg viewBox=\"0 0 36 36\">\n      <circle cx=\"18\" cy=\"18\" r=\"16\"></circle>\n    </svg>\n  </span>\n`.trim();\n\nexport const iosPreloaderContent = `\n  <span class=\"preloader-inner\">\n    ${[0, 1, 2, 3, 4, 5, 6, 7].map(() => '<span class=\"preloader-inner-line\"></span>').join('')}\n  </span>\n`.trim();\n\nexport const auroraPreloaderContent = `\n  <span class=\"preloader-inner\">\n    <span class=\"preloader-inner-circle\"></span>\n  </span>\n`;\nexport function eventNameToColonCase(eventName) {\n  let hasColon;\n  return eventName\n    .split('')\n    .map((char, index) => {\n      if (char.match(/[A-Z]/) && index !== 0 && !hasColon) {\n        hasColon = true;\n        return `:${char.toLowerCase()}`;\n      }\n      return char.toLowerCase();\n    })\n    .join('');\n}\nexport function deleteProps(obj) {\n  const object = obj;\n  Object.keys(object).forEach((key) => {\n    try {\n      object[key] = null;\n    } catch (e) {\n      // no setter for object\n    }\n    try {\n      delete object[key];\n    } catch (e) {\n      // something got wrong\n    }\n  });\n}\nexport function requestAnimationFrame(callback) {\n  const window = getWindow();\n  return window.requestAnimationFrame(callback);\n}\nexport function cancelAnimationFrame(frameId) {\n  const window = getWindow();\n  return window.cancelAnimationFrame(frameId);\n}\nexport function nextTick(callback, delay = 0) {\n  return setTimeout(callback, delay);\n}\nexport function nextFrame(callback) {\n  return requestAnimationFrame(() => {\n    requestAnimationFrame(callback);\n  });\n}\nexport function now() {\n  return Date.now();\n}\n\nexport function parseUrlQuery(url) {\n  const window = getWindow();\n  const query = {};\n  let urlToParse = url || window.location.href;\n  let i;\n  let params;\n  let param;\n  let length;\n  if (typeof urlToParse === 'string' && urlToParse.length) {\n    urlToParse = urlToParse.indexOf('?') > -1 ? urlToParse.replace(/\\S*\\?/, '') : '';\n    params = urlToParse.split('&').filter((paramsPart) => paramsPart !== '');\n    length = params.length;\n\n    for (i = 0; i < length; i += 1) {\n      param = params[i].replace(/#\\S+/g, '').split('=');\n      query[decodeURIComponent(param[0])] =\n        typeof param[1] === 'undefined'\n          ? undefined\n          : decodeURIComponent(param.slice(1).join('=')) || '';\n    }\n  }\n  return query;\n}\nexport function getTranslate(el, axis = 'x') {\n  const window = getWindow();\n  let matrix;\n  let curTransform;\n  let transformMatrix;\n\n  const curStyle = window.getComputedStyle(el, null);\n\n  if (window.WebKitCSSMatrix) {\n    curTransform = curStyle.transform || curStyle.webkitTransform;\n    if (curTransform.split(',').length > 6) {\n      curTransform = curTransform\n        .split(', ')\n        .map((a) => a.replace(',', '.'))\n        .join(', ');\n    }\n    // Some old versions of Webkit choke when 'none' is passed; pass\n    // empty string instead in this case\n    transformMatrix = new window.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\n  } else {\n    transformMatrix =\n      curStyle.MozTransform ||\n      curStyle.OTransform ||\n      curStyle.MsTransform ||\n      curStyle.msTransform ||\n      curStyle.transform ||\n      curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\n    matrix = transformMatrix.toString().split(',');\n  }\n\n  if (axis === 'x') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m41;\n    // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[12]);\n    // Normal Browsers\n    else curTransform = parseFloat(matrix[4]);\n  }\n  if (axis === 'y') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m42;\n    // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[13]);\n    // Normal Browsers\n    else curTransform = parseFloat(matrix[5]);\n  }\n  return curTransform || 0;\n}\nexport function serializeObject(obj, parents = []) {\n  if (typeof obj === 'string') return obj;\n  const resultArray = [];\n  const separator = '&';\n  let newParents;\n  function varName(name) {\n    if (parents.length > 0) {\n      let parentParts = '';\n      for (let j = 0; j < parents.length; j += 1) {\n        if (j === 0) parentParts += parents[j];\n        else parentParts += `[${encodeURIComponent(parents[j])}]`;\n      }\n      return `${parentParts}[${encodeURIComponent(name)}]`;\n    }\n    return encodeURIComponent(name);\n  }\n  function varValue(value) {\n    return encodeURIComponent(value);\n  }\n  Object.keys(obj).forEach((prop) => {\n    let toPush;\n    if (Array.isArray(obj[prop])) {\n      toPush = [];\n      for (let i = 0; i < obj[prop].length; i += 1) {\n        if (!Array.isArray(obj[prop][i]) && typeof obj[prop][i] === 'object') {\n          newParents = parents.slice();\n          newParents.push(prop);\n          newParents.push(String(i));\n          toPush.push(serializeObject(obj[prop][i], newParents));\n        } else {\n          toPush.push(`${varName(prop)}[]=${varValue(obj[prop][i])}`);\n        }\n      }\n      if (toPush.length > 0) resultArray.push(toPush.join(separator));\n    } else if (obj[prop] === null || obj[prop] === '') {\n      resultArray.push(`${varName(prop)}=`);\n    } else if (typeof obj[prop] === 'object') {\n      // Object, convert to named array\n      newParents = parents.slice();\n      newParents.push(prop);\n      toPush = serializeObject(obj[prop], newParents);\n      if (toPush !== '') resultArray.push(toPush);\n    } else if (typeof obj[prop] !== 'undefined' && obj[prop] !== '') {\n      // Should be string or plain value\n      resultArray.push(`${varName(prop)}=${varValue(obj[prop])}`);\n    } else if (obj[prop] === '') resultArray.push(varName(prop));\n  });\n  return resultArray.join(separator);\n}\nexport function isObject(o) {\n  return typeof o === 'object' && o !== null && o.constructor && o.constructor === Object;\n}\nexport function merge(...args) {\n  const to = args[0];\n  args.splice(0, 1);\n  const from = args;\n\n  for (let i = 0; i < from.length; i += 1) {\n    const nextSource = args[i];\n    if (nextSource !== undefined && nextSource !== null) {\n      const keysArray = Object.keys(Object(nextSource));\n      for (let nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {\n        const nextKey = keysArray[nextIndex];\n        const desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n        if (desc !== undefined && desc.enumerable) {\n          to[nextKey] = nextSource[nextKey];\n        }\n      }\n    }\n  }\n  return to;\n}\nexport function extend(...args) {\n  let deep = true;\n  let to;\n  let from;\n  if (typeof args[0] === 'boolean') {\n    deep = args[0];\n    to = args[1];\n    args.splice(0, 2);\n    from = args;\n  } else {\n    to = args[0];\n    args.splice(0, 1);\n    from = args;\n  }\n  for (let i = 0; i < from.length; i += 1) {\n    const nextSource = args[i];\n    if (nextSource !== undefined && nextSource !== null) {\n      const keysArray = Object.keys(Object(nextSource));\n      for (let nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {\n        const nextKey = keysArray[nextIndex];\n        const desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n        if (desc !== undefined && desc.enumerable) {\n          if (!deep) {\n            to[nextKey] = nextSource[nextKey];\n          } else if (isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            extend(to[nextKey], nextSource[nextKey]);\n          } else if (!isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            to[nextKey] = {};\n            extend(to[nextKey], nextSource[nextKey]);\n          } else {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n    }\n  }\n  return to;\n}\nexport function colorHexToRgb(hex) {\n  const h = hex.replace(/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i, (m, r, g, b) => r + r + g + g + b + b);\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(h);\n  return result ? result.slice(1).map((n) => parseInt(n, 16)) : null;\n}\nexport function colorRgbToHex(r, g, b) {\n  const result = [r, g, b]\n    .map((n) => {\n      const hex = n.toString(16);\n      return hex.length === 1 ? `0${hex}` : hex;\n    })\n    .join('');\n  return `#${result}`;\n}\nexport function colorRgbToHsl(r, g, b) {\n  r /= 255; // eslint-disable-line\n  g /= 255; // eslint-disable-line\n  b /= 255; // eslint-disable-line\n  const max = Math.max(r, g, b);\n  const min = Math.min(r, g, b);\n  const d = max - min;\n  let h;\n  if (d === 0) h = 0;\n  else if (max === r) h = ((g - b) / d) % 6;\n  else if (max === g) h = (b - r) / d + 2;\n  else if (max === b) h = (r - g) / d + 4;\n  const l = (min + max) / 2;\n  const s = d === 0 ? 0 : d / (1 - Math.abs(2 * l - 1));\n  if (h < 0) h = 360 / 60 + h;\n  return [h * 60, s, l];\n}\nexport function colorHslToRgb(h, s, l) {\n  const c = (1 - Math.abs(2 * l - 1)) * s;\n  const hp = h / 60;\n  const x = c * (1 - Math.abs((hp % 2) - 1));\n  let rgb1;\n  if (Number.isNaN(h) || typeof h === 'undefined') {\n    rgb1 = [0, 0, 0];\n  } else if (hp <= 1) rgb1 = [c, x, 0];\n  else if (hp <= 2) rgb1 = [x, c, 0];\n  else if (hp <= 3) rgb1 = [0, c, x];\n  else if (hp <= 4) rgb1 = [0, x, c];\n  else if (hp <= 5) rgb1 = [x, 0, c];\n  else if (hp <= 6) rgb1 = [c, 0, x];\n  const m = l - c / 2;\n  return rgb1.map((n) => Math.max(0, Math.min(255, Math.round(255 * (n + m)))));\n}\nexport function colorHsbToHsl(h, s, b) {\n  const HSL = {\n    h,\n    s: 0,\n    l: 0,\n  };\n  const HSB = { h, s, b };\n\n  HSL.l = ((2 - HSB.s) * HSB.b) / 2;\n  HSL.s = HSL.l && HSL.l < 1 ? (HSB.s * HSB.b) / (HSL.l < 0.5 ? HSL.l * 2 : 2 - HSL.l * 2) : HSL.s;\n\n  return [HSL.h, HSL.s, HSL.l];\n}\nexport function colorHslToHsb(h, s, l) {\n  const HSB = {\n    h,\n    s: 0,\n    b: 0,\n  };\n  const HSL = { h, s, l };\n\n  const t = HSL.s * (HSL.l < 0.5 ? HSL.l : 1 - HSL.l);\n  HSB.b = HSL.l + t;\n  HSB.s = HSL.l > 0 ? (2 * t) / HSB.b : HSB.s;\n\n  return [HSB.h, HSB.s, HSB.b];\n}\nexport function colorThemeCSSProperties(...args) {\n  let hex;\n  let rgb;\n  if (args.length === 1) {\n    hex = args[0];\n    rgb = colorHexToRgb(hex);\n  } else if (args.length === 3) {\n    rgb = args;\n    hex = colorRgbToHex(...rgb);\n  }\n  if (!rgb) return {};\n  const hsl = colorRgbToHsl(...rgb);\n  const hslShade = [hsl[0], hsl[1], Math.max(0, hsl[2] - 0.08)];\n  const hslTint = [hsl[0], hsl[1], Math.max(0, hsl[2] + 0.08)];\n  const shade = colorRgbToHex(...colorHslToRgb(...hslShade));\n  const tint = colorRgbToHex(...colorHslToRgb(...hslTint));\n  return {\n    '--f7-theme-color': hex,\n    '--f7-theme-color-rgb': rgb.join(', '),\n    '--f7-theme-color-shade': shade,\n    '--f7-theme-color-tint': tint,\n  };\n}\n\nexport function bindMethods(instance, obj) {\n  Object.keys(obj).forEach((key) => {\n    if (isObject(obj[key])) {\n      Object.keys(obj[key]).forEach((subKey) => {\n        if (typeof obj[key][subKey] === 'function') {\n          obj[key][subKey] = obj[key][subKey].bind(instance);\n        }\n      });\n    }\n    instance[key] = obj[key];\n  });\n}\n\nexport function flattenArray(...args) {\n  const arr = [];\n  args.forEach((arg) => {\n    if (Array.isArray(arg)) arr.push(...flattenArray(...arg));\n    else arr.push(arg);\n  });\n  return arr;\n}\n","import { getWindow, getDocument } from 'ssr-window';\n\nlet support;\n\nfunction calcSupport() {\n  const window = getWindow();\n  const document = getDocument();\n\n  return {\n    touch: !!(\n      'ontouchstart' in window ||\n      (window.DocumentTouch && document instanceof window.DocumentTouch)\n    ),\n\n    pointerEvents:\n      !!window.PointerEvent &&\n      'maxTouchPoints' in window.navigator &&\n      window.navigator.maxTouchPoints >= 0,\n\n    passiveListener: (function checkPassiveListener() {\n      let supportsPassive = false;\n      try {\n        const opts = Object.defineProperty({}, 'passive', {\n          // eslint-disable-next-line\n          get() {\n            supportsPassive = true;\n          },\n        });\n        window.addEventListener('testPassiveListener', null, opts);\n      } catch (e) {\n        // No support\n      }\n      return supportsPassive;\n    })(),\n\n    intersectionObserver: (function checkObserver() {\n      return 'IntersectionObserver' in window;\n    })(),\n  };\n}\n\nfunction getSupport() {\n  if (!support) {\n    support = calcSupport();\n  }\n  return support;\n}\n\nexport { getSupport };\n","import { getWindow } from 'ssr-window';\nimport { getSupport } from './get-support';\n\nlet deviceCalculated;\n\nfunction calcDevice({ userAgent } = {}) {\n  const support = getSupport();\n  const window = getWindow();\n  const platform = window.navigator.platform;\n  const ua = userAgent || window.navigator.userAgent;\n\n  const device = {\n    ios: false,\n    android: false,\n    androidChrome: false,\n    desktop: false,\n    iphone: false,\n    ipod: false,\n    ipad: false,\n    edge: false,\n    ie: false,\n    firefox: false,\n    macos: false,\n    windows: false,\n    cordova: !!(window.cordova || window.phonegap),\n    phonegap: !!(window.cordova || window.phonegap),\n    electron: false,\n    capacitor: !!window.Capacitor,\n    nwjs: false,\n  };\n\n  const screenWidth = window.screen.width;\n  const screenHeight = window.screen.height;\n\n  const android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/); // eslint-disable-line\n  let ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n  const ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n  const iphone = !ipad && ua.match(/(iPhone\\sOS|iOS|iPhone;\\sCPU\\sOS)\\s([\\d_]+)/);\n  const ie = ua.indexOf('MSIE ') >= 0 || ua.indexOf('Trident/') >= 0;\n  const edge = ua.indexOf('Edge/') >= 0;\n  const firefox = ua.indexOf('Gecko/') >= 0 && ua.indexOf('Firefox/') >= 0;\n  const windows = platform === 'Win32';\n  const electron = ua.toLowerCase().indexOf('electron') >= 0;\n  const nwjs =\n    typeof nw !== 'undefined' &&\n    typeof process !== 'undefined' &&\n    typeof process.versions !== 'undefined' &&\n    typeof process.versions.nw !== 'undefined';\n  let macos = platform === 'MacIntel';\n\n  // iPadOs 13 fix\n  const iPadScreens = [\n    '1024x1366',\n    '1366x1024',\n    '834x1194',\n    '1194x834',\n    '834x1112',\n    '1112x834',\n    '768x1024',\n    '1024x768',\n    '820x1180',\n    '1180x820',\n    '810x1080',\n    '1080x810',\n  ];\n  if (\n    !ipad &&\n    macos &&\n    support.touch &&\n    iPadScreens.indexOf(`${screenWidth}x${screenHeight}`) >= 0\n  ) {\n    ipad = ua.match(/(Version)\\/([\\d.]+)/);\n    if (!ipad) ipad = [0, 1, '13_0_0'];\n    macos = false;\n  }\n\n  device.ie = ie;\n  device.edge = edge;\n  device.firefox = firefox;\n\n  // Android\n  if (android) {\n    device.os = 'android';\n    device.osVersion = android[2];\n    device.android = true;\n    device.androidChrome = ua.toLowerCase().indexOf('chrome') >= 0;\n  }\n  if (ipad || iphone || ipod) {\n    device.os = 'ios';\n    device.ios = true;\n  }\n  // iOS\n  if (iphone && !ipod) {\n    device.osVersion = iphone[2].replace(/_/g, '.');\n    device.iphone = true;\n  }\n  if (ipad) {\n    device.osVersion = ipad[2].replace(/_/g, '.');\n    device.ipad = true;\n  }\n  if (ipod) {\n    device.osVersion = ipod[3] ? ipod[3].replace(/_/g, '.') : null;\n    device.ipod = true;\n  }\n  // iOS 8+ changed UA\n  if (device.ios && device.osVersion && ua.indexOf('Version/') >= 0) {\n    if (device.osVersion.split('.')[0] === '10') {\n      device.osVersion = ua.toLowerCase().split('version/')[1].split(' ')[0];\n    }\n  }\n\n  // Webview\n  device.webView =\n    !!(\n      (iphone || ipad || ipod) &&\n      (ua.match(/.*AppleWebKit(?!.*Safari)/i) || window.navigator.standalone)\n    ) ||\n    (window.matchMedia && window.matchMedia('(display-mode: standalone)').matches);\n  device.webview = device.webView;\n  device.standalone = device.webView;\n\n  // Desktop\n  device.desktop = !(device.ios || device.android) || electron || nwjs;\n  if (device.desktop) {\n    device.electron = electron;\n    device.nwjs = nwjs;\n    device.macos = macos;\n    device.windows = windows;\n    if (device.macos) {\n      device.os = 'macos';\n    }\n    if (device.windows) {\n      device.os = 'windows';\n    }\n  }\n\n  // Pixel Ratio\n  device.pixelRatio = window.devicePixelRatio || 1;\n\n  // Color Scheme\n  const DARK = '(prefers-color-scheme: dark)';\n  const LIGHT = '(prefers-color-scheme: light)';\n  device.prefersColorScheme = function prefersColorTheme() {\n    let theme;\n    if (window.matchMedia && window.matchMedia(LIGHT).matches) {\n      theme = 'light';\n    }\n    if (window.matchMedia && window.matchMedia(DARK).matches) {\n      theme = 'dark';\n    }\n    return theme;\n  };\n\n  // Export object\n  return device;\n}\n\nfunction getDevice(overrides = {}, reset) {\n  if (!deviceCalculated || reset) {\n    deviceCalculated = calcDevice(overrides);\n  }\n  return deviceCalculated;\n}\n\nexport { getDevice };\n","class EventsClass {\n  constructor(parents = []) {\n    const self = this;\n    self.eventsParents = parents;\n    self.eventsListeners = {};\n  }\n\n  on(events, handler, priority) {\n    const self = this;\n    if (typeof handler !== 'function') return self;\n    const method = priority ? 'unshift' : 'push';\n    events.split(' ').forEach((event) => {\n      if (!self.eventsListeners[event]) self.eventsListeners[event] = [];\n      self.eventsListeners[event][method](handler);\n    });\n    return self;\n  }\n\n  once(events, handler, priority) {\n    const self = this;\n    if (typeof handler !== 'function') return self;\n    function onceHandler(...args) {\n      self.off(events, onceHandler);\n      if (onceHandler.f7proxy) {\n        delete onceHandler.f7proxy;\n      }\n      handler.apply(self, args);\n    }\n    onceHandler.f7proxy = handler;\n    return self.on(events, onceHandler, priority);\n  }\n\n  off(events, handler) {\n    const self = this;\n    if (!self.eventsListeners) return self;\n    events.split(' ').forEach((event) => {\n      if (typeof handler === 'undefined') {\n        self.eventsListeners[event] = [];\n      } else if (self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach((eventHandler, index) => {\n          if (\n            eventHandler === handler ||\n            (eventHandler.f7proxy && eventHandler.f7proxy === handler)\n          ) {\n            self.eventsListeners[event].splice(index, 1);\n          }\n        });\n      }\n    });\n    return self;\n  }\n\n  emit(...args) {\n    const self = this;\n    if (!self.eventsListeners) return self;\n    let events;\n    let data;\n    let context;\n    let eventsParents;\n    if (typeof args[0] === 'string' || Array.isArray(args[0])) {\n      events = args[0];\n      data = args.slice(1, args.length);\n      context = self;\n      eventsParents = self.eventsParents;\n    } else {\n      events = args[0].events;\n      data = args[0].data;\n      context = args[0].context || self;\n      eventsParents = args[0].local ? [] : args[0].parents || self.eventsParents;\n    }\n    const eventsArray = Array.isArray(events) ? events : events.split(' ');\n    const localEvents = eventsArray.map((eventName) => eventName.replace('local::', ''));\n    const parentEvents = eventsArray.filter((eventName) => eventName.indexOf('local::') < 0);\n\n    localEvents.forEach((event) => {\n      if (self.eventsListeners && self.eventsListeners[event]) {\n        const handlers = [];\n        self.eventsListeners[event].forEach((eventHandler) => {\n          handlers.push(eventHandler);\n        });\n        handlers.forEach((eventHandler) => {\n          eventHandler.apply(context, data);\n        });\n      }\n    });\n    if (eventsParents && eventsParents.length > 0) {\n      eventsParents.forEach((eventsParent) => {\n        eventsParent.emit(parentEvents, ...data);\n      });\n    }\n    return self;\n  }\n}\n\nexport default EventsClass;\n","import { extend, now } from './utils';\nimport EventsClass from './events-class';\n\nclass Framework7Class extends EventsClass {\n  constructor(params = {}, parents = []) {\n    super(parents);\n    const self = this;\n    self.params = params;\n\n    if (self.params && self.params.on) {\n      Object.keys(self.params.on).forEach((eventName) => {\n        self.on(eventName, self.params.on[eventName]);\n      });\n    }\n  }\n\n  // eslint-disable-next-line\n  useModuleParams(module, instanceParams) {\n    if (module.params) {\n      const originalParams = {};\n      Object.keys(module.params).forEach((paramKey) => {\n        if (typeof instanceParams[paramKey] === 'undefined') return;\n        originalParams[paramKey] = extend({}, instanceParams[paramKey]);\n      });\n      extend(instanceParams, module.params);\n      Object.keys(originalParams).forEach((paramKey) => {\n        extend(instanceParams[paramKey], originalParams[paramKey]);\n      });\n    }\n  }\n\n  useModulesParams(instanceParams) {\n    const instance = this;\n    if (!instance.modules) return;\n    Object.keys(instance.modules).forEach((moduleName) => {\n      const module = instance.modules[moduleName];\n      // Extend params\n      if (module.params) {\n        extend(instanceParams, module.params);\n      }\n    });\n  }\n\n  useModule(moduleName = '', moduleParams = {}) {\n    const instance = this;\n    if (!instance.modules) return;\n    const module = typeof moduleName === 'string' ? instance.modules[moduleName] : moduleName;\n    if (!module) return;\n\n    // Extend instance methods and props\n    if (module.instance) {\n      Object.keys(module.instance).forEach((modulePropName) => {\n        const moduleProp = module.instance[modulePropName];\n        if (typeof moduleProp === 'function') {\n          instance[modulePropName] = moduleProp.bind(instance);\n        } else {\n          instance[modulePropName] = moduleProp;\n        }\n      });\n    }\n    // Add event listeners\n    if (module.on && instance.on) {\n      Object.keys(module.on).forEach((moduleEventName) => {\n        instance.on(moduleEventName, module.on[moduleEventName]);\n      });\n    }\n    // Add vnode hooks\n    if (module.vnode) {\n      if (!instance.vnodeHooks) instance.vnodeHooks = {};\n      Object.keys(module.vnode).forEach((vnodeId) => {\n        Object.keys(module.vnode[vnodeId]).forEach((hookName) => {\n          const handler = module.vnode[vnodeId][hookName];\n          if (!instance.vnodeHooks[hookName]) instance.vnodeHooks[hookName] = {};\n          if (!instance.vnodeHooks[hookName][vnodeId]) instance.vnodeHooks[hookName][vnodeId] = [];\n          instance.vnodeHooks[hookName][vnodeId].push(handler.bind(instance));\n        });\n      });\n    }\n    // Module create callback\n    if (module.create) {\n      module.create.bind(instance)(moduleParams);\n    }\n  }\n\n  useModules(modulesParams = {}) {\n    const instance = this;\n    if (!instance.modules) return;\n    Object.keys(instance.modules).forEach((moduleName) => {\n      const moduleParams = modulesParams[moduleName] || {};\n      instance.useModule(moduleName, moduleParams);\n    });\n  }\n\n  static set components(components) {\n    const Class = this;\n    if (!Class.use) return;\n    Class.use(components);\n  }\n\n  static installModule(module, ...params) {\n    const Class = this;\n    if (!Class.prototype.modules) Class.prototype.modules = {};\n    const name = module.name || `${Object.keys(Class.prototype.modules).length}_${now()}`;\n    Class.prototype.modules[name] = module;\n    // Prototype\n    if (module.proto) {\n      Object.keys(module.proto).forEach((key) => {\n        Class.prototype[key] = module.proto[key];\n      });\n    }\n    // Class\n    if (module.static) {\n      Object.keys(module.static).forEach((key) => {\n        Class[key] = module.static[key];\n      });\n    }\n    // Callback\n    if (module.install) {\n      module.install.apply(Class, params);\n    }\n    return Class;\n  }\n\n  static use(module, ...params) {\n    const Class = this;\n    if (Array.isArray(module)) {\n      module.forEach((m) => Class.installModule(m));\n      return Class;\n    }\n    return Class.installModule(module, ...params);\n  }\n}\n\nexport default Framework7Class;\n","import $ from './dom7';\n\nexport default function ConstructorMethods(parameters = {}) {\n  const { defaultSelector, constructor: Constructor, domProp, app, addMethods } = parameters;\n  const methods = {\n    create(...args) {\n      if (app) return new Constructor(app, ...args);\n      return new Constructor(...args);\n    },\n    get(el = defaultSelector) {\n      if (el instanceof Constructor) return el;\n      const $el = $(el);\n      if ($el.length === 0) return undefined;\n      return $el[0][domProp];\n    },\n    destroy(el) {\n      const instance = methods.get(el);\n      if (instance && instance.destroy) return instance.destroy();\n      return undefined;\n    },\n  };\n  if (addMethods && Array.isArray(addMethods)) {\n    addMethods.forEach((methodName) => {\n      methods[methodName] = (el = defaultSelector, ...args) => {\n        const instance = methods.get(el);\n        if (instance && instance[methodName]) return instance[methodName](...args);\n        return undefined;\n      };\n    });\n  }\n  return methods;\n}\n","import $ from './dom7';\nimport { extend } from './utils';\nimport ConstructorMethods from './constructor-methods';\n\nexport default function ModalMethods(parameters = {}) {\n  const { defaultSelector, constructor: Constructor, app } = parameters;\n  const methods = extend(\n    ConstructorMethods({\n      defaultSelector,\n      constructor: Constructor,\n      app,\n      domProp: 'f7Modal',\n    }),\n    {\n      open(el, animate, targetEl) {\n        let $el = $(el);\n        if ($el.length > 1 && targetEl) {\n          // check if same modal in other page\n          const $targetPage = $(targetEl).parents('.page');\n          if ($targetPage.length) {\n            $el.each((modalEl) => {\n              const $modalEl = $(modalEl);\n              if ($modalEl.parents($targetPage)[0] === $targetPage[0]) {\n                $el = $modalEl;\n              }\n            });\n          }\n        }\n        if ($el.length > 1) {\n          $el = $el.eq($el.length - 1);\n        }\n        if (!$el.length) return undefined;\n        let instance = $el[0].f7Modal;\n        if (!instance) {\n          const params = $el.dataset();\n          instance = new Constructor(app, { el: $el, ...params });\n        }\n        return instance.open(animate);\n      },\n      close(el = defaultSelector, animate, targetEl) {\n        let $el = $(el);\n        if (!$el.length) return undefined;\n        if ($el.length > 1) {\n          // check if close link (targetEl) in this modal\n          let $parentEl;\n          if (targetEl) {\n            const $targetEl = $(targetEl);\n            if ($targetEl.length) {\n              $parentEl = $targetEl.parents($el);\n            }\n          }\n          if ($parentEl && $parentEl.length > 0) {\n            $el = $parentEl;\n          } else {\n            $el = $el.eq($el.length - 1);\n          }\n        }\n        let instance = $el[0].f7Modal;\n        if (!instance) {\n          const params = $el.dataset();\n          instance = new Constructor(app, { el: $el, ...params });\n        }\n        return instance.close(animate);\n      },\n    },\n  );\n  return methods;\n}\n","import { getWindow, getDocument } from 'ssr-window';\nimport { id } from '../../shared/utils';\nimport $ from '../../shared/dom7';\n\nconst fetchedModules = [];\nfunction loadModule(moduleToLoad) {\n  const Framework7 = this;\n  const window = getWindow();\n  const document = getDocument();\n  return new Promise((resolve, reject) => {\n    const app = Framework7.instance;\n    let modulePath;\n    let moduleObj;\n    let moduleFunc;\n    if (!moduleToLoad) {\n      reject(new Error('Framework7: Lazy module must be specified'));\n      return;\n    }\n\n    function install(module) {\n      Framework7.use(module);\n\n      if (app) {\n        app.useModuleParams(module, app.params);\n        app.useModule(module);\n      }\n    }\n\n    if (typeof moduleToLoad === 'string') {\n      const matchNamePattern = moduleToLoad.match(/([a-z0-9-]*)/i);\n      if (\n        moduleToLoad.indexOf('.') < 0 &&\n        matchNamePattern &&\n        matchNamePattern[0].length === moduleToLoad.length\n      ) {\n        if (!app || (app && !app.params.lazyModulesPath)) {\n          reject(\n            new Error(\n              'Framework7: \"lazyModulesPath\" app parameter must be specified to fetch module by name',\n            ),\n          );\n          return;\n        }\n        modulePath = `${app.params.lazyModulesPath}/${moduleToLoad}/${moduleToLoad}.js`;\n      } else {\n        modulePath = moduleToLoad;\n      }\n    } else if (typeof moduleToLoad === 'function') {\n      moduleFunc = moduleToLoad;\n    } else {\n      // considering F7-Plugin object\n      moduleObj = moduleToLoad;\n    }\n\n    if (moduleFunc) {\n      const module = moduleFunc(Framework7, false);\n      if (!module) {\n        reject(\n          new Error(\"Framework7: Can't find Framework7 component in specified component function\"),\n        );\n        return;\n      }\n      // Check if it was added\n      if (Framework7.prototype.modules && Framework7.prototype.modules[module.name]) {\n        resolve();\n        return;\n      }\n      // Install It\n      install(module);\n\n      resolve();\n    }\n    if (moduleObj) {\n      const module = moduleObj;\n      if (!module) {\n        reject(new Error(\"Framework7: Can't find Framework7 component in specified component\"));\n        return;\n      }\n      // Check if it was added\n      if (Framework7.prototype.modules && Framework7.prototype.modules[module.name]) {\n        resolve();\n        return;\n      }\n      // Install It\n      install(module);\n\n      resolve();\n    }\n    if (modulePath) {\n      if (fetchedModules.indexOf(modulePath) >= 0) {\n        resolve();\n        return;\n      }\n      fetchedModules.push(modulePath);\n      const scriptLoad = new Promise((resolveScript, rejectScript) => {\n        Framework7.request.get(\n          modulePath,\n          (scriptContent) => {\n            const callbackId = id();\n            const callbackLoadName = `f7_component_loader_callback_${callbackId}`;\n\n            const scriptEl = document.createElement('script');\n            scriptEl.innerHTML = `window.${callbackLoadName} = function (Framework7, Framework7AutoInstallComponent) {return ${scriptContent.trim()}}`;\n            $('head').append(scriptEl);\n\n            const componentLoader = window[callbackLoadName];\n            delete window[callbackLoadName];\n            $(scriptEl).remove();\n\n            const module = componentLoader(Framework7, false);\n\n            if (!module) {\n              rejectScript(\n                new Error(`Framework7: Can't find Framework7 component in ${modulePath} file`),\n              );\n              return;\n            }\n\n            // Check if it was added\n            if (Framework7.prototype.modules && Framework7.prototype.modules[module.name]) {\n              resolveScript();\n              return;\n            }\n\n            // Install It\n            install(module);\n\n            resolveScript();\n          },\n          (xhr, status) => {\n            rejectScript(xhr, status);\n          },\n        );\n      });\n      const styleLoad = new Promise((resolveStyle) => {\n        Framework7.request.get(\n          modulePath.replace('.js', app.rtl ? '.rtl.css' : '.css'),\n          (styleContent) => {\n            const styleEl = document.createElement('style');\n            styleEl.innerHTML = styleContent;\n            $('head').append(styleEl);\n\n            resolveStyle();\n          },\n          () => {\n            resolveStyle();\n          },\n        );\n      });\n\n      Promise.all([scriptLoad, styleLoad])\n        .then(() => {\n          resolve();\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    }\n  });\n}\n\nexport default loadModule;\n","/* eslint-disable no-underscore-dangle */\n\nimport { getWindow, getDocument } from 'ssr-window';\nimport { extend, nextFrame } from '../../shared/utils';\nimport { getDevice } from '../../shared/get-device';\nimport { getSupport } from '../../shared/get-support';\nimport Framework7Class from '../../shared/class';\nimport EventsClass from '../../shared/events-class';\nimport ConstructorMethods from '../../shared/constructor-methods';\nimport ModalMethods from '../../shared/modal-methods';\nimport $ from '../../shared/dom7';\nimport loadModule from './load-module';\n\nclass Framework7 extends Framework7Class {\n  constructor(params = {}) {\n    super(params);\n    // eslint-disable-next-line\n    if (Framework7.instance && typeof window !== 'undefined') {\n      throw new Error(\"Framework7 is already initialized and can't be initialized more than once\");\n    }\n    const device = getDevice({ userAgent: params.userAgent || undefined });\n    const support = getSupport();\n\n    const passedParams = extend({}, params);\n\n    // App Instance\n    const app = this;\n\n    app.device = device;\n    app.support = support;\n\n    const w = getWindow();\n    const d = getDocument();\n\n    Framework7.instance = app;\n\n    // Default\n    const defaults = {\n      version: '1.0.0',\n      id: 'io.framework7.myapp',\n      el: 'body',\n      theme: 'auto',\n      language: w.navigator.language,\n      routes: [],\n      name: 'Framework7',\n      lazyModulesPath: null,\n      initOnDeviceReady: true,\n      init: true,\n      autoDarkTheme: false,\n      iosTranslucentBars: true,\n      iosTranslucentModals: true,\n      component: undefined,\n      componentUrl: undefined,\n      userAgent: null,\n      url: null,\n    };\n\n    // Extend defaults with modules params\n    app.useModulesParams(defaults);\n\n    // Extend defaults with passed params\n    app.params = extend(defaults, params);\n\n    extend(app, {\n      // App Id\n      id: app.params.id,\n      // App Name\n      name: app.params.name,\n      // App version\n      version: app.params.version,\n      // Routes\n      routes: app.params.routes,\n      // Lang\n      language: app.params.language,\n\n      // Theme\n      theme: (function getTheme() {\n        if (app.params.theme === 'auto') {\n          if (device.ios) return 'ios';\n          if (device.desktop && device.electron) return 'aurora';\n          return 'md';\n        }\n        return app.params.theme;\n      })(),\n\n      // Initially passed parameters\n      passedParams,\n      online: w.navigator.onLine,\n    });\n\n    if (params.store) app.params.store = params.store;\n\n    // Save Root\n    if (app.$el && app.$el[0]) {\n      app.$el[0].f7 = app;\n    }\n\n    // Install Modules\n    app.useModules();\n\n    // Init Store\n    app.initStore();\n\n    // Init\n    if (app.params.init) {\n      if (device.cordova && app.params.initOnDeviceReady) {\n        $(d).on('deviceready', () => {\n          app.init();\n        });\n      } else {\n        app.init();\n      }\n    }\n\n    // Return app instance\n    return app;\n  }\n\n  mount(rootEl) {\n    const app = this;\n    const window = getWindow();\n    const document = getDocument();\n    const $rootEl = $(rootEl || app.params.el).eq(0);\n    app.$el = $rootEl;\n    if (app.$el && app.$el[0]) {\n      app.el = app.$el[0];\n      app.el.f7 = app;\n      app.rtl = $rootEl.css('direction') === 'rtl';\n    }\n\n    // Auto Dark Theme\n    const DARK = '(prefers-color-scheme: dark)';\n    const LIGHT = '(prefers-color-scheme: light)';\n    app.mq = {};\n    if (window.matchMedia) {\n      app.mq.dark = window.matchMedia(DARK);\n      app.mq.light = window.matchMedia(LIGHT);\n    }\n    app.colorSchemeListener = function colorSchemeListener({ matches, media }) {\n      if (!matches) {\n        return;\n      }\n      const html = document.querySelector('html');\n      if (media === DARK) {\n        html.classList.add('theme-dark');\n        app.darkTheme = true;\n        app.emit('darkThemeChange', true);\n      } else if (media === LIGHT) {\n        html.classList.remove('theme-dark');\n        app.darkTheme = false;\n        app.emit('darkThemeChange', false);\n      }\n    };\n    app.emit('mount');\n  }\n\n  initStore() {\n    const app = this;\n    if (typeof app.params.store !== 'undefined' && app.params.store.__store) {\n      app.store = app.params.store;\n    } else {\n      app.store = app.createStore(app.params.store);\n    }\n  }\n\n  enableAutoDarkTheme() {\n    const window = getWindow();\n    const document = getDocument();\n    if (!window.matchMedia) return;\n    const app = this;\n    const html = document.querySelector('html');\n    if (app.mq.dark && app.mq.light) {\n      app.mq.dark.addListener(app.colorSchemeListener);\n      app.mq.light.addListener(app.colorSchemeListener);\n    }\n    if (app.mq.dark && app.mq.dark.matches) {\n      html.classList.add('theme-dark');\n      app.darkTheme = true;\n      app.emit('darkThemeChange', true);\n    } else if (app.mq.light && app.mq.light.matches) {\n      html.classList.remove('theme-dark');\n      app.darkTheme = false;\n      app.emit('darkThemeChange', false);\n    }\n  }\n\n  disableAutoDarkTheme() {\n    const window = getWindow();\n    if (!window.matchMedia) return;\n    const app = this;\n    if (app.mq.dark) app.mq.dark.removeListener(app.colorSchemeListener);\n    if (app.mq.light) app.mq.light.removeListener(app.colorSchemeListener);\n  }\n\n  initAppComponent(callback) {\n    const app = this;\n    app.router.componentLoader(\n      app.params.component,\n      app.params.componentUrl,\n      { componentOptions: { el: app.$el[0] } },\n      (el) => {\n        app.$el = $(el);\n        app.$el[0].f7 = app;\n        app.$elComponent = el.f7Component;\n        app.el = app.$el[0];\n        if (callback) callback();\n      },\n      () => {},\n    );\n  }\n\n  init(rootEl) {\n    const app = this;\n\n    app.mount(rootEl);\n\n    const init = () => {\n      if (app.initialized) return;\n\n      app.$el.addClass('framework7-initializing');\n\n      // RTL attr\n      if (app.rtl) {\n        $('html').attr('dir', 'rtl');\n      }\n\n      // Auto Dark Theme\n      if (app.params.autoDarkTheme) {\n        app.enableAutoDarkTheme();\n      }\n\n      // Watch for online/offline state\n      const window = getWindow();\n      window.addEventListener('offline', () => {\n        app.online = false;\n        app.emit('offline');\n        app.emit('connection', false);\n      });\n      window.addEventListener('online', () => {\n        app.online = true;\n        app.emit('online');\n        app.emit('connection', true);\n      });\n\n      // Root class\n      app.$el.addClass('framework7-root');\n\n      // Theme class\n      $('html').removeClass('ios md aurora').addClass(app.theme);\n\n      // iOS Translucent\n      const device = app.device;\n      if (app.params.iosTranslucentBars && app.theme === 'ios' && device.ios) {\n        $('html').addClass('ios-translucent-bars');\n      }\n      if (app.params.iosTranslucentModals && app.theme === 'ios' && device.ios) {\n        $('html').addClass('ios-translucent-modals');\n      }\n\n      // Init class\n      nextFrame(() => {\n        app.$el.removeClass('framework7-initializing');\n      });\n      // Emit, init other modules\n      app.initialized = true;\n      app.emit('init');\n    };\n    if (app.params.component || app.params.componentUrl) {\n      app.initAppComponent(() => {\n        init();\n      });\n    } else {\n      init();\n    }\n    return app;\n  }\n\n  // eslint-disable-next-line\n  loadModule(...args) {\n    return Framework7.loadModule(...args);\n  }\n\n  // eslint-disable-next-line\n  loadModules(...args) {\n    return Framework7.loadModules(...args);\n  }\n\n  getVnodeHooks(hook, id) {\n    const app = this;\n    if (!app.vnodeHooks || !app.vnodeHooks[hook]) return [];\n    return app.vnodeHooks[hook][id] || [];\n  }\n\n  // eslint-disable-next-line\n  get $() {\n    return $;\n  }\n\n  static get Dom7() {\n    return $;\n  }\n\n  static get $() {\n    return $;\n  }\n\n  static get device() {\n    return getDevice();\n  }\n\n  static get support() {\n    return getSupport();\n  }\n\n  static get Class() {\n    return Framework7Class;\n  }\n\n  static get Events() {\n    return EventsClass;\n  }\n}\n\nFramework7.ModalMethods = ModalMethods;\nFramework7.ConstructorMethods = ConstructorMethods;\n\nFramework7.loadModule = loadModule;\nFramework7.loadModules = function loadModules(modules) {\n  return Promise.all(modules.map((module) => Framework7.loadModule(module)));\n};\n\nexport default Framework7;\n","import { getDocument } from 'ssr-window';\nimport { getDevice } from '../../shared/get-device';\n\nexport default {\n  name: 'device',\n  static: {\n    getDevice,\n  },\n  on: {\n    init() {\n      const document = getDocument();\n      const device = getDevice();\n      const classNames = [];\n      const html = document.querySelector('html');\n      const metaStatusbar = document.querySelector(\n        'meta[name=\"apple-mobile-web-app-status-bar-style\"]',\n      );\n      if (!html) return;\n      if (\n        device.standalone &&\n        device.ios &&\n        metaStatusbar &&\n        metaStatusbar.content === 'black-translucent'\n      ) {\n        classNames.push('device-full-viewport');\n      }\n\n      // Pixel Ratio\n      classNames.push(`device-pixel-ratio-${Math.floor(device.pixelRatio)}`);\n      // OS classes\n      if (device.os && !device.desktop) {\n        classNames.push(`device-${device.os}`);\n      } else if (device.desktop) {\n        classNames.push('device-desktop');\n        if (device.os) {\n          classNames.push(`device-${device.os}`);\n        }\n      }\n      if (device.cordova || device.phonegap) {\n        classNames.push('device-cordova');\n      }\n      if (device.capacitor) {\n        classNames.push('device-capacitor');\n      }\n\n      // Add html classes\n      classNames.forEach((className) => {\n        html.classList.add(className);\n      });\n    },\n  },\n};\n","import { getSupport } from '../../shared/get-support';\n\nexport default {\n  name: 'support',\n  static: {\n    getSupport,\n  },\n};\n","import * as utils from '../../shared/utils';\n\nexport default {\n  name: 'utils',\n  proto: {\n    utils,\n  },\n  static: {\n    utils,\n  },\n};\n","import { getWindow, getDocument } from 'ssr-window';\nimport { getDevice } from '../../shared/get-device';\n\nexport default {\n  name: 'resize',\n  create() {\n    const app = this;\n    app.getSize = () => {\n      if (!app.el) return { width: 0, height: 0, left: 0, top: 0 };\n      const offset = app.$el.offset();\n      const [width, height, left, top] = [\n        app.el.offsetWidth,\n        app.el.offsetHeight,\n        offset.left,\n        offset.top,\n      ];\n      app.width = width;\n      app.height = height;\n      app.left = left;\n      app.top = top;\n      return { width, height, left, top };\n    };\n  },\n  on: {\n    init() {\n      const app = this;\n      const window = getWindow();\n\n      // Get Size\n      app.getSize();\n\n      // Emit resize\n      window.addEventListener(\n        'resize',\n        () => {\n          app.emit('resize');\n        },\n        false,\n      );\n\n      // Emit orientationchange\n      window.addEventListener('orientationchange', () => {\n        app.emit('orientationchange');\n      });\n    },\n    orientationchange() {\n      const document = getDocument();\n      const device = getDevice();\n      // Fix iPad weird body scroll\n      if (device.ipad) {\n        document.body.scrollLeft = 0;\n        setTimeout(() => {\n          document.body.scrollLeft = 0;\n        }, 0);\n      }\n    },\n    resize() {\n      const app = this;\n      app.getSize();\n    },\n  },\n};\n","/* eslint-disable max-classes-per-file */\nimport { getWindow, getDocument } from 'ssr-window';\nimport { extend, serializeObject } from './utils';\n\nconst globals = {};\nlet jsonpRequests = 0;\n\nclass RequestResponse {\n  constructor(obj) {\n    Object.assign(this, obj);\n  }\n}\n\nclass RequestError extends Error {\n  constructor(obj) {\n    super();\n    Object.assign(this, obj);\n  }\n}\n\nconst request = (requestOptions) =>\n  new Promise((resolve, reject) => {\n    const window = getWindow();\n    const document = getDocument();\n    const globalsNoCallbacks = extend({}, globals);\n    'beforeCreate beforeOpen beforeSend error complete success statusCode'\n      .split(' ')\n      .forEach((callbackName) => {\n        delete globalsNoCallbacks[callbackName];\n      });\n    const defaults = extend(\n      {\n        url: window.location.toString(),\n        method: 'GET',\n        data: false,\n        async: true,\n        cache: true,\n        user: '',\n        password: '',\n        headers: {},\n        xhrFields: {},\n        statusCode: {},\n        processData: true,\n        dataType: 'text',\n        contentType: 'application/x-www-form-urlencoded',\n        timeout: 0,\n      },\n      globalsNoCallbacks,\n    );\n\n    let proceedRequest;\n\n    const options = extend({}, defaults, requestOptions);\n    if (requestOptions.abortController) {\n      options.abortController = requestOptions.abortController;\n    }\n\n    if (options.abortController && options.abortController.canceled) {\n      reject(new RequestError({ options, status: 'canceled', message: 'canceled' }));\n      return;\n    }\n\n    // Function to run XHR callbacks and events\n    function fireCallback(callbackName, ...data) {\n      /*\n      Callbacks:\n      beforeCreate (options),\n      beforeOpen (xhr, options),\n      beforeSend (xhr, options),\n      error (xhr, status, message),\n      complete (xhr, status),\n      success (response, status, xhr),\n      statusCode ()\n    */\n      let globalCallbackValue;\n      let optionCallbackValue;\n      if (globals[callbackName]) {\n        globalCallbackValue = globals[callbackName](...data);\n      }\n      if (options[callbackName]) {\n        optionCallbackValue = options[callbackName](...data);\n      }\n      if (typeof globalCallbackValue !== 'boolean') globalCallbackValue = true;\n      if (typeof optionCallbackValue !== 'boolean') optionCallbackValue = true;\n      if (\n        options.abortController &&\n        options.abortController.canceled &&\n        (callbackName === 'beforeCreate' ||\n          callbackName === 'beforeOpen' ||\n          callbackName === 'beforeSend')\n      ) {\n        return false;\n      }\n      return globalCallbackValue && optionCallbackValue;\n    }\n\n    // Before create callback\n    proceedRequest = fireCallback('beforeCreate', options);\n    if (proceedRequest === false) {\n      reject(new RequestError({ options, status: 'canceled', message: 'canceled' }));\n      return;\n    }\n\n    // For jQuery guys\n    if (options.type) options.method = options.type;\n\n    // Parameters Prefix\n    let paramsPrefix = options.url.indexOf('?') >= 0 ? '&' : '?';\n\n    // UC method\n    const method = options.method.toUpperCase();\n\n    // Data to modify GET URL\n    if (\n      (method === 'GET' || method === 'HEAD' || method === 'OPTIONS' || method === 'DELETE') &&\n      options.data\n    ) {\n      let stringData;\n      if (typeof options.data === 'string') {\n        // Should be key=value string\n        if (options.data.indexOf('?') >= 0) stringData = options.data.split('?')[1];\n        else stringData = options.data;\n      } else {\n        // Should be key=value object\n        stringData = serializeObject(options.data);\n      }\n      if (stringData.length) {\n        options.url += paramsPrefix + stringData;\n        if (paramsPrefix === '?') paramsPrefix = '&';\n      }\n    }\n\n    // JSONP\n    if (options.dataType === 'json' && options.url.indexOf('callback=') >= 0) {\n      const callbackName = `f7jsonp_${Date.now() + (jsonpRequests += 1)}`;\n      let abortTimeout;\n      const callbackSplit = options.url.split('callback=');\n      let requestUrl = `${callbackSplit[0]}callback=${callbackName}`;\n      if (callbackSplit[1].indexOf('&') >= 0) {\n        const addVars = callbackSplit[1]\n          .split('&')\n          .filter((el) => el.indexOf('=') > 0)\n          .join('&');\n        if (addVars.length > 0) requestUrl += `&${addVars}`;\n      }\n\n      // Create script\n      let script = document.createElement('script');\n      script.type = 'text/javascript';\n      script.onerror = function onerror() {\n        clearTimeout(abortTimeout);\n        fireCallback('error', null, 'scripterror', 'scripterror');\n        reject(new RequestError({ options, status: 'scripterror', message: 'scripterror' }));\n        fireCallback('complete', null, 'scripterror');\n      };\n      script.src = requestUrl;\n\n      // Handler\n      window[callbackName] = function jsonpCallback(data) {\n        clearTimeout(abortTimeout);\n        fireCallback('success', data);\n        script.parentNode.removeChild(script);\n        script = null;\n        delete window[callbackName];\n        resolve(new RequestResponse({ options, data }));\n      };\n      document.querySelector('head').appendChild(script);\n\n      if (options.timeout > 0) {\n        abortTimeout = setTimeout(() => {\n          script.parentNode.removeChild(script);\n          script = null;\n          fireCallback('error', null, 'timeout', 'timeout');\n          reject(new RequestError({ options, status: 'timeout', message: 'timeout' }));\n        }, options.timeout);\n      }\n\n      return;\n    }\n\n    // Cache for GET/HEAD requests\n    if (method === 'GET' || method === 'HEAD' || method === 'OPTIONS' || method === 'DELETE') {\n      if (options.cache === false) {\n        options.url += `${paramsPrefix}_nocache${Date.now()}`;\n      }\n    }\n\n    // Create XHR\n    const xhr = new XMLHttpRequest();\n\n    if (options.abortController) {\n      let aborted = false;\n      options.abortController.onAbort = () => {\n        if (aborted) return;\n        aborted = true;\n        xhr.abort();\n        reject(new RequestError({ options, xhr, status: 'canceled', message: 'canceled' }));\n      };\n    }\n\n    // Save Request URL\n    xhr.requestUrl = options.url;\n    xhr.requestParameters = options;\n\n    // Before open callback\n    proceedRequest = fireCallback('beforeOpen', xhr, options);\n    if (proceedRequest === false) {\n      reject(new RequestError({ options, xhr, status: 'canceled', message: 'canceled' }));\n      return;\n    }\n\n    // Open XHR\n    xhr.open(method, options.url, options.async, options.user, options.password);\n\n    // Create POST Data\n    let postData = null;\n\n    if ((method === 'POST' || method === 'PUT' || method === 'PATCH') && options.data) {\n      if (options.processData) {\n        const postDataInstances = [ArrayBuffer, Blob, Document, FormData];\n        // Post Data\n        if (postDataInstances.indexOf(options.data.constructor) >= 0) {\n          postData = options.data;\n        } else {\n          // POST Headers\n          const boundary = `---------------------------${Date.now().toString(16)}`;\n\n          if (options.contentType === 'multipart/form-data') {\n            xhr.setRequestHeader('Content-Type', `multipart/form-data; boundary=${boundary}`);\n          } else {\n            xhr.setRequestHeader('Content-Type', options.contentType);\n          }\n          postData = '';\n          let data = serializeObject(options.data);\n          if (options.contentType === 'multipart/form-data') {\n            data = data.split('&');\n            const newData = [];\n            for (let i = 0; i < data.length; i += 1) {\n              newData.push(\n                `Content-Disposition: form-data; name=\"${data[i].split('=')[0]}\"\\r\\n\\r\\n${\n                  data[i].split('=')[1]\n                }\\r\\n`,\n              );\n            }\n            postData = `--${boundary}\\r\\n${newData.join(`--${boundary}\\r\\n`)}--${boundary}--\\r\\n`;\n          } else if (options.contentType === 'application/json') {\n            postData = JSON.stringify(options.data);\n          } else {\n            postData = data;\n          }\n        }\n      } else {\n        postData = options.data;\n        xhr.setRequestHeader('Content-Type', options.contentType);\n      }\n    }\n    if (options.dataType === 'json' && (!options.headers || !options.headers.Accept)) {\n      xhr.setRequestHeader('Accept', 'application/json');\n    }\n\n    // Additional headers\n    if (options.headers) {\n      Object.keys(options.headers).forEach((headerName) => {\n        if (typeof options.headers[headerName] === 'undefined') return;\n        xhr.setRequestHeader(headerName, options.headers[headerName]);\n      });\n    }\n\n    // Check for crossDomain\n    if (typeof options.crossDomain === 'undefined') {\n      options.crossDomain =\n        // eslint-disable-next-line\n        /^([\\w-]+:)?\\/\\/([^\\/]+)/.test(options.url) && RegExp.$2 !== window.location.host;\n    }\n\n    if (!options.crossDomain) {\n      xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n    }\n\n    if (options.xhrFields) {\n      extend(xhr, options.xhrFields);\n    }\n\n    // Handle XHR\n    xhr.onload = function onload() {\n      if ((xhr.status >= 200 && xhr.status < 300) || xhr.status === 0) {\n        let responseData;\n        if (options.dataType === 'json') {\n          let parseError;\n          try {\n            responseData = JSON.parse(xhr.responseText);\n          } catch (err) {\n            parseError = true;\n          }\n          if (!parseError) {\n            fireCallback('success', responseData, xhr.status, xhr);\n            resolve(new RequestResponse({ options, data: responseData, status: xhr.status, xhr }));\n          } else {\n            fireCallback('error', xhr, 'parseerror', 'parseerror');\n            reject(new RequestError({ options, xhr, status: 'parseerror', message: 'parseerror' }));\n          }\n        } else {\n          responseData =\n            xhr.responseType === 'text' || xhr.responseType === ''\n              ? xhr.responseText\n              : xhr.response;\n          fireCallback('success', responseData, xhr.status, xhr);\n          resolve(new RequestResponse({ options, data: responseData, status: xhr.status, xhr }));\n        }\n      } else {\n        fireCallback('error', xhr, xhr.status, xhr.statusText);\n        reject(new RequestError({ options, xhr, status: xhr.status, message: xhr.statusText }));\n      }\n      if (options.statusCode) {\n        if (globals.statusCode && globals.statusCode[xhr.status])\n          globals.statusCode[xhr.status](xhr);\n        if (options.statusCode[xhr.status]) options.statusCode[xhr.status](xhr);\n      }\n      fireCallback('complete', xhr, xhr.status);\n    };\n\n    xhr.onerror = function onerror() {\n      fireCallback('error', xhr, xhr.status, xhr.status);\n      reject(new RequestError({ options, xhr, status: xhr.status, message: xhr.statusText }));\n      fireCallback('complete', xhr, 'error');\n    };\n\n    // Timeout\n    if (options.timeout > 0) {\n      xhr.timeout = options.timeout;\n      xhr.ontimeout = () => {\n        fireCallback('error', xhr, 'timeout', 'timeout');\n        reject(new RequestError({ options, xhr, status: 'timeout', message: 'timeout' }));\n        fireCallback('complete', xhr, 'timeout');\n      };\n    }\n\n    // Ajax start callback\n    proceedRequest = fireCallback('beforeSend', xhr, options);\n    if (proceedRequest === false) {\n      reject(new RequestError({ options, xhr, status: 'canceled', message: 'canceled' }));\n      return;\n    }\n\n    // Send XHR\n    xhr.send(postData);\n  });\n\nfunction requestShortcut(method, ...args) {\n  let [url, data, success, error, dataType] = [];\n  if (typeof args[1] === 'function') {\n    [url, success, error, dataType] = args;\n  } else {\n    [url, data, success, error, dataType] = args;\n  }\n  [success, error].forEach((callback) => {\n    if (typeof callback === 'string') {\n      dataType = callback;\n      if (callback === success) success = undefined;\n      else error = undefined;\n    }\n  });\n  dataType = dataType || (method === 'json' || method === 'postJSON' ? 'json' : undefined);\n  const requestOptions = {\n    url,\n    method: method === 'post' || method === 'postJSON' ? 'POST' : 'GET',\n    data,\n    success,\n    error,\n    dataType,\n  };\n  if (method === 'postJSON') {\n    extend(requestOptions, {\n      contentType: 'application/json',\n      processData: false,\n      crossDomain: true,\n      data: typeof data === 'string' ? data : JSON.stringify(data),\n    });\n  }\n  return request(requestOptions);\n}\n\nObject.assign(request, {\n  get: (...args) => requestShortcut('get', ...args),\n  post: (...args) => requestShortcut('post', ...args),\n  json: (...args) => requestShortcut('json', ...args),\n  getJSON: (...args) => requestShortcut('json', ...args),\n  postJSON: (...args) => requestShortcut('postJSON', ...args),\n});\n\nrequest.abortController = () => {\n  const contoller = {\n    canceled: false,\n    onAbort: null,\n    abort() {\n      contoller.canceled = true;\n      if (contoller.onAbort) contoller.onAbort();\n    },\n  };\n  return contoller;\n};\n\nrequest.setup = function setup(options) {\n  if (options.type && !options.method) {\n    extend(options, { method: options.type });\n  }\n  extend(globals, options);\n};\n\nexport default request;\n","/* eslint no-param-reassign: \"off\" */\nimport request from '../../shared/request';\n\nexport default {\n  name: 'request',\n  proto: {\n    request,\n  },\n  static: {\n    request,\n  },\n};\n","/* eslint-disable no-nested-ternary */\nimport { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom7';\nimport { getSupport } from '../../shared/get-support';\nimport { getDevice } from '../../shared/get-device';\nimport { extend } from '../../shared/utils';\n\nfunction initTouch() {\n  const app = this;\n  const device = getDevice();\n  const support = getSupport();\n  const window = getWindow();\n  const document = getDocument();\n  const params = app.params.touch;\n  const useRipple = params[`${app.theme}TouchRipple`];\n\n  if (device.ios && device.webView) {\n    // Strange hack required for iOS 8 webview to work on inputs\n    window.addEventListener('touchstart', () => {});\n  }\n\n  let touchStartX;\n  let touchStartY;\n  let targetElement;\n  let isMoved;\n  let tapHoldFired;\n  let tapHoldTimeout;\n  let preventClick;\n\n  let activableElement;\n  let activeTimeout;\n\n  let rippleWave;\n  let rippleTarget;\n  let rippleTimeout;\n\n  function findActivableElement(el) {\n    const target = $(el);\n    const parents = target.parents(params.activeStateElements);\n    if (target.closest('.no-active-state').length) {\n      return null;\n    }\n    let activable;\n    if (target.is(params.activeStateElements)) {\n      activable = target;\n    }\n    if (parents.length > 0) {\n      activable = activable ? activable.add(parents) : parents;\n    }\n    if (activable && activable.length > 1) {\n      const newActivable = [];\n      let preventPropagation;\n      for (let i = 0; i < activable.length; i += 1) {\n        if (!preventPropagation) {\n          newActivable.push(activable[i]);\n          if (\n            activable.eq(i).hasClass('prevent-active-state-propagation') ||\n            activable.eq(i).hasClass('no-active-state-propagation')\n          ) {\n            preventPropagation = true;\n          }\n        }\n      }\n      activable = $(newActivable);\n    }\n    return activable || target;\n  }\n\n  function isInsideScrollableView(el) {\n    const pageContent = el.parents('.page-content');\n    return pageContent.length > 0;\n  }\n\n  function addActive() {\n    if (!activableElement) return;\n    activableElement.addClass('active-state');\n  }\n  function removeActive() {\n    if (!activableElement) return;\n    activableElement.removeClass('active-state');\n    activableElement = null;\n  }\n\n  // Ripple handlers\n  function findRippleElement(el) {\n    const rippleElements = params.touchRippleElements;\n    const $el = $(el);\n    if ($el.is(rippleElements)) {\n      if ($el.hasClass('no-ripple')) {\n        return false;\n      }\n      return $el;\n    }\n    if ($el.parents(rippleElements).length > 0) {\n      const rippleParent = $el.parents(rippleElements).eq(0);\n      if (rippleParent.hasClass('no-ripple')) {\n        return false;\n      }\n      return rippleParent;\n    }\n    return false;\n  }\n  function createRipple($el, x, y) {\n    if (!$el) return;\n    rippleWave = app.touchRipple.create(app, $el, x, y);\n  }\n\n  function removeRipple() {\n    if (!rippleWave) return;\n    rippleWave.remove();\n    rippleWave = undefined;\n    rippleTarget = undefined;\n  }\n  function rippleTouchStart(el) {\n    rippleTarget = findRippleElement(el);\n    if (!rippleTarget || rippleTarget.length === 0) {\n      rippleTarget = undefined;\n      return;\n    }\n    const inScrollable = isInsideScrollableView(rippleTarget);\n\n    if (!inScrollable) {\n      removeRipple();\n      createRipple(rippleTarget, touchStartX, touchStartY);\n    } else {\n      clearTimeout(rippleTimeout);\n      rippleTimeout = setTimeout(() => {\n        removeRipple();\n        createRipple(rippleTarget, touchStartX, touchStartY);\n      }, 80);\n    }\n  }\n  function rippleTouchMove() {\n    clearTimeout(rippleTimeout);\n    removeRipple();\n  }\n  function rippleTouchEnd() {\n    if (!rippleWave && rippleTarget && !isMoved) {\n      clearTimeout(rippleTimeout);\n      createRipple(rippleTarget, touchStartX, touchStartY);\n      setTimeout(removeRipple, 0);\n    } else {\n      removeRipple();\n    }\n  }\n\n  // Mouse Handlers\n  function handleMouseDown(e) {\n    const $activableEl = findActivableElement(e.target);\n    if ($activableEl) {\n      $activableEl.addClass('active-state');\n      if ('which' in e && e.which === 3) {\n        setTimeout(() => {\n          $('.active-state').removeClass('active-state');\n        }, 0);\n      }\n    }\n\n    if (useRipple) {\n      touchStartX = e.pageX;\n      touchStartY = e.pageY;\n      rippleTouchStart(e.target, e.pageX, e.pageY);\n    }\n  }\n  function handleMouseMove() {\n    if (!params.activeStateOnMouseMove) {\n      $('.active-state').removeClass('active-state');\n    }\n    if (useRipple) {\n      rippleTouchMove();\n    }\n  }\n  function handleMouseUp() {\n    $('.active-state').removeClass('active-state');\n    if (useRipple) {\n      rippleTouchEnd();\n    }\n  }\n\n  function handleTouchCancel() {\n    targetElement = null;\n\n    // Remove Active State\n    clearTimeout(activeTimeout);\n    clearTimeout(tapHoldTimeout);\n    if (params.activeState) {\n      removeActive();\n    }\n\n    // Remove Ripple\n    if (useRipple) {\n      rippleTouchEnd();\n    }\n  }\n\n  let isScrolling;\n  let isSegmentedStrong = false;\n  let segmentedStrongEl = null;\n\n  const touchMoveActivableIos = '.dialog-button, .actions-button';\n  let isTouchMoveActivable = false;\n  let touchmoveActivableEl = null;\n\n  function handleTouchStart(e) {\n    isMoved = false;\n    tapHoldFired = false;\n    preventClick = false;\n    isScrolling = undefined;\n    if (e.targetTouches.length > 1) {\n      if (activableElement) removeActive();\n      return true;\n    }\n    if (e.touches.length > 1 && activableElement) {\n      removeActive();\n    }\n    if (params.tapHold) {\n      if (tapHoldTimeout) clearTimeout(tapHoldTimeout);\n      tapHoldTimeout = setTimeout(() => {\n        if (e && e.touches && e.touches.length > 1) return;\n        tapHoldFired = true;\n        e.preventDefault();\n        preventClick = true;\n        $(e.target).trigger('taphold', e);\n        app.emit('taphold', e);\n      }, params.tapHoldDelay);\n    }\n    targetElement = e.target;\n    touchStartX = e.targetTouches[0].pageX;\n    touchStartY = e.targetTouches[0].pageY;\n    isSegmentedStrong = e.target.closest(\n      '.segmented-strong .button-active, .segmented-strong .tab-link-active',\n    );\n    isTouchMoveActivable = app.theme === 'ios' && e.target.closest(touchMoveActivableIos);\n    if (isSegmentedStrong) {\n      segmentedStrongEl = isSegmentedStrong.closest('.segmented-strong');\n    }\n\n    if (params.activeState) {\n      activableElement = findActivableElement(targetElement);\n      if (activableElement && !isInsideScrollableView(activableElement)) {\n        addActive();\n      } else if (activableElement) {\n        activeTimeout = setTimeout(addActive, 80);\n      }\n    }\n    if (useRipple) {\n      rippleTouchStart(targetElement, touchStartX, touchStartY);\n    }\n    return true;\n  }\n  function handleTouchMove(e) {\n    let touch;\n    let distance;\n    let shouldRemoveActive = true;\n\n    if (e.type === 'touchmove') {\n      touch = e.targetTouches[0];\n      distance = params.touchClicksDistanceThreshold;\n    }\n\n    const touchCurrentX = e.targetTouches[0].pageX;\n    const touchCurrentY = e.targetTouches[0].pageY;\n\n    if (typeof isScrolling === 'undefined') {\n      isScrolling = !!(\n        isScrolling || Math.abs(touchCurrentY - touchStartY) > Math.abs(touchCurrentX - touchStartX)\n      );\n    }\n\n    if (isTouchMoveActivable || (!isScrolling && isSegmentedStrong && segmentedStrongEl)) {\n      if (e.cancelable) e.preventDefault();\n    }\n\n    if (!isScrolling && isSegmentedStrong && segmentedStrongEl) {\n      const elementFromPoint = document.elementFromPoint(\n        e.targetTouches[0].clientX,\n        e.targetTouches[0].clientY,\n      );\n      const buttonEl = elementFromPoint.closest(\n        '.segmented-strong .button:not(.button-active):not(.tab-link-active)',\n      );\n      if (buttonEl && segmentedStrongEl.contains(buttonEl)) {\n        $(buttonEl).trigger('click', 'f7Segmented');\n        targetElement = buttonEl;\n      }\n    }\n\n    if (distance && touch) {\n      const pageX = touch.pageX;\n      const pageY = touch.pageY;\n      if (Math.abs(pageX - touchStartX) > distance || Math.abs(pageY - touchStartY) > distance) {\n        isMoved = true;\n      }\n    } else {\n      isMoved = true;\n    }\n    if (isMoved) {\n      preventClick = true;\n      // Keep active state on touchMove (for dialog and actions buttons)\n      if (isTouchMoveActivable) {\n        const elementFromPoint = document.elementFromPoint(\n          e.targetTouches[0].clientX,\n          e.targetTouches[0].clientY,\n        );\n        touchmoveActivableEl = elementFromPoint.closest(touchMoveActivableIos);\n        if (\n          touchmoveActivableEl &&\n          activableElement &&\n          activableElement[0] === touchmoveActivableEl\n        ) {\n          shouldRemoveActive = false;\n        } else if (touchmoveActivableEl) {\n          setTimeout(() => {\n            activableElement = findActivableElement(touchmoveActivableEl);\n            addActive();\n          });\n        }\n      }\n      if (params.tapHold) {\n        clearTimeout(tapHoldTimeout);\n      }\n      if (params.activeState && shouldRemoveActive) {\n        clearTimeout(activeTimeout);\n        removeActive();\n      }\n      if (useRipple) {\n        rippleTouchMove();\n      }\n    }\n  }\n  function handleTouchEnd(e) {\n    isScrolling = undefined;\n    isSegmentedStrong = false;\n    segmentedStrongEl = null;\n    isTouchMoveActivable = false;\n    clearTimeout(activeTimeout);\n    clearTimeout(tapHoldTimeout);\n    if (touchmoveActivableEl) {\n      $(touchmoveActivableEl).trigger('click', 'f7TouchMoveActivable');\n      touchmoveActivableEl = null;\n    }\n    if (document.activeElement === e.target) {\n      if (params.activeState) removeActive();\n      if (useRipple) {\n        rippleTouchEnd();\n      }\n      return true;\n    }\n    if (params.activeState) {\n      addActive();\n      setTimeout(removeActive, 0);\n    }\n    if (useRipple) {\n      rippleTouchEnd();\n    }\n    if ((params.tapHoldPreventClicks && tapHoldFired) || preventClick) {\n      if (e.cancelable) e.preventDefault();\n      preventClick = true;\n      return false;\n    }\n    return true;\n  }\n  function handleClick(e) {\n    const isOverswipe = e && e.detail && e.detail === 'f7Overswipe';\n    const isSegmented = e && e.detail && e.detail === 'f7Segmented';\n    // eslint-disable-next-line\n    const isTouchMoveActivable = e && e.detail && e.detail === 'f7TouchMoveActivable';\n    let localPreventClick = preventClick;\n    if (targetElement && e.target !== targetElement) {\n      if (isOverswipe || isSegmented || isTouchMoveActivable) {\n        localPreventClick = false;\n      } else {\n        localPreventClick = true;\n      }\n    } else if (isTouchMoveActivable) {\n      localPreventClick = false;\n    }\n    if (params.tapHold && params.tapHoldPreventClicks && tapHoldFired) {\n      localPreventClick = true;\n    }\n    if (localPreventClick) {\n      e.stopImmediatePropagation();\n      e.stopPropagation();\n      e.preventDefault();\n    }\n\n    if (params.tapHold) {\n      tapHoldTimeout = setTimeout(\n        () => {\n          tapHoldFired = false;\n        },\n        device.ios || device.androidChrome ? 100 : 400,\n      );\n    }\n    preventClick = false;\n    targetElement = null;\n\n    return !localPreventClick;\n  }\n\n  function emitAppTouchEvent(name, e) {\n    app.emit({\n      events: name,\n      data: [e],\n    });\n  }\n  function appClick(e) {\n    emitAppTouchEvent('click', e);\n  }\n  function appTouchStartActive(e) {\n    emitAppTouchEvent('touchstart touchstart:active', e);\n  }\n  function appTouchMoveActive(e) {\n    emitAppTouchEvent('touchmove touchmove:active', e);\n  }\n  function appTouchEndActive(e) {\n    emitAppTouchEvent('touchend touchend:active', e);\n  }\n  function appTouchStartPassive(e) {\n    emitAppTouchEvent('touchstart:passive', e);\n  }\n  function appTouchMovePassive(e) {\n    emitAppTouchEvent('touchmove:passive', e);\n  }\n  function appTouchEndPassive(e) {\n    emitAppTouchEvent('touchend:passive', e);\n  }\n\n  const passiveListener = support.passiveListener ? { passive: true } : false;\n  const passiveListenerCapture = support.passiveListener ? { passive: true, capture: true } : true;\n  const activeListener = support.passiveListener ? { passive: false } : false;\n  const activeListenerCapture = support.passiveListener ? { passive: false, capture: true } : true;\n\n  document.addEventListener('click', appClick, true);\n\n  if (support.passiveListener) {\n    document.addEventListener(app.touchEvents.start, appTouchStartActive, activeListenerCapture);\n    document.addEventListener(app.touchEvents.move, appTouchMoveActive, activeListener);\n    document.addEventListener(app.touchEvents.end, appTouchEndActive, activeListener);\n\n    document.addEventListener(app.touchEvents.start, appTouchStartPassive, passiveListenerCapture);\n    document.addEventListener(app.touchEvents.move, appTouchMovePassive, passiveListener);\n    document.addEventListener(app.touchEvents.end, appTouchEndPassive, passiveListener);\n  } else {\n    document.addEventListener(\n      app.touchEvents.start,\n      (e) => {\n        appTouchStartActive(e);\n        appTouchStartPassive(e);\n      },\n      true,\n    );\n    document.addEventListener(\n      app.touchEvents.move,\n      (e) => {\n        appTouchMoveActive(e);\n        appTouchMovePassive(e);\n      },\n      false,\n    );\n    document.addEventListener(\n      app.touchEvents.end,\n      (e) => {\n        appTouchEndActive(e);\n        appTouchEndPassive(e);\n      },\n      false,\n    );\n  }\n\n  if (support.touch) {\n    app.on('click', handleClick);\n    app.on('touchstart', handleTouchStart);\n    app.on('touchmove', handleTouchMove);\n    app.on('touchend', handleTouchEnd);\n    document.addEventListener('touchcancel', handleTouchCancel, { passive: true });\n  } else if (params.activeState) {\n    app.on('touchstart', handleMouseDown);\n    app.on('touchmove', handleMouseMove);\n    app.on('touchend', handleMouseUp);\n    document.addEventListener('pointercancel', handleMouseUp, { passive: true });\n  }\n  document.addEventListener('contextmenu', (e) => {\n    if (\n      params.disableContextMenu &&\n      (device.ios ||\n        device.android ||\n        device.cordova ||\n        (window.Capacitor && window.Capacitor.isNative))\n    ) {\n      e.preventDefault();\n    }\n    if (useRipple) {\n      if (activableElement) removeActive();\n      rippleTouchEnd();\n    }\n  });\n}\n\nexport default {\n  name: 'touch',\n  params: {\n    touch: {\n      // Clicks\n      touchClicksDistanceThreshold: 5,\n      // ContextMenu\n      disableContextMenu: false,\n      // Tap Hold\n      tapHold: false,\n      tapHoldDelay: 750,\n      tapHoldPreventClicks: true,\n      // Active State\n      activeState: true,\n      activeStateElements:\n        'a, button, label, span, .actions-button, .stepper-button, .stepper-button-plus, .stepper-button-minus, .card-expandable, .menu-item, .link, .item-link, .accordion-item-toggle',\n      activeStateOnMouseMove: false,\n      mdTouchRipple: true,\n      iosTouchRipple: false,\n      auroraTouchRipple: false,\n      touchRippleElements:\n        '.ripple, .link, .item-link, .list-button, .links-list a, .button, button, .input-clear-button, .dialog-button, .tab-link, .item-radio, .item-checkbox, .actions-button, .searchbar-disable-button, .fab a, .checkbox, .radio, .data-table .sortable-cell:not(.input-cell), .notification-close-button, .stepper-button, .stepper-button-minus, .stepper-button-plus, .menu-item-content, .list.accordion-list .accordion-item-toggle',\n      touchRippleInsetElements:\n        '.ripple-inset, .icon-only, .searchbar-disable-button, .input-clear-button, .notification-close-button, .md .navbar .link.back',\n    },\n  },\n  create() {\n    const app = this;\n    const support = getSupport();\n    extend(app, {\n      touchEvents: {\n        start: support.touch ? 'touchstart' : support.pointerEvents ? 'pointerdown' : 'mousedown',\n        move: support.touch ? 'touchmove' : support.pointerEvents ? 'pointermove' : 'mousemove',\n        end: support.touch ? 'touchend' : support.pointerEvents ? 'pointerup' : 'mouseup',\n      },\n    });\n  },\n  on: {\n    init: initTouch,\n  },\n};\n","/**\n * Tokenize input string.\n */\nfunction lexer(str) {\n    var tokens = [];\n    var i = 0;\n    while (i < str.length) {\n        var char = str[i];\n        if (char === \"*\" || char === \"+\" || char === \"?\") {\n            tokens.push({ type: \"MODIFIER\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \"\\\\\") {\n            tokens.push({ type: \"ESCAPED_CHAR\", index: i++, value: str[i++] });\n            continue;\n        }\n        if (char === \"{\") {\n            tokens.push({ type: \"OPEN\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \"}\") {\n            tokens.push({ type: \"CLOSE\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \":\") {\n            var name = \"\";\n            var j = i + 1;\n            while (j < str.length) {\n                var code = str.charCodeAt(j);\n                if (\n                // `0-9`\n                (code >= 48 && code <= 57) ||\n                    // `A-Z`\n                    (code >= 65 && code <= 90) ||\n                    // `a-z`\n                    (code >= 97 && code <= 122) ||\n                    // `_`\n                    code === 95) {\n                    name += str[j++];\n                    continue;\n                }\n                break;\n            }\n            if (!name)\n                throw new TypeError(\"Missing parameter name at \" + i);\n            tokens.push({ type: \"NAME\", index: i, value: name });\n            i = j;\n            continue;\n        }\n        if (char === \"(\") {\n            var count = 1;\n            var pattern = \"\";\n            var j = i + 1;\n            if (str[j] === \"?\") {\n                throw new TypeError(\"Pattern cannot start with \\\"?\\\" at \" + j);\n            }\n            while (j < str.length) {\n                if (str[j] === \"\\\\\") {\n                    pattern += str[j++] + str[j++];\n                    continue;\n                }\n                if (str[j] === \")\") {\n                    count--;\n                    if (count === 0) {\n                        j++;\n                        break;\n                    }\n                }\n                else if (str[j] === \"(\") {\n                    count++;\n                    if (str[j + 1] !== \"?\") {\n                        throw new TypeError(\"Capturing groups are not allowed at \" + j);\n                    }\n                }\n                pattern += str[j++];\n            }\n            if (count)\n                throw new TypeError(\"Unbalanced pattern at \" + i);\n            if (!pattern)\n                throw new TypeError(\"Missing pattern at \" + i);\n            tokens.push({ type: \"PATTERN\", index: i, value: pattern });\n            i = j;\n            continue;\n        }\n        tokens.push({ type: \"CHAR\", index: i, value: str[i++] });\n    }\n    tokens.push({ type: \"END\", index: i, value: \"\" });\n    return tokens;\n}\n/**\n * Parse a string for the raw tokens.\n */\nexport function parse(str, options) {\n    if (options === void 0) { options = {}; }\n    var tokens = lexer(str);\n    var _a = options.prefixes, prefixes = _a === void 0 ? \"./\" : _a;\n    var defaultPattern = \"[^\" + escapeString(options.delimiter || \"/#?\") + \"]+?\";\n    var result = [];\n    var key = 0;\n    var i = 0;\n    var path = \"\";\n    var tryConsume = function (type) {\n        if (i < tokens.length && tokens[i].type === type)\n            return tokens[i++].value;\n    };\n    var mustConsume = function (type) {\n        var value = tryConsume(type);\n        if (value !== undefined)\n            return value;\n        var _a = tokens[i], nextType = _a.type, index = _a.index;\n        throw new TypeError(\"Unexpected \" + nextType + \" at \" + index + \", expected \" + type);\n    };\n    var consumeText = function () {\n        var result = \"\";\n        var value;\n        // tslint:disable-next-line\n        while ((value = tryConsume(\"CHAR\") || tryConsume(\"ESCAPED_CHAR\"))) {\n            result += value;\n        }\n        return result;\n    };\n    while (i < tokens.length) {\n        var char = tryConsume(\"CHAR\");\n        var name = tryConsume(\"NAME\");\n        var pattern = tryConsume(\"PATTERN\");\n        if (name || pattern) {\n            var prefix = char || \"\";\n            if (prefixes.indexOf(prefix) === -1) {\n                path += prefix;\n                prefix = \"\";\n            }\n            if (path) {\n                result.push(path);\n                path = \"\";\n            }\n            result.push({\n                name: name || key++,\n                prefix: prefix,\n                suffix: \"\",\n                pattern: pattern || defaultPattern,\n                modifier: tryConsume(\"MODIFIER\") || \"\"\n            });\n            continue;\n        }\n        var value = char || tryConsume(\"ESCAPED_CHAR\");\n        if (value) {\n            path += value;\n            continue;\n        }\n        if (path) {\n            result.push(path);\n            path = \"\";\n        }\n        var open = tryConsume(\"OPEN\");\n        if (open) {\n            var prefix = consumeText();\n            var name_1 = tryConsume(\"NAME\") || \"\";\n            var pattern_1 = tryConsume(\"PATTERN\") || \"\";\n            var suffix = consumeText();\n            mustConsume(\"CLOSE\");\n            result.push({\n                name: name_1 || (pattern_1 ? key++ : \"\"),\n                pattern: name_1 && !pattern_1 ? defaultPattern : pattern_1,\n                prefix: prefix,\n                suffix: suffix,\n                modifier: tryConsume(\"MODIFIER\") || \"\"\n            });\n            continue;\n        }\n        mustConsume(\"END\");\n    }\n    return result;\n}\n/**\n * Compile a string to a template function for the path.\n */\nexport function compile(str, options) {\n    return tokensToFunction(parse(str, options), options);\n}\n/**\n * Expose a method for transforming tokens into the path function.\n */\nexport function tokensToFunction(tokens, options) {\n    if (options === void 0) { options = {}; }\n    var reFlags = flags(options);\n    var _a = options.encode, encode = _a === void 0 ? function (x) { return x; } : _a, _b = options.validate, validate = _b === void 0 ? true : _b;\n    // Compile all the tokens into regexps.\n    var matches = tokens.map(function (token) {\n        if (typeof token === \"object\") {\n            return new RegExp(\"^(?:\" + token.pattern + \")$\", reFlags);\n        }\n    });\n    return function (data) {\n        var path = \"\";\n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            if (typeof token === \"string\") {\n                path += token;\n                continue;\n            }\n            var value = data ? data[token.name] : undefined;\n            var optional = token.modifier === \"?\" || token.modifier === \"*\";\n            var repeat = token.modifier === \"*\" || token.modifier === \"+\";\n            if (Array.isArray(value)) {\n                if (!repeat) {\n                    throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to not repeat, but got an array\");\n                }\n                if (value.length === 0) {\n                    if (optional)\n                        continue;\n                    throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to not be empty\");\n                }\n                for (var j = 0; j < value.length; j++) {\n                    var segment = encode(value[j], token);\n                    if (validate && !matches[i].test(segment)) {\n                        throw new TypeError(\"Expected all \\\"\" + token.name + \"\\\" to match \\\"\" + token.pattern + \"\\\", but got \\\"\" + segment + \"\\\"\");\n                    }\n                    path += token.prefix + segment + token.suffix;\n                }\n                continue;\n            }\n            if (typeof value === \"string\" || typeof value === \"number\") {\n                var segment = encode(String(value), token);\n                if (validate && !matches[i].test(segment)) {\n                    throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to match \\\"\" + token.pattern + \"\\\", but got \\\"\" + segment + \"\\\"\");\n                }\n                path += token.prefix + segment + token.suffix;\n                continue;\n            }\n            if (optional)\n                continue;\n            var typeOfMessage = repeat ? \"an array\" : \"a string\";\n            throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to be \" + typeOfMessage);\n        }\n        return path;\n    };\n}\n/**\n * Create path match function from `path-to-regexp` spec.\n */\nexport function match(str, options) {\n    var keys = [];\n    var re = pathToRegexp(str, keys, options);\n    return regexpToFunction(re, keys, options);\n}\n/**\n * Create a path match function from `path-to-regexp` output.\n */\nexport function regexpToFunction(re, keys, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.decode, decode = _a === void 0 ? function (x) { return x; } : _a;\n    return function (pathname) {\n        var m = re.exec(pathname);\n        if (!m)\n            return false;\n        var path = m[0], index = m.index;\n        var params = Object.create(null);\n        var _loop_1 = function (i) {\n            // tslint:disable-next-line\n            if (m[i] === undefined)\n                return \"continue\";\n            var key = keys[i - 1];\n            if (key.modifier === \"*\" || key.modifier === \"+\") {\n                params[key.name] = m[i].split(key.prefix + key.suffix).map(function (value) {\n                    return decode(value, key);\n                });\n            }\n            else {\n                params[key.name] = decode(m[i], key);\n            }\n        };\n        for (var i = 1; i < m.length; i++) {\n            _loop_1(i);\n        }\n        return { path: path, index: index, params: params };\n    };\n}\n/**\n * Escape a regular expression string.\n */\nfunction escapeString(str) {\n    return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, \"\\\\$1\");\n}\n/**\n * Get the flags for a regexp from the options.\n */\nfunction flags(options) {\n    return options && options.sensitive ? \"\" : \"i\";\n}\n/**\n * Pull out keys from a regexp.\n */\nfunction regexpToRegexp(path, keys) {\n    if (!keys)\n        return path;\n    var groupsRegex = /\\((?:\\?<(.*?)>)?(?!\\?)/g;\n    var index = 0;\n    var execResult = groupsRegex.exec(path.source);\n    while (execResult) {\n        keys.push({\n            // Use parenthesized substring match if available, index otherwise\n            name: execResult[1] || index++,\n            prefix: \"\",\n            suffix: \"\",\n            modifier: \"\",\n            pattern: \"\"\n        });\n        execResult = groupsRegex.exec(path.source);\n    }\n    return path;\n}\n/**\n * Transform an array into a regexp.\n */\nfunction arrayToRegexp(paths, keys, options) {\n    var parts = paths.map(function (path) { return pathToRegexp(path, keys, options).source; });\n    return new RegExp(\"(?:\" + parts.join(\"|\") + \")\", flags(options));\n}\n/**\n * Create a path regexp from string input.\n */\nfunction stringToRegexp(path, keys, options) {\n    return tokensToRegexp(parse(path, options), keys, options);\n}\n/**\n * Expose a function for taking tokens and returning a RegExp.\n */\nexport function tokensToRegexp(tokens, keys, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.strict, strict = _a === void 0 ? false : _a, _b = options.start, start = _b === void 0 ? true : _b, _c = options.end, end = _c === void 0 ? true : _c, _d = options.encode, encode = _d === void 0 ? function (x) { return x; } : _d;\n    var endsWith = \"[\" + escapeString(options.endsWith || \"\") + \"]|$\";\n    var delimiter = \"[\" + escapeString(options.delimiter || \"/#?\") + \"]\";\n    var route = start ? \"^\" : \"\";\n    // Iterate over the tokens and create our regexp string.\n    for (var _i = 0, tokens_1 = tokens; _i < tokens_1.length; _i++) {\n        var token = tokens_1[_i];\n        if (typeof token === \"string\") {\n            route += escapeString(encode(token));\n        }\n        else {\n            var prefix = escapeString(encode(token.prefix));\n            var suffix = escapeString(encode(token.suffix));\n            if (token.pattern) {\n                if (keys)\n                    keys.push(token);\n                if (prefix || suffix) {\n                    if (token.modifier === \"+\" || token.modifier === \"*\") {\n                        var mod = token.modifier === \"*\" ? \"?\" : \"\";\n                        route += \"(?:\" + prefix + \"((?:\" + token.pattern + \")(?:\" + suffix + prefix + \"(?:\" + token.pattern + \"))*)\" + suffix + \")\" + mod;\n                    }\n                    else {\n                        route += \"(?:\" + prefix + \"(\" + token.pattern + \")\" + suffix + \")\" + token.modifier;\n                    }\n                }\n                else {\n                    route += \"(\" + token.pattern + \")\" + token.modifier;\n                }\n            }\n            else {\n                route += \"(?:\" + prefix + suffix + \")\" + token.modifier;\n            }\n        }\n    }\n    if (end) {\n        if (!strict)\n            route += delimiter + \"?\";\n        route += !options.endsWith ? \"$\" : \"(?=\" + endsWith + \")\";\n    }\n    else {\n        var endToken = tokens[tokens.length - 1];\n        var isEndDelimited = typeof endToken === \"string\"\n            ? delimiter.indexOf(endToken[endToken.length - 1]) > -1\n            : // tslint:disable-next-line\n                endToken === undefined;\n        if (!strict) {\n            route += \"(?:\" + delimiter + \"(?=\" + endsWith + \"))?\";\n        }\n        if (!isEndDelimited) {\n            route += \"(?=\" + delimiter + \"|\" + endsWith + \")\";\n        }\n    }\n    return new RegExp(route, flags(options));\n}\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n */\nexport function pathToRegexp(path, keys, options) {\n    if (path instanceof RegExp)\n        return regexpToRegexp(path, keys);\n    if (Array.isArray(path))\n        return arrayToRegexp(path, keys, options);\n    return stringToRegexp(path, keys, options);\n}\n//# sourceMappingURL=index.js.map","import { getWindow, getDocument } from 'ssr-window';\nimport $ from './dom7';\nimport { extend } from './utils';\n\nconst History = {\n  queue: [],\n  clearQueue() {\n    if (History.queue.length === 0) return;\n    const currentQueue = History.queue.shift();\n    currentQueue();\n  },\n  routerQueue: [],\n  clearRouterQueue() {\n    if (History.routerQueue.length === 0) return;\n    const currentQueue = History.routerQueue.pop();\n    const { router, stateUrl, action } = currentQueue;\n\n    let animate = router.params.animate;\n    if (router.params.browserHistoryAnimate === false) animate = false;\n\n    if (action === 'back') {\n      router.back({ animate, browserHistory: false });\n    }\n    if (action === 'load') {\n      router.navigate(stateUrl, { animate, browserHistory: false });\n    }\n  },\n  handle(e) {\n    if (History.blockPopstate) return;\n    const app = this;\n    // const mainView = app.views.main;\n    let state = e.state;\n    History.previousState = History.state;\n    History.state = state;\n\n    History.allowChange = true;\n    History.clearQueue();\n\n    state = History.state;\n    if (!state) state = {};\n\n    app.views.forEach((view) => {\n      const router = view.router;\n      let viewState = state[view.id];\n      if (!viewState && view.params.browserHistory) {\n        viewState = {\n          url: view.router.history[0],\n        };\n      }\n      if (!viewState) return;\n      const stateUrl = viewState.url || undefined;\n\n      let animate = router.params.animate;\n      if (router.params.browserHistoryAnimate === false) animate = false;\n\n      if (stateUrl !== router.url) {\n        if (router.history.indexOf(stateUrl) >= 0) {\n          // Go Back\n          if (router.allowPageChange) {\n            router.back({ animate, browserHistory: false });\n          } else {\n            History.routerQueue.push({\n              action: 'back',\n              router,\n            });\n          }\n        } else if (router.allowPageChange) {\n          // Load page\n          router.navigate(stateUrl, { animate, browserHistory: false });\n        } else {\n          History.routerQueue.unshift({\n            action: 'load',\n            stateUrl,\n            router,\n          });\n        }\n      }\n    });\n  },\n  initViewState(viewId, viewState) {\n    const window = getWindow();\n    const newState = extend({}, History.state || {}, {\n      [viewId]: viewState,\n    });\n    History.state = newState;\n    window.history.replaceState(newState, '');\n  },\n  push(viewId, viewState, url) {\n    const window = getWindow();\n    if (url.substr(-3) === '#!/') {\n      // eslint-disable-next-line\n      url = url.replace('#!/', '');\n    }\n    if (!History.allowChange) {\n      History.queue.push(() => {\n        History.push(viewId, viewState, url);\n      });\n      return;\n    }\n    History.previousState = History.state;\n    const newState = extend({}, History.previousState || {}, {\n      [viewId]: viewState,\n    });\n    History.state = newState;\n    window.history.pushState(newState, '', url);\n  },\n  replace(viewId, viewState, url) {\n    const window = getWindow();\n    if (url.substr(-3) === '#!/') {\n      // eslint-disable-next-line\n      url = url.replace('#!/', '');\n    }\n    if (!History.allowChange) {\n      History.queue.push(() => {\n        History.replace(viewId, viewState, url);\n      });\n      return;\n    }\n    History.previousState = History.state;\n    const newState = extend({}, History.previousState || {}, {\n      [viewId]: viewState,\n    });\n    History.state = newState;\n    window.history.replaceState(newState, '', url);\n  },\n  go(index) {\n    const window = getWindow();\n    History.allowChange = false;\n    window.history.go(index);\n  },\n  back() {\n    const window = getWindow();\n    History.allowChange = false;\n    window.history.back();\n  },\n  allowChange: true,\n  previousState: {},\n  state: {},\n  blockPopstate: true,\n  init(app) {\n    const window = getWindow();\n    const document = getDocument();\n    History.state = window.history.state;\n    $(window).on('load', () => {\n      setTimeout(() => {\n        History.blockPopstate = false;\n      }, 0);\n    });\n\n    if (document.readyState && document.readyState === 'complete') {\n      History.blockPopstate = false;\n    }\n\n    $(window).on('popstate', History.handle.bind(app));\n  },\n};\n\nexport default History;\n","import $ from '../../shared/dom7';\nimport History from '../../shared/history';\nimport { getSupport } from '../../shared/get-support';\nimport { getDevice } from '../../shared/get-device';\nimport { now } from '../../shared/utils';\n\nfunction SwipeBack(r) {\n  const router = r;\n  const { $el, $navbarsEl, app, params } = router;\n  const support = getSupport();\n  const device = getDevice();\n  let isTouched = false;\n  let isMoved = false;\n  const touchesStart = {};\n  let isScrolling;\n  let $currentPageEl = [];\n  let $previousPageEl = [];\n  let viewContainerWidth;\n  let touchesDiff;\n  let allowViewTouchMove = true;\n  let touchStartTime;\n  let $currentNavbarEl = [];\n  let $previousNavbarEl = [];\n  let dynamicNavbar;\n  let $pageShadowEl;\n  let $pageOpacityEl;\n\n  let animatableNavEls;\n\n  const paramsSwipeBackAnimateShadow = params[`${app.theme}SwipeBackAnimateShadow`];\n  const paramsSwipeBackAnimateOpacity = params[`${app.theme}SwipeBackAnimateOpacity`];\n  const paramsSwipeBackActiveArea = params[`${app.theme}SwipeBackActiveArea`];\n  const paramsSwipeBackThreshold = params[`${app.theme}SwipeBackThreshold`];\n\n  const transformOrigin = app.rtl ? 'right center' : 'left center';\n  const transformOriginTitleLarge = app.rtl\n    ? 'calc(100% - var(--f7-navbar-large-title-padding-left) - var(--f7-safe-area-left)) center'\n    : 'calc(var(--f7-navbar-large-title-padding-left) + var(--f7-safe-area-left)) center';\n\n  function animatableNavElements() {\n    const els = [];\n    const inverter = app.rtl ? -1 : 1;\n    const currentNavIsTransparent =\n      $currentNavbarEl.hasClass('navbar-transparent') &&\n      !$currentNavbarEl.hasClass('navbar-large') &&\n      !$currentNavbarEl.hasClass('navbar-transparent-visible');\n    const currentNavIsLarge = $currentNavbarEl.hasClass('navbar-large');\n    const currentNavIsCollapsed = $currentNavbarEl.hasClass('navbar-large-collapsed');\n    const currentNavIsLargeTransparent =\n      $currentNavbarEl.hasClass('navbar-large-transparent') ||\n      ($currentNavbarEl.hasClass('navbar-large') &&\n        $currentNavbarEl.hasClass('navbar-transparent'));\n    const previousNavIsTransparent =\n      $previousNavbarEl.hasClass('navbar-transparent') &&\n      !$previousNavbarEl.hasClass('navbar-large') &&\n      !$previousNavbarEl.hasClass('navbar-transparent-visible');\n    const previousNavIsLarge = $previousNavbarEl.hasClass('navbar-large');\n    const previousNavIsCollapsed = $previousNavbarEl.hasClass('navbar-large-collapsed');\n    const previousNavIsLargeTransparent =\n      $previousNavbarEl.hasClass('navbar-large-transparent') ||\n      ($previousNavbarEl.hasClass('navbar-large') &&\n        $previousNavbarEl.hasClass('navbar-transparent'));\n    const fromLarge = currentNavIsLarge && !currentNavIsCollapsed;\n    const toLarge = previousNavIsLarge && !previousNavIsCollapsed;\n    const $currentNavElements = $currentNavbarEl.find(\n      '.left, .title, .right, .subnavbar, .fading, .title-large, .navbar-bg',\n    );\n    const $previousNavElements = $previousNavbarEl.find(\n      '.left, .title, .right, .subnavbar, .fading, .title-large, .navbar-bg',\n    );\n    let activeNavBackIconText;\n    let previousNavBackIconText;\n\n    if (params.iosAnimateNavbarBackIcon) {\n      if (\n        $currentNavbarEl.hasClass('sliding') ||\n        $currentNavbarEl.find('.navbar-inner.sliding').length\n      ) {\n        activeNavBackIconText = $currentNavbarEl.find('.left').find('.back .icon + span').eq(0);\n      } else {\n        activeNavBackIconText = $currentNavbarEl\n          .find('.left.sliding')\n          .find('.back .icon + span')\n          .eq(0);\n      }\n      if (\n        $previousNavbarEl.hasClass('sliding') ||\n        $previousNavbarEl.find('.navbar-inner.sliding').length\n      ) {\n        previousNavBackIconText = $previousNavbarEl.find('.left').find('.back .icon + span').eq(0);\n      } else {\n        previousNavBackIconText = $previousNavbarEl\n          .find('.left.sliding')\n          .find('.back .icon + span')\n          .eq(0);\n      }\n      if (activeNavBackIconText.length) {\n        $previousNavElements.each((el) => {\n          if (!$(el).hasClass('title')) return;\n          el.f7NavbarLeftOffset += activeNavBackIconText.prev('.icon')[0].offsetWidth;\n        });\n      }\n    }\n    $currentNavElements.each((navEl) => {\n      const $navEl = $(navEl);\n      const isSubnavbar = $navEl.hasClass('subnavbar');\n      const isLeft = $navEl.hasClass('left');\n      const isTitle = $navEl.hasClass('title');\n      const isBg = $navEl.hasClass('navbar-bg');\n      if ((isTitle || isBg) && currentNavIsTransparent) return;\n      if (!fromLarge && $navEl.hasClass('.title-large')) return;\n      const el = {\n        el: navEl,\n      };\n      if (fromLarge) {\n        if (isTitle) return;\n        if ($navEl.hasClass('title-large')) {\n          if (els.indexOf(el) < 0) els.push(el);\n          el.overflow = 'visible';\n          $navEl.find('.title-large-text').each((subNavEl) => {\n            els.push({\n              el: subNavEl,\n              transform: (progress) => `translateX(${progress * 100 * inverter}%)`,\n            });\n          });\n          return;\n        }\n      }\n      if (toLarge) {\n        if (!fromLarge) {\n          if ($navEl.hasClass('title-large')) {\n            if (els.indexOf(el) < 0) els.push(el);\n            el.opacity = 0;\n          }\n        }\n        if (isLeft) {\n          if (els.indexOf(el) < 0) els.push(el);\n          el.opacity = (progress) => 1 - progress ** 0.33;\n          $navEl.find('.back span').each((subNavEl) => {\n            els.push({\n              el: subNavEl,\n              'transform-origin': transformOrigin,\n              transform: (progress) =>\n                `translateX(calc(${progress} * (var(--f7-navbarTitleLargeOffset) - var(--f7-navbarLeftTextOffset)))) translateY(calc(${progress} * (var(--f7-navbar-large-title-height) - var(--f7-navbar-large-title-padding-vertical) / 2))) scale(${\n                  1 + 1 * progress\n                })`,\n            });\n          });\n          return;\n        }\n      }\n      if (isBg) {\n        if (els.indexOf(el) < 0) els.push(el);\n        if (!fromLarge && !toLarge) {\n          if (currentNavIsCollapsed) {\n            if (currentNavIsLargeTransparent) {\n              el.className = 'ios-swipeback-navbar-bg-large';\n            }\n            el.transform = (progress) =>\n              `translateX(${\n                100 * progress * inverter\n              }%) translateY(calc(-1 * var(--f7-navbar-large-title-height)))`;\n          } else {\n            el.transform = (progress) => `translateX(${100 * progress * inverter}%)`;\n          }\n        }\n        if (!fromLarge && toLarge) {\n          el.className = 'ios-swipeback-navbar-bg-large';\n          el.transform = (progress) =>\n            `translateX(${100 * progress * inverter}%) translateY(calc(-1 * ${\n              1 - progress\n            } * var(--f7-navbar-large-title-height)))`;\n        }\n        if (fromLarge && toLarge) {\n          el.transform = (progress) => `translateX(${100 * progress * inverter}%)`;\n        }\n        if (fromLarge && !toLarge) {\n          el.transform = (progress) =>\n            `translateX(${\n              100 * progress * inverter\n            }%) translateY(calc(-${progress} * var(--f7-navbar-large-title-height)))`;\n        }\n        return;\n      }\n      if ($navEl.hasClass('title-large')) return;\n      const isSliding =\n        $navEl.hasClass('sliding') || $navEl.parents('.navbar-inner.sliding').length;\n      if (els.indexOf(el) < 0) els.push(el);\n      if (!isSubnavbar || (isSubnavbar && !isSliding)) {\n        el.opacity = (progress) => 1 - progress ** 0.33;\n      }\n      if (isSliding) {\n        let transformTarget = el;\n        if (isLeft && activeNavBackIconText.length && params.iosAnimateNavbarBackIcon) {\n          const textEl = { el: activeNavBackIconText[0] };\n          transformTarget = textEl;\n          els.push(textEl);\n        }\n        transformTarget.transform = (progress) => {\n          let activeNavTranslate = progress * transformTarget.el.f7NavbarRightOffset;\n          if (device.pixelRatio === 1) activeNavTranslate = Math.round(activeNavTranslate);\n          if (isSubnavbar && currentNavIsLarge) {\n            return `translate3d(${activeNavTranslate}px, calc(-1 * var(--f7-navbar-large-collapse-progress) * var(--f7-navbar-large-title-height)), 0)`;\n          }\n          return `translate3d(${activeNavTranslate}px,0,0)`;\n        };\n      }\n    });\n    $previousNavElements.each((navEl) => {\n      const $navEl = $(navEl);\n      const isSubnavbar = $navEl.hasClass('subnavbar');\n      const isLeft = $navEl.hasClass('left');\n      const isTitle = $navEl.hasClass('title');\n      const isBg = $navEl.hasClass('navbar-bg');\n      if ((isTitle || isBg) && previousNavIsTransparent) return;\n      const el = {\n        el: navEl,\n      };\n      if (toLarge) {\n        if (isTitle) return;\n        if (els.indexOf(el) < 0) els.push(el);\n\n        if ($navEl.hasClass('title-large')) {\n          el.opacity = 1;\n          el.overflow = 'visible';\n          $navEl.find('.title-large-text').each((subNavEl) => {\n            els.push({\n              el: subNavEl,\n              'transform-origin': transformOriginTitleLarge,\n              opacity: (progress) => progress ** 3,\n              transform: (progress) =>\n                `translateX(calc(${\n                  1 - progress\n                } * (var(--f7-navbarLeftTextOffset) - var(--f7-navbarTitleLargeOffset)))) translateY(calc(${\n                  progress - 1\n                } * var(--f7-navbar-large-title-height) + ${\n                  1 - progress\n                } * var(--f7-navbar-large-title-padding-vertical))) scale(${0.5 + progress * 0.5})`,\n            });\n          });\n          return;\n        }\n      }\n      if (isBg) {\n        if (els.indexOf(el) < 0) els.push(el);\n        if (!fromLarge && !toLarge) {\n          if (previousNavIsCollapsed) {\n            if (previousNavIsLargeTransparent) {\n              el.className = 'ios-swipeback-navbar-bg-large';\n            }\n            el.transform = (progress) =>\n              `translateX(${\n                (-100 + 100 * progress) * inverter\n              }%) translateY(calc(-1 * var(--f7-navbar-large-title-height)))`;\n          } else {\n            el.transform = (progress) => `translateX(${(-100 + 100 * progress) * inverter}%)`;\n          }\n        }\n        if (!fromLarge && toLarge) {\n          el.transform = (progress) =>\n            `translateX(${(-100 + 100 * progress) * inverter}%) translateY(calc(-1 * ${\n              1 - progress\n            } * var(--f7-navbar-large-title-height)))`;\n        }\n        if (fromLarge && !toLarge) {\n          el.className = 'ios-swipeback-navbar-bg-large';\n          el.transform = (progress) =>\n            `translateX(${\n              (-100 + 100 * progress) * inverter\n            }%) translateY(calc(-${progress} * var(--f7-navbar-large-title-height)))`;\n        }\n        if (fromLarge && toLarge) {\n          el.transform = (progress) => `translateX(${(-100 + 100 * progress) * inverter}%)`;\n        }\n\n        return;\n      }\n      if ($navEl.hasClass('title-large')) return;\n      const isSliding =\n        $navEl.hasClass('sliding') || $previousNavbarEl.children('.navbar-inner.sliding').length;\n      if (els.indexOf(el) < 0) els.push(el);\n      if (!isSubnavbar || (isSubnavbar && !isSliding)) {\n        el.opacity = (progress) => progress ** 3;\n      }\n      if (isSliding) {\n        let transformTarget = el;\n        if (isLeft && previousNavBackIconText.length && params.iosAnimateNavbarBackIcon) {\n          const textEl = { el: previousNavBackIconText[0] };\n          transformTarget = textEl;\n          els.push(textEl);\n        }\n        transformTarget.transform = (progress) => {\n          let previousNavTranslate = transformTarget.el.f7NavbarLeftOffset * (1 - progress);\n          if (device.pixelRatio === 1) previousNavTranslate = Math.round(previousNavTranslate);\n          if (isSubnavbar && previousNavIsLarge) {\n            return `translate3d(${previousNavTranslate}px, calc(-1 * var(--f7-navbar-large-collapse-progress) * var(--f7-navbar-large-title-height)), 0)`;\n          }\n          return `translate3d(${previousNavTranslate}px,0,0)`;\n        };\n      }\n    });\n    return els;\n  }\n\n  function setAnimatableNavElements({ progress, reset, transition, reflow } = {}) {\n    const styles = ['overflow', 'transform', 'transform-origin', 'opacity'];\n    if (transition === true || transition === false) {\n      for (let i = 0; i < animatableNavEls.length; i += 1) {\n        const el = animatableNavEls[i];\n        if (el && el.el) {\n          if (transition === true) el.el.classList.add('navbar-page-transitioning');\n          if (transition === false) el.el.classList.remove('navbar-page-transitioning');\n        }\n      }\n    }\n    if (reflow && animatableNavEls.length && animatableNavEls[0] && animatableNavEls[0].el) {\n      // eslint-disable-next-line\n      animatableNavEls[0].el._clientLeft = animatableNavEls[0].el.clientLeft;\n    }\n    for (let i = 0; i < animatableNavEls.length; i += 1) {\n      const el = animatableNavEls[i];\n      if (el && el.el) {\n        if (el.className && !el.classNameSet && !reset) {\n          el.el.classList.add(el.className);\n          el.classNameSet = true;\n        }\n        if (el.className && reset) {\n          el.el.classList.remove(el.className);\n        }\n        for (let j = 0; j < styles.length; j += 1) {\n          const styleProp = styles[j];\n          if (el[styleProp]) {\n            if (reset) {\n              el.el.style[styleProp] = '';\n            } else if (typeof el[styleProp] === 'function') {\n              el.el.style[styleProp] = el[styleProp](progress);\n            } else {\n              el.el.style[styleProp] = el[styleProp];\n            }\n          }\n        }\n      }\n    }\n  }\n\n  function handleTouchStart(e) {\n    const swipeBackEnabled = params[`${app.theme}SwipeBack`];\n    if (\n      !allowViewTouchMove ||\n      !swipeBackEnabled ||\n      isTouched ||\n      (app.swipeout && app.swipeout.el) ||\n      !router.allowPageChange\n    )\n      return;\n    if ($(e.target).closest('.range-slider, .calendar-months').length > 0) return;\n    if (\n      $(e.target).closest('.page-master, .page-master-detail').length > 0 &&\n      params.masterDetailBreakpoint > 0 &&\n      app.width >= params.masterDetailBreakpoint\n    )\n      return;\n    isMoved = false;\n    isTouched = true;\n    isScrolling = undefined;\n    touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n    touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n    touchStartTime = now();\n    dynamicNavbar = router.dynamicNavbar;\n  }\n  function handleTouchMove(e) {\n    if (!isTouched) return;\n    const pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n    const pageY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n    if (typeof isScrolling === 'undefined') {\n      isScrolling =\n        !!(isScrolling || Math.abs(pageY - touchesStart.y) > Math.abs(pageX - touchesStart.x)) ||\n        (pageX < touchesStart.x && !app.rtl) ||\n        (pageX > touchesStart.x && app.rtl);\n    }\n    if (isScrolling || e.f7PreventSwipeBack || app.preventSwipeBack) {\n      isTouched = false;\n      return;\n    }\n    if (!isMoved) {\n      // Calc values during first move fired\n      let cancel = false;\n      const target = $(e.target);\n\n      const swipeout = target.closest('.swipeout');\n      if (swipeout.length > 0) {\n        if (!app.rtl && swipeout.find('.swipeout-actions-left').length > 0) cancel = true;\n        if (app.rtl && swipeout.find('.swipeout-actions-right').length > 0) cancel = true;\n      }\n\n      $currentPageEl = target.closest('.page');\n      if (\n        $currentPageEl.hasClass('no-swipeback') ||\n        target.closest('.no-swipeback, .card-opened').length > 0\n      )\n        cancel = true;\n      $previousPageEl = $el.find('.page-previous:not(.stacked)');\n      if ($previousPageEl.length > 1) {\n        $previousPageEl = $previousPageEl.eq($previousPageEl.length - 1);\n      }\n      let notFromBorder = touchesStart.x - $el.offset().left > paramsSwipeBackActiveArea;\n      viewContainerWidth = $el.width();\n      if (app.rtl) {\n        notFromBorder =\n          touchesStart.x <\n          $el.offset().left - $el[0].scrollLeft + (viewContainerWidth - paramsSwipeBackActiveArea);\n      } else {\n        notFromBorder = touchesStart.x - $el.offset().left > paramsSwipeBackActiveArea;\n      }\n      if (notFromBorder) cancel = true;\n      if ($previousPageEl.length === 0 || $currentPageEl.length === 0) cancel = true;\n      if (cancel) {\n        isTouched = false;\n        return;\n      }\n\n      if (paramsSwipeBackAnimateShadow) {\n        $pageShadowEl = $currentPageEl.find('.page-shadow-effect');\n        if ($pageShadowEl.length === 0) {\n          $pageShadowEl = $('<div class=\"page-shadow-effect\"></div>');\n          $currentPageEl.append($pageShadowEl);\n        }\n      }\n      if (paramsSwipeBackAnimateOpacity) {\n        $pageOpacityEl = $previousPageEl.find('.page-opacity-effect');\n        if ($pageOpacityEl.length === 0) {\n          $pageOpacityEl = $('<div class=\"page-opacity-effect\"></div>');\n          $previousPageEl.append($pageOpacityEl);\n        }\n      }\n\n      if (dynamicNavbar) {\n        $currentNavbarEl = $navbarsEl.find('.navbar-current:not(.stacked)');\n        $previousNavbarEl = $navbarsEl.find('.navbar-previous:not(.stacked)');\n        if ($previousNavbarEl.length > 1) {\n          $previousNavbarEl = $previousNavbarEl.eq($previousNavbarEl.length - 1);\n        }\n\n        animatableNavEls = animatableNavElements($previousNavbarEl, $currentNavbarEl);\n      }\n\n      // Close/Hide Any Picker\n      if ($('.sheet.modal-in').length > 0 && app.sheet) {\n        app.sheet.close($('.sheet.modal-in'));\n      }\n    }\n    e.f7PreventSwipePanel = true;\n    isMoved = true;\n    app.preventSwipePanelBySwipeBack = true;\n    e.preventDefault();\n\n    // RTL inverter\n    const inverter = app.rtl ? -1 : 1;\n\n    // Touches diff\n    touchesDiff = (pageX - touchesStart.x - paramsSwipeBackThreshold) * inverter;\n    if (touchesDiff < 0) touchesDiff = 0;\n    const percentage = Math.min(Math.max(touchesDiff / viewContainerWidth, 0), 1);\n\n    // Swipe Back Callback\n    const callbackData = {\n      percentage,\n      progress: percentage,\n      currentPageEl: $currentPageEl[0],\n      previousPageEl: $previousPageEl[0],\n      currentNavbarEl: $currentNavbarEl[0],\n      previousNavbarEl: $previousNavbarEl[0],\n    };\n    $el.trigger('swipeback:move', callbackData);\n    router.emit('swipebackMove', callbackData);\n\n    // Transform pages\n    let currentPageTranslate = touchesDiff * inverter;\n    let previousPageTranslate = (touchesDiff / 5 - viewContainerWidth / 5) * inverter;\n    if (!app.rtl) {\n      currentPageTranslate = Math.min(currentPageTranslate, viewContainerWidth);\n      previousPageTranslate = Math.min(previousPageTranslate, 0);\n    } else {\n      currentPageTranslate = Math.max(currentPageTranslate, -viewContainerWidth);\n      previousPageTranslate = Math.max(previousPageTranslate, 0);\n    }\n    if (device.pixelRatio === 1) {\n      currentPageTranslate = Math.round(currentPageTranslate);\n      previousPageTranslate = Math.round(previousPageTranslate);\n    }\n\n    router.swipeBackActive = true;\n    $([$currentPageEl[0], $previousPageEl[0]]).addClass('page-swipeback-active');\n\n    $currentPageEl.transform(`translate3d(${currentPageTranslate}px,0,0)`);\n    if (paramsSwipeBackAnimateShadow) $pageShadowEl[0].style.opacity = 1 - 1 * percentage;\n\n    if (app.theme === 'ios') {\n      $previousPageEl.transform(`translate3d(${previousPageTranslate}px,0,0)`);\n    }\n    if (paramsSwipeBackAnimateOpacity) $pageOpacityEl[0].style.opacity = 1 - 1 * percentage;\n\n    // Dynamic Navbars Animation\n    if (!dynamicNavbar) return;\n\n    setAnimatableNavElements({ progress: percentage });\n  }\n  function handleTouchEnd() {\n    app.preventSwipePanelBySwipeBack = false;\n    if (!isTouched || !isMoved) {\n      isTouched = false;\n      isMoved = false;\n      return;\n    }\n    isTouched = false;\n    isMoved = false;\n    router.swipeBackActive = false;\n    const $pages = $([$currentPageEl[0], $previousPageEl[0]]);\n    $pages.removeClass('page-swipeback-active');\n    if (touchesDiff === 0) {\n      $pages.transform('');\n      if ($pageShadowEl && $pageShadowEl.length > 0) $pageShadowEl.remove();\n      if ($pageOpacityEl && $pageOpacityEl.length > 0) $pageOpacityEl.remove();\n      if (dynamicNavbar) {\n        setAnimatableNavElements({ reset: true });\n      }\n      return;\n    }\n    const timeDiff = now() - touchStartTime;\n    let pageChanged = false;\n    // Swipe back to previous page\n    if (\n      (timeDiff < 300 && touchesDiff > 10) ||\n      (timeDiff >= 300 && touchesDiff > viewContainerWidth / 2)\n    ) {\n      $currentPageEl\n        .removeClass('page-current')\n        .addClass(`page-next${app.theme !== 'ios' ? ' page-next-on-right' : ''}`);\n      $previousPageEl\n        .removeClass('page-previous')\n        .addClass('page-current')\n        .removeAttr('aria-hidden');\n      if ($pageShadowEl) $pageShadowEl[0].style.opacity = '';\n      if ($pageOpacityEl) $pageOpacityEl[0].style.opacity = '';\n      if (dynamicNavbar) {\n        router.setNavbarPosition($currentNavbarEl, 'next');\n        router.setNavbarPosition($previousNavbarEl, 'current', false);\n      }\n      pageChanged = true;\n    }\n    // Reset custom styles\n    // Add transitioning class for transition-duration\n    $pages.addClass('page-transitioning page-transitioning-swipeback');\n    if (device.ios) {\n      // eslint-disable-next-line\n      $currentPageEl[0]._clientLeft = $currentPageEl[0].clientLeft;\n    }\n    $pages.transform('');\n\n    if (dynamicNavbar) {\n      setAnimatableNavElements({\n        progress: pageChanged ? 1 : 0,\n        transition: true,\n        reflow: !!device.ios,\n      });\n    }\n    allowViewTouchMove = false;\n    router.allowPageChange = false;\n\n    // Swipe Back Callback\n    const callbackData = {\n      currentPageEl: $currentPageEl[0],\n      previousPageEl: $previousPageEl[0],\n      currentNavbarEl: $currentNavbarEl[0],\n      previousNavbarEl: $previousNavbarEl[0],\n    };\n\n    if (pageChanged) {\n      // Update Route\n      router.currentRoute = $previousPageEl[0].f7Page.route;\n      router.currentPage = $previousPageEl[0];\n\n      // Page before animation callback\n      router.pageCallback('beforeOut', $currentPageEl, $currentNavbarEl, 'current', 'next', {\n        route: $currentPageEl[0].f7Page.route,\n        swipeBack: true,\n      });\n      router.pageCallback(\n        'beforeIn',\n        $previousPageEl,\n        $previousNavbarEl,\n        'previous',\n        'current',\n        { route: $previousPageEl[0].f7Page.route, swipeBack: true },\n        $currentPageEl[0],\n      );\n\n      $el.trigger('swipeback:beforechange', callbackData);\n      router.emit('swipebackBeforeChange', callbackData);\n    } else {\n      $el.trigger('swipeback:beforereset', callbackData);\n      router.emit('swipebackBeforeReset', callbackData);\n    }\n\n    $currentPageEl.transitionEnd(() => {\n      $pages.removeClass('page-transitioning page-transitioning-swipeback');\n      if (dynamicNavbar) {\n        setAnimatableNavElements({ reset: true, transition: false });\n      }\n      allowViewTouchMove = true;\n      router.allowPageChange = true;\n      if (pageChanged) {\n        // Update History\n        if (router.history.length === 1) {\n          router.history.unshift(router.url);\n        }\n        router.history.pop();\n        router.saveHistory();\n\n        // Update push state\n        if (params.browserHistory) {\n          History.back();\n        }\n\n        // Page after animation callback\n        router.pageCallback('afterOut', $currentPageEl, $currentNavbarEl, 'current', 'next', {\n          route: $currentPageEl[0].f7Page.route,\n          swipeBack: true,\n        });\n        router.pageCallback('afterIn', $previousPageEl, $previousNavbarEl, 'previous', 'current', {\n          route: $previousPageEl[0].f7Page.route,\n          swipeBack: true,\n        });\n\n        // Remove Old Page\n        if (params.stackPages && router.initialPages.indexOf($currentPageEl[0]) >= 0) {\n          $currentPageEl.addClass('stacked');\n          if (dynamicNavbar) {\n            $currentNavbarEl.addClass('stacked');\n          }\n        } else {\n          router.pageCallback('beforeRemove', $currentPageEl, $currentNavbarEl, 'next', {\n            swipeBack: true,\n          });\n          router.removePage($currentPageEl);\n          if (dynamicNavbar) {\n            router.removeNavbar($currentNavbarEl);\n          }\n        }\n\n        $el.trigger('swipeback:afterchange', callbackData);\n        router.emit('swipebackAfterChange', callbackData);\n\n        router.emit('routeChanged', router.currentRoute, router.previousRoute, router);\n\n        if (params.preloadPreviousPage) {\n          router.back(router.history[router.history.length - 2], { preload: true });\n        }\n      } else {\n        $el.trigger('swipeback:afterreset', callbackData);\n        router.emit('swipebackAfterReset', callbackData);\n      }\n      if ($pageShadowEl && $pageShadowEl.length > 0) $pageShadowEl.remove();\n      if ($pageOpacityEl && $pageOpacityEl.length > 0) $pageOpacityEl.remove();\n    });\n  }\n\n  function attachEvents() {\n    const passiveListener =\n      app.touchEvents.start === 'touchstart' && support.passiveListener\n        ? { passive: true, capture: false }\n        : false;\n    $el.on(app.touchEvents.start, handleTouchStart, passiveListener);\n    app.on('touchmove:active', handleTouchMove);\n    app.on('touchend:passive', handleTouchEnd);\n  }\n  function detachEvents() {\n    const passiveListener =\n      app.touchEvents.start === 'touchstart' && support.passiveListener\n        ? { passive: true, capture: false }\n        : false;\n    $el.off(app.touchEvents.start, handleTouchStart, passiveListener);\n    app.off('touchmove:active', handleTouchMove);\n    app.off('touchend:passive', handleTouchEnd);\n  }\n\n  attachEvents();\n\n  router.on('routerDestroy', detachEvents);\n}\n\nexport default SwipeBack;\n","import { extend } from '../../shared/utils';\n\nexport default function redirect(direction, route, options) {\n  const router = this;\n  const r = route.route.redirect;\n  const method = direction === 'forward' ? 'navigate' : 'back';\n  if (options.initial && router.params.browserHistory) {\n    options.replaceState = true; // eslint-disable-line\n    options.history = true; // eslint-disable-line\n  }\n  function redirectResolve(redirectUrl, redirectOptions = {}) {\n    router.allowPageChange = true;\n    router[method](redirectUrl, extend({}, options, redirectOptions));\n  }\n  function redirectReject() {\n    router.allowPageChange = true;\n  }\n  if (typeof r === 'function') {\n    router.allowPageChange = false;\n    const redirectUrl = r.call(router, {\n      router,\n      to: route,\n      resolve: redirectResolve,\n      reject: redirectReject,\n      direction,\n      app: router.app,\n    });\n    if (redirectUrl && typeof redirectUrl === 'string') {\n      router.allowPageChange = true;\n      return router[method](redirectUrl, options);\n    }\n    return router;\n  }\n  return router[method](r, options);\n}\n","function processQueue(router, routerQueue, routeQueue, to, from, resolve, reject, direction) {\n  const queue = [];\n\n  if (Array.isArray(routeQueue)) {\n    queue.push(...routeQueue);\n  } else if (routeQueue && typeof routeQueue === 'function') {\n    queue.push(routeQueue);\n  }\n  if (routerQueue) {\n    if (Array.isArray(routerQueue)) {\n      queue.push(...routerQueue);\n    } else {\n      queue.push(routerQueue);\n    }\n  }\n\n  function next() {\n    if (queue.length === 0) {\n      resolve();\n      return;\n    }\n    const queueItem = queue.shift();\n\n    queueItem.call(router, {\n      router,\n      to,\n      from,\n      resolve() {\n        next();\n      },\n      reject() {\n        reject();\n      },\n      direction,\n      app: router.app,\n    });\n  }\n  next();\n}\n\nexport default function processRouteQueue(to, from, resolve, reject, direction) {\n  const router = this;\n  function enterNextRoute() {\n    if (to && to.route && (router.params.routesBeforeEnter || to.route.beforeEnter)) {\n      router.allowPageChange = false;\n      processQueue(\n        router,\n        router.params.routesBeforeEnter,\n        to.route.beforeEnter,\n        to,\n        from,\n        () => {\n          router.allowPageChange = true;\n          resolve();\n        },\n        () => {\n          reject();\n        },\n        direction,\n      );\n    } else {\n      resolve();\n    }\n  }\n  function leaveCurrentRoute() {\n    if (from && from.route && (router.params.routesBeforeLeave || from.route.beforeLeave)) {\n      router.allowPageChange = false;\n      processQueue(\n        router,\n        router.params.routesBeforeLeave,\n        from.route.beforeLeave,\n        to,\n        from,\n        () => {\n          router.allowPageChange = true;\n          enterNextRoute();\n        },\n        () => {\n          reject();\n        },\n        direction,\n      );\n    } else {\n      enterNextRoute();\n    }\n  }\n  leaveCurrentRoute();\n}\n","export default function appRouterCheck(router, method) {\n  if (!router.view) {\n    throw new Error(\n      `Framework7: it is not allowed to use router methods on global app router. Use router methods only on related View, e.g. app.views.main.router.${method}(...)`,\n    );\n  }\n}\n","export default function asyncComponent(router, component, resolve, reject) {\n  function resolvePromise(componentPromise) {\n    componentPromise\n      .then((c) => {\n        // eslint-disable-next-line\n        resolve({ component: c.default || c._default || c });\n      })\n      .catch((err) => {\n        reject();\n        throw new Error(err);\n      });\n  }\n  if (component instanceof Promise) {\n    resolvePromise(component);\n    return;\n  }\n  const asyncComponentResult = component.call(router);\n  if (asyncComponentResult instanceof Promise) {\n    resolvePromise(asyncComponentResult);\n  } else {\n    resolve({ component: asyncComponentResult });\n  }\n}\n","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom7';\nimport { extend, parseUrlQuery } from '../../shared/utils';\nimport History from '../../shared/history';\nimport redirect from './redirect';\nimport processRouteQueue from './process-route-queue';\nimport appRouterCheck from './app-router-check';\nimport asyncComponent from './async-component';\n\nfunction refreshPage() {\n  const router = this;\n  appRouterCheck(router, 'refreshPage');\n  return router.navigate(router.currentRoute.url, {\n    ignoreCache: true,\n    reloadCurrent: true,\n  });\n}\n\nfunction forward(router, el, forwardOptions = {}) {\n  const document = getDocument();\n  const $el = $(el);\n  const app = router.app;\n  const view = router.view;\n  const options = extend(\n    false,\n    {\n      animate: router.params.animate,\n      browserHistory: true,\n      replaceState: false,\n      history: true,\n      reloadCurrent: router.params.reloadPages,\n      reloadPrevious: false,\n      reloadAll: false,\n      clearPreviousHistory: false,\n      reloadDetail: router.params.reloadDetail,\n      on: {},\n    },\n    forwardOptions,\n  );\n\n  const masterDetailEnabled = router.params.masterDetailBreakpoint > 0;\n  const isMaster =\n    masterDetailEnabled &&\n    options.route &&\n    options.route.route &&\n    (options.route.route.master === true ||\n      (typeof options.route.route.master === 'function' &&\n        options.route.route.master(app, router)));\n\n  let masterPageEl;\n  let otherDetailPageEl;\n  let detailsInBetweenRemoved = 0;\n\n  let currentRouteIsModal = router.currentRoute.modal;\n  let modalType;\n  if (!currentRouteIsModal) {\n    'popup popover sheet loginScreen actions customModal panel'\n      .split(' ')\n      .forEach((modalLoadProp) => {\n        if (\n          router.currentRoute &&\n          router.currentRoute.route &&\n          router.currentRoute.route[modalLoadProp]\n        ) {\n          currentRouteIsModal = true;\n          modalType = modalLoadProp;\n        }\n      });\n  }\n\n  if (currentRouteIsModal) {\n    const modalToClose =\n      router.currentRoute.modal || router.currentRoute.route.modalInstance || app[modalType].get();\n    const previousUrl = router.history[router.history.length - 2];\n    let previousRoute = router.findMatchingRoute(previousUrl);\n    if (!previousRoute && previousUrl) {\n      previousRoute = {\n        url: previousUrl,\n        path: previousUrl.split('?')[0],\n        query: parseUrlQuery(previousUrl),\n        route: {\n          path: previousUrl.split('?')[0],\n          url: previousUrl,\n        },\n      };\n    }\n\n    router.modalRemove(modalToClose);\n  }\n\n  const dynamicNavbar = router.dynamicNavbar;\n\n  const $viewEl = router.$el;\n  const $newPage = $el;\n  const reload = options.reloadPrevious || options.reloadCurrent || options.reloadAll;\n  let $oldPage;\n\n  let $navbarsEl;\n  let $newNavbarEl;\n  let $oldNavbarEl;\n\n  router.allowPageChange = false;\n  if ($newPage.length === 0) {\n    router.allowPageChange = true;\n    return router;\n  }\n\n  if ($newPage.length) {\n    // Remove theme elements\n    router.removeThemeElements($newPage);\n  }\n\n  if (dynamicNavbar) {\n    $newNavbarEl = $newPage.children('.navbar');\n    $navbarsEl = router.$navbarsEl;\n    if ($newNavbarEl.length === 0 && $newPage[0] && $newPage[0].f7Page) {\n      // Try from pageData\n      $newNavbarEl = $newPage[0].f7Page.$navbarEl;\n    }\n  }\n\n  // Save Keep Alive Cache\n  if (\n    options.route &&\n    options.route.route &&\n    options.route.route.keepAlive &&\n    !options.route.route.keepAliveData\n  ) {\n    options.route.route.keepAliveData = {\n      pageEl: $el[0],\n    };\n  }\n\n  // Pages In View\n  const $pagesInView = $viewEl\n    .children('.page:not(.stacked)')\n    .filter((pageInView) => pageInView !== $newPage[0]);\n\n  // Navbars In View\n  let $navbarsInView;\n  if (dynamicNavbar) {\n    $navbarsInView = $navbarsEl\n      .children('.navbar:not(.stacked)')\n      .filter((navbarInView) => navbarInView !== $newNavbarEl[0]);\n  }\n\n  // Exit when reload previous and only 1 page in view so nothing ro reload\n  if (options.reloadPrevious && $pagesInView.length < 2) {\n    router.allowPageChange = true;\n    return router;\n  }\n\n  // Find Detail' master page\n  let isDetail;\n  let reloadDetail;\n  let isDetailRoot;\n  if (masterDetailEnabled && !options.reloadAll) {\n    for (let i = 0; i < $pagesInView.length; i += 1) {\n      if (!masterPageEl && $pagesInView[i].classList.contains('page-master')) {\n        masterPageEl = $pagesInView[i];\n        continue; // eslint-disable-line\n      }\n    }\n    isDetail = !isMaster && masterPageEl;\n\n    if (isDetail) {\n      // Find Other Detail\n      if (masterPageEl) {\n        for (let i = 0; i < $pagesInView.length; i += 1) {\n          if ($pagesInView[i].classList.contains('page-master-detail')) {\n            otherDetailPageEl = $pagesInView[i];\n            continue; // eslint-disable-line\n          }\n        }\n      }\n    }\n    reloadDetail =\n      isDetail &&\n      options.reloadDetail &&\n      app.width >= router.params.masterDetailBreakpoint &&\n      masterPageEl;\n  }\n  if (isDetail) {\n    isDetailRoot = !otherDetailPageEl || reloadDetail || options.reloadAll || options.reloadCurrent;\n  }\n\n  // New Page\n  let newPagePosition = 'next';\n  if (options.reloadCurrent || options.reloadAll || reloadDetail) {\n    newPagePosition = 'current';\n  } else if (options.reloadPrevious) {\n    newPagePosition = 'previous';\n  }\n  $newPage\n    .removeClass('page-previous page-current page-next')\n    .addClass(\n      `page-${newPagePosition}${isMaster ? ' page-master' : ''}${\n        isDetail ? ' page-master-detail' : ''\n      }${isDetailRoot ? ' page-master-detail-root' : ''}`,\n    )\n    .removeClass('stacked')\n    .trigger('page:unstack')\n    .trigger('page:position', { position: newPagePosition });\n  router.emit('pageUnstack', $newPage[0]);\n  router.emit('pagePosition', $newPage[0], newPagePosition);\n\n  if (isMaster || isDetail) {\n    $newPage.trigger('page:role', { role: isMaster ? 'master' : 'detail', root: !!isDetailRoot });\n    router.emit('pageRole', $newPage[0], {\n      role: isMaster ? 'master' : 'detail',\n      detailRoot: !!isDetailRoot,\n    });\n  }\n\n  if (dynamicNavbar && $newNavbarEl.length) {\n    $newNavbarEl\n      .removeClass('navbar-previous navbar-current navbar-next')\n      .addClass(\n        `navbar-${newPagePosition}${isMaster ? ' navbar-master' : ''}${\n          isDetail ? ' navbar-master-detail' : ''\n        }${isDetailRoot ? ' navbar-master-detail-root' : ''}`,\n      )\n      .removeClass('stacked');\n    $newNavbarEl.trigger('navbar:position', { position: newPagePosition });\n    router.emit('navbarPosition', $newNavbarEl[0], newPagePosition);\n    if (isMaster || isDetail) {\n      router.emit('navbarRole', $newNavbarEl[0], {\n        role: isMaster ? 'master' : 'detail',\n        detailRoot: !!isDetailRoot,\n      });\n    }\n  }\n\n  // Find Old Page\n  if (options.reloadCurrent || reloadDetail) {\n    if (reloadDetail) {\n      $oldPage = $pagesInView.filter((pageEl) => !pageEl.classList.contains('page-master'));\n      if (dynamicNavbar) {\n        $oldNavbarEl = $($oldPage.map((pageEl) => app.navbar.getElByPage(pageEl)));\n      }\n      if ($oldPage.length > 1 && masterPageEl) {\n        detailsInBetweenRemoved = $oldPage.length - 1;\n        $(masterPageEl).removeClass('page-master-stacked').trigger('page:masterunstack');\n        router.emit('pageMasterUnstack', masterPageEl);\n        if (dynamicNavbar) {\n          $(app.navbar.getElByPage(masterPageEl)).removeClass('navbar-master-stacked');\n          router.emit('navbarMasterUnstack', app.navbar.getElByPage(masterPageEl));\n        }\n      }\n    } else {\n      $oldPage = $pagesInView.eq($pagesInView.length - 1);\n      if (dynamicNavbar) {\n        $oldNavbarEl = $(app.navbar.getElByPage($oldPage));\n      }\n    }\n  } else if (options.reloadPrevious) {\n    $oldPage = $pagesInView.eq($pagesInView.length - 2);\n    if (dynamicNavbar) {\n      // $oldNavbarEl = $navbarsInView.eq($pagesInView.length - 2);\n      $oldNavbarEl = $(app.navbar.getElByPage($oldPage));\n    }\n  } else if (options.reloadAll) {\n    $oldPage = $pagesInView.filter((pageEl) => pageEl !== $newPage[0]);\n    if (dynamicNavbar) {\n      $oldNavbarEl = $navbarsInView.filter((navbarEl) => navbarEl !== $newNavbarEl[0]);\n    }\n  } else {\n    let removedPageEls = [];\n    let removedNavbarEls = [];\n    if ($pagesInView.length > 1) {\n      let i = 0;\n      for (i = 0; i < $pagesInView.length - 1; i += 1) {\n        if (masterPageEl && $pagesInView[i] === masterPageEl) {\n          $pagesInView.eq(i).addClass('page-master-stacked');\n          $pagesInView.eq(i).trigger('page:masterstack');\n          router.emit('pageMasterStack', $pagesInView[i]);\n          if (dynamicNavbar) {\n            $(app.navbar.getElByPage(masterPageEl)).addClass('navbar-master-stacked');\n            router.emit('navbarMasterStack', app.navbar.getElByPage(masterPageEl));\n          }\n          continue; // eslint-disable-line\n        }\n        const oldNavbarEl = app.navbar.getElByPage($pagesInView.eq(i));\n        if (router.params.stackPages) {\n          $pagesInView.eq(i).addClass('stacked');\n          $pagesInView.eq(i).trigger('page:stack');\n          router.emit('pageStack', $pagesInView[i]);\n          if (dynamicNavbar) {\n            $(oldNavbarEl).addClass('stacked');\n          }\n        } else {\n          // Page remove event\n          removedPageEls.push($pagesInView[i]);\n          router.pageCallback(\n            'beforeRemove',\n            $pagesInView[i],\n            $navbarsInView && $navbarsInView[i],\n            'previous',\n            undefined,\n            options,\n          );\n          router.removePage($pagesInView[i]);\n          if (dynamicNavbar && oldNavbarEl) {\n            removedNavbarEls.push(oldNavbarEl);\n            router.removeNavbar(oldNavbarEl);\n          }\n        }\n      }\n    }\n    $oldPage = $viewEl\n      .children('.page:not(.stacked)')\n      .filter((pageEl) => pageEl !== $newPage[0] && removedPageEls.indexOf(pageEl) < 0);\n    if (dynamicNavbar) {\n      $oldNavbarEl = $navbarsEl\n        .children('.navbar:not(.stacked)')\n        .filter(\n          (navbarEl) =>\n            navbarEl !== $newNavbarEl[0] && removedNavbarEls.indexOf(removedNavbarEls) < 0,\n        );\n    }\n    removedPageEls = [];\n    removedNavbarEls = [];\n  }\n\n  if (isDetail && !options.reloadAll) {\n    if ($oldPage.length > 1 || reloadDetail) {\n      $oldPage = $oldPage.filter((pageEl) => !pageEl.classList.contains('page-master'));\n    }\n    if ($oldNavbarEl && ($oldNavbarEl.length > 1 || reloadDetail)) {\n      $oldNavbarEl = $oldNavbarEl.filter(\n        (navbarEl) => !navbarEl.classList.contains('navbar-master'),\n      );\n    }\n  }\n\n  // Push State\n  if (\n    router.params.browserHistory &&\n    (options.browserHistory || options.replaceState) &&\n    !options.reloadPrevious\n  ) {\n    const browserHistoryRoot = router.params.browserHistoryRoot || '';\n    History[\n      options.reloadCurrent ||\n      (reloadDetail && otherDetailPageEl) ||\n      options.reloadAll ||\n      options.replaceState\n        ? 'replace'\n        : 'push'\n    ](\n      view.id,\n      {\n        url: options.route.url,\n      },\n      browserHistoryRoot + router.params.browserHistorySeparator + options.route.url,\n    );\n  }\n\n  if (!options.reloadPrevious) {\n    // Current Page & Navbar\n    router.currentPageEl = $newPage[0];\n    if (dynamicNavbar && $newNavbarEl.length) {\n      router.currentNavbarEl = $newNavbarEl[0];\n    } else {\n      delete router.currentNavbarEl;\n    }\n\n    // Current Route\n    router.currentRoute = options.route;\n  }\n\n  // Update router history\n  const url = options.route.url;\n\n  if (options.history) {\n    if (\n      ((options.reloadCurrent || (reloadDetail && otherDetailPageEl)) && router.history.length) >\n        0 ||\n      options.replaceState\n    ) {\n      if (reloadDetail && detailsInBetweenRemoved > 0) {\n        router.history = router.history.slice(0, router.history.length - detailsInBetweenRemoved);\n      }\n      router.history[router.history.length - (options.reloadPrevious ? 2 : 1)] = url;\n    } else if (options.reloadPrevious) {\n      router.history[router.history.length - 2] = url;\n    } else if (options.reloadAll) {\n      router.history = [url];\n    } else {\n      router.history.push(url);\n    }\n  }\n  router.saveHistory();\n\n  // Insert new page and navbar\n  const newPageInDom = $newPage.parents(document).length > 0;\n  const f7Component = $newPage[0].f7Component;\n  if (options.reloadPrevious) {\n    if (f7Component && !newPageInDom) {\n      f7Component.mount((componentEl) => {\n        $(componentEl).insertBefore($oldPage);\n      });\n    } else {\n      $newPage.insertBefore($oldPage);\n    }\n    if (dynamicNavbar && $newNavbarEl.length) {\n      if ($newNavbarEl.find('.title-large').length) {\n        $newNavbarEl.addClass('navbar-large');\n      }\n      if ($oldNavbarEl.length) {\n        $newNavbarEl.insertBefore($oldNavbarEl);\n      } else {\n        if (!router.$navbarsEl.parents(document).length) {\n          router.$el.prepend(router.$navbarsEl);\n        }\n        $navbarsEl.append($newNavbarEl);\n      }\n    }\n  } else {\n    if ($oldPage.next('.page')[0] !== $newPage[0]) {\n      if (f7Component && !newPageInDom) {\n        f7Component.mount((componentEl) => {\n          $viewEl.append(componentEl);\n        });\n      } else {\n        $viewEl.append($newPage[0]);\n      }\n    }\n    if (dynamicNavbar && $newNavbarEl.length) {\n      if ($newNavbarEl.find('.title-large').length) {\n        $newNavbarEl.addClass('navbar-large');\n      }\n      if (!router.$navbarsEl.parents(document).length) {\n        router.$el.prepend(router.$navbarsEl);\n      }\n      $navbarsEl.append($newNavbarEl[0]);\n    }\n  }\n  if (!newPageInDom) {\n    router.pageCallback(\n      'mounted',\n      $newPage,\n      $newNavbarEl,\n      newPagePosition,\n      reload ? newPagePosition : 'current',\n      options,\n      $oldPage,\n    );\n  } else if (\n    options.route &&\n    options.route.route &&\n    options.route.route.keepAlive &&\n    !$newPage[0].f7PageMounted\n  ) {\n    $newPage[0].f7PageMounted = true;\n    router.pageCallback(\n      'mounted',\n      $newPage,\n      $newNavbarEl,\n      newPagePosition,\n      reload ? newPagePosition : 'current',\n      options,\n      $oldPage,\n    );\n  }\n\n  // Remove old page\n  if ((options.reloadCurrent || reloadDetail) && $oldPage.length > 0) {\n    if (router.params.stackPages && router.initialPages.indexOf($oldPage[0]) >= 0) {\n      $oldPage.addClass('stacked');\n      $oldPage.trigger('page:stack');\n      router.emit('pageStack', $oldPage[0]);\n      if (dynamicNavbar) {\n        $oldNavbarEl.addClass('stacked');\n      }\n    } else {\n      // Page remove event\n      router.pageCallback('beforeOut', $oldPage, $oldNavbarEl, 'current', undefined, options);\n      router.pageCallback('afterOut', $oldPage, $oldNavbarEl, 'current', undefined, options);\n      router.pageCallback('beforeRemove', $oldPage, $oldNavbarEl, 'current', undefined, options);\n      router.removePage($oldPage);\n      if (dynamicNavbar && $oldNavbarEl && $oldNavbarEl.length) {\n        router.removeNavbar($oldNavbarEl);\n      }\n    }\n  } else if (options.reloadAll) {\n    $oldPage.each((pageEl, index) => {\n      const $oldPageEl = $(pageEl);\n      const $oldNavbarElEl = $(app.navbar.getElByPage($oldPageEl));\n      if (router.params.stackPages && router.initialPages.indexOf($oldPageEl[0]) >= 0) {\n        $oldPageEl.addClass('stacked');\n        $oldPageEl.trigger('page:stack');\n        router.emit('pageStack', $oldPageEl[0]);\n        if (dynamicNavbar) {\n          $oldNavbarElEl.addClass('stacked');\n        }\n      } else {\n        // Page remove event\n        if ($oldPageEl.hasClass('page-current')) {\n          router.pageCallback('beforeOut', $oldPage, $oldNavbarEl, 'current', undefined, options);\n          router.pageCallback('afterOut', $oldPage, $oldNavbarEl, 'current', undefined, options);\n        }\n        router.pageCallback(\n          'beforeRemove',\n          $oldPageEl,\n          $oldNavbarEl && $oldNavbarEl.eq(index),\n          'previous',\n          undefined,\n          options,\n        );\n        router.removePage($oldPageEl);\n        if (dynamicNavbar && $oldNavbarElEl.length) {\n          router.removeNavbar($oldNavbarElEl);\n        }\n      }\n    });\n  } else if (options.reloadPrevious) {\n    if (router.params.stackPages && router.initialPages.indexOf($oldPage[0]) >= 0) {\n      $oldPage.addClass('stacked');\n      $oldPage.trigger('page:stack');\n      router.emit('pageStack', $oldPage[0]);\n      if (dynamicNavbar) {\n        $oldNavbarEl.addClass('stacked');\n      }\n    } else {\n      // Page remove event\n      router.pageCallback('beforeRemove', $oldPage, $oldNavbarEl, 'previous', undefined, options);\n      router.removePage($oldPage);\n      if (dynamicNavbar && $oldNavbarEl && $oldNavbarEl.length) {\n        router.removeNavbar($oldNavbarEl);\n      }\n    }\n  }\n\n  // Load Tab\n  if (options.route.route.tab) {\n    router.tabLoad(\n      options.route.route.tab,\n      extend({}, options, {\n        history: false,\n        browserHistory: false,\n      }),\n    );\n  }\n\n  // Check master detail\n  if (masterDetailEnabled) {\n    view.checkMasterDetailBreakpoint();\n  }\n\n  // Page init and before init events\n  router.pageCallback(\n    'init',\n    $newPage,\n    $newNavbarEl,\n    newPagePosition,\n    reload ? newPagePosition : 'current',\n    options,\n    $oldPage,\n  );\n\n  if (options.reloadCurrent || options.reloadAll || reloadDetail) {\n    router.allowPageChange = true;\n    router.pageCallback('beforeIn', $newPage, $newNavbarEl, newPagePosition, 'current', options);\n    $newPage.removeAttr('aria-hidden');\n    if (dynamicNavbar && $newNavbarEl) {\n      $newNavbarEl.removeAttr('aria-hidden');\n    }\n    router.pageCallback('afterIn', $newPage, $newNavbarEl, newPagePosition, 'current', options);\n    if (options.reloadCurrent && options.clearPreviousHistory) router.clearPreviousHistory();\n    if (reloadDetail) {\n      router.setPagePosition($(masterPageEl), 'previous');\n      if (masterPageEl.f7Page && masterPageEl.f7Page.navbarEl) {\n        router.setNavbarPosition($(masterPageEl.f7Page.navbarEl), 'previous');\n      }\n    }\n    return router;\n  }\n  if (options.reloadPrevious) {\n    router.allowPageChange = true;\n    return router;\n  }\n\n  // Before animation event\n  router.pageCallback('beforeOut', $oldPage, $oldNavbarEl, 'current', 'previous', options);\n  router.pageCallback('beforeIn', $newPage, $newNavbarEl, 'next', 'current', options);\n\n  // Animation\n  function afterAnimation() {\n    router.setPagePosition($newPage, 'current', false);\n    router.setPagePosition($oldPage, 'previous', !$oldPage.hasClass('page-master'));\n    if (dynamicNavbar) {\n      router.setNavbarPosition($newNavbarEl, 'current', false);\n      router.setNavbarPosition($oldNavbarEl, 'previous', !$oldNavbarEl.hasClass('navbar-master'));\n    }\n    // After animation event\n    router.allowPageChange = true;\n    router.pageCallback('afterOut', $oldPage, $oldNavbarEl, 'current', 'previous', options);\n    router.pageCallback('afterIn', $newPage, $newNavbarEl, 'next', 'current', options);\n\n    let keepOldPage =\n      (router.params.preloadPreviousPage || router.params[`${app.theme}SwipeBack`]) && !isMaster;\n    if (!keepOldPage) {\n      if (\n        $newPage.hasClass('smart-select-page') ||\n        $newPage.hasClass('photo-browser-page') ||\n        $newPage.hasClass('autocomplete-page') ||\n        $newPage.hasClass('color-picker-page')\n      ) {\n        keepOldPage = true;\n      }\n    }\n    if (!keepOldPage) {\n      if (router.params.stackPages) {\n        $oldPage.addClass('stacked');\n        $oldPage.trigger('page:stack');\n        router.emit('pageStack', $oldPage[0]);\n        if (dynamicNavbar) {\n          $oldNavbarEl.addClass('stacked');\n        }\n      } else if (\n        !($newPage.attr('data-name') && $newPage.attr('data-name') === 'smart-select-page')\n      ) {\n        // Remove event\n        router.pageCallback('beforeRemove', $oldPage, $oldNavbarEl, 'previous', undefined, options);\n        router.removePage($oldPage);\n        if (dynamicNavbar && $oldNavbarEl.length) {\n          router.removeNavbar($oldNavbarEl);\n        }\n      }\n    }\n    if (options.clearPreviousHistory) router.clearPreviousHistory();\n    router.emit('routeChanged', router.currentRoute, router.previousRoute, router);\n\n    if (router.params.browserHistory) {\n      History.clearRouterQueue();\n    }\n  }\n  function setPositionClasses() {\n    router.setPagePosition($oldPage, 'current', false);\n    router.setPagePosition($newPage, 'next', false);\n    if (dynamicNavbar) {\n      router.setNavbarPosition($oldNavbarEl, 'current', false);\n      router.setNavbarPosition($newNavbarEl, 'next', false);\n    }\n  }\n  if (options.animate && !(isMaster && app.width >= router.params.masterDetailBreakpoint)) {\n    const delay = router.params[`${router.app.theme}PageLoadDelay`];\n    let transition = router.params.transition;\n    if (options.transition) transition = options.transition;\n    if (!transition && router.currentRoute && router.currentRoute.route) {\n      transition = router.currentRoute.route.transition;\n    }\n    if (!transition && router.currentRoute && router.currentRoute.route.options) {\n      transition = router.currentRoute.route.options.transition;\n    }\n    if (transition) {\n      $newPage[0].f7PageTransition = transition;\n    }\n\n    if (delay) {\n      setTimeout(() => {\n        setPositionClasses();\n        router.animate(\n          $oldPage,\n          $newPage,\n          $oldNavbarEl,\n          $newNavbarEl,\n          'forward',\n          transition,\n          () => {\n            afterAnimation();\n          },\n        );\n      }, delay);\n    } else {\n      setPositionClasses();\n      router.animate($oldPage, $newPage, $oldNavbarEl, $newNavbarEl, 'forward', transition, () => {\n        afterAnimation();\n      });\n    }\n  } else {\n    afterAnimation();\n  }\n  return router;\n}\nfunction load(router, loadParams = {}, loadOptions = {}, ignorePageChange) {\n  if (!router.allowPageChange && !ignorePageChange) return router;\n  const params = loadParams;\n  const options = loadOptions;\n  const { url, content, el, pageName, component, componentUrl } = params;\n\n  if (\n    !options.reloadCurrent &&\n    options.route &&\n    options.route.route &&\n    options.route.route.parentPath &&\n    router.currentRoute.route &&\n    router.currentRoute.route.parentPath === options.route.route.parentPath\n  ) {\n    // Do something nested\n    if (options.route.url === router.url) {\n      router.allowPageChange = true;\n      return false;\n    }\n    // Check for same params\n    let sameParams =\n      Object.keys(options.route.params).length === Object.keys(router.currentRoute.params).length;\n    if (sameParams) {\n      // Check for equal params name\n      Object.keys(options.route.params).forEach((paramName) => {\n        if (\n          !(paramName in router.currentRoute.params) ||\n          router.currentRoute.params[paramName] !== options.route.params[paramName]\n        ) {\n          sameParams = false;\n        }\n      });\n    }\n    if (sameParams) {\n      if (options.route.route.tab) {\n        return router.tabLoad(options.route.route.tab, options);\n      }\n      return false;\n    }\n    if (\n      !sameParams &&\n      options.route.route.tab &&\n      router.currentRoute.route.tab &&\n      router.currentRoute.parentPath === options.route.parentPath\n    ) {\n      return router.tabLoad(options.route.route.tab, options);\n    }\n  }\n\n  if (\n    options.route &&\n    options.route.url &&\n    router.url === options.route.url &&\n    !(options.reloadCurrent || options.reloadPrevious) &&\n    !router.params.allowDuplicateUrls\n  ) {\n    router.allowPageChange = true;\n    return false;\n  }\n\n  if (!options.route && url) {\n    options.route = router.parseRouteUrl(url);\n    extend(options.route, { route: { url, path: url } });\n  }\n\n  // Component Callbacks\n  function resolve(pageEl, newOptions) {\n    return forward(router, pageEl, extend(options, newOptions));\n  }\n  function reject() {\n    router.allowPageChange = true;\n    return router;\n  }\n\n  if (url || componentUrl || component) {\n    router.allowPageChange = false;\n  }\n\n  // Proceed\n  if (content) {\n    forward(router, router.getPageEl(content), options);\n  } else if (el) {\n    // Load page from specified HTMLElement or by page name in pages container\n    forward(router, router.getPageEl(el), options);\n  } else if (pageName) {\n    // Load page by page name in pages container\n    forward(router, router.$el.children(`.page[data-name=\"${pageName}\"]`).eq(0), options);\n  } else if (component || componentUrl) {\n    // Load from component (F7/Vue/React/...)\n    try {\n      router.pageComponentLoader({\n        routerEl: router.el,\n        component,\n        componentUrl,\n        options,\n        resolve,\n        reject,\n      });\n    } catch (err) {\n      router.allowPageChange = true;\n      throw err;\n    }\n  } else if (url) {\n    // Load using XHR\n    if (router.xhrAbortController) {\n      router.xhrAbortController.abort();\n      router.xhrAbortController = false;\n    }\n    router\n      .xhrRequest(url, options)\n      .then((pageContent) => {\n        forward(router, router.getPageEl(pageContent), options);\n      })\n      .catch(() => {\n        router.allowPageChange = true;\n      });\n  }\n  return router;\n}\n\nfunction openIn(router, url, options) {\n  const navigateOptions = {\n    url,\n    route: {\n      path: url,\n      options: {\n        ...options,\n        openIn: undefined,\n      },\n    },\n  };\n  const params = {\n    ...options,\n  };\n  if (options.openIn === 'popup') {\n    params.content = `<div class=\"popup popup-router-open-in\" data-url=\"${url}\"><div class=\"view view-init\" data-links-view=\"${router.view.selector}\" data-url=\"${url}\" data-ignore-open-in=\"true\"></div></div>`;\n    navigateOptions.route.popup = params;\n  }\n  if (options.openIn === 'loginScreen') {\n    params.content = `<div class=\"login-screen login-screen-router-open-in\" data-url=\"${url}\"><div class=\"view view-init\" data-links-view=\"${router.view.selector}\" data-url=\"${url}\" data-ignore-open-in=\"true\"></div></div>`;\n    navigateOptions.route.loginScreen = params;\n  }\n  if (options.openIn === 'sheet') {\n    params.content = `<div class=\"sheet-modal sheet-modal-router-open-in\" data-url=\"${url}\"><div class=\"sheet-modal-inner\"><div class=\"view view-init\" data-links-view=\"${router.view.selector}\" data-url=\"${url}\" data-ignore-open-in=\"true\"></div></div></div>`;\n    navigateOptions.route.sheet = params;\n  }\n  if (options.openIn === 'popover') {\n    params.targetEl = options.clickedEl || options.targetEl;\n    params.content = `<div class=\"popover popover-router-open-in\" data-url=\"${url}\"><div class=\"popover-inner\"><div class=\"view view-init\" data-links-view=\"${router.view.selector}\" data-url=\"${url}\" data-ignore-open-in=\"true\"></div></div></div>`;\n    navigateOptions.route.popover = params;\n  }\n  if (options.openIn.indexOf('panel') >= 0) {\n    const parts = options.openIn.split(':');\n    const side = parts[1] || 'left';\n    const effect = parts[2] || 'cover';\n    params.targetEl = options.clickedEl || options.targetEl;\n    params.content = `<div class=\"panel panel-router-open-in panel-${side} panel-${effect}\" data-url=\"${url}\"><div class=\"view view-init\" data-links-view=\"${router.view.selector}\" data-url=\"${url}\" data-ignore-open-in=\"true\"></div></div>`;\n    navigateOptions.route.panel = params;\n  }\n  return router.navigate(navigateOptions);\n}\n\nfunction navigate(navigateParams, navigateOptions = {}) {\n  const router = this;\n\n  if (router.swipeBackActive) return router;\n  let url;\n  let createRoute;\n  let name;\n  let path;\n  let query;\n  let params;\n  let route;\n  if (typeof navigateParams === 'string') {\n    url = navigateParams;\n  } else {\n    url = navigateParams.url;\n    createRoute = navigateParams.route;\n    name = navigateParams.name;\n    path = navigateParams.path;\n    query = navigateParams.query;\n    params = navigateParams.params;\n  }\n  if (name || path) {\n    url = router.generateUrl({ path, name, params, query });\n    if (url) {\n      return router.navigate(url, navigateOptions);\n    }\n    return router;\n  }\n  const app = router.app;\n  appRouterCheck(router, 'navigate');\n  if (url === '#' || url === '') {\n    return router;\n  }\n\n  let navigateUrl = url.replace('./', '');\n  if (navigateUrl[0] !== '/' && navigateUrl.indexOf('#') !== 0) {\n    const currentPath = router.currentRoute.parentPath || router.currentRoute.path;\n    navigateUrl = ((currentPath ? `${currentPath}/` : '/') + navigateUrl)\n      .replace('///', '/')\n      .replace('//', '/');\n  }\n  if (createRoute) {\n    route = extend(router.parseRouteUrl(navigateUrl), {\n      route: extend({}, createRoute),\n    });\n  } else {\n    route = router.findMatchingRoute(navigateUrl);\n  }\n\n  if (!route) {\n    return router;\n  }\n  if (route.route && route.route.viewName) {\n    const anotherViewName = route.route.viewName;\n    const anotherView = app.views[anotherViewName];\n    if (!anotherView) {\n      throw new Error(\n        `Framework7: There is no View with \"${anotherViewName}\" name that was specified in this route`,\n      );\n    }\n    if (anotherView !== router.view) {\n      return anotherView.router.navigate(navigateParams, navigateOptions);\n    }\n  }\n\n  if (route.route.redirect) {\n    return redirect.call(router, 'forward', route, navigateOptions);\n  }\n\n  const options = {};\n  if (route.route.options) {\n    extend(options, route.route.options, navigateOptions);\n  } else {\n    extend(options, navigateOptions);\n  }\n\n  if (\n    options.openIn &&\n    (!router.params.ignoreOpenIn || (router.params.ignoreOpenIn && router.history.length > 0))\n  ) {\n    return openIn(router, navigateUrl, options);\n  }\n\n  options.route = route;\n\n  function resolve() {\n    let routerLoaded = false;\n    'popup popover sheet loginScreen actions customModal panel'\n      .split(' ')\n      .forEach((modalLoadProp) => {\n        if (route.route[modalLoadProp] && !routerLoaded) {\n          routerLoaded = true;\n          router.modalLoad(modalLoadProp, route, options, 'forward');\n        }\n      });\n    if (route.route.keepAlive && route.route.keepAliveData) {\n      load(router, { el: route.route.keepAliveData.pageEl }, options, false);\n      routerLoaded = true;\n    }\n    'url content component pageName el componentUrl'.split(' ').forEach((pageLoadProp) => {\n      if (route.route[pageLoadProp] && !routerLoaded) {\n        routerLoaded = true;\n        load(router, { [pageLoadProp]: route.route[pageLoadProp] }, options, false);\n      }\n    });\n    if (routerLoaded) return;\n    // Async\n    function asyncResolve(resolveParams, resolveOptions) {\n      router.allowPageChange = false;\n      let resolvedAsModal = false;\n\n      'popup popover sheet loginScreen actions customModal panel'\n        .split(' ')\n        .forEach((modalLoadProp) => {\n          if (resolveParams[modalLoadProp]) {\n            resolvedAsModal = true;\n            const modalRoute = extend({}, route, { route: resolveParams });\n            router.allowPageChange = true;\n            router.modalLoad(modalLoadProp, modalRoute, extend(options, resolveOptions), 'forward');\n          }\n        });\n      if (resolvedAsModal) return;\n      load(router, resolveParams, extend(options, resolveOptions), true);\n    }\n    function asyncReject() {\n      router.allowPageChange = true;\n    }\n    if (route.route.async) {\n      router.allowPageChange = false;\n      route.route.async.call(router, {\n        router,\n        to: options.route,\n        from: router.currentRoute,\n        resolve: asyncResolve,\n        reject: asyncReject,\n        direction: 'forward',\n        app,\n      });\n    }\n    if (route.route.asyncComponent) {\n      asyncComponent(router, route.route.asyncComponent, asyncResolve, asyncReject);\n    }\n  }\n  function reject() {\n    router.allowPageChange = true;\n  }\n\n  if (router.params.masterDetailBreakpoint > 0 && route.route.masterRoute) {\n    // load detail route\n    let preloadMaster = true;\n    let masterLoaded = false;\n    if (router.currentRoute && router.currentRoute.route) {\n      if (\n        (router.currentRoute.route.master === true ||\n          (typeof router.currentRoute.route.master === 'function' &&\n            router.currentRoute.route.master(app, router))) &&\n        (router.currentRoute.route === route.route.masterRoute ||\n          router.currentRoute.route.path === route.route.masterRoute.path)\n      ) {\n        preloadMaster = false;\n      }\n      if (\n        router.currentRoute.route.masterRoute &&\n        (router.currentRoute.route.masterRoute === route.route.masterRoute ||\n          router.currentRoute.route.masterRoute.path === route.route.masterRoute.path)\n      ) {\n        preloadMaster = false;\n        masterLoaded = true;\n      }\n    }\n    if (preloadMaster || (masterLoaded && navigateOptions.reloadAll)) {\n      router.navigate(\n        { path: route.route.masterRoute.path, params: route.params || {} },\n        {\n          animate: false,\n          reloadAll: navigateOptions.reloadAll,\n          reloadCurrent: navigateOptions.reloadCurrent,\n          reloadPrevious: navigateOptions.reloadPrevious,\n          browserHistory: !navigateOptions.initial,\n          history: !navigateOptions.initial,\n          once: {\n            pageAfterIn() {\n              router.navigate(\n                navigateParams,\n                extend({}, navigateOptions, {\n                  animate: false,\n                  reloadAll: false,\n                  reloadCurrent: false,\n                  reloadPrevious: false,\n                  history: !navigateOptions.initial,\n                  browserHistory: !navigateOptions.initial,\n                }),\n              );\n            },\n          },\n        },\n      );\n      return router;\n    }\n  }\n\n  processRouteQueue.call(\n    router,\n    route,\n    router.currentRoute,\n    () => {\n      if (route.route.modules) {\n        app\n          .loadModules(\n            Array.isArray(route.route.modules) ? route.route.modules : [route.route.modules],\n          )\n          .then(() => {\n            resolve();\n          })\n          .catch(() => {\n            reject();\n          });\n      } else {\n        resolve();\n      }\n    },\n    () => {\n      reject();\n    },\n    'forward',\n  );\n\n  // Return Router\n  return router;\n}\nexport { refreshPage, navigate };\n","import $ from '../../shared/dom7';\nimport { extend } from '../../shared/utils';\nimport History from '../../shared/history';\nimport asyncComponent from './async-component';\n\nfunction tabLoad(tabRoute, loadOptions = {}) {\n  const router = this;\n  const options = extend(\n    {\n      animate: router.params.animate,\n      browserHistory: true,\n      history: true,\n      parentPageEl: null,\n      preload: false,\n      on: {},\n    },\n    loadOptions,\n  );\n\n  let currentRoute;\n  let previousRoute;\n  if (options.route) {\n    // Set Route\n    if (!options.preload && options.route !== router.currentRoute) {\n      previousRoute = router.previousRoute;\n      router.currentRoute = options.route;\n    }\n    if (options.preload) {\n      currentRoute = options.route;\n      previousRoute = router.currentRoute;\n    } else {\n      currentRoute = router.currentRoute;\n      if (!previousRoute) previousRoute = router.previousRoute;\n    }\n\n    // Update Browser History\n    if (router.params.browserHistory && options.browserHistory && !options.reloadPrevious) {\n      History.replace(\n        router.view.id,\n        {\n          url: options.route.url,\n        },\n        (router.params.browserHistoryRoot || '') +\n          router.params.browserHistorySeparator +\n          options.route.url,\n      );\n    }\n\n    // Update Router History\n    if (options.history) {\n      router.history[Math.max(router.history.length - 1, 0)] = options.route.url;\n      router.saveHistory();\n    }\n  }\n\n  // Show Tab\n  const $parentPageEl = $(options.parentPageEl || router.currentPageEl);\n  let tabEl;\n  if ($parentPageEl.length && $parentPageEl.find(`#${tabRoute.id}`).length) {\n    tabEl = $parentPageEl.find(`#${tabRoute.id}`).eq(0);\n  } else if (router.view.selector) {\n    tabEl = `${router.view.selector} #${tabRoute.id}`;\n  } else {\n    tabEl = `#${tabRoute.id}`;\n  }\n  const tabShowResult = router.app.tab.show({\n    tabEl,\n    animate: options.animate,\n    tabRoute: options.route,\n  });\n\n  const { $newTabEl, $oldTabEl, animated, onTabsChanged } = tabShowResult;\n\n  if ($newTabEl && $newTabEl.parents('.page').length > 0 && options.route) {\n    const tabParentPageData = $newTabEl.parents('.page')[0].f7Page;\n    if (tabParentPageData && options.route) {\n      tabParentPageData.route = options.route;\n    }\n  }\n\n  // Tab Content Loaded\n  function onTabLoaded(contentEl) {\n    // Remove theme elements\n    router.removeThemeElements($newTabEl);\n\n    let tabEventTarget = $newTabEl;\n    if (typeof contentEl !== 'string') tabEventTarget = $(contentEl);\n\n    tabEventTarget.trigger('tab:init tab:mounted', tabRoute);\n    router.emit('tabInit tabMounted', $newTabEl[0], tabRoute);\n\n    if ($oldTabEl && $oldTabEl.length) {\n      if (animated) {\n        onTabsChanged(() => {\n          router.emit('routeChanged', router.currentRoute, router.previousRoute, router);\n          if (router.params.unloadTabContent) {\n            router.tabRemove($oldTabEl, $newTabEl, tabRoute);\n          }\n        });\n      } else {\n        router.emit('routeChanged', router.currentRoute, router.previousRoute, router);\n        if (router.params.unloadTabContent) {\n          router.tabRemove($oldTabEl, $newTabEl, tabRoute);\n        }\n      }\n    }\n  }\n\n  if ($newTabEl[0].f7RouterTabLoaded) {\n    if (!$oldTabEl || !$oldTabEl.length) return router;\n    if (animated) {\n      onTabsChanged(() => {\n        router.emit('routeChanged', router.currentRoute, router.previousRoute, router);\n      });\n    } else {\n      router.emit('routeChanged', router.currentRoute, router.previousRoute, router);\n    }\n    return router;\n  }\n\n  // Load Tab Content\n  function loadTab(loadTabParams, loadTabOptions) {\n    // Load Tab Props\n    const { url, content, el, component, componentUrl } = loadTabParams;\n    // Component/Template Callbacks\n    function resolve(contentEl) {\n      router.allowPageChange = true;\n      if (!contentEl) return;\n      if (typeof contentEl === 'string') {\n        $newTabEl.html(contentEl);\n      } else {\n        $newTabEl.html('');\n        if (contentEl.f7Component) {\n          contentEl.f7Component.mount((componentEl) => {\n            $newTabEl.append(componentEl);\n          });\n        } else {\n          $newTabEl.append(contentEl);\n        }\n      }\n      $newTabEl[0].f7RouterTabLoaded = true;\n      onTabLoaded(contentEl);\n    }\n    function reject() {\n      router.allowPageChange = true;\n      return router;\n    }\n\n    if (content) {\n      resolve(content);\n    } else if (el) {\n      resolve(el);\n    } else if (component || componentUrl) {\n      // Load from component (F7/Vue/React/...)\n      try {\n        router.tabComponentLoader({\n          tabEl: $newTabEl[0],\n          component,\n          componentUrl,\n          options: loadTabOptions,\n          resolve,\n          reject,\n        });\n      } catch (err) {\n        router.allowPageChange = true;\n        throw err;\n      }\n    } else if (url) {\n      // Load using XHR\n      if (router.xhrAbortController) {\n        router.xhrAbortController.abort();\n        router.xhrAbortController = false;\n      }\n      router\n        .xhrRequest(url, loadTabOptions)\n        .then((tabContent) => {\n          resolve(tabContent);\n        })\n        .catch(() => {\n          router.allowPageChange = true;\n        });\n    }\n  }\n\n  let hasContentLoadProp;\n  'url content component el componentUrl'.split(' ').forEach((tabLoadProp) => {\n    if (tabRoute[tabLoadProp]) {\n      hasContentLoadProp = true;\n      loadTab({ [tabLoadProp]: tabRoute[tabLoadProp] }, options);\n    }\n  });\n\n  // Async\n  function asyncResolve(resolveParams, resolveOptions) {\n    loadTab(resolveParams, extend(options, resolveOptions));\n  }\n  function asyncReject() {\n    router.allowPageChange = true;\n  }\n  if (tabRoute.async) {\n    tabRoute.async.call(router, {\n      router,\n      to: currentRoute,\n      from: previousRoute,\n      resolve: asyncResolve,\n      reject: asyncReject,\n      app: router.app,\n    });\n  } else if (tabRoute.asyncComponent) {\n    asyncComponent(router, tabRoute.asyncComponent, asyncResolve, asyncReject);\n  } else if (!hasContentLoadProp) {\n    router.allowPageChange = true;\n  }\n\n  return router;\n}\nfunction tabRemove($oldTabEl, $newTabEl, tabRoute) {\n  const router = this;\n\n  let hasTabComponentChild;\n  if ($oldTabEl[0]) {\n    $oldTabEl[0].f7RouterTabLoaded = false;\n    delete $oldTabEl[0].f7RouterTabLoaded;\n  }\n  $oldTabEl.children().each((tabChild) => {\n    if (tabChild.f7Component) {\n      hasTabComponentChild = true;\n      $(tabChild).trigger('tab:beforeremove', tabRoute);\n      tabChild.f7Component.destroy();\n    }\n  });\n  if (!hasTabComponentChild) {\n    $oldTabEl.trigger('tab:beforeremove', tabRoute);\n  }\n  router.emit('tabBeforeRemove', $oldTabEl[0], $newTabEl[0], tabRoute);\n  router.removeTabContent($oldTabEl[0], tabRoute);\n}\n\nexport { tabLoad, tabRemove };\n","import { extend, nextTick } from '../../shared/utils';\nimport History from '../../shared/history';\nimport asyncComponent from './async-component';\n\nfunction modalLoad(modalType, route, loadOptions = {}, direction) {\n  const router = this;\n  const app = router.app;\n  const isPanel = modalType === 'panel';\n  const modalOrPanel = isPanel ? 'panel' : 'modal';\n\n  const options = extend(\n    {\n      animate: router.params.animate,\n      browserHistory: true,\n      history: true,\n      on: {},\n      once: {},\n    },\n    loadOptions,\n  );\n\n  const modalParams = extend({}, route.route[modalType]);\n  const modalRoute = route.route;\n\n  const routeCallback = (modal, name) => {\n    const { on, once } = options;\n    let callback;\n    if (name === 'open') {\n      callback = on.modalOpen || once.modalOpen || on.panelOpen || once.panelOpen;\n    }\n    if (name === 'close') {\n      callback = on.modalClose || once.modalClose || on.panelClose || once.panelClose;\n    }\n    if (name === 'closed') {\n      callback = on.modalClosed || once.modalClosed || on.panelClosed || once.panelClosed;\n    }\n    if (callback) callback(modal);\n  };\n\n  function onModalLoaded() {\n    // Create Modal\n    const modal = app[modalType].create(modalParams);\n    modalRoute.modalInstance = modal;\n\n    const hasEl = modal.el;\n\n    function closeOnSwipeBack() {\n      modal.close();\n    }\n    modal.on(`${modalOrPanel}Open`, () => {\n      if (!hasEl) {\n        // Remove theme elements\n        router.removeThemeElements(modal.el);\n\n        // Emit events\n        modal.$el.trigger(\n          `${modalType.toLowerCase()}:init ${modalType.toLowerCase()}:mounted`,\n          route,\n          modal,\n        );\n        router.emit(\n          `${!isPanel ? 'modalInit' : ''} ${modalType}Init ${modalType}Mounted`,\n          modal.el,\n          route,\n          modal,\n        );\n      }\n      router.once('swipeBackMove', closeOnSwipeBack);\n      routeCallback(modal, 'open');\n    });\n    modal.on(`${modalOrPanel}Close`, () => {\n      router.off('swipeBackMove', closeOnSwipeBack);\n      if (!modal.closeByRouter) {\n        router.back();\n      }\n      routeCallback(modal, 'close');\n    });\n\n    modal.on(`${modalOrPanel}Closed`, () => {\n      modal.$el.trigger(`${modalType.toLowerCase()}:beforeremove`, route, modal);\n      modal.emit(\n        `${!isPanel ? 'modalBeforeRemove ' : ''}${modalType}BeforeRemove`,\n        modal.el,\n        route,\n        modal,\n      );\n      const modalComponent = modal.el.f7Component;\n      routeCallback(modal, 'closed');\n      if (modalComponent) {\n        modalComponent.destroy();\n      }\n      nextTick(() => {\n        if (modalComponent || modalParams.component || modalParams.asyncComponent) {\n          router.removeModal(modal.el);\n        }\n        modal.destroy();\n        delete modal.route;\n        delete modalRoute.modalInstance;\n      });\n    });\n\n    if (options.route) {\n      // Update Browser History\n      if (router.params.browserHistory && options.browserHistory) {\n        History.push(\n          router.view.id,\n          {\n            url: options.route.url,\n            modal: modalType,\n          },\n          (router.params.browserHistoryRoot || '') +\n            router.params.browserHistorySeparator +\n            options.route.url,\n        );\n      }\n\n      // Set Route\n      if (options.route !== router.currentRoute) {\n        modal.route = extend(options.route, { modal });\n        router.currentRoute = modal.route;\n      }\n\n      // Update Router History\n      if (options.history && !options.reloadCurrent) {\n        router.history.push(options.route.url);\n        router.saveHistory();\n      }\n    }\n\n    if (hasEl) {\n      // Remove theme elements\n      router.removeThemeElements(modal.el);\n\n      // Emit events\n      modal.$el.trigger(\n        `${modalType.toLowerCase()}:init ${modalType.toLowerCase()}:mounted`,\n        route,\n        modal,\n      );\n      router.emit(\n        `${modalOrPanel}Init ${modalType}Init ${modalType}Mounted`,\n        modal.el,\n        route,\n        modal,\n      );\n    }\n\n    // Open\n    modal.open(options.animate === false || options.animate === true ? options.animate : undefined);\n  }\n\n  // Load Modal Content\n  function loadModal(loadModalParams, loadModalOptions) {\n    // Load Modal Props\n    const { url, content, component, componentUrl } = loadModalParams;\n\n    // Component/Template Callbacks\n    function resolve(contentEl) {\n      if (contentEl) {\n        if (typeof contentEl === 'string') {\n          modalParams.content = contentEl;\n        } else if (contentEl.f7Component) {\n          contentEl.f7Component.mount((componentEl) => {\n            modalParams.el = componentEl;\n            app.$el.append(componentEl);\n          });\n        } else {\n          modalParams.el = contentEl;\n        }\n        onModalLoaded();\n      }\n    }\n    function reject() {\n      router.allowPageChange = true;\n      return router;\n    }\n\n    if (content) {\n      resolve(content);\n    } else if (component || componentUrl) {\n      // Load from component (F7/Vue/React/...)\n      try {\n        router.modalComponentLoader({\n          rootEl: app.el,\n          component,\n          componentUrl,\n          options: loadModalOptions,\n          resolve,\n          reject,\n        });\n      } catch (err) {\n        router.allowPageChange = true;\n        throw err;\n      }\n    } else if (url) {\n      // Load using XHR\n      if (router.xhrAbortController) {\n        router.xhrAbortController.abort();\n        router.xhrAbortController = false;\n      }\n      router\n        .xhrRequest(url, loadModalOptions)\n        .then((modalContent) => {\n          modalParams.content = modalContent;\n          onModalLoaded();\n        })\n        .catch(() => {\n          router.allowPageChange = true;\n        });\n    } else {\n      onModalLoaded();\n    }\n  }\n\n  let foundLoadProp;\n  'url content component el componentUrl template'.split(' ').forEach((modalLoadProp) => {\n    if (modalParams[modalLoadProp] && !foundLoadProp) {\n      foundLoadProp = true;\n      loadModal({ [modalLoadProp]: modalParams[modalLoadProp] }, options);\n    }\n  });\n  if (!foundLoadProp && modalType === 'actions') {\n    onModalLoaded();\n  }\n\n  // Async\n  function asyncResolve(resolveParams, resolveOptions) {\n    loadModal(resolveParams, extend(options, resolveOptions));\n  }\n  function asyncReject() {\n    router.allowPageChange = true;\n  }\n  if (modalParams.async) {\n    modalParams.async.call(router, {\n      router,\n      to: options.route,\n      from: router.currentRoute,\n      resolve: asyncResolve,\n      reject: asyncReject,\n      direction,\n      app,\n    });\n  }\n  if (modalParams.asyncComponent) {\n    asyncComponent(router, modalParams.asyncComponent, asyncResolve, asyncReject);\n  }\n  return router;\n}\nfunction modalRemove(modal) {\n  extend(modal, { closeByRouter: true });\n  modal.close();\n}\n\nexport { modalLoad, modalRemove };\n","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom7';\nimport { extend, parseUrlQuery } from '../../shared/utils';\nimport { getDevice } from '../../shared/get-device';\nimport History from '../../shared/history';\nimport redirect from './redirect';\nimport processRouteQueue from './process-route-queue';\nimport appRouterCheck from './app-router-check';\nimport asyncComponent from './async-component';\n\nfunction backward(router, el, backwardOptions) {\n  const device = getDevice();\n  const document = getDocument();\n  const $el = $(el);\n  const app = router.app;\n  const view = router.view;\n\n  const options = extend(\n    false,\n    {\n      animate: router.params.animate,\n      browserHistory: true,\n      replaceState: false,\n    },\n    backwardOptions,\n  );\n\n  const masterDetailEnabled = router.params.masterDetailBreakpoint > 0;\n  const isMaster =\n    masterDetailEnabled &&\n    options.route &&\n    options.route.route &&\n    (options.route.route.master === true ||\n      (typeof options.route.route.master === 'function' &&\n        options.route.route.master(app, router)));\n  let masterPageEl;\n  let masterPageRemoved;\n\n  const dynamicNavbar = router.dynamicNavbar;\n\n  const $newPage = $el;\n  const $oldPage = router.$el.children('.page-current');\n  const initialPreload = $oldPage.length === 0 && options.preload;\n  const currentIsMaster = masterDetailEnabled && $oldPage.hasClass('page-master');\n\n  if ($newPage.length) {\n    // Remove theme elements\n    router.removeThemeElements($newPage);\n  }\n\n  let $navbarsEl;\n  let $newNavbarEl;\n  let $oldNavbarEl;\n\n  if (dynamicNavbar) {\n    $newNavbarEl = $newPage.children('.navbar');\n    $navbarsEl = router.$navbarsEl;\n    if ($newNavbarEl.length === 0 && $newPage[0] && $newPage[0].f7Page) {\n      // Try from pageData\n      $newNavbarEl = $newPage[0].f7Page.$navbarEl;\n    }\n    $oldNavbarEl = $navbarsEl.find('.navbar-current');\n  }\n\n  router.allowPageChange = false;\n  if ($newPage.length === 0 || ($oldPage.length === 0 && !options.preload)) {\n    router.allowPageChange = true;\n    return router;\n  }\n\n  // Remove theme elements\n  router.removeThemeElements($newPage);\n\n  // Save Keep Alive Cache\n  if (\n    options.route &&\n    options.route.route &&\n    options.route.route.keepAlive &&\n    !options.route.route.keepAliveData\n  ) {\n    options.route.route.keepAliveData = {\n      pageEl: $el[0],\n    };\n  }\n\n  // Pages In View\n  let isDetail;\n  let isDetailRoot;\n  if (masterDetailEnabled) {\n    const $pagesInView = router.$el\n      .children('.page:not(.stacked)')\n      .filter((pageInView) => pageInView !== $newPage[0]);\n\n    // Find Detail' master page\n    for (let i = 0; i < $pagesInView.length; i += 1) {\n      if (!masterPageEl && $pagesInView[i].classList.contains('page-master')) {\n        masterPageEl = $pagesInView[i];\n        continue; // eslint-disable-line\n      }\n    }\n\n    isDetail =\n      !isMaster &&\n      masterPageEl &&\n      router.history.indexOf(options.route.url) >\n        router.history.indexOf(masterPageEl.f7Page.route.url);\n\n    if (\n      !isDetail &&\n      !isMaster &&\n      masterPageEl &&\n      masterPageEl.f7Page &&\n      options.route.route.masterRoute\n    ) {\n      isDetail = options.route.route.masterRoute.path === masterPageEl.f7Page.route.route.path;\n    }\n  }\n  if (isDetail && masterPageEl && masterPageEl.f7Page) {\n    isDetailRoot =\n      router.history.indexOf(options.route.url) -\n        router.history.indexOf(masterPageEl.f7Page.route.url) ===\n      1;\n  }\n\n  // New Page\n  $newPage\n    .addClass(\n      `page-${initialPreload ? 'current' : 'previous'}${isMaster ? ' page-master' : ''}${\n        isDetail ? ' page-master-detail' : ''\n      }${isDetailRoot ? ' page-master-detail-root' : ''}`,\n    )\n    .removeClass('stacked')\n    .removeAttr('aria-hidden')\n    .trigger('page:unstack')\n    .trigger('page:position', { position: initialPreload ? 'current' : 'previous' });\n  router.emit('pageUnstack', $newPage[0]);\n  router.emit('pagePosition', $newPage[0], initialPreload ? 'current' : 'previous');\n  if (isMaster || isDetail) {\n    $newPage.trigger('page:role', { role: isMaster ? 'master' : 'detail', root: !!isDetailRoot });\n    router.emit('pageRole', $newPage[0], {\n      role: isMaster ? 'master' : 'detail',\n      detailRoot: !!isDetailRoot,\n    });\n  }\n\n  if (dynamicNavbar && $newNavbarEl.length > 0) {\n    $newNavbarEl\n      .addClass(\n        `navbar-${initialPreload ? 'current' : 'previous'}${isMaster ? ' navbar-master' : ''}${\n          isDetail ? ' navbar-master-detail' : ''\n        }${isDetailRoot ? ' navbar-master-detail-root' : ''}`,\n      )\n      .removeClass('stacked')\n      .removeAttr('aria-hidden');\n    $newNavbarEl.trigger('navbar:position', { position: initialPreload ? 'current' : 'previous' });\n    router.emit('navbarPosition', $newNavbarEl[0], initialPreload ? 'current' : 'previous');\n    if (isMaster || isDetailRoot) {\n      router.emit('navbarRole', $newNavbarEl[0], {\n        role: isMaster ? 'master' : 'detail',\n        detailRoot: !!isDetailRoot,\n      });\n    }\n  }\n\n  // Remove previous page in case of \"forced\"\n  let backIndex;\n  if (options.force) {\n    if (\n      $oldPage.prev('.page-previous:not(.stacked)').length > 0 ||\n      $oldPage.prev('.page-previous').length === 0\n    ) {\n      if (router.history.indexOf(options.route.url) >= 0) {\n        backIndex = router.history.length - router.history.indexOf(options.route.url) - 1;\n        router.history = router.history.slice(0, router.history.indexOf(options.route.url) + 2);\n        view.history = router.history;\n      } else if (router.history[[router.history.length - 2]]) {\n        router.history[router.history.length - 2] = options.route.url;\n      } else {\n        router.history.unshift(router.url);\n      }\n\n      if (backIndex && router.params.stackPages) {\n        $oldPage.prevAll('.page-previous').each((pageToRemove) => {\n          const $pageToRemove = $(pageToRemove);\n          let $navbarToRemove;\n          if (dynamicNavbar) {\n            // $navbarToRemove = $oldNavbarEl.prevAll('.navbar-previous').eq(index);\n            $navbarToRemove = $(app.navbar.getElByPage($pageToRemove));\n          }\n          if ($pageToRemove[0] !== $newPage[0] && $pageToRemove.index() > $newPage.index()) {\n            if (router.initialPages.indexOf($pageToRemove[0]) >= 0) {\n              $pageToRemove.addClass('stacked');\n              $pageToRemove.trigger('page:stack');\n              router.emit('pageStack', $pageToRemove[0]);\n              if (dynamicNavbar) {\n                $navbarToRemove.addClass('stacked');\n              }\n            } else {\n              router.pageCallback(\n                'beforeRemove',\n                $pageToRemove,\n                $navbarToRemove,\n                'previous',\n                undefined,\n                options,\n              );\n              if ($pageToRemove[0] === masterPageEl) {\n                masterPageRemoved = true;\n              }\n              router.removePage($pageToRemove);\n              if (dynamicNavbar && $navbarToRemove.length > 0) {\n                router.removeNavbar($navbarToRemove);\n              }\n            }\n          }\n        });\n      } else {\n        const $pageToRemove = $oldPage.prev('.page-previous:not(.stacked)');\n        let $navbarToRemove;\n        if (dynamicNavbar) {\n          // $navbarToRemove = $oldNavbarEl.prev('.navbar-inner:not(.stacked)');\n          $navbarToRemove = $(app.navbar.getElByPage($pageToRemove));\n        }\n        if (router.params.stackPages && router.initialPages.indexOf($pageToRemove[0]) >= 0) {\n          $pageToRemove.addClass('stacked');\n          $pageToRemove.trigger('page:stack');\n          router.emit('pageStack', $pageToRemove[0]);\n          $navbarToRemove.addClass('stacked');\n        } else if ($pageToRemove.length > 0) {\n          router.pageCallback(\n            'beforeRemove',\n            $pageToRemove,\n            $navbarToRemove,\n            'previous',\n            undefined,\n            options,\n          );\n          if ($pageToRemove[0] === masterPageEl) {\n            masterPageRemoved = true;\n          }\n          router.removePage($pageToRemove);\n          if (dynamicNavbar && $navbarToRemove.length) {\n            router.removeNavbar($navbarToRemove);\n          }\n        }\n      }\n    }\n  }\n\n  // Insert new page\n  const newPageInDom = $newPage.parents(document).length > 0;\n  const f7Component = $newPage[0].f7Component;\n\n  function insertPage() {\n    if (initialPreload) {\n      if (!newPageInDom && f7Component) {\n        f7Component.mount((componentEl) => {\n          router.$el.append(componentEl);\n        });\n      } else {\n        router.$el.append($newPage);\n      }\n    }\n    if ($newPage.next($oldPage).length === 0) {\n      if (!newPageInDom && f7Component) {\n        f7Component.mount((componentEl) => {\n          $(componentEl).insertBefore($oldPage);\n        });\n      } else {\n        $newPage.insertBefore($oldPage);\n      }\n    }\n    if (dynamicNavbar && $newNavbarEl.length) {\n      if ($newNavbarEl.find('.title-large').length) {\n        $newNavbarEl.addClass('navbar-large');\n      }\n      $newNavbarEl.insertBefore($oldNavbarEl);\n      if ($oldNavbarEl.length > 0) {\n        $newNavbarEl.insertBefore($oldNavbarEl);\n      } else {\n        if (!router.$navbarsEl.parents(document).length) {\n          router.$el.prepend(router.$navbarsEl);\n        }\n        $navbarsEl.append($newNavbarEl);\n      }\n    }\n    if (!newPageInDom) {\n      router.pageCallback(\n        'mounted',\n        $newPage,\n        $newNavbarEl,\n        'previous',\n        'current',\n        options,\n        $oldPage,\n      );\n    } else if (\n      options.route &&\n      options.route.route &&\n      options.route.route.keepAlive &&\n      !$newPage[0].f7PageMounted\n    ) {\n      $newPage[0].f7PageMounted = true;\n      router.pageCallback(\n        'mounted',\n        $newPage,\n        $newNavbarEl,\n        'previous',\n        'current',\n        options,\n        $oldPage,\n      );\n    }\n  }\n\n  if (options.preload) {\n    // Insert Page\n    insertPage();\n    // Tab route\n    if (options.route.route.tab) {\n      router.tabLoad(\n        options.route.route.tab,\n        extend({}, options, {\n          history: false,\n          browserHistory: false,\n          preload: true,\n        }),\n      );\n    }\n    if (isMaster) {\n      $newPage.removeClass('page-master-stacked').trigger('page:masterunstack');\n      router.emit('pageMasterUnstack', $newPage[0]);\n      if (dynamicNavbar) {\n        $(app.navbar.getElByPage($newPage)).removeClass('navbar-master-stacked');\n        router.emit('navbarMasterUnstack', app.navbar.getElByPage($newPage));\n      }\n    }\n    // Page init and before init events\n    router.pageCallback('init', $newPage, $newNavbarEl, 'previous', 'current', options, $oldPage);\n    if (initialPreload) {\n      router.pageCallback('beforeIn', $newPage, $newNavbarEl, 'current', undefined, options);\n      router.pageCallback('afterIn', $newPage, $newNavbarEl, 'current', undefined, options);\n    }\n    const $previousPages = $newPage.prevAll('.page-previous:not(.stacked):not(.page-master)');\n    if ($previousPages.length > 0) {\n      $previousPages.each((pageToRemove) => {\n        const $pageToRemove = $(pageToRemove);\n        let $navbarToRemove;\n        if (dynamicNavbar) {\n          // $navbarToRemove = $newNavbarEl.prevAll('.navbar-previous:not(.stacked)').eq(index);\n          $navbarToRemove = $(app.navbar.getElByPage($pageToRemove));\n        }\n        if (router.params.stackPages && router.initialPages.indexOf(pageToRemove) >= 0) {\n          $pageToRemove.addClass('stacked');\n          $pageToRemove.trigger('page:stack');\n          router.emit('pageStack', $pageToRemove[0]);\n          if (dynamicNavbar) {\n            $navbarToRemove.addClass('stacked');\n          }\n        } else {\n          router.pageCallback(\n            'beforeRemove',\n            $pageToRemove,\n            $navbarToRemove,\n            'previous',\n            undefined,\n          );\n          router.removePage($pageToRemove);\n          if (dynamicNavbar && $navbarToRemove.length) {\n            router.removeNavbar($navbarToRemove);\n          }\n        }\n      });\n    }\n    router.allowPageChange = true;\n    return router;\n  }\n\n  // History State\n  if (!(device.ie || device.edge || (device.firefox && !device.ios))) {\n    if (router.params.browserHistory && options.browserHistory) {\n      if (options.replaceState) {\n        const browserHistoryRoot = router.params.browserHistoryRoot || '';\n        History.replace(\n          view.id,\n          {\n            url: options.route.url,\n          },\n          browserHistoryRoot + router.params.browserHistorySeparator + options.route.url,\n        );\n      } else if (backIndex) {\n        History.go(-backIndex);\n      } else {\n        History.back();\n      }\n    }\n  }\n\n  // Update History\n  if (options.replaceState) {\n    router.history[router.history.length - 1] = options.route.url;\n  } else {\n    if (router.history.length === 1) {\n      router.history.unshift(router.url);\n    }\n    router.history.pop();\n  }\n  router.saveHistory();\n\n  // Current Page & Navbar\n  router.currentPageEl = $newPage[0];\n  if (dynamicNavbar && $newNavbarEl.length) {\n    router.currentNavbarEl = $newNavbarEl[0];\n  } else {\n    delete router.currentNavbarEl;\n  }\n\n  // Current Route\n  router.currentRoute = options.route;\n\n  // History State\n  if (device.ie || device.edge || (device.firefox && !device.ios)) {\n    if (router.params.browserHistory && options.browserHistory) {\n      if (options.replaceState) {\n        const browserHistoryRoot = router.params.browserHistoryRoot || '';\n        History.replace(\n          view.id,\n          {\n            url: options.route.url,\n          },\n          browserHistoryRoot + router.params.browserHistorySeparator + options.route.url,\n        );\n      } else if (backIndex) {\n        History.go(-backIndex);\n      } else {\n        History.back();\n      }\n    }\n  }\n\n  // Insert Page\n  insertPage();\n\n  // Load Tab\n  if (options.route.route.tab) {\n    router.tabLoad(\n      options.route.route.tab,\n      extend({}, options, {\n        history: false,\n        browserHistory: false,\n      }),\n    );\n  }\n\n  // Check master detail\n\n  if (masterDetailEnabled && (currentIsMaster || masterPageRemoved)) {\n    view.checkMasterDetailBreakpoint(false);\n  }\n\n  // Page init and before init events\n  router.pageCallback('init', $newPage, $newNavbarEl, 'previous', 'current', options, $oldPage);\n\n  // Before animation callback\n  router.pageCallback('beforeOut', $oldPage, $oldNavbarEl, 'current', 'next', options);\n  router.pageCallback('beforeIn', $newPage, $newNavbarEl, 'previous', 'current', options);\n\n  // Animation\n  function afterAnimation() {\n    // Set classes\n    router.setPagePosition($newPage, 'current', false);\n    router.setPagePosition($oldPage, 'next', true);\n    if (dynamicNavbar) {\n      router.setNavbarPosition($newNavbarEl, 'current', false);\n      router.setNavbarPosition($oldNavbarEl, 'next', true);\n    }\n\n    // After animation event\n    router.pageCallback('afterOut', $oldPage, $oldNavbarEl, 'current', 'next', options);\n    router.pageCallback('afterIn', $newPage, $newNavbarEl, 'previous', 'current', options);\n\n    // Remove Old Page\n    if (router.params.stackPages && router.initialPages.indexOf($oldPage[0]) >= 0) {\n      $oldPage.addClass('stacked');\n      $oldPage.trigger('page:stack');\n      router.emit('pageStack', $oldPage[0]);\n      if (dynamicNavbar) {\n        $oldNavbarEl.addClass('stacked');\n      }\n    } else {\n      router.pageCallback('beforeRemove', $oldPage, $oldNavbarEl, 'next', undefined, options);\n      router.removePage($oldPage);\n      if (dynamicNavbar && $oldNavbarEl.length) {\n        router.removeNavbar($oldNavbarEl);\n      }\n    }\n\n    router.allowPageChange = true;\n    router.emit('routeChanged', router.currentRoute, router.previousRoute, router);\n\n    // Preload previous page\n    const preloadPreviousPage =\n      router.params.preloadPreviousPage || router.params[`${app.theme}SwipeBack`];\n    if (preloadPreviousPage && router.history[router.history.length - 2] && !isMaster) {\n      router.back(router.history[router.history.length - 2], { preload: true });\n    }\n    if (router.params.browserHistory) {\n      History.clearRouterQueue();\n    }\n  }\n\n  function setPositionClasses() {\n    router.setPagePosition($oldPage, 'current');\n    router.setPagePosition($newPage, 'previous', false);\n    if (dynamicNavbar) {\n      router.setNavbarPosition($oldNavbarEl, 'current');\n      router.setNavbarPosition($newNavbarEl, 'previous', false);\n    }\n  }\n\n  if (options.animate && !(currentIsMaster && app.width >= router.params.masterDetailBreakpoint)) {\n    let transition = router.params.transition;\n    if ($oldPage[0] && $oldPage[0].f7PageTransition) {\n      transition = $oldPage[0].f7PageTransition;\n      delete $oldPage[0].f7PageTransition;\n    }\n    if (options.transition) transition = options.transition;\n    if (!transition && router.previousRoute && router.previousRoute.route) {\n      transition = router.previousRoute.route.transition;\n    }\n    if (\n      !transition &&\n      router.previousRoute &&\n      router.previousRoute.route &&\n      router.previousRoute.route.options\n    ) {\n      transition = router.previousRoute.route.options.transition;\n    }\n    setPositionClasses();\n    router.animate($oldPage, $newPage, $oldNavbarEl, $newNavbarEl, 'backward', transition, () => {\n      afterAnimation();\n    });\n  } else {\n    afterAnimation();\n  }\n\n  return router;\n}\nfunction loadBack(router, backParams, backOptions, ignorePageChange) {\n  if (!router.allowPageChange && !ignorePageChange) return router;\n  const params = backParams;\n  const options = backOptions;\n  const { url, content, el, pageName, component, componentUrl } = params;\n\n  if (\n    options.route.url &&\n    router.url === options.route.url &&\n    !(options.reloadCurrent || options.reloadPrevious) &&\n    !router.params.allowDuplicateUrls\n  ) {\n    return false;\n  }\n\n  if (!options.route && url) {\n    options.route = router.parseRouteUrl(url);\n  }\n\n  // Component Callbacks\n  function resolve(pageEl, newOptions) {\n    return backward(router, pageEl, extend(options, newOptions));\n  }\n  function reject() {\n    router.allowPageChange = true;\n    return router;\n  }\n\n  if (url || componentUrl || component) {\n    router.allowPageChange = false;\n  }\n\n  // Proceed\n  if (content) {\n    backward(router, router.getPageEl(content), options);\n  } else if (el) {\n    // Load page from specified HTMLElement or by page name in pages container\n    backward(router, router.getPageEl(el), options);\n  } else if (pageName) {\n    // Load page by page name in pages container\n    backward(router, router.$el.children(`.page[data-name=\"${pageName}\"]`).eq(0), options);\n  } else if (component || componentUrl) {\n    // Load from component (F7/Vue/React/...)\n    try {\n      router.pageComponentLoader({\n        routerEl: router.el,\n        component,\n        componentUrl,\n        options,\n        resolve,\n        reject,\n      });\n    } catch (err) {\n      router.allowPageChange = true;\n      throw err;\n    }\n  } else if (url) {\n    // Load using XHR\n    if (router.xhrAbortController) {\n      router.xhrAbortController.abort();\n      router.xhrAbortController = false;\n    }\n    router\n      .xhrRequest(url, options)\n      .then((pageContent) => {\n        backward(router, router.getPageEl(pageContent), options);\n      })\n      .catch(() => {\n        router.allowPageChange = true;\n      });\n  }\n  return router;\n}\nfunction back(...args) {\n  const router = this;\n  const device = getDevice();\n  if (router.swipeBackActive) return router;\n  let navigateUrl;\n  let navigateOptions;\n  let route;\n  if (typeof args[0] === 'object') {\n    navigateOptions = args[0] || {};\n  } else {\n    navigateUrl = args[0];\n    navigateOptions = args[1] || {};\n  }\n\n  const { name, params, query } = navigateOptions;\n  if (name) {\n    navigateUrl = router.generateUrl({ name, params, query });\n    if (navigateUrl) {\n      return router.back(\n        navigateUrl,\n        extend({}, navigateOptions, {\n          name: null,\n          params: null,\n          query: null,\n        }),\n      );\n    }\n    return router;\n  }\n\n  const app = router.app;\n  appRouterCheck(router, 'back');\n\n  let currentRouteIsModal = router.currentRoute.modal;\n  let modalType;\n  if (!currentRouteIsModal) {\n    'popup popover sheet loginScreen actions customModal panel'\n      .split(' ')\n      .forEach((modalLoadProp) => {\n        if (router.currentRoute.route[modalLoadProp]) {\n          currentRouteIsModal = true;\n          modalType = modalLoadProp;\n        }\n      });\n  }\n  if (currentRouteIsModal && !navigateOptions.preload) {\n    const modalToClose =\n      router.currentRoute.modal || router.currentRoute.route.modalInstance || app[modalType].get();\n    const previousUrl = router.history[router.history.length - 2];\n    let previousRoute;\n    // check if previous route is modal too\n    if (modalToClose && modalToClose.$el) {\n      const prevOpenedModals = modalToClose.$el.prevAll('.modal-in');\n      if (prevOpenedModals.length && prevOpenedModals[0].f7Modal) {\n        const modalEl = prevOpenedModals[0];\n        // check if current router not inside of the modalEl\n        if (!router.$el.parents(modalEl).length) {\n          previousRoute = modalEl.f7Modal.route;\n        }\n      }\n    }\n    if (!previousRoute) {\n      previousRoute = router.findMatchingRoute(previousUrl);\n    }\n\n    if (!previousRoute && previousUrl) {\n      previousRoute = {\n        url: previousUrl,\n        path: previousUrl.split('?')[0],\n        query: parseUrlQuery(previousUrl),\n        route: {\n          path: previousUrl.split('?')[0],\n          url: previousUrl,\n        },\n      };\n    }\n    if (!navigateUrl || navigateUrl.replace(/[# ]/g, '').trim().length === 0) {\n      if (!previousRoute || !modalToClose) {\n        return router;\n      }\n    }\n    const forceOtherUrl = navigateOptions.force && previousRoute && navigateUrl;\n    if (previousRoute && modalToClose) {\n      const isBrokenBrowserHistory = device.ie || device.edge || (device.firefox && !device.ios);\n      const needHistoryBack =\n        router.params.browserHistory && navigateOptions.browserHistory !== false;\n      const currentRouteWithoutBrowserHistory =\n        router.currentRoute &&\n        router.currentRoute.route &&\n        router.currentRoute.route.options &&\n        router.currentRoute.route.options.browserHistory === false;\n      if (needHistoryBack && !isBrokenBrowserHistory && !currentRouteWithoutBrowserHistory) {\n        History.back();\n      }\n      router.currentRoute = previousRoute;\n      router.history.pop();\n      router.saveHistory();\n\n      if (needHistoryBack && isBrokenBrowserHistory && !currentRouteWithoutBrowserHistory) {\n        History.back();\n      }\n\n      router.modalRemove(modalToClose);\n      if (forceOtherUrl) {\n        router.navigate(navigateUrl, { reloadCurrent: true });\n      }\n    } else if (modalToClose) {\n      router.modalRemove(modalToClose);\n      if (navigateUrl) {\n        router.navigate(navigateUrl, { reloadCurrent: true });\n      }\n    }\n    return router;\n  }\n  let $previousPage = router.$el\n    .children('.page-current')\n    .prevAll('.page-previous:not(.page-master)')\n    .eq(0);\n\n  let skipMaster;\n  if (router.params.masterDetailBreakpoint > 0) {\n    const classes = [];\n    router.$el.children('.page').each((pageEl) => {\n      classes.push(pageEl.className);\n    });\n\n    const $previousMaster = router.$el.children('.page-current').prevAll('.page-master').eq(0);\n    if ($previousMaster.length) {\n      const expectedPreviousPageUrl = router.history[router.history.length - 2];\n      const expectedPreviousPageRoute = router.findMatchingRoute(expectedPreviousPageUrl);\n      if (\n        expectedPreviousPageRoute &&\n        $previousMaster[0].f7Page &&\n        expectedPreviousPageRoute.route === $previousMaster[0].f7Page.route.route\n      ) {\n        $previousPage = $previousMaster;\n        if (!navigateOptions.preload) {\n          skipMaster = app.width >= router.params.masterDetailBreakpoint;\n        }\n      }\n    }\n  }\n\n  if (!navigateOptions.force && $previousPage.length && !skipMaster) {\n    if (\n      router.params.browserHistory &&\n      $previousPage[0].f7Page &&\n      router.history[router.history.length - 2] !== $previousPage[0].f7Page.route.url\n    ) {\n      router.back(\n        router.history[router.history.length - 2],\n        extend(navigateOptions, { force: true }),\n      );\n      return router;\n    }\n    const previousPageRoute = $previousPage[0].f7Page.route;\n    if (navigateOptions.preload && $previousPage.hasClass('stacked')) {\n      loadBack(\n        router,\n        { el: $previousPage },\n        extend(navigateOptions, {\n          route: previousPageRoute,\n        }),\n      );\n      return router;\n    }\n    processRouteQueue.call(\n      router,\n      previousPageRoute,\n      router.currentRoute,\n      () => {\n        loadBack(\n          router,\n          { el: $previousPage },\n          extend(navigateOptions, {\n            route: previousPageRoute,\n          }),\n        );\n      },\n      () => {},\n      'backward',\n    );\n\n    return router;\n  }\n\n  // Navigate URL\n  if (navigateUrl === '#') {\n    navigateUrl = undefined;\n  }\n  if (navigateUrl && navigateUrl[0] !== '/' && navigateUrl.indexOf('#') !== 0) {\n    navigateUrl = ((router.path || '/') + navigateUrl).replace('//', '/');\n  }\n  if (!navigateUrl && router.history.length > 1) {\n    navigateUrl = router.history[router.history.length - 2];\n  }\n  if (skipMaster && !navigateOptions.force && router.history[router.history.length - 3]) {\n    return router.back(\n      router.history[router.history.length - 3],\n      extend({}, navigateOptions || {}, {\n        force: true,\n        animate: false,\n      }),\n    );\n  }\n  if (skipMaster && !navigateOptions.force) {\n    return router;\n  }\n\n  // Find route to load\n  route = router.findMatchingRoute(navigateUrl);\n  if (!route) {\n    if (navigateUrl) {\n      route = {\n        url: navigateUrl,\n        path: navigateUrl.split('?')[0],\n        query: parseUrlQuery(navigateUrl),\n        route: {\n          path: navigateUrl.split('?')[0],\n          url: navigateUrl,\n        },\n      };\n    }\n  }\n  if (!route) {\n    return router;\n  }\n\n  if (route.route.redirect) {\n    return redirect.call(router, 'backward', route, navigateOptions);\n  }\n\n  const options = {};\n  if (route.route.options) {\n    extend(options, route.route.options, navigateOptions);\n  } else {\n    extend(options, navigateOptions);\n  }\n  options.route = route;\n\n  let backForceLoaded;\n  if (options.force && router.params.stackPages) {\n    router.$el.children('.page-previous.stacked').each((pageEl) => {\n      if (pageEl.f7Page && pageEl.f7Page.route && pageEl.f7Page.route.url === route.url) {\n        backForceLoaded = true;\n        loadBack(router, { el: pageEl }, options);\n      }\n    });\n    if (backForceLoaded) {\n      return router;\n    }\n  }\n  function resolve() {\n    let routerLoaded = false;\n    if (route.route.keepAlive && route.route.keepAliveData) {\n      loadBack(router, { el: route.route.keepAliveData.pageEl }, options);\n      routerLoaded = true;\n    }\n    'url content component pageName el componentUrl'.split(' ').forEach((pageLoadProp) => {\n      if (route.route[pageLoadProp] && !routerLoaded) {\n        routerLoaded = true;\n        loadBack(router, { [pageLoadProp]: route.route[pageLoadProp] }, options);\n      }\n    });\n    if (routerLoaded) return;\n    // Async\n    function asyncResolve(resolveParams, resolveOptions) {\n      router.allowPageChange = false;\n      loadBack(router, resolveParams, extend(options, resolveOptions), true);\n    }\n    function asyncReject() {\n      router.allowPageChange = true;\n    }\n    if (route.route.async) {\n      router.allowPageChange = false;\n      route.route.async.call(router, {\n        router,\n        to: route,\n        from: router.currentRoute,\n        resolve: asyncResolve,\n        reject: asyncReject,\n        direction: 'backward',\n        app,\n      });\n    }\n    if (route.route.asyncComponent) {\n      asyncComponent(router, route.route.asyncComponent, asyncResolve, asyncReject);\n    }\n  }\n  function reject() {\n    router.allowPageChange = true;\n  }\n\n  if (options.preload) {\n    resolve();\n  } else {\n    processRouteQueue.call(\n      router,\n      route,\n      router.currentRoute,\n      () => {\n        if (route.route.modules) {\n          app\n            .loadModules(\n              Array.isArray(route.route.modules) ? route.route.modules : [route.route.modules],\n            )\n            .then(() => {\n              resolve();\n            })\n            .catch(() => {\n              reject();\n            });\n        } else {\n          resolve();\n        }\n      },\n      () => {\n        reject();\n      },\n      'backward',\n    );\n  }\n\n  // Return Router\n  return router;\n}\nexport { back };\n","import $ from '../../shared/dom7';\nimport appRouterCheck from './app-router-check';\n\nfunction clearPreviousPages(router) {\n  appRouterCheck(router, 'clearPreviousPages');\n  const app = router.app;\n  const dynamicNavbar = router.dynamicNavbar;\n\n  const $pagesToRemove = router.$el.children('.page').filter((pageInView) => {\n    if (router.currentRoute && (router.currentRoute.modal || router.currentRoute.panel))\n      return true;\n    return pageInView !== router.currentPageEl;\n  });\n\n  $pagesToRemove.each((pageEl) => {\n    const $oldPageEl = $(pageEl);\n    const $oldNavbarEl = $(app.navbar.getElByPage($oldPageEl));\n    if (router.params.stackPages && router.initialPages.indexOf($oldPageEl[0]) >= 0) {\n      $oldPageEl.addClass('stacked');\n      if (dynamicNavbar) {\n        $oldNavbarEl.addClass('stacked');\n      }\n    } else {\n      // Page remove event\n      router.pageCallback('beforeRemove', $oldPageEl, $oldNavbarEl, 'previous', undefined, {});\n      router.removePage($oldPageEl);\n      if (dynamicNavbar && $oldNavbarEl.length) {\n        router.removeNavbar($oldNavbarEl);\n      }\n    }\n  });\n}\n\nfunction clearPreviousHistory() {\n  const router = this;\n  appRouterCheck(router, 'clearPreviousHistory');\n  const url = router.history[router.history.length - 1];\n\n  clearPreviousPages(router);\n\n  router.history = [url];\n  router.view.history = [url];\n  router.saveHistory();\n}\n\nexport { clearPreviousHistory }; // eslint-disable-line\n","import { getWindow, getDocument } from 'ssr-window';\nimport { pathToRegexp, compile } from 'path-to-regexp';\nimport $ from '../../shared/dom7';\nimport Framework7Class from '../../shared/class';\nimport {\n  extend,\n  nextFrame,\n  parseUrlQuery,\n  serializeObject,\n  now,\n  eventNameToColonCase,\n} from '../../shared/utils';\nimport History from '../../shared/history';\nimport SwipeBack from './swipe-back';\n\nimport { refreshPage, navigate } from './navigate';\nimport { tabLoad, tabRemove } from './tab';\nimport { modalLoad, modalRemove } from './modal';\nimport { back } from './back';\nimport { clearPreviousHistory } from './clear-previous-history';\nimport appRouterCheck from './app-router-check';\n\nclass Router extends Framework7Class {\n  constructor(app, view) {\n    super({}, [typeof view === 'undefined' ? app : view]);\n    const router = this;\n\n    // Is App Router\n    router.isAppRouter = typeof view === 'undefined';\n\n    if (router.isAppRouter) {\n      // App Router\n      extend(false, router, {\n        app,\n        params: app.params.view,\n        routes: app.routes || [],\n        cache: app.cache,\n      });\n    } else {\n      // View Router\n      extend(false, router, {\n        app,\n        view,\n        viewId: view.id,\n        id: view.params.routerId,\n        params: view.params,\n        routes: view.routes,\n        history: view.history,\n        scrollHistory: view.scrollHistory,\n        cache: app.cache,\n        dynamicNavbar: app.theme === 'ios' && view.params.iosDynamicNavbar,\n        initialPages: [],\n        initialNavbars: [],\n      });\n    }\n\n    // Install Modules\n    router.useModules();\n\n    // AllowPageChage\n    router.allowPageChange = true;\n\n    // Current Route\n    let currentRoute = {};\n    let previousRoute = {};\n    Object.defineProperty(router, 'currentRoute', {\n      enumerable: true,\n      configurable: true,\n      set(newRoute = {}) {\n        previousRoute = extend({}, currentRoute);\n        currentRoute = newRoute;\n        if (!currentRoute) return;\n        router.url = currentRoute.url;\n        router.emit('routeChange', newRoute, previousRoute, router);\n      },\n      get() {\n        return currentRoute;\n      },\n    });\n    Object.defineProperty(router, 'previousRoute', {\n      enumerable: true,\n      configurable: true,\n      get() {\n        return previousRoute;\n      },\n      set(newRoute) {\n        previousRoute = newRoute;\n      },\n    });\n\n    return router;\n  }\n\n  mount() {\n    const router = this;\n    const view = router.view;\n    const document = getDocument();\n\n    extend(false, router, {\n      tempDom: document.createElement('div'),\n      $el: view.$el,\n      el: view.el,\n      $navbarsEl: view.$navbarsEl,\n      navbarsEl: view.navbarsEl,\n    });\n\n    router.emit('local::mount routerMount', router);\n  }\n\n  animatableNavElements($newNavbarEl, $oldNavbarEl, toLarge, fromLarge, direction) {\n    const router = this;\n    const dynamicNavbar = router.dynamicNavbar;\n    const animateIcon = router.params.iosAnimateNavbarBackIcon;\n\n    let newNavEls;\n    let oldNavEls;\n    function animatableNavEl($el, $navbarInner) {\n      const isSliding = $el.hasClass('sliding') || $navbarInner.hasClass('sliding');\n      const isSubnavbar = $el.hasClass('subnavbar');\n      const needsOpacityTransition = isSliding ? !isSubnavbar : true;\n      const $iconEl = $el.find('.back .icon');\n      let isIconLabel;\n      if (\n        isSliding &&\n        animateIcon &&\n        $el.hasClass('left') &&\n        $iconEl.length > 0 &&\n        $iconEl.next('span').length\n      ) {\n        $el = $iconEl.next('span'); // eslint-disable-line\n        isIconLabel = true;\n      }\n      return {\n        $el,\n        isIconLabel,\n        leftOffset: $el[0].f7NavbarLeftOffset,\n        rightOffset: $el[0].f7NavbarRightOffset,\n        isSliding,\n        isSubnavbar,\n        needsOpacityTransition,\n      };\n    }\n    if (dynamicNavbar) {\n      newNavEls = [];\n      oldNavEls = [];\n      $newNavbarEl\n        .children('.navbar-inner')\n        .children('.left, .right, .title, .subnavbar')\n        .each((navEl) => {\n          const $navEl = $(navEl);\n          if ($navEl.hasClass('left') && fromLarge && direction === 'forward') return;\n          if ($navEl.hasClass('title') && toLarge) return;\n          newNavEls.push(animatableNavEl($navEl, $newNavbarEl.children('.navbar-inner')));\n        });\n      if (\n        !(\n          $oldNavbarEl.hasClass('navbar-master') &&\n          router.params.masterDetailBreakpoint > 0 &&\n          router.app.width >= router.params.masterDetailBreakpoint\n        )\n      ) {\n        $oldNavbarEl\n          .children('.navbar-inner')\n          .children('.left, .right, .title, .subnavbar')\n          .each((navEl) => {\n            const $navEl = $(navEl);\n            if ($navEl.hasClass('left') && toLarge && !fromLarge && direction === 'forward') return;\n            if ($navEl.hasClass('left') && toLarge && direction === 'backward') return;\n            if ($navEl.hasClass('title') && fromLarge) {\n              return;\n            }\n            oldNavEls.push(animatableNavEl($navEl, $oldNavbarEl.children('.navbar-inner')));\n          });\n      }\n      [oldNavEls, newNavEls].forEach((navEls) => {\n        navEls.forEach((navEl) => {\n          const n = navEl;\n          const { isSliding, $el } = navEl;\n          const otherEls = navEls === oldNavEls ? newNavEls : oldNavEls;\n          if (!(isSliding && $el.hasClass('title') && otherEls)) return;\n          otherEls.forEach((otherNavEl) => {\n            if (otherNavEl.isIconLabel) {\n              const iconTextEl = otherNavEl.$el[0];\n              n.leftOffset += iconTextEl ? iconTextEl.offsetLeft || 0 : 0;\n            }\n          });\n        });\n      });\n    }\n\n    return { newNavEls, oldNavEls };\n  }\n\n  animate($oldPageEl, $newPageEl, $oldNavbarEl, $newNavbarEl, direction, transition, callback) {\n    const router = this;\n    if (router.params.animateCustom) {\n      router.params.animateCustom.apply(router, [\n        $oldPageEl,\n        $newPageEl,\n        $oldNavbarEl,\n        $newNavbarEl,\n        direction,\n        callback,\n      ]);\n      return;\n    }\n    const dynamicNavbar = router.dynamicNavbar;\n    const ios = router.app.theme === 'ios';\n    if (transition) {\n      const routerCustomTransitionClass = `router-transition-custom router-transition-${transition}-${direction}`;\n      // Animate\n      const onCustomTransitionDone = () => {\n        router.$el.removeClass(routerCustomTransitionClass);\n        if (dynamicNavbar && router.$navbarsEl.length) {\n          if ($newNavbarEl) {\n            router.$navbarsEl.prepend($newNavbarEl);\n          }\n          if ($oldNavbarEl) {\n            router.$navbarsEl.prepend($oldNavbarEl);\n          }\n        }\n        if (callback) callback();\n      };\n\n      (direction === 'forward' ? $newPageEl : $oldPageEl).animationEnd(onCustomTransitionDone);\n      if (dynamicNavbar) {\n        if ($newNavbarEl && $newPageEl) {\n          router.setNavbarPosition($newNavbarEl, '');\n          $newNavbarEl.removeClass('navbar-next navbar-previous navbar-current');\n          $newPageEl.prepend($newNavbarEl);\n        }\n        if ($oldNavbarEl && $oldPageEl) {\n          router.setNavbarPosition($oldNavbarEl, '');\n          $oldNavbarEl.removeClass('navbar-next navbar-previous navbar-current');\n          $oldPageEl.prepend($oldNavbarEl);\n        }\n      }\n\n      router.$el.addClass(routerCustomTransitionClass);\n      return;\n    }\n\n    // Router Animation class\n    const routerTransitionClass = `router-transition-${direction} router-transition`;\n\n    let newNavEls;\n    let oldNavEls;\n\n    let fromLarge;\n    let toLarge;\n    let toDifferent;\n\n    let oldIsLarge;\n    let newIsLarge;\n\n    if (ios && dynamicNavbar) {\n      const betweenMasterAndDetail =\n        router.params.masterDetailBreakpoint > 0 &&\n        router.app.width >= router.params.masterDetailBreakpoint &&\n        (($oldNavbarEl.hasClass('navbar-master') &&\n          $newNavbarEl.hasClass('navbar-master-detail')) ||\n          ($oldNavbarEl.hasClass('navbar-master-detail') &&\n            $newNavbarEl.hasClass('navbar-master')));\n      if (!betweenMasterAndDetail) {\n        oldIsLarge = $oldNavbarEl && $oldNavbarEl.hasClass('navbar-large');\n        newIsLarge = $newNavbarEl && $newNavbarEl.hasClass('navbar-large');\n        fromLarge = oldIsLarge && !$oldNavbarEl.hasClass('navbar-large-collapsed');\n        toLarge = newIsLarge && !$newNavbarEl.hasClass('navbar-large-collapsed');\n        toDifferent = (fromLarge && !toLarge) || (toLarge && !fromLarge);\n      }\n      const navEls = router.animatableNavElements(\n        $newNavbarEl,\n        $oldNavbarEl,\n        toLarge,\n        fromLarge,\n        direction,\n      );\n      newNavEls = navEls.newNavEls;\n      oldNavEls = navEls.oldNavEls;\n    }\n\n    function animateNavbars(progress) {\n      if (!(ios && dynamicNavbar)) return;\n      if (progress === 1) {\n        if (toLarge) {\n          $newNavbarEl.addClass('router-navbar-transition-to-large');\n          $oldNavbarEl.addClass('router-navbar-transition-to-large');\n        }\n        if (fromLarge) {\n          $newNavbarEl.addClass('router-navbar-transition-from-large');\n          $oldNavbarEl.addClass('router-navbar-transition-from-large');\n        }\n      }\n      newNavEls.forEach((navEl) => {\n        const $el = navEl.$el;\n        const offset = direction === 'forward' ? navEl.rightOffset : navEl.leftOffset;\n        if (navEl.isSliding) {\n          if (navEl.isSubnavbar && newIsLarge) {\n            // prettier-ignore\n            $el[0].style.setProperty(\n              'transform',\n              `translate3d(${offset * (1 - progress)}px, calc(-1 * var(--f7-navbar-large-collapse-progress) * var(--f7-navbar-large-title-height)), 0)`,\n              'important',\n            );\n          } else {\n            $el.transform(`translate3d(${offset * (1 - progress)}px,0,0)`);\n          }\n        }\n      });\n      oldNavEls.forEach((navEl) => {\n        const $el = navEl.$el;\n        const offset = direction === 'forward' ? navEl.leftOffset : navEl.rightOffset;\n        if (navEl.isSliding) {\n          if (navEl.isSubnavbar && oldIsLarge) {\n            $el.transform(\n              `translate3d(${\n                offset * progress\n              }px, calc(-1 * var(--f7-navbar-large-collapse-progress) * var(--f7-navbar-large-title-height)), 0)`,\n            );\n          } else {\n            $el.transform(`translate3d(${offset * progress}px,0,0)`);\n          }\n        }\n      });\n    }\n\n    // AnimationEnd Callback\n    function onDone() {\n      if (router.dynamicNavbar) {\n        if ($newNavbarEl) {\n          $newNavbarEl.removeClass(\n            'router-navbar-transition-to-large router-navbar-transition-from-large',\n          );\n          $newNavbarEl.addClass('navbar-no-title-large-transition');\n          nextFrame(() => {\n            $newNavbarEl.removeClass('navbar-no-title-large-transition');\n          });\n        }\n        if ($oldNavbarEl) {\n          $oldNavbarEl.removeClass(\n            'router-navbar-transition-to-large router-navbar-transition-from-large',\n          );\n        }\n        if (\n          $newNavbarEl.hasClass('sliding') ||\n          $newNavbarEl.children('.navbar-inner.sliding').length\n        ) {\n          $newNavbarEl.find('.title, .left, .right, .left .icon, .subnavbar').transform('');\n        } else {\n          $newNavbarEl.find('.sliding').transform('');\n        }\n        if (\n          $oldNavbarEl.hasClass('sliding') ||\n          $oldNavbarEl.children('.navbar-inner.sliding').length\n        ) {\n          $oldNavbarEl.find('.title, .left, .right, .left .icon, .subnavbar').transform('');\n        } else {\n          $oldNavbarEl.find('.sliding').transform('');\n        }\n      }\n      router.$el.removeClass(routerTransitionClass);\n      if (callback) callback();\n    }\n\n    (direction === 'forward' ? $newPageEl : $oldPageEl).animationEnd(() => {\n      onDone();\n    });\n\n    // Animate\n    if (dynamicNavbar) {\n      // Prepare Navbars\n      animateNavbars(0);\n      nextFrame(() => {\n        // Add class, start animation\n        router.$el.addClass(routerTransitionClass);\n        if (toDifferent) {\n          // eslint-disable-next-line\n          router.el._clientLeft = router.el.clientLeft;\n        }\n        animateNavbars(1);\n      });\n    } else {\n      // Add class, start animation\n      router.$el.addClass(routerTransitionClass);\n    }\n  }\n\n  removeModal(modalEl) {\n    const router = this;\n    router.removeEl(modalEl);\n  }\n  // eslint-disable-next-line\n  removeTabContent(tabEl) {\n    const $tabEl = $(tabEl);\n    $tabEl.html('');\n  }\n\n  removeNavbar(el) {\n    const router = this;\n    router.removeEl(el);\n  }\n\n  removePage(el) {\n    const $el = $(el);\n    const f7Page = $el && $el[0] && $el[0].f7Page;\n    const router = this;\n    if (f7Page && f7Page.route && f7Page.route.route && f7Page.route.route.keepAlive) {\n      $el.remove();\n      return;\n    }\n    router.removeEl(el);\n  }\n\n  removeEl(el) {\n    if (!el) return;\n    const router = this;\n    const $el = $(el);\n    if ($el.length === 0) return;\n    $el.find('.tab').each((tabEl) => {\n      $(tabEl)\n        .children()\n        .each((tabChild) => {\n          if (tabChild.f7Component) {\n            $(tabChild).trigger('tab:beforeremove');\n            tabChild.f7Component.destroy();\n          }\n        });\n    });\n    if ($el[0].f7Component && $el[0].f7Component.destroy) {\n      $el[0].f7Component.destroy();\n    }\n    if (!router.params.removeElements) {\n      return;\n    }\n    if (router.params.removeElementsWithTimeout) {\n      setTimeout(() => {\n        $el.remove();\n      }, router.params.removeElementsTimeout);\n    } else {\n      $el.remove();\n    }\n  }\n\n  getPageEl(content) {\n    const router = this;\n    if (typeof content === 'string') {\n      router.tempDom.innerHTML = content;\n    } else {\n      if ($(content).hasClass('page')) {\n        return content;\n      }\n      router.tempDom.innerHTML = '';\n      $(router.tempDom).append(content);\n    }\n\n    return router.findElement('.page', router.tempDom);\n  }\n\n  findElement(stringSelector, container, notStacked) {\n    const router = this;\n    const view = router.view;\n    const app = router.app;\n\n    // Modals Selector\n    const modalsSelector =\n      '.popup, .dialog, .popover, .actions-modal, .sheet-modal, .login-screen, .page';\n\n    const $container = $(container);\n    let selector = stringSelector;\n    if (notStacked) selector += ':not(.stacked)';\n\n    let found = $container\n      .find(selector)\n      .filter((el) => $(el).parents(modalsSelector).length === 0);\n\n    if (found.length > 1) {\n      if (typeof view.selector === 'string') {\n        // Search in related view\n        found = $container.find(`${view.selector} ${selector}`);\n      }\n      if (found.length > 1) {\n        // Search in main view\n        found = $container.find(`.${app.params.viewMainClass} ${selector}`);\n      }\n    }\n    if (found.length === 1) return found;\n\n    // Try to find not stacked\n    if (!notStacked) found = router.findElement(selector, $container, true);\n    if (found && found.length === 1) return found;\n    if (found && found.length > 1) return $(found[0]);\n    return undefined;\n  }\n\n  flattenRoutes(routes = this.routes) {\n    const router = this;\n    let flattenedRoutes = [];\n    routes.forEach((route) => {\n      let hasTabRoutes = false;\n      if ('tabs' in route && route.tabs) {\n        const mergedPathsRoutes = route.tabs.map((tabRoute) => {\n          const tRoute = extend({}, route, {\n            path: `${route.path}/${tabRoute.path}`.replace('///', '/').replace('//', '/'),\n            parentPath: route.path,\n            tab: tabRoute,\n          });\n          delete tRoute.tabs;\n          delete tRoute.routes;\n          return tRoute;\n        });\n        hasTabRoutes = true;\n        flattenedRoutes = flattenedRoutes.concat(router.flattenRoutes(mergedPathsRoutes));\n      }\n      if ('detailRoutes' in route) {\n        const mergedPathsRoutes = route.detailRoutes.map((detailRoute) => {\n          const dRoute = extend({}, detailRoute);\n          dRoute.masterRoute = route;\n          dRoute.masterRoutePath = route.path;\n          return dRoute;\n        });\n        flattenedRoutes = flattenedRoutes.concat(route, router.flattenRoutes(mergedPathsRoutes));\n      }\n      if ('routes' in route) {\n        const mergedPathsRoutes = route.routes.map((childRoute) => {\n          const cRoute = extend({}, childRoute);\n          cRoute.path = `${route.path}/${cRoute.path}`.replace('///', '/').replace('//', '/');\n          return cRoute;\n        });\n        if (hasTabRoutes) {\n          flattenedRoutes = flattenedRoutes.concat(router.flattenRoutes(mergedPathsRoutes));\n        } else {\n          flattenedRoutes = flattenedRoutes.concat(route, router.flattenRoutes(mergedPathsRoutes));\n        }\n      }\n      if (!('routes' in route) && !('tabs' in route && route.tabs) && !('detailRoutes' in route)) {\n        flattenedRoutes.push(route);\n      }\n    });\n    return flattenedRoutes;\n  }\n\n  // eslint-disable-next-line\n  parseRouteUrl(url) {\n    if (!url) return {};\n    const query = parseUrlQuery(url);\n    const hash = url.split('#')[1];\n    const params = {};\n    const path = url.split('#')[0].split('?')[0];\n    return {\n      query,\n      hash,\n      params,\n      url,\n      path,\n    };\n  }\n\n  generateUrl(parameters = {}) {\n    if (typeof parameters === 'string') {\n      return parameters;\n    }\n    const { name, path, params, query } = parameters;\n    if (!name && !path) {\n      throw new Error('Framework7: \"name\" or \"path\" parameter is required');\n    }\n    const router = this;\n    const route = name ? router.findRouteByKey('name', name) : router.findRouteByKey('path', path);\n\n    if (!route) {\n      if (name) {\n        throw new Error(`Framework7: route with name \"${name}\" not found`);\n      } else {\n        throw new Error(`Framework7: route with path \"${path}\" not found`);\n      }\n    }\n    const url = router.constructRouteUrl(route, { params, query });\n    if (!url) {\n      throw new Error(`Framework7: can't construct URL for route with name \"${name}\"`);\n    }\n    return url;\n  }\n\n  // eslint-disable-next-line\n  constructRouteUrl(route, { params, query } = {}) {\n    const { path } = route;\n    const toUrl = compile(path);\n    let url;\n    try {\n      url = toUrl(params || {});\n    } catch (error) {\n      throw new Error(\n        `Framework7: error constructing route URL from passed params:\\nRoute: ${path}\\n${error.toString()}`,\n      );\n    }\n\n    if (query) {\n      if (typeof query === 'string') url += `?${query}`;\n      else if (Object.keys(query).length) url += `?${serializeObject(query)}`;\n    }\n\n    return url;\n  }\n\n  findTabRouteUrl(tabEl) {\n    const router = this;\n    const $tabEl = $(tabEl);\n    const parentPath = router.currentRoute.route.parentPath;\n    const tabId = $tabEl.attr('id');\n    const flattenedRoutes = router.flattenRoutes(router.routes);\n    let foundTabRouteUrl;\n    flattenedRoutes.forEach((route) => {\n      if (route.parentPath === parentPath && route.tab && route.tab.id === tabId) {\n        if (router.currentRoute.params && Object.keys(router.currentRoute.params).length > 0) {\n          foundTabRouteUrl = router.constructRouteUrl(route, {\n            params: router.currentRoute.params,\n            query: router.currentRoute.query,\n          });\n        } else {\n          foundTabRouteUrl = route.path;\n        }\n      }\n    });\n    return foundTabRouteUrl;\n  }\n\n  findRouteByKey(key, value) {\n    const router = this;\n    const routes = router.routes;\n    const flattenedRoutes = router.flattenRoutes(routes);\n    let matchingRoute;\n\n    flattenedRoutes.forEach((route) => {\n      if (matchingRoute) return;\n      if (route[key] === value) {\n        matchingRoute = route;\n      }\n    });\n    return matchingRoute;\n  }\n\n  findMatchingRoute(url) {\n    if (!url) return undefined;\n    const router = this;\n    const routes = router.routes;\n    const flattenedRoutes = router.flattenRoutes(routes);\n    const { path, query, hash, params } = router.parseRouteUrl(url);\n    let matchingRoute;\n    flattenedRoutes.forEach((route) => {\n      if (matchingRoute) return;\n      const keys = [];\n\n      const pathsToMatch = [route.path];\n      if (route.alias) {\n        if (typeof route.alias === 'string') pathsToMatch.push(route.alias);\n        else if (Array.isArray(route.alias)) {\n          route.alias.forEach((aliasPath) => {\n            pathsToMatch.push(aliasPath);\n          });\n        }\n      }\n\n      let matched;\n      pathsToMatch.forEach((pathToMatch) => {\n        if (matched) return;\n        matched = pathToRegexp(pathToMatch, keys).exec(path);\n      });\n\n      if (matched) {\n        keys.forEach((keyObj, index) => {\n          if (typeof keyObj.name === 'number') return;\n          const paramValue = matched[index + 1];\n          if (typeof paramValue === 'undefined' || paramValue === null) {\n            params[keyObj.name] = paramValue;\n          } else {\n            params[keyObj.name] = decodeURIComponent(paramValue);\n          }\n        });\n\n        let parentPath;\n        if (route.parentPath) {\n          parentPath = path\n            .split('/')\n            .slice(0, route.parentPath.split('/').length - 1)\n            .join('/');\n        }\n\n        matchingRoute = {\n          query,\n          hash,\n          params,\n          url,\n          path,\n          parentPath,\n          route,\n          name: route.name,\n        };\n      }\n    });\n    return matchingRoute;\n  }\n\n  // eslint-disable-next-line\n  replaceRequestUrlParams(url = '', options = {}) {\n    let compiledUrl = url;\n    if (\n      typeof compiledUrl === 'string' &&\n      compiledUrl.indexOf('{{') >= 0 &&\n      options &&\n      options.route &&\n      options.route.params &&\n      Object.keys(options.route.params).length\n    ) {\n      Object.keys(options.route.params).forEach((paramName) => {\n        const regExp = new RegExp(`{{${paramName}}}`, 'g');\n        compiledUrl = compiledUrl.replace(regExp, options.route.params[paramName] || '');\n      });\n    }\n    return compiledUrl;\n  }\n\n  removeFromXhrCache(url) {\n    const router = this;\n    const xhrCache = router.cache.xhr;\n    let index = false;\n    for (let i = 0; i < xhrCache.length; i += 1) {\n      if (xhrCache[i].url === url) index = i;\n    }\n    if (index !== false) xhrCache.splice(index, 1);\n  }\n\n  xhrRequest(requestUrl, options) {\n    const router = this;\n    const params = router.params;\n    const { ignoreCache } = options;\n    let url = requestUrl;\n\n    let hasQuery = url.indexOf('?') >= 0;\n    if (\n      params.passRouteQueryToRequest &&\n      options &&\n      options.route &&\n      options.route.query &&\n      Object.keys(options.route.query).length\n    ) {\n      url += `${hasQuery ? '&' : '?'}${serializeObject(options.route.query)}`;\n      hasQuery = true;\n    }\n\n    if (\n      params.passRouteParamsToRequest &&\n      options &&\n      options.route &&\n      options.route.params &&\n      Object.keys(options.route.params).length\n    ) {\n      url += `${hasQuery ? '&' : '?'}${serializeObject(options.route.params)}`;\n      hasQuery = true;\n    }\n\n    if (url.indexOf('{{') >= 0) {\n      url = router.replaceRequestUrlParams(url, options);\n    }\n    // should we ignore get params or not\n    if (params.xhrCacheIgnoreGetParameters && url.indexOf('?') >= 0) {\n      url = url.split('?')[0];\n    }\n    return new Promise((resolve, reject) => {\n      if (\n        params.xhrCache &&\n        !ignoreCache &&\n        url.indexOf('nocache') < 0 &&\n        params.xhrCacheIgnore.indexOf(url) < 0\n      ) {\n        for (let i = 0; i < router.cache.xhr.length; i += 1) {\n          const cachedUrl = router.cache.xhr[i];\n          if (cachedUrl.url === url) {\n            // Check expiration\n            if (now() - cachedUrl.time < params.xhrCacheDuration) {\n              // Load from cache\n              resolve(cachedUrl.content);\n              return;\n            }\n          }\n        }\n      }\n      router.xhrAbortController = router.app.request.abortController();\n      router.app.request({\n        abortController: router.xhrAbortController,\n        url,\n        method: 'GET',\n        beforeSend(xhr) {\n          router.emit('routerAjaxStart', xhr, options);\n        },\n        complete(xhr, status) {\n          router.emit('routerAjaxComplete', xhr);\n          if (\n            (status !== 'error' && status !== 'timeout' && xhr.status >= 200 && xhr.status < 300) ||\n            xhr.status === 0\n          ) {\n            if (params.xhrCache && xhr.responseText !== '') {\n              router.removeFromXhrCache(url);\n              router.cache.xhr.push({\n                url,\n                time: now(),\n                content: xhr.responseText,\n              });\n            }\n            router.emit('routerAjaxSuccess', xhr, options);\n            resolve(xhr.responseText);\n          } else {\n            router.emit('routerAjaxError', xhr, options);\n            reject(xhr);\n          }\n        },\n        error(xhr) {\n          router.emit('routerAjaxError', xhr, options);\n          reject(xhr);\n        },\n      });\n    });\n  }\n\n  setNavbarPosition($el, position, ariaHidden) {\n    const router = this;\n    $el.removeClass('navbar-previous navbar-current navbar-next');\n    if (position) {\n      $el.addClass(`navbar-${position}`);\n    }\n\n    if (ariaHidden === false) {\n      $el.removeAttr('aria-hidden');\n    } else if (ariaHidden === true) {\n      $el.attr('aria-hidden', 'true');\n    }\n    $el.trigger('navbar:position', { position });\n    router.emit('navbarPosition', $el[0], position);\n  }\n\n  setPagePosition($el, position, ariaHidden) {\n    const router = this;\n    $el.removeClass('page-previous page-current page-next');\n    $el.addClass(`page-${position}`);\n    if (ariaHidden === false) {\n      $el.removeAttr('aria-hidden');\n    } else if (ariaHidden === true) {\n      $el.attr('aria-hidden', 'true');\n    }\n    $el.trigger('page:position', { position });\n    router.emit('pagePosition', $el[0], position);\n  }\n\n  // Remove theme elements\n  removeThemeElements(el) {\n    const router = this;\n    const theme = router.app.theme;\n    let toRemove;\n    if (theme === 'ios') {\n      toRemove = '.md-only, .aurora-only, .if-md, .if-aurora, .if-not-ios, .not-ios';\n    } else if (theme === 'md') {\n      toRemove = '.ios-only, .aurora-only, .if-ios, .if-aurora, .if-not-md, .not-md';\n    } else if (theme === 'aurora') {\n      toRemove = '.ios-only, .md-only, .if-ios, .if-md, .if-not-aurora, .not-aurora';\n    }\n    $(el).find(toRemove).remove();\n  }\n\n  getPageData(pageEl, navbarEl, from, to, route = {}, pageFromEl) {\n    const router = this;\n    const $pageEl = $(pageEl).eq(0);\n    const $navbarEl = $(navbarEl).eq(0);\n    const currentPage = $pageEl[0].f7Page || {};\n    let direction;\n    let pageFrom;\n    if ((from === 'next' && to === 'current') || (from === 'current' && to === 'previous'))\n      direction = 'forward';\n    if ((from === 'current' && to === 'next') || (from === 'previous' && to === 'current'))\n      direction = 'backward';\n    if (currentPage && !currentPage.fromPage) {\n      const $pageFromEl = $(pageFromEl);\n      if ($pageFromEl.length) {\n        pageFrom = $pageFromEl[0].f7Page;\n      }\n    }\n    pageFrom = currentPage.pageFrom || pageFrom;\n    if (pageFrom && pageFrom.pageFrom) {\n      pageFrom.pageFrom = null;\n    }\n    const page = {\n      app: router.app,\n      view: router.view,\n      router,\n      $el: $pageEl,\n      el: $pageEl[0],\n      $pageEl,\n      pageEl: $pageEl[0],\n      $navbarEl,\n      navbarEl: $navbarEl[0],\n      name: $pageEl.attr('data-name'),\n      position: from,\n      from,\n      to,\n      direction,\n      route: currentPage.route ? currentPage.route : route,\n      pageFrom,\n    };\n\n    $pageEl[0].f7Page = page;\n    return page;\n  }\n\n  // Callbacks\n  pageCallback(callback, pageEl, navbarEl, from, to, options = {}, pageFromEl) {\n    if (!pageEl) return;\n    const router = this;\n    const $pageEl = $(pageEl);\n    if (!$pageEl.length) return;\n    const $navbarEl = $(navbarEl);\n    const { route } = options;\n    const restoreScrollTopOnBack =\n      router.params.restoreScrollTopOnBack &&\n      !(\n        router.params.masterDetailBreakpoint > 0 &&\n        $pageEl.hasClass('page-master') &&\n        router.app.width >= router.params.masterDetailBreakpoint\n      );\n    const keepAlive =\n      $pageEl[0].f7Page &&\n      $pageEl[0].f7Page.route &&\n      $pageEl[0].f7Page.route.route &&\n      $pageEl[0].f7Page.route.route.keepAlive;\n\n    if (callback === 'beforeRemove' && keepAlive) {\n      callback = 'beforeUnmount'; // eslint-disable-line\n    }\n\n    const camelName = `page${callback[0].toUpperCase() + callback.slice(1, callback.length)}`;\n    const colonName = `page:${callback.toLowerCase()}`;\n\n    let page = {};\n    if (callback === 'beforeRemove' && $pageEl[0].f7Page) {\n      page = extend($pageEl[0].f7Page, { from, to, position: from });\n    } else {\n      page = router.getPageData($pageEl[0], $navbarEl[0], from, to, route, pageFromEl);\n    }\n    page.swipeBack = !!options.swipeBack;\n\n    const { on = {}, once = {} } = options.route ? options.route.route : {};\n    if (options.on) {\n      extend(on, options.on);\n    }\n    if (options.once) {\n      extend(once, options.once);\n    }\n\n    function attachEvents() {\n      if ($pageEl[0].f7RouteEventsAttached) return;\n      $pageEl[0].f7RouteEventsAttached = true;\n      if (on && Object.keys(on).length > 0) {\n        $pageEl[0].f7RouteEventsOn = on;\n        Object.keys(on).forEach((eventName) => {\n          on[eventName] = on[eventName].bind(router);\n          $pageEl.on(eventNameToColonCase(eventName), on[eventName]);\n        });\n      }\n      if (once && Object.keys(once).length > 0) {\n        $pageEl[0].f7RouteEventsOnce = once;\n        Object.keys(once).forEach((eventName) => {\n          once[eventName] = once[eventName].bind(router);\n          $pageEl.once(eventNameToColonCase(eventName), once[eventName]);\n        });\n      }\n    }\n\n    function detachEvents() {\n      if (!$pageEl[0].f7RouteEventsAttached) return;\n      if ($pageEl[0].f7RouteEventsOn) {\n        Object.keys($pageEl[0].f7RouteEventsOn).forEach((eventName) => {\n          $pageEl.off(eventNameToColonCase(eventName), $pageEl[0].f7RouteEventsOn[eventName]);\n        });\n      }\n      if ($pageEl[0].f7RouteEventsOnce) {\n        Object.keys($pageEl[0].f7RouteEventsOnce).forEach((eventName) => {\n          $pageEl.off(eventNameToColonCase(eventName), $pageEl[0].f7RouteEventsOnce[eventName]);\n        });\n      }\n      $pageEl[0].f7RouteEventsAttached = null;\n      $pageEl[0].f7RouteEventsOn = null;\n      $pageEl[0].f7RouteEventsOnce = null;\n      delete $pageEl[0].f7RouteEventsAttached;\n      delete $pageEl[0].f7RouteEventsOn;\n      delete $pageEl[0].f7RouteEventsOnce;\n    }\n\n    if (callback === 'mounted') {\n      attachEvents();\n    }\n    if (callback === 'init') {\n      if (\n        restoreScrollTopOnBack &&\n        (from === 'previous' || !from) &&\n        to === 'current' &&\n        router.scrollHistory[page.route.url] &&\n        !$pageEl.hasClass('no-restore-scroll')\n      ) {\n        let $pageContent = $pageEl.find('.page-content');\n        if ($pageContent.length > 0) {\n          // eslint-disable-next-line\n          $pageContent = $pageContent.filter((pageContentEl) => {\n            return (\n              $(pageContentEl).parents('.tab:not(.tab-active)').length === 0 &&\n              !$(pageContentEl).is('.tab:not(.tab-active)')\n            );\n          });\n        }\n        $pageContent.scrollTop(router.scrollHistory[page.route.url]);\n      }\n      attachEvents();\n      if ($pageEl[0].f7PageInitialized) {\n        $pageEl.trigger('page:reinit', page);\n        router.emit('pageReinit', page);\n        return;\n      }\n      $pageEl[0].f7PageInitialized = true;\n    }\n    if (\n      restoreScrollTopOnBack &&\n      callback === 'beforeOut' &&\n      from === 'current' &&\n      to === 'previous'\n    ) {\n      // Save scroll position\n      let $pageContent = $pageEl.find('.page-content');\n      if ($pageContent.length > 0) {\n        // eslint-disable-next-line\n        $pageContent = $pageContent.filter((pageContentEl) => {\n          return (\n            $(pageContentEl).parents('.tab:not(.tab-active)').length === 0 &&\n            !$(pageContentEl).is('.tab:not(.tab-active)')\n          );\n        });\n      }\n      router.scrollHistory[page.route.url] = $pageContent.scrollTop();\n    }\n    if (restoreScrollTopOnBack && callback === 'beforeOut' && from === 'current' && to === 'next') {\n      // Delete scroll position\n      delete router.scrollHistory[page.route.url];\n    }\n\n    $pageEl.trigger(colonName, page);\n    router.emit(camelName, page);\n\n    if (callback === 'beforeRemove' || callback === 'beforeUnmount') {\n      detachEvents();\n      if (!keepAlive) {\n        if ($pageEl[0].f7Page && $pageEl[0].f7Page.navbarEl) {\n          delete $pageEl[0].f7Page.navbarEl.f7Page;\n        }\n        $pageEl[0].f7Page = null;\n      }\n    }\n  }\n\n  saveHistory() {\n    const router = this;\n    const window = getWindow();\n    router.view.history = router.history;\n    if (\n      router.params.browserHistory &&\n      router.params.browserHistoryStoreHistory &&\n      window.localStorage\n    ) {\n      window.localStorage[`f7router-${router.view.id}-history`] = JSON.stringify(router.history);\n    }\n  }\n\n  restoreHistory() {\n    const router = this;\n    const window = getWindow();\n    if (\n      router.params.browserHistory &&\n      router.params.browserHistoryStoreHistory &&\n      window.localStorage &&\n      window.localStorage[`f7router-${router.view.id}-history`]\n    ) {\n      router.history = JSON.parse(window.localStorage[`f7router-${router.view.id}-history`]);\n      router.view.history = router.history;\n    }\n  }\n\n  clearHistory() {\n    const router = this;\n    router.history = [];\n    if (router.view) router.view.history = [];\n    router.saveHistory();\n  }\n\n  updateCurrentUrl(newUrl) {\n    const router = this;\n    appRouterCheck(router, 'updateCurrentUrl');\n    // Update history\n    if (router.history.length) {\n      router.history[router.history.length - 1] = newUrl;\n    } else {\n      router.history.push(newUrl);\n    }\n\n    // Update current route params\n    const { query, hash, params, url, path } = router.parseRouteUrl(newUrl);\n    if (router.currentRoute) {\n      extend(router.currentRoute, {\n        query,\n        hash,\n        params,\n        url,\n        path,\n      });\n    }\n\n    if (router.params.browserHistory) {\n      const browserHistoryRoot = router.params.browserHistoryRoot || '';\n      History.replace(\n        router.view.id,\n        {\n          url: newUrl,\n        },\n        browserHistoryRoot + router.params.browserHistorySeparator + newUrl,\n      );\n    }\n\n    // Save History\n    router.saveHistory();\n\n    router.emit('routeUrlUpdate', router.currentRoute, router);\n  }\n\n  getInitialUrl() {\n    const router = this;\n    if (router.initialUrl) {\n      return {\n        initialUrl: router.initialUrl,\n        historyRestored: router.historyRestored,\n      };\n    }\n    const { app, view } = router;\n    const document = getDocument();\n    const window = getWindow();\n\n    const location =\n      app.params.url && typeof app.params.url === 'string' && typeof URL !== 'undefined'\n        ? new URL(app.params.url)\n        : document.location;\n\n    let initialUrl = router.params.url;\n    let documentUrl = location.href.split(location.origin)[1];\n    let historyRestored;\n    const { browserHistory, browserHistoryOnLoad, browserHistorySeparator } = router.params;\n    let { browserHistoryRoot } = router.params;\n    if (\n      (window.cordova || (window.Capacitor && window.Capacitor.isNative)) &&\n      browserHistory &&\n      !browserHistorySeparator &&\n      !browserHistoryRoot &&\n      location.pathname.indexOf('index.html')\n    ) {\n      // eslint-disable-next-line\n      console.warn(\n        'Framework7: wrong or not complete browserHistory configuration, trying to guess browserHistoryRoot',\n      );\n      browserHistoryRoot = location.pathname.split('index.html')[0];\n    }\n    if (!browserHistory || !browserHistoryOnLoad) {\n      if (!initialUrl) {\n        initialUrl = documentUrl;\n      }\n      if (location.search && initialUrl.indexOf('?') < 0) {\n        initialUrl += location.search;\n      }\n      if (location.hash && initialUrl.indexOf('#') < 0) {\n        initialUrl += location.hash;\n      }\n    } else {\n      if (browserHistoryRoot && documentUrl.indexOf(browserHistoryRoot) >= 0) {\n        documentUrl = documentUrl.split(browserHistoryRoot)[1];\n        if (documentUrl === '') documentUrl = '/';\n      }\n      if (browserHistorySeparator.length > 0 && documentUrl.indexOf(browserHistorySeparator) >= 0) {\n        initialUrl = documentUrl.split(browserHistorySeparator)[1];\n      } else {\n        initialUrl = documentUrl;\n      }\n      router.restoreHistory();\n      if (router.history.indexOf(initialUrl) >= 0) {\n        router.history = router.history.slice(0, router.history.indexOf(initialUrl) + 1);\n      } else if (router.params.url === initialUrl) {\n        router.history = [initialUrl];\n      } else if (\n        History.state &&\n        History.state[view.id] &&\n        History.state[view.id].url === router.history[router.history.length - 1]\n      ) {\n        initialUrl = router.history[router.history.length - 1];\n      } else {\n        router.history = [documentUrl.split(browserHistorySeparator)[0] || '/', initialUrl];\n      }\n      if (router.history.length > 1) {\n        historyRestored = true;\n      } else {\n        router.history = [];\n      }\n      router.saveHistory();\n    }\n\n    router.initialUrl = initialUrl;\n    router.historyRestored = historyRestored;\n\n    return { initialUrl, historyRestored };\n  }\n\n  init() {\n    const router = this;\n    const { app, view } = router;\n    const document = getDocument();\n\n    router.mount();\n\n    const { initialUrl, historyRestored } = router.getInitialUrl();\n\n    // Init Swipeback\n    if (\n      (view && router.params.iosSwipeBack && app.theme === 'ios') ||\n      (view && router.params.mdSwipeBack && app.theme === 'md') ||\n      (view && router.params.auroraSwipeBack && app.theme === 'aurora')\n    ) {\n      SwipeBack(router);\n    }\n\n    const {\n      browserHistory,\n      browserHistoryOnLoad,\n      browserHistoryAnimateOnLoad,\n      browserHistoryInitialMatch,\n    } = router.params;\n\n    let currentRoute;\n    if (router.history.length > 1) {\n      // Will load page\n      const initUrl = browserHistoryInitialMatch ? initialUrl : router.history[0];\n      currentRoute = router.findMatchingRoute(initUrl);\n      if (!currentRoute) {\n        currentRoute = extend(router.parseRouteUrl(initUrl), {\n          route: {\n            url: initUrl,\n            path: initUrl.split('?')[0],\n          },\n        });\n      }\n    } else {\n      // Don't load page\n      currentRoute = router.findMatchingRoute(initialUrl);\n      if (!currentRoute) {\n        currentRoute = extend(router.parseRouteUrl(initialUrl), {\n          route: {\n            url: initialUrl,\n            path: initialUrl.split('?')[0],\n          },\n        });\n      }\n    }\n\n    if (router.params.stackPages) {\n      router.$el.children('.page').each((pageEl) => {\n        const $pageEl = $(pageEl);\n        router.initialPages.push($pageEl[0]);\n        if (router.dynamicNavbar && $pageEl.children('.navbar').length > 0) {\n          router.initialNavbars.push($pageEl.children('.navbar')[0]);\n        }\n      });\n    }\n\n    if (\n      router.$el.children('.page:not(.stacked)').length === 0 &&\n      initialUrl &&\n      router.params.loadInitialPage\n    ) {\n      // No pages presented in DOM, reload new page\n      router.navigate(initialUrl, {\n        initial: true,\n        reloadCurrent: true,\n        browserHistory: false,\n        animate: false,\n        once: {\n          modalOpen() {\n            if (!historyRestored) return;\n            const preloadPreviousPage =\n              router.params.preloadPreviousPage || router.params[`${app.theme}SwipeBack`];\n            if (preloadPreviousPage && router.history.length > 1) {\n              router.back({ preload: true });\n            }\n          },\n          pageAfterIn() {\n            if (!historyRestored) return;\n            const preloadPreviousPage =\n              router.params.preloadPreviousPage || router.params[`${app.theme}SwipeBack`];\n            if (preloadPreviousPage && router.history.length > 1) {\n              router.back({ preload: true });\n            }\n          },\n        },\n      });\n    } else if (router.$el.children('.page:not(.stacked)').length) {\n      // Init current DOM page\n      let hasTabRoute;\n      router.currentRoute = currentRoute;\n      router.$el.children('.page:not(.stacked)').each((pageEl) => {\n        const $pageEl = $(pageEl);\n        let $navbarEl;\n        router.setPagePosition($pageEl, 'current');\n        if (router.dynamicNavbar) {\n          $navbarEl = $pageEl.children('.navbar');\n          if ($navbarEl.length > 0) {\n            if (!router.$navbarsEl.parents(document).length) {\n              router.$el.prepend(router.$navbarsEl);\n            }\n            router.setNavbarPosition($navbarEl, 'current');\n            router.$navbarsEl.append($navbarEl);\n            if ($navbarEl.children('.title-large').length) {\n              $navbarEl.addClass('navbar-large');\n            }\n            $pageEl.children('.navbar').remove();\n          } else {\n            router.$navbarsEl.addClass('navbar-hidden');\n            if ($navbarEl.children('.title-large').length) {\n              router.$navbarsEl.addClass('navbar-hidden navbar-large-hidden');\n            }\n          }\n        }\n        if (\n          router.currentRoute &&\n          router.currentRoute.route &&\n          (router.currentRoute.route.master === true ||\n            (typeof router.currentRoute.route.master === 'function' &&\n              router.currentRoute.route.master(app, router))) &&\n          router.params.masterDetailBreakpoint > 0\n        ) {\n          $pageEl.addClass('page-master');\n          $pageEl.trigger('page:role', { role: 'master' });\n          if ($navbarEl && $navbarEl.length) {\n            $navbarEl.addClass('navbar-master');\n          }\n          view.checkMasterDetailBreakpoint();\n        }\n        const initOptions = {\n          route: router.currentRoute,\n        };\n        if (router.currentRoute && router.currentRoute.route && router.currentRoute.route.options) {\n          extend(initOptions, router.currentRoute.route.options);\n        }\n        router.currentPageEl = $pageEl[0];\n        if (router.dynamicNavbar && $navbarEl.length) {\n          router.currentNavbarEl = $navbarEl[0];\n        }\n        router.removeThemeElements($pageEl);\n        if (router.dynamicNavbar && $navbarEl.length) {\n          router.removeThemeElements($navbarEl);\n        }\n        if (initOptions.route.route.tab) {\n          hasTabRoute = true;\n          router.tabLoad(initOptions.route.route.tab, extend({}, initOptions));\n        }\n        router.pageCallback('init', $pageEl, $navbarEl, 'current', undefined, initOptions);\n        router.pageCallback('beforeIn', $pageEl, $navbarEl, 'current', undefined, initOptions);\n        router.pageCallback('afterIn', $pageEl, $navbarEl, 'current', undefined, initOptions);\n      });\n      if (historyRestored) {\n        if (browserHistoryInitialMatch) {\n          const preloadPreviousPage =\n            router.params.preloadPreviousPage || router.params[`${app.theme}SwipeBack`];\n          if (preloadPreviousPage && router.history.length > 1) {\n            router.back({ preload: true });\n          }\n        } else {\n          router.navigate(initialUrl, {\n            initial: true,\n            browserHistory: false,\n            history: false,\n            animate: browserHistoryAnimateOnLoad,\n            once: {\n              pageAfterIn() {\n                const preloadPreviousPage =\n                  router.params.preloadPreviousPage || router.params[`${app.theme}SwipeBack`];\n                if (preloadPreviousPage && router.history.length > 2) {\n                  router.back({ preload: true });\n                }\n              },\n            },\n          });\n        }\n      }\n      if (!historyRestored && !hasTabRoute) {\n        router.history.push(initialUrl);\n        router.saveHistory();\n      }\n    }\n    if (\n      initialUrl &&\n      browserHistory &&\n      browserHistoryOnLoad &&\n      (!History.state || !History.state[view.id])\n    ) {\n      History.initViewState(view.id, {\n        url: initialUrl,\n      });\n    }\n    router.emit('local::init routerInit', router);\n  }\n\n  destroy() {\n    let router = this;\n\n    router.emit('local::destroy routerDestroy', router);\n\n    // Delete props & methods\n    Object.keys(router).forEach((routerProp) => {\n      router[routerProp] = null;\n      delete router[routerProp];\n    });\n\n    router = null;\n  }\n}\n\n// Load\nRouter.prototype.navigate = navigate;\nRouter.prototype.refreshPage = refreshPage;\n// Tab\nRouter.prototype.tabLoad = tabLoad;\nRouter.prototype.tabRemove = tabRemove;\n// Modal\nRouter.prototype.modalLoad = modalLoad;\nRouter.prototype.modalRemove = modalRemove;\n// Back\nRouter.prototype.back = back;\n// Clear history\nRouter.prototype.clearPreviousHistory = clearPreviousHistory;\n\nexport default Router;\n","import Router from './router-class';\n\nexport default {\n  name: 'router',\n  static: {\n    Router,\n  },\n  instance: {\n    cache: {\n      xhr: [],\n      templates: [],\n      components: [],\n    },\n  },\n  create() {\n    const instance = this;\n    if (instance.app) {\n      // View Router\n      if (instance.params.router) {\n        instance.router = new Router(instance.app, instance);\n      }\n    } else {\n      // App Router\n      instance.router = new Router(instance);\n    }\n  },\n};\n","import $ from '../../shared/dom7';\nimport { extend } from '../../shared/utils';\nimport { getSupport } from '../../shared/get-support';\n\nfunction resizableView(view) {\n  const app = view.app;\n  const support = getSupport();\n  if (view.resizableInitialized) return;\n  extend(view, {\n    resizable: true,\n    resizableWidth: null,\n    resizableInitialized: true,\n  });\n  const $htmlEl = $('html');\n  const { $el } = view;\n  if (!$el) return;\n\n  let $resizeHandlerEl;\n\n  let isTouched;\n  let isMoved;\n  const touchesStart = {};\n  let touchesDiff;\n  let width;\n\n  let minWidth;\n  let maxWidth;\n\n  function transformCSSWidth(v) {\n    if (!v) return null;\n    if (v.indexOf('%') >= 0 || v.indexOf('vw') >= 0) {\n      return (parseInt(v, 10) / 100) * app.width;\n    }\n    const newV = parseInt(v, 10);\n    if (Number.isNaN(newV)) return null;\n    return newV;\n  }\n\n  function isResizable() {\n    return view.resizable && $el.hasClass('view-resizable') && $el.hasClass('view-master-detail');\n  }\n\n  function handleTouchStart(e) {\n    if (!isResizable()) return;\n    touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n    touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n    isMoved = false;\n    isTouched = true;\n    const $pageMasterEl = $el.children('.page-master');\n    minWidth = transformCSSWidth($pageMasterEl.css('min-width'));\n    maxWidth = transformCSSWidth($pageMasterEl.css('max-width'));\n  }\n  function handleTouchMove(e) {\n    if (!isTouched) return;\n    e.f7PreventSwipePanel = true;\n    const pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n\n    if (!isMoved) {\n      width = $resizeHandlerEl[0].offsetLeft + $resizeHandlerEl[0].offsetWidth;\n      $el.addClass('view-resizing');\n      $htmlEl.css('cursor', 'col-resize');\n    }\n\n    isMoved = true;\n\n    e.preventDefault();\n\n    touchesDiff = pageX - touchesStart.x;\n\n    let newWidth = width + touchesDiff;\n    if (minWidth && !Number.isNaN(minWidth)) {\n      newWidth = Math.max(newWidth, minWidth);\n    }\n    if (maxWidth && !Number.isNaN(maxWidth)) {\n      newWidth = Math.min(newWidth, maxWidth);\n    }\n    newWidth = Math.min(Math.max(newWidth, 0), app.width);\n\n    view.resizableWidth = newWidth;\n    $htmlEl[0].style.setProperty('--f7-page-master-width', `${newWidth}px`);\n\n    $el.trigger('view:resize', newWidth);\n    view.emit('local::resize viewResize', view, newWidth);\n  }\n  function handleTouchEnd() {\n    $('html').css('cursor', '');\n    if (!isTouched || !isMoved) {\n      isTouched = false;\n      isMoved = false;\n      return;\n    }\n    isTouched = false;\n    isMoved = false;\n\n    $htmlEl[0].style.setProperty('--f7-page-master-width', `${view.resizableWidth}px`);\n    $el.removeClass('view-resizing');\n  }\n\n  function handleResize() {\n    if (!view.resizableWidth) return;\n    minWidth = transformCSSWidth($resizeHandlerEl.css('min-width'));\n    maxWidth = transformCSSWidth($resizeHandlerEl.css('max-width'));\n\n    if (minWidth && !Number.isNaN(minWidth) && view.resizableWidth < minWidth) {\n      view.resizableWidth = Math.max(view.resizableWidth, minWidth);\n    }\n    if (maxWidth && !Number.isNaN(maxWidth) && view.resizableWidth > maxWidth) {\n      view.resizableWidth = Math.min(view.resizableWidth, maxWidth);\n    }\n    view.resizableWidth = Math.min(Math.max(view.resizableWidth, 0), app.width);\n\n    $htmlEl[0].style.setProperty('--f7-page-master-width', `${view.resizableWidth}px`);\n  }\n\n  $resizeHandlerEl = view.$el.children('.view-resize-handler');\n  if (!$resizeHandlerEl.length) {\n    view.$el.append('<div class=\"view-resize-handler\"></div>');\n    $resizeHandlerEl = view.$el.children('.view-resize-handler');\n  }\n  view.$resizeHandlerEl = $resizeHandlerEl;\n\n  $el.addClass('view-resizable');\n\n  // Add Events\n  const passive = support.passiveListener ? { passive: true } : false;\n\n  view.$el.on(app.touchEvents.start, '.view-resize-handler', handleTouchStart, passive);\n  app.on('touchmove:active', handleTouchMove);\n  app.on('touchend:passive', handleTouchEnd);\n  app.on('resize', handleResize);\n  view.on('beforeOpen', handleResize);\n\n  view.once('viewDestroy', () => {\n    $el.removeClass('view-resizable');\n    view.$resizeHandlerEl.remove();\n    view.$el.off(app.touchEvents.start, '.view-resize-handler', handleTouchStart, passive);\n    app.off('touchmove:active', handleTouchMove);\n    app.off('touchend:passive', handleTouchEnd);\n    app.off('resize', handleResize);\n    view.off('beforeOpen', handleResize);\n  });\n}\n\nexport default resizableView;\n","import $ from '../../shared/dom7';\nimport { extend } from '../../shared/utils';\nimport Router from '../../modules/router/router';\nimport Framework7Class from '../../shared/class';\nimport resizableView from './resizable-view';\n\nclass View extends Framework7Class {\n  constructor(app, el, viewParams = {}) {\n    super(viewParams, [app]);\n\n    const view = this;\n\n    const ssr = view.params.routerId;\n\n    const defaults = {\n      routes: [],\n      routesAdd: [],\n    };\n\n    if (!ssr) {\n      const $el = $(el);\n      if (!$el.length) {\n        let message = \"Framework7: can't create a View instance because \";\n        message +=\n          typeof el === 'string'\n            ? `the selector \"${el}\" didn't match any element`\n            : 'el must be an HTMLElement or Dom7 object';\n\n        throw new Error(message);\n      }\n    }\n\n    // Default View params\n    view.params = extend({ el }, defaults, app.params.view, viewParams);\n\n    // Routes\n    if (view.params.routes.length > 0) {\n      view.routes = view.params.routes;\n    } else {\n      view.routes = [].concat(app.routes, view.params.routesAdd);\n    }\n\n    // View Props\n    extend(false, view, {\n      app,\n      name: view.params.name,\n      main: view.params.main,\n      history: [],\n      scrollHistory: {},\n    });\n\n    // Install Modules\n    view.useModules();\n\n    // Add to app\n    app.views.push(view);\n    if (view.main) {\n      app.views.main = view;\n    }\n    if (view.name) {\n      app.views[view.name] = view;\n    }\n\n    // Index\n    view.index = app.views.indexOf(view);\n\n    // View ID\n    let viewId;\n    if (view.name) {\n      viewId = `view_${view.name}`;\n    } else if (view.main) {\n      viewId = 'view_main';\n    } else {\n      viewId = `view_${view.index}`;\n    }\n    view.id = viewId;\n\n    if (!view.params.init) {\n      return view;\n    }\n    // Init View\n    if (app.initialized) {\n      view.init();\n    } else {\n      app.on('init', () => {\n        view.init();\n      });\n    }\n\n    return view;\n  }\n\n  destroy() {\n    let view = this;\n    const app = view.app;\n\n    view.$el.trigger('view:beforedestroy');\n    view.emit('local::beforeDestroy viewBeforeDestroy', view);\n\n    app.off('resize', view.checkMasterDetailBreakpoint);\n\n    if (view.main) {\n      app.views.main = null;\n      delete app.views.main;\n    } else if (view.name) {\n      app.views[view.name] = null;\n      delete app.views[view.name];\n    }\n    view.$el[0].f7View = null;\n    delete view.$el[0].f7View;\n\n    app.views.splice(app.views.indexOf(view), 1);\n\n    // Destroy Router\n    if (view.params.router && view.router) {\n      view.router.destroy();\n    }\n\n    view.emit('local::destroy viewDestroy', view);\n\n    // Delete props & methods\n    Object.keys(view).forEach((viewProp) => {\n      view[viewProp] = null;\n      delete view[viewProp];\n    });\n\n    view = null;\n  }\n\n  checkMasterDetailBreakpoint(force) {\n    const view = this;\n    const app = view.app;\n    const wasMasterDetail = view.$el.hasClass('view-master-detail');\n    const isMasterDetail =\n      app.width >= view.params.masterDetailBreakpoint && view.$el.children('.page-master').length;\n    if ((typeof force === 'undefined' && isMasterDetail) || force === true) {\n      view.$el.addClass('view-master-detail');\n      if (!wasMasterDetail) {\n        view.emit('local::masterDetailBreakpoint viewMasterDetailBreakpoint', view);\n        view.$el.trigger('view:masterDetailBreakpoint');\n      }\n    } else {\n      view.$el.removeClass('view-master-detail');\n      if (wasMasterDetail) {\n        view.emit('local::masterDetailBreakpoint viewMasterDetailBreakpoint', view);\n        view.$el.trigger('view:masterDetailBreakpoint');\n      }\n    }\n  }\n\n  initMasterDetail() {\n    const view = this;\n    const app = view.app;\n    view.checkMasterDetailBreakpoint = view.checkMasterDetailBreakpoint.bind(view);\n    view.checkMasterDetailBreakpoint();\n    if (view.params.masterDetailResizable) {\n      resizableView(view);\n    }\n    app.on('resize', view.checkMasterDetailBreakpoint);\n  }\n\n  mount(viewEl) {\n    const view = this;\n    const app = view.app;\n    const el = view.params.el || viewEl;\n    const $el = $(el);\n\n    // Selector\n    let selector;\n    if (typeof el === 'string') selector = el;\n    else {\n      // Supposed to be HTMLElement or Dom7\n      selector =\n        ($el.attr('id') ? `#${$el.attr('id')}` : '') +\n        ($el.attr('class')\n          ? `.${$el.attr('class').replace(/ /g, '.').replace('.active', '')}`\n          : '');\n    }\n\n    // DynamicNavbar\n    let $navbarsEl;\n    if (app.theme === 'ios' && view.params.iosDynamicNavbar) {\n      $navbarsEl = $el.children('.navbars').eq(0);\n      if ($navbarsEl.length === 0) {\n        $navbarsEl = $('<div class=\"navbars\"></div>');\n      }\n    }\n\n    extend(view, {\n      $el,\n      el: $el[0],\n      main: view.main || $el.hasClass('view-main'),\n      $navbarsEl,\n      navbarsEl: $navbarsEl ? $navbarsEl[0] : undefined,\n      selector,\n    });\n\n    if (view.main) {\n      app.views.main = view;\n    }\n\n    // Save in DOM\n    if ($el && $el[0]) {\n      $el[0].f7View = view;\n    }\n\n    view.emit('local::mount viewMount', view);\n  }\n\n  init(viewEl) {\n    const view = this;\n    view.mount(viewEl);\n    if (view.params.router) {\n      if (view.params.masterDetailBreakpoint > 0) {\n        view.initMasterDetail();\n      }\n      view.router.init();\n      view.$el.trigger('view:init');\n      view.emit('local::init viewInit', view);\n    }\n  }\n}\n\n// Use Router\nView.use(Router);\n\nexport default View;\n","import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom7';\nimport ViewClass from '../../components/view/view-class';\n\nfunction initClicks(app) {\n  function handleClicks(e) {\n    const window = getWindow();\n    const $clickedEl = $(e.target);\n    const $clickedLinkEl = $clickedEl.closest('a');\n    const isLink = $clickedLinkEl.length > 0;\n    const url = isLink && $clickedLinkEl.attr('href');\n\n    // Check if link is external\n    if (isLink) {\n      if (\n        $clickedLinkEl.is(app.params.clicks.externalLinks) ||\n        // eslint-disable-next-line\n        (url && url.indexOf('javascript:') >= 0)\n      ) {\n        const target = $clickedLinkEl.attr('target');\n        if (\n          url &&\n          window.cordova &&\n          window.cordova.InAppBrowser &&\n          (target === '_system' || target === '_blank')\n        ) {\n          e.preventDefault();\n          window.cordova.InAppBrowser.open(url, target);\n        } else if (\n          url &&\n          window.Capacitor &&\n          window.Capacitor.Plugins &&\n          window.Capacitor.Plugins.Browser &&\n          (target === '_system' || target === '_blank')\n        ) {\n          e.preventDefault();\n          window.Capacitor.Plugins.Browser.open({ url });\n        }\n        return;\n      }\n    }\n\n    // Modules Clicks\n    Object.keys(app.modules).forEach((moduleName) => {\n      const moduleClicks = app.modules[moduleName].clicks;\n      if (!moduleClicks) return;\n      if (e.preventF7Router) return;\n      Object.keys(moduleClicks).forEach((clickSelector) => {\n        const matchingClickedElement = $clickedEl.closest(clickSelector).eq(0);\n        if (matchingClickedElement.length > 0) {\n          moduleClicks[clickSelector].call(\n            app,\n            matchingClickedElement,\n            matchingClickedElement.dataset(),\n            e,\n          );\n        }\n      });\n    });\n\n    // Load Page\n    let clickedLinkData = {};\n    if (isLink) {\n      e.preventDefault();\n      clickedLinkData = $clickedLinkEl.dataset();\n    }\n    clickedLinkData.clickedEl = $clickedLinkEl[0];\n\n    // Prevent Router\n    if (e.preventF7Router) return;\n    if ($clickedLinkEl.hasClass('prevent-router') || $clickedLinkEl.hasClass('router-prevent'))\n      return;\n\n    const validUrl = url && url.length > 0 && url[0] !== '#';\n    if (validUrl || $clickedLinkEl.hasClass('back')) {\n      let view;\n      if (clickedLinkData.view && clickedLinkData.view === 'current') {\n        view = app.views.current;\n      } else if (clickedLinkData.view) {\n        view = $(clickedLinkData.view)[0].f7View;\n      } else {\n        view = $clickedEl.parents('.view')[0] && $clickedEl.parents('.view')[0].f7View;\n        if (!$clickedLinkEl.hasClass('back') && view && view.params.linksView) {\n          if (typeof view.params.linksView === 'string') view = $(view.params.linksView)[0].f7View;\n          else if (view.params.linksView instanceof ViewClass) view = view.params.linksView;\n        }\n      }\n      if (!view) {\n        if (app.views.main) view = app.views.main;\n      }\n      if (!view || !view.router) return;\n      if ($clickedLinkEl[0].f7RouteProps) {\n        clickedLinkData.props = $clickedLinkEl[0].f7RouteProps;\n      }\n      if ($clickedLinkEl.hasClass('back')) view.router.back(url, clickedLinkData);\n      else view.router.navigate(url, clickedLinkData);\n    }\n  }\n\n  app.on('click', handleClicks);\n}\nexport default {\n  name: 'clicks',\n  params: {\n    clicks: {\n      // External Links\n      externalLinks: '.external',\n    },\n  },\n  on: {\n    init() {\n      const app = this;\n      initClicks(app);\n    },\n  },\n};\n","import { merge } from '../../shared/utils';\n\nexport default {\n  name: 'routerComponentLoader',\n  proto: {\n    componentLoader(component, componentUrl, options = {}, resolve, reject) {\n      const router = this;\n      const { app } = router;\n      const url = typeof component === 'string' ? component : componentUrl;\n      const compiledUrl = router.replaceRequestUrlParams(url, options);\n      function compile(componentFunction) {\n        let context = options.context || {};\n        if (typeof context === 'function') context = context.call(router);\n        else if (typeof context === 'string') {\n          try {\n            context = JSON.parse(context);\n          } catch (err) {\n            reject(err);\n            throw err;\n          }\n        }\n        const componentContext = merge({}, context, {\n          f7route: options.route,\n          f7router: router,\n        });\n        const componentProps = merge(\n          options.route ? options.route.params || {} : {},\n          options.props || {},\n          options.routeProps || {},\n        );\n        let componentEl;\n        let componentRoot;\n        if (options.componentOptions && options.componentOptions.el) {\n          componentEl = options.componentOptions.el;\n        }\n        if (options.componentOptions && options.componentOptions.root) {\n          componentRoot = options.componentOptions.root;\n        }\n        app.component\n          .create(componentFunction, componentProps, {\n            context: componentContext,\n            el: componentEl,\n            root: componentRoot,\n          })\n          .then((createdComponent) => {\n            resolve(createdComponent.el);\n          })\n          .catch((err) => {\n            reject(err);\n            throw new Error(err);\n          });\n      }\n      let cachedComponent;\n      if (compiledUrl && router.params.componentCache) {\n        router.cache.components.forEach((cached) => {\n          if (cached.url === compiledUrl) cachedComponent = cached.component;\n        });\n      }\n      if (compiledUrl && cachedComponent) {\n        compile(cachedComponent);\n      } else if (compiledUrl && !cachedComponent) {\n        // Load via XHR\n        if (router.xhrAbortController) {\n          router.xhrAbortController.abort();\n          router.xhrAbortController = false;\n        }\n        router\n          .xhrRequest(url, options)\n          .then((loadedComponent) => {\n            const parsedComponent = app.component.parse(loadedComponent);\n            if (router.params.componentCache) {\n              router.cache.components.push({\n                url: compiledUrl,\n                component: parsedComponent,\n              });\n            }\n            compile(parsedComponent);\n          })\n          .catch((err) => {\n            reject();\n            throw err;\n          });\n      } else {\n        compile(component);\n      }\n    },\n\n    modalComponentLoader({ component, componentUrl, options, resolve, reject } = {}) {\n      const router = this;\n      router.componentLoader(\n        component,\n        componentUrl,\n        options,\n        (el) => {\n          resolve(el);\n        },\n        reject,\n      );\n    },\n\n    tabComponentLoader({ component, componentUrl, options, resolve, reject } = {}) {\n      const router = this;\n      router.componentLoader(\n        component,\n        componentUrl,\n        options,\n        (el) => {\n          resolve(el);\n        },\n        reject,\n      );\n    },\n\n    pageComponentLoader({ component, componentUrl, options, resolve, reject } = {}) {\n      const router = this;\n      router.componentLoader(\n        component,\n        componentUrl,\n        options,\n        (el, newOptions = {}) => {\n          resolve(el, newOptions);\n        },\n        reject,\n      );\n    },\n  },\n};\n","var n=function(t,s,r,e){var u;s[0]=0;for(var h=1;h<s.length;h++){var p=s[h++],a=s[h]?(s[0]|=p?1:2,r[s[h++]]):s[++h];3===p?e[0]=a:4===p?e[1]=Object.assign(e[1]||{},a):5===p?(e[1]=e[1]||{})[s[++h]]=a:6===p?e[1][s[++h]]+=a+\"\":p?(u=t.apply(a,n(t,a,r,[\"\",null])),e.push(u),a[0]?s[0]|=2:(s[h-2]=0,s[h]=u)):e.push(a)}return e},t=new Map;export default function(s){var r=t.get(this);return r||(r=new Map,t.set(this,r)),(r=n(this,r.get(s)||(r.set(s,r=function(n){for(var t,s,r=1,e=\"\",u=\"\",h=[0],p=function(n){1===r&&(n||(e=e.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g,\"\")))?h.push(0,n,e):3===r&&(n||e)?(h.push(3,n,e),r=2):2===r&&\"...\"===e&&n?h.push(4,n,0):2===r&&e&&!n?h.push(5,0,!0,e):r>=5&&((e||!n&&5===r)&&(h.push(r,0,e,s),r=6),n&&(h.push(r,n,0,s),r=6)),e=\"\"},a=0;a<n.length;a++){a&&(1===r&&p(),p(a));for(var l=0;l<n[a].length;l++)t=n[a][l],1===r?\"<\"===t?(p(),h=[h],r=3):e+=t:4===r?\"--\"===e&&\">\"===t?(r=1,e=\"\"):e=t+e[0]:u?t===u?u=\"\":e+=t:'\"'===t||\"'\"===t?u=t:\">\"===t?(p(),r=1):r&&(\"=\"===t?(r=5,s=e,e=\"\"):\"/\"===t&&(r<5||\">\"===n[a][l+1])?(p(),3===r&&(h=h[0]),r=h,(h=h[0]).push(2,0,r),r=0):\" \"===t||\"\\t\"===t||\"\\n\"===t||\"\\r\"===t?(p(),r=2):e+=t),3===r&&\"!--\"===e&&(r=4,h=h[0])}return p(),h}(s)),r),arguments,[])).length>1?r:r[0]}\n","import htm from 'htm';\nimport { flattenArray } from '../../shared/utils';\n\nconst ignoreChildren = [false, null, '', undefined];\n\nconst h = (type, props, ...children) => {\n  return {\n    type,\n    props: props || {},\n    children: flattenArray(children.filter((child) => ignoreChildren.indexOf(child) < 0)),\n  };\n};\n\nconst $h = htm.bind(h);\n\nexport default $h;\n","export function vnode(sel, data, children, text, elm) {\n    var key = data === undefined ? undefined : data.key;\n    return { sel: sel, data: data, children: children,\n        text: text, elm: elm, key: key };\n}\nexport default vnode;\n//# sourceMappingURL=vnode.js.map","export var array = Array.isArray;\nexport function primitive(s) {\n    return typeof s === 'string' || typeof s === 'number';\n}\n//# sourceMappingURL=is.js.map","import { vnode } from './vnode';\nimport * as is from './is';\nfunction addNS(data, children, sel) {\n    data.ns = 'http://www.w3.org/2000/svg';\n    if (sel !== 'foreignObject' && children !== undefined) {\n        for (var i = 0; i < children.length; ++i) {\n            var childData = children[i].data;\n            if (childData !== undefined) {\n                addNS(childData, children[i].children, children[i].sel);\n            }\n        }\n    }\n}\nexport function h(sel, b, c) {\n    var data = {}, children, text, i;\n    if (c !== undefined) {\n        data = b;\n        if (is.array(c)) {\n            children = c;\n        }\n        else if (is.primitive(c)) {\n            text = c;\n        }\n        else if (c && c.sel) {\n            children = [c];\n        }\n    }\n    else if (b !== undefined) {\n        if (is.array(b)) {\n            children = b;\n        }\n        else if (is.primitive(b)) {\n            text = b;\n        }\n        else if (b && b.sel) {\n            children = [b];\n        }\n        else {\n            data = b;\n        }\n    }\n    if (is.array(children)) {\n        for (i = 0; i < children.length; ++i) {\n            if (is.primitive(children[i]))\n                children[i] = vnode(undefined, undefined, undefined, children[i], undefined);\n        }\n    }\n    if (sel[0] === 's' && sel[1] === 'v' && sel[2] === 'g' &&\n        (sel.length === 3 || sel[3] === '.' || sel[3] === '#')) {\n        addNS(data, children, sel);\n    }\n    return vnode(sel, data, children, text, undefined);\n}\n;\nexport default h;\n//# sourceMappingURL=h.js.map","export default {};\n","/* eslint no-use-before-define: \"off\" */\n/* eslint import/no-named-as-default: \"off\" */\nimport h from './snabbdom/h';\nimport customComponents from './custom-components';\nimport { isObject, eventNameToColonCase } from '../../shared/utils';\n\nconst SELF_CLOSING =\n  'area base br col command embed hr img input keygen link menuitem meta param source track wbr'.split(\n    ' ',\n  );\nconst PROPS_ATTRS =\n  'hidden checked disabled readonly selected autofocus autoplay required multiple value indeterminate routeProps innerHTML'.split(\n    ' ',\n  );\nconst BOOLEAN_PROPS =\n  'hidden checked disabled readonly selected autofocus autoplay required multiple readOnly indeterminate'.split(\n    ' ',\n  );\n\nconst getTagName = (treeNode) => {\n  return typeof treeNode.type === 'function'\n    ? treeNode.type.name || 'CustomComponent'\n    : treeNode.type;\n};\n\nconst toCamelCase = (name) => {\n  return name\n    .split('-')\n    .map((word, index) => {\n      if (index === 0) return word.toLowerCase();\n      return word[0].toUpperCase() + word.substr(1);\n    })\n    .join('');\n};\nconst propsFromAttrs = (...args) => {\n  const context = {};\n  args.forEach((obj = {}) => {\n    Object.keys(obj).forEach((key) => {\n      context[toCamelCase(key)] = obj[key];\n    });\n  });\n\n  return context;\n};\n\nconst createCustomComponent = ({ f7, treeNode, vnode, data }) => {\n  const component =\n    typeof treeNode.type === 'function' ? treeNode.type : customComponents[treeNode.type];\n  f7.component\n    .create(component, propsFromAttrs(data.attrs || {}, data.props || {}), {\n      el: vnode.elm,\n      children: treeNode.children,\n    })\n    .then((c) => {\n      if (vnode.data && vnode.data.on && c && c.$el) {\n        Object.keys(vnode.data.on).forEach((eventName) => {\n          c.$el.on(eventName, vnode.data.on[eventName]);\n        });\n      }\n      // eslint-disable-next-line\n      vnode.elm.__component__ = c;\n    });\n};\nconst updateCustomComponent = (vnode) => {\n  // eslint-disable-next-line\n  const component = vnode && vnode.elm && vnode.elm.__component__;\n  if (!component) return;\n  const newProps = propsFromAttrs(vnode.data.attrs || {}, vnode.data.props || {});\n  component.children = vnode.data.treeNode.children;\n  Object.assign(component.props, newProps);\n  component.update();\n};\nconst destroyCustomComponent = (vnode) => {\n  // eslint-disable-next-line\n  const component = vnode && vnode.elm && vnode.elm.__component__;\n\n  if (component) {\n    const { el, $el } = component;\n    if (vnode.data && vnode.data.on && $el) {\n      Object.keys(vnode.data.on).forEach((eventName) => {\n        $el.off(eventName, vnode.data.on[eventName]);\n      });\n    }\n    if (component.destroy) component.destroy();\n    if (el && el.parentNode) el.parentNode.removeChild(el);\n    delete vnode.elm.__component__; // eslint-disable-line\n  }\n};\n\nconst isCustomComponent = (treeNodeType) => {\n  return (\n    typeof treeNodeType === 'function' ||\n    (treeNodeType && treeNodeType.indexOf('-') > 0 && customComponents[treeNodeType])\n  );\n};\n\nfunction getHooks(treeNode, data, f7, initial, isRoot) {\n  const hooks = {};\n  const insert = [];\n  const destroy = [];\n  const update = [];\n  const postpatch = [];\n  let isFakeElement = false;\n  const tagName = getTagName(treeNode);\n  if (data && data.attrs && data.attrs.component) {\n    // eslint-disable-next-line\n    tagName = data.attrs.component;\n    delete data.attrs.component;\n    isFakeElement = true;\n  }\n\n  const isCustom = isCustomComponent(treeNode.type);\n\n  if (isCustom) {\n    insert.push((vnode) => {\n      if (vnode.sel !== tagName && !isFakeElement) return;\n      createCustomComponent({ f7, treeNode, vnode, data });\n    });\n    destroy.push((vnode) => {\n      destroyCustomComponent(vnode);\n    });\n    update.push((oldVnode, vnode) => {\n      updateCustomComponent(vnode);\n    });\n  }\n\n  if (!isCustom) {\n    if (!data || !data.attrs || !data.attrs.class) return hooks;\n\n    const classNames = data.attrs.class;\n    classNames.split(' ').forEach((className) => {\n      if (!initial) {\n        insert.push(...f7.getVnodeHooks('insert', className));\n      }\n      destroy.push(...f7.getVnodeHooks('destroy', className));\n      update.push(...f7.getVnodeHooks('update', className));\n      postpatch.push(...f7.getVnodeHooks('postpatch', className));\n    });\n  }\n\n  if (isRoot && !initial) {\n    postpatch.push((oldVnode, vnode) => {\n      const vn = vnode || oldVnode;\n      if (!vn) return;\n      if (vn.data && vn.data.component) {\n        vn.data.component.hook('onUpdated');\n      }\n    });\n  }\n  if (\n    insert.length === 0 &&\n    destroy.length === 0 &&\n    update.length === 0 &&\n    postpatch.length === 0\n  ) {\n    return hooks;\n  }\n\n  if (insert.length) {\n    hooks.insert = (vnode) => {\n      insert.forEach((f) => f(vnode));\n    };\n  }\n  if (destroy.length) {\n    hooks.destroy = (vnode) => {\n      destroy.forEach((f) => f(vnode));\n    };\n  }\n  if (update.length) {\n    hooks.update = (oldVnode, vnode) => {\n      update.forEach((f) => f(oldVnode, vnode));\n    };\n  }\n  if (postpatch.length) {\n    hooks.postpatch = (oldVnode, vnode) => {\n      postpatch.forEach((f) => f(oldVnode, vnode));\n    };\n  }\n\n  return hooks;\n}\nconst getEventHandler = (eventHandler, { stop, prevent, once } = {}) => {\n  let fired = false;\n\n  function handler(...args) {\n    const e = args[0];\n    if (once && fired) return;\n    if (stop) e.stopPropagation();\n    if (prevent) e.preventDefault();\n    fired = true;\n\n    eventHandler(...args);\n  }\n\n  return handler;\n};\n\nconst getData = (treeNode, component, f7, initial, isRoot) => {\n  const data = { component, treeNode };\n  const tagName = getTagName(treeNode);\n  Object.keys(treeNode.props).forEach((attrName) => {\n    const attrValue = treeNode.props[attrName];\n    if (typeof attrValue === 'undefined') return;\n    if (PROPS_ATTRS.indexOf(attrName) >= 0) {\n      // Props\n      if (!data.props) data.props = {};\n      if (attrName === 'readonly') {\n        // eslint-disable-next-line\n        attrName = 'readOnly';\n      }\n      if (attrName === 'routeProps') {\n        // eslint-disable-next-line\n        attrName = 'f7RouteProps';\n      }\n      if (tagName === 'option' && attrName === 'value') {\n        if (!data.attrs) data.attrs = {};\n        data.attrs.value = attrValue;\n      }\n      if (BOOLEAN_PROPS.indexOf(attrName) >= 0) {\n        // eslint-disable-next-line\n        data.props[attrName] = attrValue === false ? false : true;\n      } else {\n        data.props[attrName] = attrValue;\n      }\n    } else if (attrName === 'key') {\n      // Key\n      data.key = attrValue;\n    } else if (\n      attrName.indexOf('@') === 0 ||\n      (attrName.indexOf('on') === 0 && attrName.length > 2)\n    ) {\n      // Events\n      if (!data.on) data.on = {};\n      let eventName =\n        attrName.indexOf('@') === 0 ? attrName.substr(1) : eventNameToColonCase(attrName.substr(2));\n      let stop = false;\n      let prevent = false;\n      let once = false;\n      if (eventName.indexOf('.') >= 0) {\n        eventName.split('.').forEach((eventNamePart, eventNameIndex) => {\n          if (eventNameIndex === 0) eventName = eventNamePart;\n          else {\n            if (eventNamePart === 'stop') stop = true;\n            if (eventNamePart === 'prevent') prevent = true;\n            if (eventNamePart === 'once') once = true;\n          }\n        });\n      }\n      data.on[eventName] = getEventHandler(attrValue, { stop, prevent, once });\n    } else if (attrName === 'style') {\n      // Style\n      if (typeof attrValue !== 'string') {\n        data.style = attrValue;\n      } else {\n        if (!data.attrs) data.attrs = {};\n        data.attrs.style = attrValue;\n      }\n    } else {\n      // Rest of attribures\n      if (!data.attrs) data.attrs = {};\n      data.attrs[attrName] = attrValue;\n\n      // ID -> Key\n      if (attrName === 'id' && !data.key && !isRoot) {\n        data.key = attrValue;\n      }\n    }\n  });\n\n  const hooks = getHooks(treeNode, data, f7, initial, isRoot);\n\n  hooks.prepatch = (oldVnode, vnode) => {\n    if (!oldVnode || !vnode) return;\n    if (oldVnode && oldVnode.data && oldVnode.data.props) {\n      Object.keys(oldVnode.data.props).forEach((key) => {\n        if (BOOLEAN_PROPS.indexOf(key) < 0) return;\n        if (!vnode.data) vnode.data = {};\n        if (!vnode.data.props) vnode.data.props = {};\n        if (oldVnode.data.props[key] === true && !(key in vnode.data.props)) {\n          vnode.data.props[key] = false;\n        }\n      });\n    }\n  };\n\n  data.hook = hooks;\n\n  return data;\n};\n\nconst getChildren = (treeNode, component, f7, initial) => {\n  if (treeNode && treeNode.type && SELF_CLOSING.indexOf(treeNode.type) >= 0) {\n    return [];\n  }\n  const children = [];\n  const nodes = treeNode.children;\n  for (let i = 0; i < nodes.length; i += 1) {\n    const childNode = nodes[i];\n    const child = treeNodeToVNode(childNode, component, f7, initial, false);\n    if (Array.isArray(child)) {\n      children.push(...child);\n    } else if (child) {\n      children.push(child);\n    }\n  }\n  return children;\n};\n\nconst getSlots = (treeNode, component, f7, initial) => {\n  const slotName = treeNode.props.name || 'default';\n  const slotNodes = (component.children || []).filter((childTreeNode) => {\n    let childSlotName = 'default';\n    if (childTreeNode.props) {\n      childSlotName = childTreeNode.props.slot || 'default';\n    }\n    return childSlotName === slotName;\n  });\n  if (slotNodes.length === 0) {\n    return getChildren(treeNode, component, f7, initial);\n  }\n  return slotNodes.map((subTreeNode) => treeNodeToVNode(subTreeNode, component, f7, initial));\n};\n\nconst isTreeNode = (treeNode) => {\n  return isObject(treeNode) && 'props' in treeNode && 'type' in treeNode && 'children' in treeNode;\n};\n\nconst treeNodeToVNode = (treeNode, component, f7, initial, isRoot) => {\n  if (!isTreeNode(treeNode)) {\n    return String(treeNode);\n  }\n  if (treeNode.type === 'slot') {\n    return getSlots(treeNode, component, f7, initial);\n  }\n  const data = getData(treeNode, component, f7, initial, isRoot);\n  const children = isCustomComponent(treeNode.type)\n    ? []\n    : getChildren(treeNode, component, f7, initial);\n\n  return h(getTagName(treeNode), data, children);\n};\n\nexport default function vdom(tree = {}, component, initial) {\n  return treeNodeToVNode(tree, component, component.f7, initial, true);\n}\n","function createElement(tagName) {\n    return document.createElement(tagName);\n}\nfunction createElementNS(namespaceURI, qualifiedName) {\n    return document.createElementNS(namespaceURI, qualifiedName);\n}\nfunction createTextNode(text) {\n    return document.createTextNode(text);\n}\nfunction createComment(text) {\n    return document.createComment(text);\n}\nfunction insertBefore(parentNode, newNode, referenceNode) {\n    if (referenceNode && referenceNode.parentNode !== parentNode) {\n      if (referenceNode.__component__) referenceNode = referenceNode.__component__.el;\n    }\n    parentNode.insertBefore(newNode, referenceNode);\n}\nfunction removeChild(node, child) {\n    if (!node) return;\n    node.removeChild(child);\n}\nfunction appendChild(node, child) {\n    node.appendChild(child);\n}\nfunction parentNode(node) {\n    return node.parentNode;\n}\nfunction nextSibling(node) {\n    return node.nextSibling;\n}\nfunction tagName(elm) {\n    return elm.tagName;\n}\nfunction setTextContent(node, text) {\n    node.textContent = text;\n}\nfunction getTextContent(node) {\n    return node.textContent;\n}\nfunction isElement(node) {\n    return node.nodeType === 1;\n}\nfunction isText(node) {\n    return node.nodeType === 3;\n}\nfunction isComment(node) {\n    return node.nodeType === 8;\n}\nexport var htmlDomApi = {\n    createElement: createElement,\n    createElementNS: createElementNS,\n    createTextNode: createTextNode,\n    createComment: createComment,\n    insertBefore: insertBefore,\n    removeChild: removeChild,\n    appendChild: appendChild,\n    parentNode: parentNode,\n    nextSibling: nextSibling,\n    tagName: tagName,\n    setTextContent: setTextContent,\n    getTextContent: getTextContent,\n    isElement: isElement,\n    isText: isText,\n    isComment: isComment,\n};\nexport default htmlDomApi;\n//# sourceMappingURL=htmldomapi.js.map\n","import { h } from './h';\nfunction copyToThunk(vnode, thunk) {\n    thunk.elm = vnode.elm;\n    vnode.data.fn = thunk.data.fn;\n    vnode.data.args = thunk.data.args;\n    thunk.data = vnode.data;\n    thunk.children = vnode.children;\n    thunk.text = vnode.text;\n    thunk.elm = vnode.elm;\n}\nfunction init(thunk) {\n    var cur = thunk.data;\n    var vnode = cur.fn.apply(undefined, cur.args);\n    copyToThunk(vnode, thunk);\n}\nfunction prepatch(oldVnode, thunk) {\n    var i, old = oldVnode.data, cur = thunk.data;\n    var oldArgs = old.args, args = cur.args;\n    if (old.fn !== cur.fn || oldArgs.length !== args.length) {\n        copyToThunk(cur.fn.apply(undefined, args), thunk);\n        return;\n    }\n    for (i = 0; i < args.length; ++i) {\n        if (oldArgs[i] !== args[i]) {\n            copyToThunk(cur.fn.apply(undefined, args), thunk);\n            return;\n        }\n    }\n    copyToThunk(oldVnode, thunk);\n}\nexport var thunk = function thunk(sel, key, fn, args) {\n    if (args === undefined) {\n        args = fn;\n        fn = key;\n        key = undefined;\n    }\n    return h(sel, {\n        key: key,\n        hook: { init: init, prepatch: prepatch },\n        fn: fn,\n        args: args\n    });\n};\nexport default thunk;\n//# sourceMappingURL=thunk.js.map","import vnode from './vnode';\nimport * as is from './is';\nimport htmlDomApi from './htmldomapi';\nfunction isUndef(s) { return s === undefined; }\nfunction isDef(s) { return s !== undefined; }\nvar emptyNode = vnode('', {}, [], undefined, undefined);\nfunction sameVnode(vnode1, vnode2) {\n    return vnode1.key === vnode2.key && vnode1.sel === vnode2.sel;\n}\nfunction isVnode(vnode) {\n    return vnode.sel !== undefined;\n}\nfunction createKeyToOldIdx(children, beginIdx, endIdx) {\n    var i, map = {}, key, ch;\n    for (i = beginIdx; i <= endIdx; ++i) {\n        ch = children[i];\n        if (ch != null) {\n            key = ch.key;\n            if (key !== undefined)\n                map[key] = i;\n        }\n    }\n    return map;\n}\nvar hooks = ['create', 'update', 'remove', 'destroy', 'pre', 'post'];\nexport { h } from './h';\nexport { thunk } from './thunk';\nexport function init(modules, domApi) {\n    var i, j, cbs = {};\n    var api = domApi !== undefined ? domApi : htmlDomApi;\n    for (i = 0; i < hooks.length; ++i) {\n        cbs[hooks[i]] = [];\n        for (j = 0; j < modules.length; ++j) {\n            var hook = modules[j][hooks[i]];\n            if (hook !== undefined) {\n                cbs[hooks[i]].push(hook);\n            }\n        }\n    }\n    function emptyNodeAt(elm) {\n        var id = elm.id ? '#' + elm.id : '';\n        var c = elm.className ? '.' + elm.className.split(' ').join('.') : '';\n        return vnode(api.tagName(elm).toLowerCase() + id + c, {}, [], undefined, elm);\n    }\n    function createRmCb(childElm, listeners) {\n        return function rmCb() {\n            if (--listeners === 0) {\n                var parent_1 = api.parentNode(childElm);\n                api.removeChild(parent_1, childElm);\n            }\n        };\n    }\n    function createElm(vnode, insertedVnodeQueue) {\n        var i, data = vnode.data;\n        if (data !== undefined) {\n            if (isDef(i = data.hook) && isDef(i = i.init)) {\n                i(vnode);\n                data = vnode.data;\n            }\n        }\n        var children = vnode.children, sel = vnode.sel;\n        if (sel === '!') {\n            if (isUndef(vnode.text)) {\n                vnode.text = '';\n            }\n            vnode.elm = api.createComment(vnode.text);\n        }\n        else if (sel !== undefined) {\n            // Parse selector\n            var hashIdx = sel.indexOf('#');\n            var dotIdx = sel.indexOf('.', hashIdx);\n            var hash = hashIdx > 0 ? hashIdx : sel.length;\n            var dot = dotIdx > 0 ? dotIdx : sel.length;\n            var tag = hashIdx !== -1 || dotIdx !== -1 ? sel.slice(0, Math.min(hash, dot)) : sel;\n            var elm = vnode.elm = isDef(data) && isDef(i = data.ns) ? api.createElementNS(i, tag)\n                : api.createElement(tag);\n            if (hash < dot)\n                elm.setAttribute('id', sel.slice(hash + 1, dot));\n            if (dotIdx > 0)\n                elm.setAttribute('class', sel.slice(dot + 1).replace(/\\./g, ' '));\n            for (i = 0; i < cbs.create.length; ++i)\n                cbs.create[i](emptyNode, vnode);\n            if (is.array(children)) {\n                for (i = 0; i < children.length; ++i) {\n                    var ch = children[i];\n                    if (ch != null) {\n                        api.appendChild(elm, createElm(ch, insertedVnodeQueue));\n                    }\n                }\n            }\n            else if (is.primitive(vnode.text)) {\n                api.appendChild(elm, api.createTextNode(vnode.text));\n            }\n            i = vnode.data.hook; // Reuse variable\n            if (isDef(i)) {\n                if (i.create)\n                    i.create(emptyNode, vnode);\n                if (i.insert)\n                    insertedVnodeQueue.push(vnode);\n            }\n        }\n        else {\n            vnode.elm = api.createTextNode(vnode.text);\n        }\n        return vnode.elm;\n    }\n    function addVnodes(parentElm, before, vnodes, startIdx, endIdx, insertedVnodeQueue) {\n        for (; startIdx <= endIdx; ++startIdx) {\n            var ch = vnodes[startIdx];\n            if (ch != null) {\n                api.insertBefore(parentElm, createElm(ch, insertedVnodeQueue), before);\n            }\n        }\n    }\n    function invokeDestroyHook(vnode) {\n        var i, j, data = vnode.data;\n        if (data !== undefined) {\n            if (isDef(i = data.hook) && isDef(i = i.destroy))\n                i(vnode);\n            for (i = 0; i < cbs.destroy.length; ++i)\n                cbs.destroy[i](vnode);\n            if (vnode.children !== undefined) {\n                for (j = 0; j < vnode.children.length; ++j) {\n                    i = vnode.children[j];\n                    if (i != null && typeof i !== \"string\") {\n                        invokeDestroyHook(i);\n                    }\n                }\n            }\n        }\n    }\n    function removeVnodes(parentElm, vnodes, startIdx, endIdx) {\n        for (; startIdx <= endIdx; ++startIdx) {\n            var i_1 = void 0, listeners = void 0, rm = void 0, ch = vnodes[startIdx];\n            if (ch != null) {\n                if (isDef(ch.sel)) {\n                    invokeDestroyHook(ch);\n                    listeners = cbs.remove.length + 1;\n                    rm = createRmCb(ch.elm, listeners);\n                    for (i_1 = 0; i_1 < cbs.remove.length; ++i_1)\n                        cbs.remove[i_1](ch, rm);\n                    if (isDef(i_1 = ch.data) && isDef(i_1 = i_1.hook) && isDef(i_1 = i_1.remove)) {\n                        i_1(ch, rm);\n                    }\n                    else {\n                        rm();\n                    }\n                }\n                else {\n                    api.removeChild(parentElm, ch.elm);\n                }\n            }\n        }\n    }\n    function updateChildren(parentElm, oldCh, newCh, insertedVnodeQueue) {\n        var oldStartIdx = 0, newStartIdx = 0;\n        var oldEndIdx = oldCh.length - 1;\n        var oldStartVnode = oldCh[0];\n        var oldEndVnode = oldCh[oldEndIdx];\n        var newEndIdx = newCh.length - 1;\n        var newStartVnode = newCh[0];\n        var newEndVnode = newCh[newEndIdx];\n        var oldKeyToIdx;\n        var idxInOld;\n        var elmToMove;\n        var before;\n        while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n            if (oldStartVnode == null) {\n                oldStartVnode = oldCh[++oldStartIdx]; // Vnode might have been moved left\n            }\n            else if (oldEndVnode == null) {\n                oldEndVnode = oldCh[--oldEndIdx];\n            }\n            else if (newStartVnode == null) {\n                newStartVnode = newCh[++newStartIdx];\n            }\n            else if (newEndVnode == null) {\n                newEndVnode = newCh[--newEndIdx];\n            }\n            else if (sameVnode(oldStartVnode, newStartVnode)) {\n                patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue);\n                oldStartVnode = oldCh[++oldStartIdx];\n                newStartVnode = newCh[++newStartIdx];\n            }\n            else if (sameVnode(oldEndVnode, newEndVnode)) {\n                patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue);\n                oldEndVnode = oldCh[--oldEndIdx];\n                newEndVnode = newCh[--newEndIdx];\n            }\n            else if (sameVnode(oldStartVnode, newEndVnode)) {\n                patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue);\n                api.insertBefore(parentElm, oldStartVnode.elm, api.nextSibling(oldEndVnode.elm));\n                oldStartVnode = oldCh[++oldStartIdx];\n                newEndVnode = newCh[--newEndIdx];\n            }\n            else if (sameVnode(oldEndVnode, newStartVnode)) {\n                patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue);\n                api.insertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm);\n                oldEndVnode = oldCh[--oldEndIdx];\n                newStartVnode = newCh[++newStartIdx];\n            }\n            else {\n                if (oldKeyToIdx === undefined) {\n                    oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx);\n                }\n                idxInOld = oldKeyToIdx[newStartVnode.key];\n                if (isUndef(idxInOld)) {\n                    api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm);\n                    newStartVnode = newCh[++newStartIdx];\n                }\n                else {\n                    elmToMove = oldCh[idxInOld];\n                    if (elmToMove.sel !== newStartVnode.sel) {\n                        api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm);\n                    }\n                    else {\n                        patchVnode(elmToMove, newStartVnode, insertedVnodeQueue);\n                        oldCh[idxInOld] = undefined;\n                        api.insertBefore(parentElm, elmToMove.elm, oldStartVnode.elm);\n                    }\n                    newStartVnode = newCh[++newStartIdx];\n                }\n            }\n        }\n        if (oldStartIdx <= oldEndIdx || newStartIdx <= newEndIdx) {\n            if (oldStartIdx > oldEndIdx) {\n                before = newCh[newEndIdx + 1] == null ? null : newCh[newEndIdx + 1].elm;\n                addVnodes(parentElm, before, newCh, newStartIdx, newEndIdx, insertedVnodeQueue);\n            }\n            else {\n                removeVnodes(parentElm, oldCh, oldStartIdx, oldEndIdx);\n            }\n        }\n    }\n    function patchVnode(oldVnode, vnode, insertedVnodeQueue) {\n        var i, hook;\n        if (isDef(i = vnode.data) && isDef(hook = i.hook) && isDef(i = hook.prepatch)) {\n            i(oldVnode, vnode);\n        }\n        var elm = vnode.elm = oldVnode.elm;\n        var oldCh = oldVnode.children;\n        var ch = vnode.children;\n        if (oldVnode === vnode)\n            return;\n        if (vnode.data !== undefined) {\n            for (i = 0; i < cbs.update.length; ++i)\n                cbs.update[i](oldVnode, vnode);\n            i = vnode.data.hook;\n            if (isDef(i) && isDef(i = i.update))\n                i(oldVnode, vnode);\n        }\n        if (isUndef(vnode.text)) {\n            if (isDef(oldCh) && isDef(ch)) {\n                if (oldCh !== ch)\n                    updateChildren(elm, oldCh, ch, insertedVnodeQueue);\n            }\n            else if (isDef(ch)) {\n                if (isDef(oldVnode.text))\n                    api.setTextContent(elm, '');\n                addVnodes(elm, null, ch, 0, ch.length - 1, insertedVnodeQueue);\n            }\n            else if (isDef(oldCh)) {\n                removeVnodes(elm, oldCh, 0, oldCh.length - 1);\n            }\n            else if (isDef(oldVnode.text)) {\n                api.setTextContent(elm, '');\n            }\n        }\n        else if (oldVnode.text !== vnode.text) {\n            api.setTextContent(elm, vnode.text);\n        }\n        if (isDef(hook) && isDef(i = hook.postpatch)) {\n            i(oldVnode, vnode);\n        }\n    }\n    return function patch(oldVnode, vnode) {\n        var i, elm, parent;\n        var insertedVnodeQueue = [];\n        for (i = 0; i < cbs.pre.length; ++i)\n            cbs.pre[i]();\n        if (!isVnode(oldVnode)) {\n            oldVnode = emptyNodeAt(oldVnode);\n        }\n        if (sameVnode(oldVnode, vnode)) {\n            patchVnode(oldVnode, vnode, insertedVnodeQueue);\n        }\n        else {\n            elm = oldVnode.elm;\n            parent = api.parentNode(elm);\n            createElm(vnode, insertedVnodeQueue);\n            if (parent !== null) {\n                api.insertBefore(parent, vnode.elm, api.nextSibling(elm));\n                removeVnodes(parent, [oldVnode], 0, 0);\n            }\n        }\n        for (i = 0; i < insertedVnodeQueue.length; ++i) {\n            insertedVnodeQueue[i].data.hook.insert(insertedVnodeQueue[i]);\n        }\n        for (i = 0; i < cbs.post.length; ++i)\n            cbs.post[i]();\n        return vnode;\n    };\n}\n//# sourceMappingURL=snabbdom.js.map","var xlinkNS = 'http://www.w3.org/1999/xlink';\nvar xmlNS = 'http://www.w3.org/XML/1998/namespace';\nvar colonChar = 58;\nvar xChar = 120;\nfunction updateAttrs(oldVnode, vnode) {\n    var key, elm = vnode.elm, oldAttrs = oldVnode.data.attrs, attrs = vnode.data.attrs;\n    if (!oldAttrs && !attrs)\n        return;\n    if (oldAttrs === attrs)\n        return;\n    oldAttrs = oldAttrs || {};\n    attrs = attrs || {};\n    // update modified attributes, add new attributes\n    for (key in attrs) {\n        var cur = attrs[key];\n        var old = oldAttrs[key];\n        if (old !== cur) {\n            if (cur === true) {\n                elm.setAttribute(key, \"\");\n            }\n            else if (cur === false) {\n                elm.removeAttribute(key);\n            }\n            else {\n                if (key.charCodeAt(0) !== xChar) {\n                    elm.setAttribute(key, cur);\n                }\n                else if (key.charCodeAt(3) === colonChar) {\n                    // Assume xml namespace\n                    elm.setAttributeNS(xmlNS, key, cur);\n                }\n                else if (key.charCodeAt(5) === colonChar) {\n                    // Assume xlink namespace\n                    elm.setAttributeNS(xlinkNS, key, cur);\n                }\n                else {\n                    elm.setAttribute(key, cur);\n                }\n            }\n        }\n    }\n    // remove removed attributes\n    // use `in` operator since the previous `for` iteration uses it (.i.e. add even attributes with undefined value)\n    // the other option is to remove all attributes with value == undefined\n    for (key in oldAttrs) {\n        if (!(key in attrs)) {\n            elm.removeAttribute(key);\n        }\n    }\n}\nexport var attributesModule = { create: updateAttrs, update: updateAttrs };\nexport default attributesModule;\n//# sourceMappingURL=attributes.js.map","function updateProps(oldVnode, vnode) {\n    var key, cur, old, elm = vnode.elm, oldProps = oldVnode.data.props, props = vnode.data.props;\n    if (!oldProps && !props)\n        return;\n    if (oldProps === props)\n        return;\n    oldProps = oldProps || {};\n    props = props || {};\n    for (key in oldProps) {\n        if (!props[key]) {\n            delete elm[key];\n        }\n    }\n    for (key in props) {\n        cur = props[key];\n        old = oldProps[key];\n        if (old !== cur && (key !== 'value' || elm[key] !== cur)) {\n            elm[key] = cur;\n        }\n    }\n}\nexport var propsModule = { create: updateProps, update: updateProps };\nexport default propsModule;\n//# sourceMappingURL=props.js.map","var raf = (typeof window !== 'undefined' && window.requestAnimationFrame) || setTimeout;\nvar nextFrame = function (fn) { raf(function () { raf(fn); }); };\nfunction setNextFrame(obj, prop, val) {\n    nextFrame(function () { obj[prop] = val; });\n}\nfunction updateStyle(oldVnode, vnode) {\n    var cur, name, elm = vnode.elm, oldStyle = oldVnode.data.style, style = vnode.data.style;\n    if (!oldStyle && !style)\n        return;\n    if (oldStyle === style)\n        return;\n    oldStyle = oldStyle || {};\n    style = style || {};\n    var oldHasDel = 'delayed' in oldStyle;\n    for (name in oldStyle) {\n        if (!style[name]) {\n            if (name[0] === '-' && name[1] === '-') {\n                elm.style.removeProperty(name);\n            }\n            else {\n                elm.style[name] = '';\n            }\n        }\n    }\n    for (name in style) {\n        cur = style[name];\n        if (name === 'delayed' && style.delayed) {\n            for (var name2 in style.delayed) {\n                cur = style.delayed[name2];\n                if (!oldHasDel || cur !== oldStyle.delayed[name2]) {\n                    setNextFrame(elm.style, name2, cur);\n                }\n            }\n        }\n        else if (name !== 'remove' && cur !== oldStyle[name]) {\n            if (name[0] === '-' && name[1] === '-') {\n                elm.style.setProperty(name, cur);\n            }\n            else {\n                elm.style[name] = cur;\n            }\n        }\n    }\n}\nfunction applyDestroyStyle(vnode) {\n    var style, name, elm = vnode.elm, s = vnode.data.style;\n    if (!s || !(style = s.destroy))\n        return;\n    for (name in style) {\n        elm.style[name] = style[name];\n    }\n}\nfunction applyRemoveStyle(vnode, rm) {\n    var s = vnode.data.style;\n    if (!s || !s.remove) {\n        rm();\n        return;\n    }\n    var name, elm = vnode.elm, i = 0, compStyle, style = s.remove, amount = 0, applied = [];\n    for (name in style) {\n        applied.push(name);\n        elm.style[name] = style[name];\n    }\n    compStyle = getComputedStyle(elm);\n    var props = compStyle['transition-property'].split(', ');\n    for (; i < props.length; ++i) {\n        if (applied.indexOf(props[i]) !== -1)\n            amount++;\n    }\n    elm.addEventListener('transitionend', function (ev) {\n        if (ev.target === elm)\n            --amount;\n        if (amount === 0)\n            rm();\n    });\n}\nexport var styleModule = {\n    create: updateStyle,\n    update: updateStyle,\n    destroy: applyDestroyStyle,\n    remove: applyRemoveStyle\n};\nexport default styleModule;\n//# sourceMappingURL=style.js.map","import $ from '../../shared/dom7';\n\nfunction invokeHandler(handler, event, args) {\n  if (typeof handler === 'function') {\n    // call function handler\n    handler(event, ...args);\n  }\n}\nfunction handleEvent(event, args, vnode) {\n  const name = event.type;\n  const on = vnode.data.on;\n  // call event handler(s) if exists\n  if (on && on[name]) {\n    invokeHandler(on[name], event, args, vnode);\n  }\n}\nfunction createListener() {\n  return function handler(event, ...args) {\n    handleEvent(event, args, handler.vnode);\n  };\n}\nfunction updateEvents(oldVnode, vnode) {\n  const oldOn = oldVnode.data.on;\n  const oldListener = oldVnode.listener;\n  const oldElm = oldVnode.elm;\n  const on = vnode && vnode.data.on;\n  const elm = vnode && vnode.elm;\n  // optimization for reused immutable handlers\n  if (oldOn === on) {\n    return;\n  }\n  // remove existing listeners which no longer used\n  if (oldOn && oldListener) {\n    // if element changed or deleted we remove all existing listeners unconditionally\n    if (!on) {\n      Object.keys(oldOn).forEach((name) => {\n        $(oldElm).off(name, oldListener);\n      });\n    } else {\n      Object.keys(oldOn).forEach((name) => {\n        if (!on[name]) {\n          $(oldElm).off(name, oldListener);\n        }\n      });\n    }\n  }\n  // add new listeners which has not already attached\n  if (on) {\n    // reuse existing listener or create new\n    const listener = oldVnode.listener || createListener();\n    vnode.listener = listener;\n    // update vnode for listener\n    listener.vnode = vnode;\n    // if element changed or added we add all needed listeners unconditionally\n    if (!oldOn) {\n      Object.keys(on).forEach((name) => {\n        $(elm).on(name, listener);\n      });\n    } else {\n      Object.keys(on).forEach((name) => {\n        if (!oldOn[name]) {\n          $(elm).on(name, listener);\n        }\n      });\n    }\n  }\n}\n\nexport default {\n  create: updateEvents,\n  update: updateEvents,\n  destroy: updateEvents,\n};\n","/* eslint import/no-named-as-default: off */\nimport { init } from './snabbdom/snabbdom';\nimport attributesModule from './snabbdom/modules/attributes';\nimport propsModule from './snabbdom/modules/props';\nimport styleModule from './snabbdom/modules/style';\nimport eventListenersModule from './eventslisteners';\n\nconst patch = init([attributesModule, propsModule, styleModule, eventListenersModule]);\n\nexport default patch;\n","/* eslint no-underscore-dangle: \"off\" */\nimport { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom7';\nimport $h from './$h';\nimport { id as generateId, merge, eventNameToColonCase, deleteProps } from '../../shared/utils';\nimport vdom from './vdom';\nimport patch from './patch';\n\nclass Component {\n  constructor(app, component, props = {}, { el, context, children } = {}) {\n    const document = getDocument();\n    merge(this, {\n      f7: app,\n      props: props || {},\n      context: context || {},\n      id: component.id || generateId(),\n      children: children || [],\n      theme: {\n        ios: app.theme === 'ios',\n        md: app.theme === 'md',\n        aurora: app.theme === 'aurora',\n      },\n      style: component.style,\n      __updateQueue: [],\n      __eventHandlers: [],\n      __onceEventHandlers: [],\n      __onBeforeMount: [],\n      __onMounted: [],\n      __onBeforeUpdate: [],\n      __onUpdated: [],\n      __onBeforeUnmount: [],\n      __onUnmounted: [],\n    });\n\n    const createComponent = () => {\n      return component(this.props, this.getComponentContext(true));\n    };\n\n    const getRenderFuncion = (componentResult) =>\n      new Promise((resolve, reject) => {\n        if (typeof componentResult === 'function') {\n          resolve(componentResult);\n        } else if (componentResult instanceof Promise) {\n          componentResult\n            .then((render) => {\n              resolve(render);\n            })\n            .catch((err) => {\n              reject(err);\n            });\n        } else {\n          reject(\n            new Error(\n              'Framework7: Component render function is not a \"function\" type. Didn\\'t you forget to \"return $render\"?',\n            ),\n          );\n        }\n      });\n\n    return new Promise((resolve, reject) => {\n      const componentResult = createComponent();\n      getRenderFuncion(componentResult)\n        .then((render) => {\n          this.renderFunction = render;\n\n          const tree = this.render();\n\n          if (el) {\n            this.vnode = vdom(tree, this, true);\n            if (this.style) {\n              this.styleEl = document.createElement('style');\n              this.styleEl.innerHTML = this.style;\n            }\n            this.el = el;\n            patch(this.el, this.vnode);\n            this.el = this.vnode.elm;\n            this.$el = $(this.el);\n\n            this.attachEvents();\n            this.el.f7Component = this;\n            this.mount();\n            resolve(this);\n            return;\n          }\n          // Make Dom\n          if (tree) {\n            this.vnode = vdom(tree, this, true);\n            this.el = document.createElement(this.vnode.sel || 'div');\n            patch(this.el, this.vnode);\n            this.$el = $(this.el);\n          }\n          if (this.style) {\n            this.styleEl = document.createElement('style');\n            this.styleEl.innerHTML = this.style;\n          }\n\n          this.attachEvents();\n\n          if (this.el) {\n            this.el.f7Component = this;\n          }\n\n          resolve(this);\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    });\n  }\n\n  on(eventName, handler) {\n    if (!this.__eventHandlers) return;\n    this.__eventHandlers.push({ eventName, handler });\n  }\n\n  once(eventName, handler) {\n    if (!this.__eventHandlers) return;\n    this.__onceEventHandlers.push({ eventName, handler });\n  }\n\n  getComponentRef() {\n    const self = this;\n    return (initialValue) => {\n      let value = initialValue;\n      const obj = {};\n      Object.defineProperty(obj, 'value', {\n        get() {\n          return value;\n        },\n        set(v) {\n          value = v;\n          self.update();\n        },\n      });\n      return obj;\n    };\n  }\n\n  getComponentStore() {\n    const { state, _gettersPlain, dispatch } = this.f7.store;\n    const $store = {\n      state,\n      dispatch,\n    };\n    $store.getters = new Proxy(_gettersPlain, {\n      get: (target, prop) => {\n        const obj = target[prop];\n        const callback = (v) => {\n          obj.value = v;\n          this.update();\n        };\n        obj.onUpdated(callback);\n        return obj;\n      },\n    });\n\n    return $store;\n  }\n\n  getComponentContext(includeHooks) {\n    const ctx = {\n      $f7route: this.context.f7route,\n      $f7router: this.context.f7router,\n      $h,\n      $,\n      $id: this.id,\n      $f7: this.f7,\n      $f7ready: this.f7ready.bind(this),\n      $theme: this.theme,\n      $tick: this.tick.bind(this),\n      $update: this.update.bind(this),\n      $emit: this.emit.bind(this),\n      $store: this.getComponentStore(),\n      $ref: this.getComponentRef(),\n      $el: {},\n    };\n    Object.defineProperty(ctx.$el, 'value', {\n      get: () => {\n        return this.$el;\n      },\n    });\n    if (includeHooks)\n      Object.assign(ctx, {\n        $on: this.on.bind(this),\n        $once: this.once.bind(this),\n        $onBeforeMount: (handler) => this.__onBeforeMount.push(handler),\n        $onMounted: (handler) => this.__onMounted.push(handler),\n        $onBeforeUpdate: (handler) => this.__onBeforeUpdate.push(handler),\n        $onUpdated: (handler) => this.__onUpdated.push(handler),\n        $onBeforeUnmount: (handler) => this.__onBeforeUnmount.push(handler),\n        $onUnmounted: (handler) => this.__onUnmounted.push(handler),\n      });\n\n    return ctx;\n  }\n\n  render() {\n    return this.renderFunction(this.getComponentContext());\n  }\n\n  emit(name, data) {\n    if (!this.el) return;\n    this.$el.trigger(name, data);\n  }\n\n  attachEvents() {\n    const { $el } = this;\n    if (!this.__eventHandlers) return;\n    this.__eventHandlers.forEach(({ eventName, handler }) => {\n      $el.on(eventNameToColonCase(eventName), handler);\n    });\n    this.__onceEventHandlers.forEach(({ eventName, handler }) => {\n      $el.once(eventNameToColonCase(eventName), handler);\n    });\n  }\n\n  detachEvents() {\n    const { $el } = this;\n    if (!this.__eventHandlers) return;\n    this.__eventHandlers.forEach(({ eventName, handler }) => {\n      $el.on(eventNameToColonCase(eventName), handler);\n    });\n    this.__onceEventHandlers.forEach(({ eventName, handler }) => {\n      $el.once(eventNameToColonCase(eventName), handler);\n    });\n  }\n\n  startUpdateQueue() {\n    const window = getWindow();\n    if (this.__requestAnimationFrameId) return;\n    const update = () => {\n      this.hook('onBeforeUpdate');\n      const tree = this.render();\n\n      // Make Dom\n      if (tree) {\n        const newVNode = vdom(tree, this, false);\n        this.vnode = patch(this.vnode, newVNode);\n      }\n    };\n    this.__requestAnimationFrameId = window.requestAnimationFrame(() => {\n      if (this.__updateIsPending) update();\n      let resolvers = [...this.__updateQueue];\n      this.__updateQueue = [];\n      this.__updateIsPending = false;\n      window.cancelAnimationFrame(this.__requestAnimationFrameId);\n      delete this.__requestAnimationFrameId;\n      delete this.__updateIsPending;\n      resolvers.forEach((resolver) => resolver());\n      resolvers = [];\n    });\n  }\n\n  tick(callback) {\n    return new Promise((resolve) => {\n      function resolver() {\n        resolve();\n        if (callback) callback();\n      }\n      this.__updateQueue.push(resolver);\n      this.startUpdateQueue();\n    });\n  }\n\n  update(callback) {\n    if (this.__destroyed) return new Promise(() => {});\n    return new Promise((resolve) => {\n      const resolver = () => {\n        resolve();\n        if (callback) callback();\n      };\n      this.__updateIsPending = true;\n      this.__updateQueue.push(resolver);\n      this.startUpdateQueue();\n    });\n  }\n\n  setState(callback) {\n    return this.update(callback);\n  }\n\n  f7ready(callback) {\n    if (this.f7.initialized) {\n      callback(this.f7);\n      return;\n    }\n    this.f7.once('init', () => {\n      callback(this.f7);\n    });\n  }\n\n  mount(mountMethod) {\n    this.hook('onBeforeMount', this.$el);\n    if (this.styleEl) $('head').append(this.styleEl);\n    if (mountMethod) mountMethod(this.el);\n    this.hook('onMounted', this.$el);\n  }\n\n  destroy() {\n    if (this.__destroyed) return;\n    const window = getWindow();\n    this.hook('onBeforeUnmount');\n\n    if (this.styleEl) $(this.styleEl).remove();\n\n    this.detachEvents();\n    this.hook('onUnmounted');\n    // Delete component instance\n    if (this.el && this.el.f7Component) {\n      this.el.f7Component = null;\n      delete this.el.f7Component;\n    }\n    // Patch with empty node\n    if (this.vnode) {\n      this.vnode = patch(this.vnode, { sel: this.vnode.sel, data: {} });\n    }\n    // Clear update queue\n    window.cancelAnimationFrame(this.__requestAnimationFrameId);\n    this.__updateQueue = [];\n    this.__eventHandlers = [];\n    this.__onceEventHandlers = [];\n    this.__onBeforeMount = [];\n    this.__onMounted = [];\n    this.__onBeforeUpdate = [];\n    this.__onUpdated = [];\n    this.__onBeforeUnmount = [];\n    this.__onUnmounted = [];\n    // Delete all props\n    deleteProps(this);\n    this.__destroyed = true;\n  }\n\n  hook(name, ...args) {\n    if (this.__destroyed) return;\n    this[`__${name}`].forEach((handler) => {\n      handler(...args);\n    });\n  }\n}\n\nexport default Component;\n","import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom7';\nimport { id } from '../../shared/utils';\n\nfunction parseComponent(componentString) {\n  const window = getWindow();\n  const document = getDocument();\n  const componentId = id();\n  const callbackCreateName = `f7_component_create_callback_${componentId}`;\n\n  // Template\n  let template;\n  const hasTemplate = componentString.match(/<template([ ]?)([a-z0-9-]*)>/);\n  if (hasTemplate) {\n    template = componentString\n      .split(/<template[ ]?[a-z0-9-]*>/)\n      .filter((item, index) => index > 0)\n      .join('<template>')\n      .split('</template>')\n      .filter((item, index, arr) => index < arr.length - 1)\n      .join('</template>')\n      .replace(/{{#raw}}([ \\n]*)<template/g, '{{#raw}}<template')\n      .replace(/\\/template>([ \\n]*){{\\/raw}}/g, '/template>{{/raw}}')\n      .replace(/([ \\n])<template/g, '$1{{#raw}}<template')\n      .replace(/\\/template>([ \\n])/g, '/template>{{/raw}}$1');\n  }\n\n  // Parse Styles\n  let style = null;\n\n  if (componentString.indexOf('<style>') >= 0) {\n    style = componentString.split('<style>')[1].split('</style>')[0];\n  }\n  if (componentString.indexOf('<style scoped>') >= 0) {\n    style = componentString.split('<style scoped>')[1].split('</style>')[0];\n  }\n\n  // Parse Script\n  let scriptContent;\n  if (componentString.indexOf('<script>') >= 0) {\n    const scripts = componentString.split('<script>');\n    scriptContent = scripts[scripts.length - 1].split('</script>')[0].trim();\n  } else {\n    scriptContent = 'return () => {return $render}';\n  }\n  if (!scriptContent || !scriptContent.trim()) scriptContent = 'return () => {return $render}';\n\n  // Parse Template\n  if (template) {\n    scriptContent = scriptContent\n      .replace(\n        '$render',\n        `function ($$ctx) {\n          var $ = $$ctx.$$;\n          var $h = $$ctx.$h;\n          var $root = $$ctx.$root;\n          var $f7 = $$ctx.$f7;\n          var $f7route = $$ctx.$f7route;\n          var $f7router = $$ctx.$f7router;\n          var $theme = $$ctx.$theme;\n          var $update = $$ctx.$update;\n          var $store = $$ctx.$store;\n          var $ref = $$ctx.$ref;\n\n          return $h\\`${template}\\`\n        }\n        `,\n      )\n      .replace(/export default/g, 'return');\n  }\n\n  // Execute Script\n  scriptContent = `window.${callbackCreateName} = function () {${scriptContent}}`;\n\n  // Insert Script El\n  const scriptEl = document.createElement('script');\n  scriptEl.innerHTML = scriptContent;\n  $('head').append(scriptEl);\n\n  const component = window[callbackCreateName]();\n\n  // Remove Script El\n  $(scriptEl).remove();\n  window[callbackCreateName] = null;\n  delete window[callbackCreateName];\n\n  // Assign Style\n  if (style) {\n    component.style = style;\n  }\n\n  // Component ID\n  component.id = componentId;\n  return component;\n}\n\nexport default parseComponent;\n","import { flattenArray } from '../../shared/utils';\n\nconst ignoreChildren = [false, null, '', undefined];\n\nconst $jsx = (type, props, ...children) => {\n  const flatChildren = flattenArray(\n    (children || []).filter((child) => ignoreChildren.indexOf(child) < 0),\n  );\n  if (type === 'Fragment') {\n    return flatChildren;\n  }\n  return {\n    type,\n    props: props || {},\n    children: flatChildren,\n  };\n};\n\nexport default $jsx;\n","import Component from './component-class';\nimport parseComponent from './parse-component';\nimport customComponents from './custom-components';\nimport $jsx from './$jsx';\n\nfunction registerComponent(tagName, component) {\n  customComponents[tagName] = component;\n}\n\nfunction unregisterComponent(tagName) {\n  delete customComponents[tagName];\n}\n\nexport { Component, $jsx };\nexport default {\n  name: 'component',\n  static: {\n    Component,\n    registerComponent,\n    unregisterComponent,\n  },\n  create() {\n    const app = this;\n    app.component = {\n      registerComponent,\n      unregisterComponent,\n      parse(componentString) {\n        return parseComponent(componentString);\n      },\n      create(component, props, { root, el, context, children }) {\n        return new Component(app, component, props, { root, el, context, children });\n      },\n    };\n  },\n};\n","import History from '../../shared/history';\n\nexport default {\n  name: 'history',\n  static: {\n    history: History,\n  },\n  on: {\n    init() {\n      History.init(this);\n    },\n  },\n};\n","import { getWindow } from 'ssr-window';\nimport { extend } from '../../shared/utils';\n\nconst SW = {\n  registrations: [],\n  register(path, scope) {\n    const app = this;\n    const window = getWindow();\n\n    if (!('serviceWorker' in window.navigator) || !app.serviceWorker.container) {\n      return new Promise((resolve, reject) => {\n        reject(new Error('Service worker is not supported'));\n      });\n    }\n    return new Promise((resolve, reject) => {\n      app.serviceWorker.container\n        .register(path, scope ? { scope } : {})\n        .then((reg) => {\n          SW.registrations.push(reg);\n          app.emit('serviceWorkerRegisterSuccess', reg);\n          resolve(reg);\n        })\n        .catch((error) => {\n          app.emit('serviceWorkerRegisterError', error);\n          reject(error);\n        });\n    });\n  },\n  unregister(registration) {\n    const app = this;\n    const window = getWindow();\n    if (!('serviceWorker' in window.navigator) || !app.serviceWorker.container) {\n      return new Promise((resolve, reject) => {\n        reject(new Error('Service worker is not supported'));\n      });\n    }\n    let registrations;\n    if (!registration) registrations = SW.registrations;\n    else if (Array.isArray(registration)) registrations = registration;\n    else registrations = [registration];\n    return Promise.all(\n      registrations.map(\n        (reg) =>\n          new Promise((resolve, reject) => {\n            reg\n              .unregister()\n              .then(() => {\n                if (SW.registrations.indexOf(reg) >= 0) {\n                  SW.registrations.splice(SW.registrations.indexOf(reg), 1);\n                }\n                app.emit('serviceWorkerUnregisterSuccess', reg);\n                resolve();\n              })\n              .catch((error) => {\n                app.emit('serviceWorkerUnregisterError', reg, error);\n                reject(error);\n              });\n          }),\n      ),\n    );\n  },\n};\n\nexport default {\n  name: 'sw',\n  params: {\n    serviceWorker: {\n      path: undefined,\n      scope: undefined,\n    },\n  },\n  create() {\n    const app = this;\n    const window = getWindow();\n    extend(app, {\n      serviceWorker: {\n        container: 'serviceWorker' in window.navigator ? window.navigator.serviceWorker : undefined,\n        registrations: SW.registrations,\n        register: SW.register.bind(app),\n        unregister: SW.unregister.bind(app),\n      },\n    });\n  },\n  on: {\n    init() {\n      const window = getWindow();\n      if (!('serviceWorker' in window.navigator)) return;\n      const app = this;\n      if (app.device.cordova || (window.Capacitor && window.Capacitor.isNative)) return;\n      if (!app.serviceWorker.container) return;\n      const paths = app.params.serviceWorker.path;\n      const scope = app.params.serviceWorker.scope;\n      if (!paths || (Array.isArray(paths) && !paths.length)) return;\n      const toRegister = Array.isArray(paths) ? paths : [paths];\n      toRegister.forEach((path) => {\n        app.serviceWorker.register(path, scope);\n      });\n    },\n  },\n};\n","/* eslint-disable no-underscore-dangle */\nimport { extend } from '../../shared/utils';\n\nfunction createStore(storeParams = {}) {\n  const store = {\n    __store: true,\n  };\n  const originalState = { ...(storeParams.state || {}) };\n  const actions = { ...(storeParams.actions || {}) };\n  const getters = { ...(storeParams.getters || {}) };\n  const state = extend({}, originalState);\n\n  let propsQueue = [];\n  const gettersDependencies = {};\n  const gettersCallbacks = {};\n\n  Object.keys(getters).forEach((getterKey) => {\n    gettersDependencies[getterKey] = [];\n    gettersCallbacks[getterKey] = [];\n  });\n\n  const getGetterValue = (getterKey) => {\n    return getters[getterKey]({ state: store.state });\n  };\n\n  const addGetterDependencies = (getterKey, deps) => {\n    if (!gettersDependencies[getterKey]) gettersDependencies[getterKey] = [];\n    deps.forEach((dep) => {\n      if (gettersDependencies[getterKey].indexOf(dep) < 0) {\n        gettersDependencies[getterKey].push(dep);\n      }\n    });\n  };\n\n  const addGetterCallback = (getterKey, callback) => {\n    if (!gettersCallbacks[getterKey]) gettersCallbacks[getterKey] = [];\n    gettersCallbacks[getterKey].push(callback);\n  };\n\n  const runGetterCallbacks = (stateKey) => {\n    const keys = Object.keys(gettersDependencies).filter((getterKey) => {\n      return gettersDependencies[getterKey].indexOf(stateKey) >= 0;\n    });\n    keys.forEach((getterKey) => {\n      if (!gettersCallbacks[getterKey] || !gettersCallbacks[getterKey].length) return;\n      gettersCallbacks[getterKey].forEach((callback) => {\n        callback(getGetterValue(getterKey));\n      });\n    });\n  };\n\n  const removeGetterCallback = (callback) => {\n    Object.keys(gettersCallbacks).forEach((stateKey) => {\n      const callbacks = gettersCallbacks[stateKey];\n\n      if (callbacks.indexOf(callback) >= 0) {\n        callbacks.splice(callbacks.indexOf(callback), 1);\n      }\n    });\n  };\n\n  // eslint-disable-next-line\n  store.__removeCallback = (callback) => {\n    removeGetterCallback(callback);\n  };\n\n  const getterValue = (getterKey, addCallback = true) => {\n    if (getterKey === 'constructor') return undefined;\n    propsQueue = [];\n    const value = getGetterValue(getterKey);\n    addGetterDependencies(getterKey, propsQueue);\n    const onUpdated = (callback) => {\n      addGetterCallback(getterKey, callback);\n    };\n\n    const obj = {\n      value,\n      onUpdated,\n    };\n\n    if (!addCallback) {\n      return obj;\n    }\n\n    const callback = (v) => {\n      obj.value = v;\n    };\n\n    obj.__callback = callback;\n    addGetterCallback(getterKey, callback);\n    // eslint-disable-next-line\n    return obj;\n  };\n\n  store.state = new Proxy(state, {\n    set: (target, prop, value) => {\n      target[prop] = value;\n      runGetterCallbacks(prop);\n      return true;\n    },\n    get: (target, prop) => {\n      propsQueue.push(prop);\n      return target[prop];\n    },\n  });\n\n  store.getters = new Proxy(getters, {\n    set: () => false,\n    get: (target, prop) => {\n      if (!target[prop]) {\n        return undefined;\n      }\n      return getterValue(prop, true);\n    },\n  });\n\n  store._gettersPlain = new Proxy(getters, {\n    set: () => false,\n    get: (target, prop) => {\n      if (!target[prop]) {\n        return undefined;\n      }\n      return getterValue(prop, false);\n    },\n  });\n\n  store.dispatch = (actionName, data) => {\n    return new Promise((resolve, reject) => {\n      if (!actions[actionName]) {\n        reject();\n        throw new Error(`Framework7: Store action \"${actionName}\" is not found`);\n      }\n      const result = actions[actionName]({ state: store.state, dispatch: store.dispatch }, data);\n      resolve(result);\n    });\n  };\n\n  return store;\n}\n\nexport default createStore;\n","import createStore from './create-store';\n\nexport { createStore };\nexport default {\n  name: 'store',\n  static: { createStore },\n  proto: { createStore },\n};\n","import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom7';\nimport { bindMethods } from '../../shared/utils';\nimport { getDevice } from '../../shared/get-device';\n\nconst isCapacitor = () => {\n  const window = getWindow();\n  return (\n    window.Capacitor &&\n    window.Capacitor.isNative &&\n    window.Capacitor.Plugins &&\n    window.Capacitor.Plugins.StatusBar\n  );\n};\n\nconst Statusbar = {\n  hide() {\n    const window = getWindow();\n    const device = getDevice();\n    if (device.cordova && window.StatusBar) {\n      window.StatusBar.hide();\n    }\n    if (isCapacitor()) {\n      window.Capacitor.Plugins.StatusBar.hide();\n    }\n  },\n  show() {\n    const window = getWindow();\n    const device = getDevice();\n    if (device.cordova && window.StatusBar) {\n      window.StatusBar.show();\n    }\n    if (isCapacitor()) {\n      window.Capacitor.Plugins.StatusBar.show();\n    }\n  },\n  onClick() {\n    const app = this;\n    let pageContent;\n    if ($('.popup.modal-in').length > 0) {\n      // Check for opened popup\n      pageContent = $('.popup.modal-in')\n        .find('.page:not(.page-previous):not(.page-next):not(.cached)')\n        .find('.page-content');\n    } else if ($('.panel.panel-in').length > 0) {\n      // Check for opened panel\n      pageContent = $('.panel.panel-in')\n        .find('.page:not(.page-previous):not(.page-next):not(.cached)')\n        .find('.page-content');\n    } else if ($('.views > .view.tab-active').length > 0) {\n      // View in tab bar app layout\n      pageContent = $('.views > .view.tab-active')\n        .find('.page:not(.page-previous):not(.page-next):not(.cached)')\n        .find('.page-content');\n    } else if ($('.views').length > 0) {\n      pageContent = $('.views')\n        .find('.page:not(.page-previous):not(.page-next):not(.cached)')\n        .find('.page-content');\n    } else {\n      pageContent = app.$el\n        .children('.view')\n        .find('.page:not(.page-previous):not(.page-next):not(.cached)')\n        .find('.page-content');\n    }\n\n    if (pageContent && pageContent.length > 0) {\n      // Check for tab\n      if (pageContent.hasClass('tab')) {\n        pageContent = pageContent.parent('.tabs').children('.page-content.tab-active');\n      }\n      if (pageContent.length > 0) pageContent.scrollTop(0, 300);\n    }\n  },\n  setTextColor(color) {\n    const window = getWindow();\n    const device = getDevice();\n    if (device.cordova && window.StatusBar) {\n      if (color === 'white') {\n        window.StatusBar.styleLightContent();\n      } else {\n        window.StatusBar.styleDefault();\n      }\n    }\n    if (isCapacitor()) {\n      if (color === 'white') {\n        window.Capacitor.Plugins.StatusBar.setStyle({ style: 'DARK' });\n      } else {\n        window.Capacitor.Plugins.StatusBar.setStyle({ style: 'LIGHT' });\n      }\n    }\n  },\n  setBackgroundColor(color) {\n    const window = getWindow();\n    const device = getDevice();\n    if (device.cordova && window.StatusBar) {\n      window.StatusBar.backgroundColorByHexString(color);\n    }\n    if (isCapacitor()) {\n      window.Capacitor.Plugins.StatusBar.setBackgroundColor({ color });\n    }\n  },\n  isVisible() {\n    const window = getWindow();\n    const device = getDevice();\n    return new Promise((resolve) => {\n      if (device.cordova && window.StatusBar) {\n        resolve(window.StatusBar.isVisible);\n      }\n      if (isCapacitor()) {\n        window.Capacitor.Plugins.StatusBar.getInfo().then((info) => {\n          resolve(info.visible);\n        });\n      }\n      resolve(false);\n    });\n  },\n  overlaysWebView(overlays = true) {\n    const window = getWindow();\n    const device = getDevice();\n    if (device.cordova && window.StatusBar) {\n      window.StatusBar.overlaysWebView(overlays);\n    }\n    if (isCapacitor()) {\n      window.Capacitor.Plugins.StatusBar.setOverlaysWebView({ overlay: overlays });\n    }\n  },\n  init() {\n    const app = this;\n    const window = getWindow();\n    const device = getDevice();\n    const params = app.params.statusbar;\n    if (!params.enabled) return;\n    const isCordova = device.cordova && window.StatusBar;\n    const isCap = isCapacitor();\n\n    if (isCordova || isCap) {\n      if (params.scrollTopOnClick) {\n        $(window).on('statusTap', Statusbar.onClick.bind(app));\n      }\n      if (device.ios) {\n        if (params.iosOverlaysWebView) {\n          Statusbar.overlaysWebView(true);\n        } else {\n          Statusbar.overlaysWebView(false);\n        }\n        if (params.iosTextColor === 'white') {\n          Statusbar.setTextColor('white');\n        } else {\n          Statusbar.setTextColor('black');\n        }\n      }\n      if (device.android) {\n        if (params.androidOverlaysWebView) {\n          Statusbar.overlaysWebView(true);\n        } else {\n          Statusbar.overlaysWebView(false);\n        }\n        if (params.androidTextColor === 'white') {\n          Statusbar.setTextColor('white');\n        } else {\n          Statusbar.setTextColor('black');\n        }\n      }\n    }\n    if (params.iosBackgroundColor && device.ios) {\n      Statusbar.setBackgroundColor(params.iosBackgroundColor);\n    }\n    if (params.androidBackgroundColor && device.android) {\n      Statusbar.setBackgroundColor(params.androidBackgroundColor);\n    }\n  },\n};\n\nexport default {\n  name: 'statusbar',\n  params: {\n    statusbar: {\n      enabled: true,\n\n      scrollTopOnClick: true,\n\n      iosOverlaysWebView: true,\n      iosTextColor: 'black',\n      iosBackgroundColor: null,\n\n      androidOverlaysWebView: false,\n      androidTextColor: 'black',\n      androidBackgroundColor: null,\n    },\n  },\n  create() {\n    const app = this;\n    bindMethods(app, {\n      statusbar: Statusbar,\n    });\n  },\n  on: {\n    init() {\n      const app = this;\n      Statusbar.init.call(app);\n    },\n  },\n};\n","import $ from '../../shared/dom7';\nimport { extend } from '../../shared/utils';\nimport View from './view-class';\n\nfunction getCurrentView(app) {\n  const $popoverView = $('.popover.modal-in .view');\n  const $popupView = $('.popup.modal-in .view');\n  const $panelView = $('.panel.panel-in .view');\n  let $viewsEl = $('.views');\n  if ($viewsEl.length === 0) $viewsEl = app.$el;\n  // Find active view as tab\n  let $viewEl = $viewsEl.children('.view');\n  if ($viewEl.length === 0) {\n    $viewEl = $viewsEl.children('.tabs').children('.view');\n  }\n  // Propably in tabs or split view\n  if ($viewEl.length > 1) {\n    if ($viewEl.hasClass('tab')) {\n      // Tabs\n      $viewEl = $viewsEl.children('.view.tab-active');\n      if ($viewEl.length === 0) {\n        $viewEl = $viewsEl.children('.tabs').children('.view.tab-active');\n      }\n    } else {\n      // Split View, leave appView intact\n    }\n  }\n  if ($popoverView.length > 0 && $popoverView[0].f7View) return $popoverView[0].f7View;\n  if ($popupView.length > 0 && $popupView[0].f7View) return $popupView[0].f7View;\n  if ($panelView.length > 0 && $panelView[0].f7View) return $panelView[0].f7View;\n  if ($viewEl.length > 0) {\n    if ($viewEl.length === 1 && $viewEl[0].f7View) return $viewEl[0].f7View;\n    if ($viewEl.length > 1) {\n      return app.views.main;\n    }\n  }\n  return undefined;\n}\n\nexport default {\n  name: 'view',\n  params: {\n    view: {\n      init: true,\n      name: undefined,\n      main: false,\n      router: true,\n      linksView: null,\n      stackPages: false,\n      xhrCache: true,\n      xhrCacheIgnore: [],\n      xhrCacheIgnoreGetParameters: false,\n      xhrCacheDuration: 1000 * 60 * 10, // Ten minutes\n      componentCache: true,\n      preloadPreviousPage: true,\n      allowDuplicateUrls: false,\n      reloadPages: false,\n      reloadDetail: false,\n      masterDetailBreakpoint: 0,\n      masterDetailResizable: false,\n      removeElements: true,\n      removeElementsWithTimeout: false,\n      removeElementsTimeout: 0,\n      restoreScrollTopOnBack: true,\n      unloadTabContent: true,\n      passRouteQueryToRequest: true,\n      passRouteParamsToRequest: false,\n      loadInitialPage: true,\n      // Swipe Back\n      iosSwipeBack: true,\n      iosSwipeBackAnimateShadow: true,\n      iosSwipeBackAnimateOpacity: true,\n      iosSwipeBackActiveArea: 30,\n      iosSwipeBackThreshold: 0,\n      mdSwipeBack: false,\n      mdSwipeBackAnimateShadow: true,\n      mdSwipeBackAnimateOpacity: false,\n      mdSwipeBackActiveArea: 30,\n      mdSwipeBackThreshold: 0,\n      auroraSwipeBack: false,\n      auroraSwipeBackAnimateShadow: false,\n      auroraSwipeBackAnimateOpacity: true,\n      auroraSwipeBackActiveArea: 30,\n      auroraSwipeBackThreshold: 0,\n      // Push State\n      browserHistory: false,\n      browserHistoryRoot: undefined,\n      browserHistoryAnimate: true,\n      browserHistoryAnimateOnLoad: false,\n      browserHistorySeparator: '#!',\n      browserHistoryOnLoad: true,\n      browserHistoryInitialMatch: false,\n      browserHistoryStoreHistory: true,\n      // Animate Pages\n      animate: true,\n      // iOS Dynamic Navbar\n      iosDynamicNavbar: true,\n      // Animate iOS Navbar Back Icon\n      iosAnimateNavbarBackIcon: true,\n      // Delays\n      iosPageLoadDelay: 0,\n      mdPageLoadDelay: 0,\n      auroraPageLoadDelay: 0,\n      // Routes hooks\n      routesBeforeEnter: null,\n      routesBeforeLeave: null,\n    },\n  },\n  static: {\n    View,\n  },\n  create() {\n    const app = this;\n    extend(app, {\n      views: extend([], {\n        create(el, params) {\n          return new View(app, el, params);\n        },\n        get(viewEl) {\n          const $viewEl = $(viewEl);\n          if ($viewEl.length && $viewEl[0].f7View) return $viewEl[0].f7View;\n          return undefined;\n        },\n      }),\n    });\n    Object.defineProperty(app.views, 'current', {\n      enumerable: true,\n      configurable: true,\n      get() {\n        return getCurrentView(app);\n      },\n    });\n    // Alias\n    app.view = app.views;\n  },\n  on: {\n    init() {\n      const app = this;\n      $('.view-init').each((viewEl) => {\n        if (viewEl.f7View) return;\n        const viewParams = $(viewEl).dataset();\n        app.views.create(viewEl, viewParams);\n      });\n    },\n    'modalOpen panelOpen': function onOpen(instance) {\n      const app = this;\n      instance.$el.find('.view-init').each((viewEl) => {\n        if (viewEl.f7View) return;\n        const viewParams = $(viewEl).dataset();\n        app.views.create(viewEl, viewParams);\n      });\n    },\n    'modalBeforeDestroy panelBeforeDestroy': function onClose(instance) {\n      if (!instance || !instance.$el) return;\n      instance.$el.find('.view-init').each((viewEl) => {\n        const view = viewEl.f7View;\n        if (!view) return;\n        view.destroy();\n      });\n    },\n  },\n  vnode: {\n    'view-init': {\n      insert(vnode) {\n        const app = this;\n        const viewEl = vnode.elm;\n        if (viewEl.f7View) return;\n        const viewParams = $(viewEl).dataset();\n        app.views.create(viewEl, viewParams);\n      },\n      destroy(vnode) {\n        const viewEl = vnode.elm;\n        const view = viewEl.f7View;\n        if (!view) return;\n        view.destroy();\n      },\n    },\n  },\n};\n","import $ from '../../shared/dom7';\nimport { bindMethods } from '../../shared/utils';\nimport { getSupport } from '../../shared/get-support';\n\nconst Navbar = {\n  size(el) {\n    const app = this;\n\n    let $el = $(el);\n\n    if ($el.hasClass('navbars')) {\n      $el = $el.children('.navbar').each((navbarEl) => {\n        app.navbar.size(navbarEl);\n      });\n      return;\n    }\n\n    const $innerEl = $el.children('.navbar-inner');\n    if (!$innerEl.length) return;\n\n    const needCenterTitle =\n      $innerEl.hasClass('navbar-inner-centered-title') ||\n      app.params.navbar[`${app.theme}CenterTitle`];\n    const needLeftTitle = app.theme === 'ios' && !app.params.navbar[`${app.theme}CenterTitle`];\n\n    if (!needCenterTitle && !needLeftTitle) return;\n\n    if (\n      $el.hasClass('stacked') ||\n      $el.parents('.stacked').length > 0 ||\n      $el.parents('.tab:not(.tab-active)').length > 0 ||\n      $el.parents('.popup:not(.modal-in)').length > 0\n    ) {\n      return;\n    }\n\n    if (app.theme !== 'ios' && app.params.navbar[`${app.theme}CenterTitle`]) {\n      $innerEl.addClass('navbar-inner-centered-title');\n    }\n    if (app.theme === 'ios' && !app.params.navbar.iosCenterTitle) {\n      $innerEl.addClass('navbar-inner-left-title');\n    }\n\n    const $viewEl = $el.parents('.view').eq(0);\n    const left = app.rtl ? $innerEl.children('.right') : $innerEl.children('.left');\n    const right = app.rtl ? $innerEl.children('.left') : $innerEl.children('.right');\n    const title = $innerEl.children('.title');\n    const subnavbar = $innerEl.children('.subnavbar');\n    const noLeft = left.length === 0;\n    const noRight = right.length === 0;\n    const leftWidth = noLeft ? 0 : left.outerWidth(true);\n    const rightWidth = noRight ? 0 : right.outerWidth(true);\n    const titleWidth = title.outerWidth(true);\n    const navbarStyles = $innerEl.styles();\n    const navbarWidth = $innerEl[0].offsetWidth;\n    const navbarInnerWidth =\n      navbarWidth -\n      parseInt(navbarStyles.paddingLeft, 10) -\n      parseInt(navbarStyles.paddingRight, 10);\n    const isPrevious = $el.hasClass('navbar-previous');\n    const sliding = $innerEl.hasClass('sliding');\n\n    let router;\n    let dynamicNavbar;\n\n    if ($viewEl.length > 0 && $viewEl[0].f7View) {\n      router = $viewEl[0].f7View.router;\n      dynamicNavbar = router && router.dynamicNavbar;\n    }\n\n    let currLeft;\n    let diff;\n    if (noRight) {\n      currLeft = navbarInnerWidth - titleWidth;\n    }\n    if (noLeft) {\n      currLeft = 0;\n    }\n    if (!noLeft && !noRight) {\n      currLeft = (navbarInnerWidth - rightWidth - titleWidth + leftWidth) / 2;\n    }\n    let requiredLeft = (navbarInnerWidth - titleWidth) / 2;\n    if (navbarInnerWidth - leftWidth - rightWidth > titleWidth) {\n      if (requiredLeft < leftWidth) {\n        requiredLeft = leftWidth;\n      }\n      if (requiredLeft + titleWidth > navbarInnerWidth - rightWidth) {\n        requiredLeft = navbarInnerWidth - rightWidth - titleWidth;\n      }\n      diff = requiredLeft - currLeft;\n    } else {\n      diff = 0;\n    }\n\n    // RTL inverter\n    const inverter = app.rtl ? -1 : 1;\n\n    if (dynamicNavbar && app.theme === 'ios') {\n      if (title.hasClass('sliding') || (title.length > 0 && sliding)) {\n        let titleLeftOffset = -(currLeft + diff) * inverter;\n        const titleRightOffset = (navbarInnerWidth - currLeft - diff - titleWidth) * inverter;\n\n        if (isPrevious) {\n          if (router && router.params.iosAnimateNavbarBackIcon) {\n            const activeNavbarBackLink = $el\n              .parent()\n              .find('.navbar-current')\n              .children('.left.sliding')\n              .find('.back .icon ~ span');\n            if (activeNavbarBackLink.length > 0) {\n              titleLeftOffset += activeNavbarBackLink[0].offsetLeft;\n            }\n          }\n        }\n        title[0].f7NavbarLeftOffset = titleLeftOffset;\n        title[0].f7NavbarRightOffset = titleRightOffset;\n      }\n      if (!noLeft && (left.hasClass('sliding') || sliding)) {\n        if (app.rtl) {\n          left[0].f7NavbarLeftOffset = (-(navbarInnerWidth - left[0].offsetWidth) / 2) * inverter;\n          left[0].f7NavbarRightOffset = leftWidth * inverter;\n        } else {\n          left[0].f7NavbarLeftOffset = -leftWidth;\n          left[0].f7NavbarRightOffset = (navbarInnerWidth - left[0].offsetWidth) / 2;\n          if (\n            router &&\n            router.params.iosAnimateNavbarBackIcon &&\n            left.find('.back .icon').length > 0\n          ) {\n            if (left.find('.back .icon ~ span').length) {\n              const leftOffset = left[0].f7NavbarLeftOffset;\n              const rightOffset = left[0].f7NavbarRightOffset;\n              left[0].f7NavbarLeftOffset = 0;\n              left[0].f7NavbarRightOffset = 0;\n              left.find('.back .icon ~ span')[0].f7NavbarLeftOffset = leftOffset;\n              left.find('.back .icon ~ span')[0].f7NavbarRightOffset =\n                rightOffset - left.find('.back .icon')[0].offsetWidth;\n            }\n          }\n        }\n      }\n      if (!noRight && (right.hasClass('sliding') || sliding)) {\n        if (app.rtl) {\n          right[0].f7NavbarLeftOffset = -rightWidth * inverter;\n          right[0].f7NavbarRightOffset = ((navbarInnerWidth - right[0].offsetWidth) / 2) * inverter;\n        } else {\n          right[0].f7NavbarLeftOffset = -(navbarInnerWidth - right[0].offsetWidth) / 2;\n          right[0].f7NavbarRightOffset = rightWidth;\n        }\n      }\n      if (subnavbar.length && (subnavbar.hasClass('sliding') || sliding)) {\n        subnavbar[0].f7NavbarLeftOffset = app.rtl\n          ? subnavbar[0].offsetWidth\n          : -subnavbar[0].offsetWidth;\n        subnavbar[0].f7NavbarRightOffset = -subnavbar[0].f7NavbarLeftOffset;\n      }\n    }\n\n    // Center title\n    if (needCenterTitle) {\n      let titleLeft = diff;\n      if (app.rtl && noLeft && noRight && title.length > 0) titleLeft = -titleLeft;\n      title.css({ left: `${titleLeft}px` });\n    }\n  },\n  hide(el, animate = true, hideStatusbar = false, hideOnlyCurrent = false) {\n    const app = this;\n    let $el = $(el);\n    const isDynamic = $el.hasClass('navbar') && $el.parent('.navbars').length && !hideOnlyCurrent;\n    if (isDynamic) $el = $el.parents('.navbars');\n    if (!$el.length) return;\n    if ($el.hasClass('navbar-hidden')) return;\n    let className = `navbar-hidden${animate ? ' navbar-transitioning' : ''}`;\n    const currentIsLarge = isDynamic\n      ? $el.find('.navbar-current .title-large').length\n      : $el.find('.title-large').length;\n    if (currentIsLarge) {\n      className += ' navbar-large-hidden';\n    }\n    if (hideStatusbar) {\n      className += ' navbar-hidden-statusbar';\n    }\n    $el.transitionEnd(() => {\n      $el.removeClass('navbar-transitioning');\n    });\n    $el.addClass(className);\n    if (isDynamic) {\n      $el.children('.navbar').each((subEl) => {\n        $(subEl).trigger('navbar:hide');\n        app.emit('navbarHide', subEl);\n      });\n    } else {\n      $el.trigger('navbar:hide');\n      app.emit('navbarHide', $el[0]);\n    }\n  },\n  show(el = '.navbar-hidden', animate = true, hideOnlyCurrent = false) {\n    const app = this;\n    let $el = $(el);\n    const isDynamic = $el.hasClass('navbar') && $el.parent('.navbars').length && !hideOnlyCurrent;\n    if (isDynamic) $el = $el.parents('.navbars');\n    if (!$el.length) return;\n    if (!$el.hasClass('navbar-hidden')) return;\n    if (animate) {\n      $el.addClass('navbar-transitioning');\n      $el.transitionEnd(() => {\n        $el.removeClass('navbar-transitioning');\n      });\n    }\n    $el.removeClass('navbar-hidden navbar-large-hidden navbar-hidden-statusbar');\n    if (isDynamic) {\n      $el.children('.navbar').each((subEl) => {\n        $(subEl).trigger('navbar:show');\n        app.emit('navbarShow', subEl);\n      });\n    } else {\n      $el.trigger('navbar:show');\n      app.emit('navbarShow', $el[0]);\n    }\n  },\n  getElByPage(page) {\n    let $pageEl;\n    let $navbarEl;\n    let pageData;\n    if (page.$navbarEl || page.$el) {\n      pageData = page;\n      $pageEl = page.$el;\n    } else {\n      $pageEl = $(page);\n      if ($pageEl.length > 0) pageData = $pageEl[0].f7Page;\n    }\n    if (pageData && pageData.$navbarEl && pageData.$navbarEl.length > 0) {\n      $navbarEl = pageData.$navbarEl;\n    } else if ($pageEl) {\n      $navbarEl = $pageEl.children('.navbar');\n    }\n    if (!$navbarEl || ($navbarEl && $navbarEl.length === 0)) return undefined;\n    return $navbarEl[0];\n  },\n  getPageByEl(navbarEl) {\n    const $navbarEl = $(navbarEl);\n    if ($navbarEl.parents('.page').length) {\n      return $navbarEl.parents('.page')[0];\n    }\n    let pageEl;\n    $navbarEl\n      .parents('.view')\n      .find('.page')\n      .each((el) => {\n        if (el && el.f7Page && el.f7Page.navbarEl && $navbarEl[0] === el.f7Page.navbarEl) {\n          pageEl = el;\n        }\n      });\n    return pageEl;\n  },\n\n  collapseLargeTitle(navbarEl) {\n    const app = this;\n    let $navbarEl = $(navbarEl);\n    if ($navbarEl.hasClass('navbars')) {\n      $navbarEl = $navbarEl.find('.navbar');\n      if ($navbarEl.length > 1) {\n        $navbarEl = $(navbarEl).find('.navbar-large.navbar-current');\n      }\n      if ($navbarEl.length > 1 || !$navbarEl.length) {\n        return;\n      }\n    }\n    const $pageEl = $(app.navbar.getPageByEl($navbarEl));\n    $navbarEl.addClass('navbar-large-collapsed');\n    $pageEl.eq(0).addClass('page-with-navbar-large-collapsed').trigger('page:navbarlargecollapsed');\n    app.emit('pageNavbarLargeCollapsed', $pageEl[0]);\n    $navbarEl.trigger('navbar:collapse');\n    app.emit('navbarCollapse', $navbarEl[0]);\n  },\n  expandLargeTitle(navbarEl) {\n    const app = this;\n    let $navbarEl = $(navbarEl);\n    if ($navbarEl.hasClass('navbars')) {\n      $navbarEl = $navbarEl.find('.navbar-large');\n      if ($navbarEl.length > 1) {\n        $navbarEl = $(navbarEl).find('.navbar-large.navbar-current');\n      }\n      if ($navbarEl.length > 1 || !$navbarEl.length) {\n        return;\n      }\n    }\n    const $pageEl = $(app.navbar.getPageByEl($navbarEl));\n    $navbarEl.removeClass('navbar-large-collapsed');\n    $pageEl\n      .eq(0)\n      .removeClass('page-with-navbar-large-collapsed')\n      .trigger('page:navbarlargeexpanded');\n    app.emit('pageNavbarLargeExpanded', $pageEl[0]);\n    $navbarEl.trigger('navbar:expand');\n    app.emit('navbarExpand', $navbarEl[0]);\n  },\n  toggleLargeTitle(navbarEl) {\n    const app = this;\n    let $navbarEl = $(navbarEl);\n    if ($navbarEl.hasClass('navbars')) {\n      $navbarEl = $navbarEl.find('.navbar-large');\n      if ($navbarEl.length > 1) {\n        $navbarEl = $(navbarEl).find('.navbar-large.navbar-current');\n      }\n      if ($navbarEl.length > 1 || !$navbarEl.length) {\n        return;\n      }\n    }\n    if ($navbarEl.hasClass('navbar-large-collapsed')) {\n      app.navbar.expandLargeTitle($navbarEl);\n    } else {\n      app.navbar.collapseLargeTitle($navbarEl);\n    }\n  },\n  initNavbarOnScroll(pageEl, navbarEl, needHide, needCollapse, needTransparent) {\n    const app = this;\n    const support = getSupport();\n    const $pageEl = $(pageEl);\n    const $navbarEl = $(navbarEl);\n    const $titleLargeEl = $navbarEl.find('.title-large');\n    const isLarge = $titleLargeEl.length || $navbarEl.hasClass('.navbar-large');\n    let navbarHideHeight = 44;\n    const snapPageScrollToLargeTitle = app.params.navbar.snapPageScrollToLargeTitle;\n    const snapPageScrollToTransparentNavbar = app.params.navbar.snapPageScrollToTransparentNavbar;\n\n    let previousScrollTop;\n    let currentScrollTop;\n\n    let scrollHeight;\n    let offsetHeight;\n    let reachEnd;\n    let action;\n    let navbarHidden;\n\n    let navbarCollapsed;\n    let navbarTitleLargeHeight;\n\n    let navbarOffsetHeight;\n\n    if (needCollapse || (needHide && isLarge)) {\n      navbarTitleLargeHeight = $navbarEl.css('--f7-navbar-large-title-height');\n\n      if (navbarTitleLargeHeight && navbarTitleLargeHeight.indexOf('px') >= 0) {\n        navbarTitleLargeHeight = parseInt(navbarTitleLargeHeight, 10);\n        if (Number.isNaN(navbarTitleLargeHeight) && $titleLargeEl.length) {\n          navbarTitleLargeHeight = $titleLargeEl[0].offsetHeight;\n        } else if (Number.isNaN(navbarTitleLargeHeight)) {\n          if (app.theme === 'ios') navbarTitleLargeHeight = 52;\n          else if (app.theme === 'md') navbarTitleLargeHeight = 48;\n          else if (app.theme === 'aurora') navbarTitleLargeHeight = 38;\n        }\n      } else if ($titleLargeEl.length) {\n        navbarTitleLargeHeight = $titleLargeEl[0].offsetHeight;\n      } else {\n        // eslint-disable-next-line\n        if (app.theme === 'ios') navbarTitleLargeHeight = 52;\n        else if (app.theme === 'md') navbarTitleLargeHeight = 48;\n        else if (app.theme === 'aurora') navbarTitleLargeHeight = 38;\n      }\n    }\n\n    if (needHide && isLarge) {\n      navbarHideHeight += navbarTitleLargeHeight;\n    }\n\n    let scrollChanged;\n    let scrollContent;\n    let scrollTimeoutId;\n    let touchEndTimeoutId;\n    const touchSnapTimeout = 70;\n    const desktopSnapTimeout = 300;\n\n    function calcScrollableDistance() {\n      $pageEl.find('.page-content').each((pageContentEl) => {\n        pageContentEl.f7ScrollableDistance =\n          pageContentEl.scrollHeight - pageContentEl.offsetHeight;\n      });\n    }\n\n    function snapLargeNavbar() {\n      const inSearchbarExpanded = $navbarEl.hasClass('with-searchbar-expandable-enabled');\n      if (inSearchbarExpanded) return;\n      if (!scrollContent || currentScrollTop < 0) return;\n      if (\n        currentScrollTop >= navbarTitleLargeHeight / 2 &&\n        currentScrollTop < navbarTitleLargeHeight\n      ) {\n        $(scrollContent).scrollTop(navbarTitleLargeHeight, 100);\n      } else if (currentScrollTop < navbarTitleLargeHeight) {\n        $(scrollContent).scrollTop(0, 200);\n      }\n    }\n\n    function snapTransparentNavbar() {\n      const inSearchbarExpanded = $navbarEl.hasClass('with-searchbar-expandable-enabled');\n      if (inSearchbarExpanded) return;\n      if (!scrollContent || currentScrollTop < 0) return;\n      if (currentScrollTop >= navbarOffsetHeight / 2 && currentScrollTop < navbarOffsetHeight) {\n        $(scrollContent).scrollTop(navbarOffsetHeight, 100);\n      } else if (currentScrollTop < navbarOffsetHeight) {\n        $(scrollContent).scrollTop(0, 200);\n      }\n    }\n\n    function handleNavbarTransparent() {\n      const isHidden =\n        $navbarEl.hasClass('navbar-hidden') ||\n        $navbarEl.parent('.navbars').hasClass('navbar-hidden');\n      const inSearchbarExpanded = $navbarEl.hasClass('with-searchbar-expandable-enabled');\n      if (inSearchbarExpanded || isHidden) return;\n      if (!navbarOffsetHeight) {\n        navbarOffsetHeight = navbarEl.offsetHeight;\n      }\n      let opacity = currentScrollTop / navbarOffsetHeight;\n      const notTransparent = $navbarEl.hasClass('navbar-transparent-visible');\n      opacity = Math.max(Math.min(opacity, 1), 0);\n\n      if ((notTransparent && opacity === 1) || (!notTransparent && opacity === 0)) {\n        $navbarEl.find('.navbar-bg, .title').css('opacity', '');\n        return;\n      }\n      if (notTransparent && opacity === 0) {\n        $navbarEl.trigger('navbar:transparenthide');\n        app.emit('navbarTransparentHide', $navbarEl[0]);\n        $navbarEl.removeClass('navbar-transparent-visible');\n        $navbarEl.find('.navbar-bg, .title').css('opacity', '');\n        return;\n      }\n      if (!notTransparent && opacity === 1) {\n        $navbarEl.trigger('navbar:transparentshow');\n        app.emit('navbarTransparentShow', $navbarEl[0]);\n        $navbarEl.addClass('navbar-transparent-visible');\n        $navbarEl.find('.navbar-bg, .title').css('opacity', '');\n        return;\n      }\n\n      $navbarEl.find('.navbar-bg, .title').css('opacity', opacity);\n\n      if (snapPageScrollToTransparentNavbar) {\n        if (!support.touch) {\n          clearTimeout(scrollTimeoutId);\n          scrollTimeoutId = setTimeout(() => {\n            snapTransparentNavbar();\n          }, desktopSnapTimeout);\n        } else if (touchEndTimeoutId) {\n          clearTimeout(touchEndTimeoutId);\n          touchEndTimeoutId = null;\n          touchEndTimeoutId = setTimeout(() => {\n            snapTransparentNavbar();\n            clearTimeout(touchEndTimeoutId);\n            touchEndTimeoutId = null;\n          }, touchSnapTimeout);\n        }\n      }\n    }\n\n    let previousCollapseProgress = null;\n    let collapseProgress = null;\n    function handleLargeNavbarCollapse(pageContentEl) {\n      const isHidden =\n        $navbarEl.hasClass('navbar-hidden') ||\n        $navbarEl.parent('.navbars').hasClass('navbar-hidden');\n      if (isHidden) return;\n      const isLargeTransparent =\n        $navbarEl.hasClass('navbar-large-transparent') ||\n        ($navbarEl.hasClass('navbar-large') && $navbarEl.hasClass('navbar-transparent'));\n      previousCollapseProgress = collapseProgress;\n      const scrollableDistance = Math.min(\n        navbarTitleLargeHeight,\n        pageContentEl.f7ScrollableDistance || navbarTitleLargeHeight,\n      );\n      collapseProgress = Math.min(Math.max(currentScrollTop / scrollableDistance, 0), 1);\n      const previousCollapseWasInMiddle =\n        previousCollapseProgress > 0 && previousCollapseProgress < 1;\n      const inSearchbarExpanded = $navbarEl.hasClass('with-searchbar-expandable-enabled');\n      if (inSearchbarExpanded) return;\n      navbarCollapsed = $navbarEl.hasClass('navbar-large-collapsed');\n      if (collapseProgress === 0 && navbarCollapsed) {\n        app.navbar.expandLargeTitle($navbarEl[0]);\n      } else if (collapseProgress === 1 && !navbarCollapsed) {\n        app.navbar.collapseLargeTitle($navbarEl[0]);\n      }\n      if (\n        (collapseProgress === 0 && navbarCollapsed) ||\n        (collapseProgress === 0 && previousCollapseWasInMiddle) ||\n        (collapseProgress === 1 && !navbarCollapsed) ||\n        (collapseProgress === 1 && previousCollapseWasInMiddle)\n      ) {\n        if (app.theme === 'md') {\n          $navbarEl.find('.navbar-inner').css('overflow', '');\n        }\n        $navbarEl.find('.title').css('opacity', '');\n        $navbarEl.find('.title-large-text, .subnavbar').css('transform', '');\n        if (isLargeTransparent) {\n          $navbarEl.find('.navbar-bg').css('opacity', '');\n        } else {\n          $navbarEl.find('.navbar-bg').css('transform', '');\n        }\n      } else if (collapseProgress > 0 && collapseProgress < 1) {\n        if (app.theme === 'md') {\n          $navbarEl.find('.navbar-inner').css('overflow', 'visible');\n        }\n        $navbarEl.find('.title').css('opacity', collapseProgress);\n        $navbarEl\n          .find('.title-large-text, .subnavbar')\n          .css(\n            'transform',\n            `translate3d(0px, ${-1 * collapseProgress * navbarTitleLargeHeight}px, 0)`,\n          );\n        if (isLargeTransparent) {\n          $navbarEl.find('.navbar-bg').css('opacity', collapseProgress);\n        } else {\n          $navbarEl\n            .find('.navbar-bg')\n            .css(\n              'transform',\n              `translate3d(0px, ${-1 * collapseProgress * navbarTitleLargeHeight}px, 0)`,\n            );\n        }\n      }\n\n      if (snapPageScrollToLargeTitle) {\n        if (!support.touch) {\n          clearTimeout(scrollTimeoutId);\n          scrollTimeoutId = setTimeout(() => {\n            snapLargeNavbar();\n          }, desktopSnapTimeout);\n        } else if (touchEndTimeoutId) {\n          clearTimeout(touchEndTimeoutId);\n          touchEndTimeoutId = null;\n          touchEndTimeoutId = setTimeout(() => {\n            snapLargeNavbar();\n            clearTimeout(touchEndTimeoutId);\n            touchEndTimeoutId = null;\n          }, touchSnapTimeout);\n        }\n      }\n    }\n\n    function handleTitleHideShow() {\n      if ($pageEl.hasClass('page-with-card-opened')) return;\n      scrollHeight = scrollContent.scrollHeight;\n      offsetHeight = scrollContent.offsetHeight;\n      reachEnd = currentScrollTop + offsetHeight >= scrollHeight;\n      navbarHidden =\n        $navbarEl.hasClass('navbar-hidden') ||\n        $navbarEl.parent('.navbars').hasClass('navbar-hidden');\n      if (reachEnd) {\n        if (app.params.navbar.showOnPageScrollEnd) {\n          action = 'show';\n        }\n      } else if (previousScrollTop > currentScrollTop) {\n        if (app.params.navbar.showOnPageScrollTop || currentScrollTop <= navbarHideHeight) {\n          action = 'show';\n        } else {\n          action = 'hide';\n        }\n      } else if (currentScrollTop > navbarHideHeight) {\n        action = 'hide';\n      } else {\n        action = 'show';\n      }\n\n      if (action === 'show' && navbarHidden) {\n        app.navbar.show($navbarEl, true, true);\n        navbarHidden = false;\n      } else if (action === 'hide' && !navbarHidden) {\n        app.navbar.hide($navbarEl, true, false, true);\n        navbarHidden = true;\n      }\n      previousScrollTop = currentScrollTop;\n    }\n\n    function handleScroll(e) {\n      scrollContent = this;\n      if (e && e.target && e.target !== scrollContent) {\n        return;\n      }\n      currentScrollTop = scrollContent.scrollTop;\n      scrollChanged = currentScrollTop;\n      if (needCollapse) {\n        handleLargeNavbarCollapse(scrollContent);\n      } else if (needTransparent) {\n        handleNavbarTransparent();\n      }\n      if ($pageEl.hasClass('page-previous')) return;\n      if (needHide) {\n        handleTitleHideShow();\n      }\n    }\n    function handeTouchStart() {\n      scrollChanged = false;\n    }\n    function handleTouchEnd() {\n      clearTimeout(touchEndTimeoutId);\n      touchEndTimeoutId = null;\n      touchEndTimeoutId = setTimeout(() => {\n        if (scrollChanged !== false) {\n          if (needTransparent && !needCollapse) {\n            snapTransparentNavbar();\n          } else {\n            snapLargeNavbar();\n          }\n          clearTimeout(touchEndTimeoutId);\n          touchEndTimeoutId = null;\n        }\n      }, touchSnapTimeout);\n    }\n    $pageEl.on('scroll', '.page-content', handleScroll, true);\n\n    if (\n      support.touch &&\n      ((needCollapse && snapPageScrollToLargeTitle) ||\n        (needTransparent && snapPageScrollToTransparentNavbar))\n    ) {\n      app.on('touchstart:passive', handeTouchStart);\n      app.on('touchend:passive', handleTouchEnd);\n    }\n    calcScrollableDistance();\n    if (needCollapse || needTransparent) {\n      $pageEl.find('.page-content').each((pageContentEl) => {\n        if (pageContentEl.scrollTop > 0) handleScroll.call(pageContentEl);\n      });\n    }\n    app.on('resize', calcScrollableDistance);\n    $pageEl[0].f7DetachNavbarScrollHandlers = function f7DetachNavbarScrollHandlers() {\n      app.off('resize', calcScrollableDistance);\n      delete $pageEl[0].f7DetachNavbarScrollHandlers;\n      $pageEl.off('scroll', '.page-content', handleScroll, true);\n      if (\n        support.touch &&\n        ((needCollapse && snapPageScrollToLargeTitle) ||\n          (needTransparent && snapPageScrollToTransparentNavbar))\n      ) {\n        app.off('touchstart:passive', handeTouchStart);\n        app.off('touchend:passive', handleTouchEnd);\n      }\n    };\n  },\n};\nexport default {\n  name: 'navbar',\n  create() {\n    const app = this;\n    bindMethods(app, {\n      navbar: Navbar,\n    });\n  },\n  params: {\n    navbar: {\n      scrollTopOnTitleClick: true,\n      iosCenterTitle: true,\n      mdCenterTitle: false,\n      auroraCenterTitle: true,\n      hideOnPageScroll: false,\n      showOnPageScrollEnd: true,\n      showOnPageScrollTop: true,\n      collapseLargeTitleOnScroll: true,\n      snapPageScrollToLargeTitle: true,\n      snapPageScrollToTransparentNavbar: true,\n    },\n  },\n  on: {\n    'panelBreakpoint panelCollapsedBreakpoint panelResize viewResize resize viewMasterDetailBreakpoint':\n      function onPanelResize() {\n        const app = this;\n        $('.navbar').each((navbarEl) => {\n          app.navbar.size(navbarEl);\n        });\n      },\n    pageBeforeRemove(page) {\n      if (page.$el[0].f7DetachNavbarScrollHandlers) {\n        page.$el[0].f7DetachNavbarScrollHandlers();\n      }\n    },\n    pageBeforeIn(page) {\n      const app = this;\n      if (app.theme !== 'ios') return;\n      let $navbarsEl;\n      const view = page.$el.parents('.view')[0].f7View;\n      const navbarEl = app.navbar.getElByPage(page);\n      if (!navbarEl) {\n        $navbarsEl = page.$el.parents('.view').children('.navbars');\n      } else {\n        $navbarsEl = $(navbarEl).parents('.navbars');\n      }\n      if (page.$el.hasClass('no-navbar') || (view.router.dynamicNavbar && !navbarEl)) {\n        const animate = !!(page.pageFrom && page.router.history.length > 0);\n        app.navbar.hide($navbarsEl, animate);\n      } else {\n        app.navbar.show($navbarsEl);\n      }\n    },\n    pageReinit(page) {\n      const app = this;\n      const $navbarEl = $(app.navbar.getElByPage(page));\n      if (!$navbarEl || $navbarEl.length === 0) return;\n      app.navbar.size($navbarEl);\n    },\n    pageInit(page) {\n      const app = this;\n      const $navbarEl = $(app.navbar.getElByPage(page));\n      if (!$navbarEl || $navbarEl.length === 0) return;\n\n      // Size\n      app.navbar.size($navbarEl);\n\n      // Need Collapse On Scroll\n      let needCollapseOnScrollHandler;\n      if ($navbarEl.find('.title-large').length > 0) {\n        $navbarEl.addClass('navbar-large');\n      }\n      if ($navbarEl.hasClass('navbar-large')) {\n        if (app.params.navbar.collapseLargeTitleOnScroll) needCollapseOnScrollHandler = true;\n        page.$el.addClass('page-with-navbar-large');\n      }\n\n      // Need transparent on scroll\n      let needTransparentOnScroll;\n      if (!needCollapseOnScrollHandler && $navbarEl.hasClass('navbar-transparent')) {\n        needTransparentOnScroll = true;\n      }\n\n      // Need Hide On Scroll\n      let needHideOnScrollHandler;\n      if (\n        app.params.navbar.hideOnPageScroll ||\n        page.$el.find('.hide-navbar-on-scroll').length ||\n        page.$el.hasClass('hide-navbar-on-scroll') ||\n        page.$el.find('.hide-bars-on-scroll').length ||\n        page.$el.hasClass('hide-bars-on-scroll')\n      ) {\n        if (\n          page.$el.find('.keep-navbar-on-scroll').length ||\n          page.$el.hasClass('keep-navbar-on-scroll') ||\n          page.$el.find('.keep-bars-on-scroll').length ||\n          page.$el.hasClass('keep-bars-on-scroll')\n        ) {\n          needHideOnScrollHandler = false;\n        } else {\n          needHideOnScrollHandler = true;\n        }\n      }\n\n      if (needCollapseOnScrollHandler || needHideOnScrollHandler || needTransparentOnScroll) {\n        app.navbar.initNavbarOnScroll(\n          page.el,\n          $navbarEl[0],\n          needHideOnScrollHandler,\n          needCollapseOnScrollHandler,\n          needTransparentOnScroll,\n        );\n      }\n    },\n    'panelOpen panelSwipeOpen modalOpen': function onPanelModalOpen(instance) {\n      const app = this;\n      instance.$el.find('.navbar:not(.navbar-previous):not(.stacked)').each((navbarEl) => {\n        app.navbar.size(navbarEl);\n      });\n    },\n    tabShow(tabEl) {\n      const app = this;\n      $(tabEl)\n        .find('.navbar:not(.navbar-previous):not(.stacked)')\n        .each((navbarEl) => {\n          app.navbar.size(navbarEl);\n        });\n    },\n  },\n  clicks: {\n    '.navbar .title': function onTitleClick($clickedEl, clickedData, e) {\n      const app = this;\n      if (!app.params.navbar.scrollTopOnTitleClick) return;\n      if ($(e.target).closest('a, button').length > 0) {\n        return;\n      }\n      let $pageContentEl;\n\n      // Find active page\n      const $navbarEl = $clickedEl.parents('.navbar');\n      const $navbarsEl = $navbarEl.parents('.navbars');\n\n      // Static Layout\n      $pageContentEl = $navbarEl.parents('.page-content');\n\n      if ($pageContentEl.length === 0) {\n        // Fixed Layout\n        if ($navbarEl.parents('.page').length > 0) {\n          $pageContentEl = $navbarEl.parents('.page').find('.page-content');\n        }\n        // Through Layout iOS\n        if ($pageContentEl.length === 0 && $navbarsEl.length) {\n          if ($navbarsEl.nextAll('.page-current:not(.stacked)').length > 0) {\n            $pageContentEl = $navbarsEl\n              .nextAll('.page-current:not(.stacked)')\n              .find('.page-content');\n          }\n        }\n        // Through Layout\n        if ($pageContentEl.length === 0) {\n          if ($navbarEl.nextAll('.page-current:not(.stacked)').length > 0) {\n            $pageContentEl = $navbarEl.nextAll('.page-current:not(.stacked)').find('.page-content');\n          }\n        }\n      }\n      if ($pageContentEl && $pageContentEl.length > 0) {\n        // Check for tab\n        if ($pageContentEl.hasClass('tab')) {\n          $pageContentEl = $pageContentEl.parent('.tabs').children('.page-content.tab-active');\n        }\n        if ($pageContentEl.length > 0) $pageContentEl.scrollTop(0, 300);\n      }\n    },\n  },\n  vnode: {\n    navbar: {\n      postpatch(vnode) {\n        const app = this;\n        app.navbar.size(vnode.elm);\n      },\n    },\n  },\n};\n","import $ from '../../shared/dom7';\nimport { nextFrame, bindMethods } from '../../shared/utils';\n\nconst Toolbar = {\n  setHighlight(tabbarEl) {\n    const app = this;\n    const $tabbarEl = $(tabbarEl);\n    if (app.theme === 'ios' && !$tabbarEl.hasClass('tabbar-highlight')) return;\n\n    if (\n      $tabbarEl.length === 0 ||\n      !($tabbarEl.hasClass('tabbar') || $tabbarEl.hasClass('tabbar-labels'))\n    )\n      return;\n\n    let $highlightEl = $tabbarEl.find('.tab-link-highlight');\n    const tabLinksCount = $tabbarEl.find('.tab-link').length;\n    if (tabLinksCount === 0) {\n      $highlightEl.remove();\n      return;\n    }\n\n    if ($highlightEl.length === 0) {\n      $tabbarEl.children('.toolbar-inner').append('<span class=\"tab-link-highlight\"></span>');\n      $highlightEl = $tabbarEl.find('.tab-link-highlight');\n    } else if ($highlightEl.next().length) {\n      $tabbarEl.children('.toolbar-inner').append($highlightEl);\n    }\n\n    const $activeLink = $tabbarEl.find('.tab-link-active');\n    let highlightWidth;\n    let highlightTranslate;\n\n    if ($tabbarEl.hasClass('tabbar-scrollable') && $activeLink && $activeLink[0]) {\n      highlightWidth = `${$activeLink[0].offsetWidth}px`;\n      highlightTranslate = `${$activeLink[0].offsetLeft}px`;\n    } else {\n      const activeIndex = $activeLink.index();\n      highlightWidth = `${100 / tabLinksCount}%`;\n      highlightTranslate = `${(app.rtl ? -activeIndex : activeIndex) * 100}%`;\n    }\n\n    nextFrame(() => {\n      $highlightEl.css('width', highlightWidth).transform(`translate3d(${highlightTranslate},0,0)`);\n    });\n  },\n  init(tabbarEl) {\n    const app = this;\n    app.toolbar.setHighlight(tabbarEl);\n  },\n  hide(el, animate = true) {\n    const app = this;\n    const $el = $(el);\n    if ($el.hasClass('toolbar-hidden')) return;\n    const className = `toolbar-hidden${animate ? ' toolbar-transitioning' : ''}`;\n    $el.transitionEnd(() => {\n      $el.removeClass('toolbar-transitioning');\n    });\n    $el.addClass(className);\n    $el.trigger('toolbar:hide');\n    app.emit('toolbarHide', $el[0]);\n  },\n  show(el, animate = true) {\n    const app = this;\n    const $el = $(el);\n    if (!$el.hasClass('toolbar-hidden')) return;\n    if (animate) {\n      $el.addClass('toolbar-transitioning');\n      $el.transitionEnd(() => {\n        $el.removeClass('toolbar-transitioning');\n      });\n    }\n    $el.removeClass('toolbar-hidden');\n    $el.trigger('toolbar:show');\n    app.emit('toolbarShow', $el[0]);\n  },\n  initToolbarOnScroll(pageEl) {\n    const app = this;\n    const $pageEl = $(pageEl);\n    let $toolbarEl = $pageEl.parents('.view').children('.toolbar');\n    if ($toolbarEl.length === 0) {\n      $toolbarEl = $pageEl.find('.toolbar');\n    }\n    if ($toolbarEl.length === 0) {\n      $toolbarEl = $pageEl.parents('.views').children('.tabbar, .tabbar-labels');\n    }\n    if ($toolbarEl.length === 0) {\n      return;\n    }\n\n    let previousScrollTop;\n    let currentScrollTop;\n\n    let scrollHeight;\n    let offsetHeight;\n    let reachEnd;\n    let action;\n    let toolbarHidden;\n    function handleScroll(e) {\n      if ($pageEl.hasClass('page-with-card-opened')) return;\n      if ($pageEl.hasClass('page-previous')) return;\n      const scrollContent = this;\n      if (e && e.target && e.target !== scrollContent) {\n        return;\n      }\n      currentScrollTop = scrollContent.scrollTop;\n      scrollHeight = scrollContent.scrollHeight;\n      offsetHeight = scrollContent.offsetHeight;\n      reachEnd = currentScrollTop + offsetHeight >= scrollHeight;\n      toolbarHidden = $toolbarEl.hasClass('toolbar-hidden');\n\n      if (reachEnd) {\n        if (app.params.toolbar.showOnPageScrollEnd) {\n          action = 'show';\n        }\n      } else if (previousScrollTop > currentScrollTop) {\n        if (app.params.toolbar.showOnPageScrollTop || currentScrollTop <= 44) {\n          action = 'show';\n        } else {\n          action = 'hide';\n        }\n      } else if (currentScrollTop > 44) {\n        action = 'hide';\n      } else {\n        action = 'show';\n      }\n\n      if (action === 'show' && toolbarHidden) {\n        app.toolbar.show($toolbarEl);\n        toolbarHidden = false;\n      } else if (action === 'hide' && !toolbarHidden) {\n        app.toolbar.hide($toolbarEl);\n        toolbarHidden = true;\n      }\n\n      previousScrollTop = currentScrollTop;\n    }\n    $pageEl.on('scroll', '.page-content', handleScroll, true);\n    $pageEl[0].f7ScrollToolbarHandler = handleScroll;\n  },\n};\nexport default {\n  name: 'toolbar',\n  create() {\n    const app = this;\n    bindMethods(app, {\n      toolbar: Toolbar,\n    });\n  },\n  params: {\n    toolbar: {\n      hideOnPageScroll: false,\n      showOnPageScrollEnd: true,\n      showOnPageScrollTop: true,\n    },\n  },\n  on: {\n    pageBeforeRemove(page) {\n      if (page.$el[0].f7ScrollToolbarHandler) {\n        page.$el.off('scroll', '.page-content', page.$el[0].f7ScrollToolbarHandler, true);\n      }\n    },\n    pageBeforeIn(page) {\n      const app = this;\n      let $toolbarEl = page.$el.parents('.view').children('.toolbar');\n      if ($toolbarEl.length === 0) {\n        $toolbarEl = page.$el.parents('.views').children('.tabbar, .tabbar-labels');\n      }\n      if ($toolbarEl.length === 0) {\n        $toolbarEl = page.$el.find('.toolbar');\n      }\n      if ($toolbarEl.length === 0) {\n        return;\n      }\n      if (page.$el.hasClass('no-toolbar')) {\n        app.toolbar.hide($toolbarEl);\n      } else {\n        app.toolbar.show($toolbarEl);\n      }\n    },\n    pageInit(page) {\n      const app = this;\n      page.$el.find('.tabbar, .tabbar-labels').each((tabbarEl) => {\n        app.toolbar.init(tabbarEl);\n      });\n      if (\n        app.params.toolbar.hideOnPageScroll ||\n        page.$el.find('.hide-toolbar-on-scroll').length ||\n        page.$el.hasClass('hide-toolbar-on-scroll') ||\n        page.$el.find('.hide-bars-on-scroll').length ||\n        page.$el.hasClass('hide-bars-on-scroll')\n      ) {\n        if (\n          page.$el.find('.keep-toolbar-on-scroll').length ||\n          page.$el.hasClass('keep-toolbar-on-scroll') ||\n          page.$el.find('.keep-bars-on-scroll').length ||\n          page.$el.hasClass('keep-bars-on-scroll')\n        ) {\n          return;\n        }\n        app.toolbar.initToolbarOnScroll(page.el);\n      }\n    },\n    init() {\n      const app = this;\n      app.$el.find('.tabbar, .tabbar-labels').each((tabbarEl) => {\n        app.toolbar.init(tabbarEl);\n      });\n    },\n  },\n  vnode: {\n    tabbar: {\n      insert(vnode) {\n        const app = this;\n        app.toolbar.init(vnode.elm);\n      },\n    },\n  },\n};\n","import $ from '../../shared/dom7';\n\nexport default {\n  name: 'subnavbar',\n  on: {\n    pageInit(page) {\n      if (page.$navbarEl && page.$navbarEl.length && page.$navbarEl.find('.subnavbar').length) {\n        page.$el.addClass('page-with-subnavbar');\n      }\n      const $innerSubnavbars = page.$el.find('.subnavbar').filter((subnavbarEl) => {\n        return $(subnavbarEl).parents('.page')[0] === page.$el[0];\n      });\n      if ($innerSubnavbars.length) {\n        page.$el.addClass('page-with-subnavbar');\n      }\n    },\n  },\n};\n","import $ from '../../shared/dom7';\n\nexport default class TouchRipple {\n  constructor(app, $el, x, y) {\n    const ripple = this;\n\n    if (!$el) return undefined;\n\n    const { left, top, width, height } = $el[0].getBoundingClientRect();\n    const center = {\n      x: x - left,\n      y: y - top,\n    };\n    let diameter = Math.max((height ** 2 + width ** 2) ** 0.5, 48);\n\n    let isInset = false;\n    const insetElements = app.params.touch.touchRippleInsetElements || '';\n    if (insetElements && $el.is(insetElements)) {\n      isInset = true;\n    }\n    if (isInset) {\n      diameter = Math.max(Math.min(width, height), 48);\n    }\n\n    if (!isInset && $el.css('overflow') === 'hidden') {\n      const distanceFromCenter =\n        ((center.x - width / 2) ** 2 + (center.y - height / 2) ** 2) ** 0.5;\n      const scale = (diameter / 2 + distanceFromCenter) / (diameter / 2);\n      ripple.rippleTransform = `translate3d(0px, 0px, 0) scale(${scale})`;\n    } else {\n      // prettier-ignore\n      ripple.rippleTransform = `translate3d(${-center.x + width / 2}px, ${-center.y + height / 2}px, 0) scale(1)`;\n    }\n    if (isInset) {\n      $el.addClass('ripple-inset');\n    }\n\n    ripple.$rippleWaveEl = $(\n      `<div class=\"ripple-wave\" style=\"width: ${diameter}px; height: ${diameter}px; margin-top:-${\n        diameter / 2\n      }px; margin-left:-${diameter / 2}px; left:${center.x}px; top:${\n        center.y\n      }px; --f7-ripple-transform: ${ripple.rippleTransform}\"></div>`,\n    );\n\n    $el.prepend(ripple.$rippleWaveEl);\n\n    ripple.$rippleWaveEl.animationEnd(() => {\n      if (!ripple.$rippleWaveEl) return;\n      if (ripple.$rippleWaveEl.hasClass('ripple-wave-out')) return;\n      ripple.$rippleWaveEl.addClass('ripple-wave-in');\n      if (ripple.shouldBeRemoved) {\n        ripple.out();\n      }\n    });\n\n    return ripple;\n  }\n\n  destroy() {\n    let ripple = this;\n    if (ripple.$rippleWaveEl) {\n      ripple.$rippleWaveEl.remove();\n    }\n    Object.keys(ripple).forEach((key) => {\n      ripple[key] = null;\n      delete ripple[key];\n    });\n    ripple = null;\n  }\n\n  out() {\n    const ripple = this;\n    const { $rippleWaveEl } = this;\n    clearTimeout(ripple.removeTimeout);\n    $rippleWaveEl.addClass('ripple-wave-out');\n\n    ripple.removeTimeout = setTimeout(() => {\n      ripple.destroy();\n    }, 300);\n\n    $rippleWaveEl.animationEnd(() => {\n      clearTimeout(ripple.removeTimeout);\n      ripple.destroy();\n    });\n  }\n\n  remove() {\n    const ripple = this;\n    if (ripple.shouldBeRemoved) return;\n    ripple.removeTimeout = setTimeout(() => {\n      ripple.destroy();\n    }, 400);\n    ripple.shouldBeRemoved = true;\n    if (ripple.$rippleWaveEl.hasClass('ripple-wave-in')) {\n      ripple.out();\n    }\n  }\n}\n","import TouchRipple from './touch-ripple-class';\n\nexport default {\n  name: 'touch-ripple',\n  static: {\n    TouchRipple,\n  },\n  create() {\n    const app = this;\n    app.touchRipple = {\n      create(...args) {\n        return new TouchRipple(...args);\n      },\n    };\n  },\n};\n","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom7';\nimport { extend, deleteProps } from '../../shared/utils';\nimport Framework7Class from '../../shared/class';\n\nconst openedModals = [];\nconst dialogsQueue = [];\nfunction clearDialogsQueue() {\n  if (dialogsQueue.length === 0) return;\n  const dialog = dialogsQueue.shift();\n  dialog.open();\n}\nclass Modal extends Framework7Class {\n  constructor(app, params) {\n    super(params, [app]);\n\n    const modal = this;\n\n    const defaults = {};\n\n    // Extend defaults with modules params\n    modal.useModulesParams(defaults);\n\n    modal.params = extend(defaults, params);\n    modal.opened = false;\n\n    let $containerEl = modal.params.containerEl ? $(modal.params.containerEl).eq(0) : app.$el;\n    if (!$containerEl.length) $containerEl = app.$el;\n\n    modal.$containerEl = $containerEl;\n    modal.containerEl = $containerEl[0];\n\n    // Install Modules\n    modal.useModules();\n\n    return this;\n  }\n\n  onOpen() {\n    const modal = this;\n    modal.opened = true;\n    openedModals.push(modal);\n    $('html').addClass(`with-modal-${modal.type.toLowerCase()}`);\n    modal.$el.trigger(`modal:open ${modal.type.toLowerCase()}:open`);\n    modal.emit(`local::open modalOpen ${modal.type}Open`, modal);\n  }\n\n  onOpened() {\n    const modal = this;\n    modal.$el.trigger(`modal:opened ${modal.type.toLowerCase()}:opened`);\n    modal.emit(`local::opened modalOpened ${modal.type}Opened`, modal);\n  }\n\n  onClose() {\n    const modal = this;\n    modal.opened = false;\n    if (!modal.type || !modal.$el) return;\n    openedModals.splice(openedModals.indexOf(modal), 1);\n    $('html').removeClass(`with-modal-${modal.type.toLowerCase()}`);\n    modal.$el.trigger(`modal:close ${modal.type.toLowerCase()}:close`);\n    modal.emit(`local::close modalClose ${modal.type}Close`, modal);\n  }\n\n  onClosed() {\n    const modal = this;\n    if (!modal.type || !modal.$el) return;\n    modal.$el.removeClass('modal-out');\n    modal.$el.hide();\n    modal.$el.trigger(`modal:closed ${modal.type.toLowerCase()}:closed`);\n    modal.emit(`local::closed modalClosed ${modal.type}Closed`, modal);\n  }\n\n  open(animateModal) {\n    const modal = this;\n    const document = getDocument();\n    const app = modal.app;\n    const $el = modal.$el;\n    const $backdropEl = modal.$backdropEl;\n    const type = modal.type;\n    let animate = true;\n    if (typeof animateModal !== 'undefined') animate = animateModal;\n    else if (typeof modal.params.animate !== 'undefined') {\n      animate = modal.params.animate;\n    }\n\n    if (!$el || $el.hasClass('modal-in')) {\n      if (animateModal === false && $el[0] && type !== 'dialog') {\n        $el[0].style.display = 'block';\n      }\n      return modal;\n    }\n\n    if (type === 'dialog' && app.params.modal.queueDialogs) {\n      let pushToQueue;\n      if ($('.dialog.modal-in').length > 0) {\n        pushToQueue = true;\n      } else if (openedModals.length > 0) {\n        openedModals.forEach((openedModal) => {\n          if (openedModal.type === 'dialog') pushToQueue = true;\n        });\n      }\n      if (pushToQueue) {\n        dialogsQueue.push(modal);\n        return modal;\n      }\n    }\n\n    const $modalParentEl = $el.parent();\n    const wasInDom = $el.parents(document).length > 0;\n    if (!$modalParentEl.is(modal.$containerEl)) {\n      modal.$containerEl.append($el);\n      modal.once(`${type}Closed`, () => {\n        if (wasInDom) {\n          $modalParentEl.append($el);\n        } else {\n          $el.remove();\n        }\n      });\n    }\n    // Show Modal\n    $el.show();\n\n    /* eslint no-underscore-dangle: [\"error\", { \"allow\": [\"_clientLeft\"] }] */\n    modal._clientLeft = $el[0].clientLeft;\n\n    // Modal\n    function transitionEnd() {\n      if ($el.hasClass('modal-out')) {\n        modal.onClosed();\n      } else if ($el.hasClass('modal-in')) {\n        modal.onOpened();\n      }\n    }\n    if (animate) {\n      if ($backdropEl) {\n        $backdropEl.removeClass('not-animated');\n        $backdropEl.addClass('backdrop-in');\n      }\n      $el.animationEnd(() => {\n        transitionEnd();\n      });\n      $el.transitionEnd(() => {\n        transitionEnd();\n      });\n      $el.removeClass('modal-out not-animated').addClass('modal-in');\n      modal.onOpen();\n    } else {\n      if ($backdropEl) {\n        $backdropEl.addClass('backdrop-in not-animated');\n      }\n      $el.removeClass('modal-out').addClass('modal-in not-animated');\n      modal.onOpen();\n      modal.onOpened();\n    }\n\n    return modal;\n  }\n\n  close(animateModal) {\n    const modal = this;\n    const $el = modal.$el;\n    const $backdropEl = modal.$backdropEl;\n\n    let animate = true;\n    if (typeof animateModal !== 'undefined') animate = animateModal;\n    else if (typeof modal.params.animate !== 'undefined') {\n      animate = modal.params.animate;\n    }\n\n    if (!$el || !$el.hasClass('modal-in')) {\n      if (dialogsQueue.indexOf(modal) >= 0) {\n        dialogsQueue.splice(dialogsQueue.indexOf(modal), 1);\n      }\n      return modal;\n    }\n\n    // backdrop\n    if ($backdropEl) {\n      let needToHideBackdrop = true;\n      if (modal.type === 'popup') {\n        modal.$el\n          .prevAll('.popup.modal-in')\n          .add(modal.$el.nextAll('.popup.modal-in'))\n          .each((popupEl) => {\n            const popupInstance = popupEl.f7Modal;\n            if (!popupInstance) return;\n            if (\n              popupInstance.params.closeByBackdropClick &&\n              popupInstance.params.backdrop &&\n              popupInstance.backdropEl === modal.backdropEl\n            ) {\n              needToHideBackdrop = false;\n            }\n          });\n      }\n      if (needToHideBackdrop) {\n        $backdropEl[animate ? 'removeClass' : 'addClass']('not-animated');\n        $backdropEl.removeClass('backdrop-in');\n      }\n    }\n\n    // Modal\n    $el[animate ? 'removeClass' : 'addClass']('not-animated');\n\n    function transitionEnd() {\n      if ($el.hasClass('modal-out')) {\n        modal.onClosed();\n      } else if ($el.hasClass('modal-in')) {\n        modal.onOpened();\n      }\n    }\n    if (animate) {\n      $el.animationEnd(() => {\n        transitionEnd();\n      });\n      $el.transitionEnd(() => {\n        transitionEnd();\n      });\n      $el.removeClass('modal-in').addClass('modal-out');\n      // Emit close\n      modal.onClose();\n    } else {\n      $el.addClass('not-animated').removeClass('modal-in').addClass('modal-out');\n      // Emit close\n      modal.onClose();\n      modal.onClosed();\n    }\n\n    if (modal.type === 'dialog') {\n      clearDialogsQueue();\n    }\n\n    return modal;\n  }\n\n  destroy() {\n    const modal = this;\n    if (modal.destroyed) return;\n    modal.emit(`local::beforeDestroy modalBeforeDestroy ${modal.type}BeforeDestroy`, modal);\n    if (modal.$el) {\n      modal.$el.trigger(`modal:beforedestroy ${modal.type.toLowerCase()}:beforedestroy`);\n      if (modal.$el.length && modal.$el[0].f7Modal) {\n        delete modal.$el[0].f7Modal;\n      }\n    }\n    deleteProps(modal);\n    modal.destroyed = true;\n  }\n}\n\nexport default Modal;\n","import $ from '../../shared/dom7';\nimport { extend } from '../../shared/utils';\nimport Modal from './modal-class';\n\nclass CustomModal extends Modal {\n  constructor(app, params) {\n    const extendedParams = extend(\n      {\n        backdrop: true,\n        closeByBackdropClick: true,\n        on: {},\n      },\n      params,\n    );\n\n    // Extends with open/close Modal methods;\n    super(app, extendedParams);\n\n    const customModal = this;\n\n    customModal.params = extendedParams;\n\n    // Find Element\n    let $el;\n    if (!customModal.params.el) {\n      $el = $(customModal.params.content);\n    } else {\n      $el = $(customModal.params.el);\n    }\n\n    if ($el && $el.length > 0 && $el[0].f7Modal) {\n      return $el[0].f7Modal;\n    }\n\n    if ($el.length === 0) {\n      return customModal.destroy();\n    }\n    let $backdropEl;\n    if (customModal.params.backdrop) {\n      $backdropEl = app.$el.children('.custom-modal-backdrop');\n      if ($backdropEl.length === 0) {\n        $backdropEl = $('<div class=\"custom-modal-backdrop\"></div>');\n        app.$el.append($backdropEl);\n      }\n    }\n\n    function handleClick(e) {\n      if (!customModal || customModal.destroyed) return;\n      if ($backdropEl && e.target === $backdropEl[0]) {\n        customModal.close();\n      }\n    }\n\n    customModal.on('customModalOpened', () => {\n      if (customModal.params.closeByBackdropClick && customModal.params.backdrop) {\n        app.on('click', handleClick);\n      }\n    });\n    customModal.on('customModalClose', () => {\n      if (customModal.params.closeByBackdropClick && customModal.params.backdrop) {\n        app.off('click', handleClick);\n      }\n    });\n\n    extend(customModal, {\n      app,\n      $el,\n      el: $el[0],\n      $backdropEl,\n      backdropEl: $backdropEl && $backdropEl[0],\n      type: 'customModal',\n    });\n\n    $el[0].f7Modal = customModal;\n\n    return customModal;\n  }\n}\nexport default CustomModal;\n","import Modal from './modal-class';\nimport CustomModal from './custom-modal-class';\n\nexport default {\n  name: 'modal',\n  static: {\n    Modal,\n    CustomModal,\n  },\n  create() {\n    const app = this;\n    app.customModal = {\n      create(params) {\n        return new CustomModal(app, params);\n      },\n    };\n  },\n  params: {\n    modal: {\n      queueDialogs: true,\n    },\n  },\n};\n","export default {\n  name: 'appbar',\n};\n","/* eslint-disable prefer-rest-params */\nconst $jsx = (tag, props, ...args) => {\n  const attrs = props || {};\n  const children = args || [];\n\n  const attrsString = Object.keys(attrs)\n    .map((attr) => {\n      if (attr[0] === '_') {\n        if (attrs[attr]) return attr.replace('_', '');\n        return '';\n      }\n      return `${attr}=\"${attrs[attr]}\"`;\n    })\n    .filter((attr) => !!attr)\n    .join(' ');\n\n  if (['path', 'img', 'circle', 'polygon', 'line', 'input'].indexOf(tag) >= 0) {\n    return `<${tag} ${attrsString} />`.trim();\n  }\n  const childrenContent = children\n    .filter((c) => !!c)\n    .map((c) => (Array.isArray(c) ? c.join('') : c))\n    .join('');\n  return `<${tag} ${attrsString}>${childrenContent}</${tag}>`.trim();\n};\n\nexport default $jsx;\n","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom7';\nimport { extend } from '../../shared/utils';\nimport { getDevice } from '../../shared/get-device';\nimport Modal from '../modal/modal-class';\n/** @jsx $jsx */\nimport $jsx from '../../shared/$jsx';\n\nclass Dialog extends Modal {\n  constructor(app, params) {\n    const extendedParams = extend(\n      {\n        title: app.params.dialog.title,\n        text: undefined,\n        content: '',\n        buttons: [],\n        verticalButtons: false,\n        onClick: undefined,\n        cssClass: undefined,\n        destroyOnClose: false,\n        on: {},\n      },\n      params,\n    );\n    if (typeof extendedParams.closeByBackdropClick === 'undefined') {\n      extendedParams.closeByBackdropClick = app.params.dialog.closeByBackdropClick;\n    }\n    if (typeof extendedParams.backdrop === 'undefined') {\n      extendedParams.backdrop = app.params.dialog.backdrop;\n    }\n\n    // Extends with open/close Modal methods;\n    super(app, extendedParams);\n\n    const dialog = this;\n\n    const device = getDevice();\n    const document = getDocument();\n\n    const { title, text, content, buttons, verticalButtons, cssClass, backdrop } = extendedParams;\n\n    dialog.params = extendedParams;\n\n    // Find Element\n    let $el;\n    if (!dialog.params.el) {\n      const dialogClasses = ['dialog'];\n      if (buttons.length === 0) dialogClasses.push('dialog-no-buttons');\n      if (buttons.length > 0) dialogClasses.push(`dialog-buttons-${buttons.length}`);\n      if (verticalButtons) dialogClasses.push('dialog-buttons-vertical');\n      if (cssClass) dialogClasses.push(cssClass);\n\n      let buttonsHTML = '';\n      if (buttons.length > 0) {\n        buttonsHTML = (\n          <div class=\"dialog-buttons\">\n            {buttons.map((button) => (\n              <span\n                class={`dialog-button${button.bold ? ' dialog-button-bold' : ''}${\n                  button.color ? ` color-${button.color}` : ''\n                }${button.cssClass ? ` ${button.cssClass}` : ''}`}\n              >\n                {button.text}\n              </span>\n            ))}\n          </div>\n        );\n      }\n\n      const dialogHtml = (\n        <div class={dialogClasses.join(' ')}>\n          <div class=\"dialog-inner\">\n            {title && <div class=\"dialog-title\">{title}</div>}\n            {text && <div class=\"dialog-text\">{text}</div>}\n            {content}\n          </div>\n          {buttonsHTML}\n        </div>\n      );\n      $el = $(dialogHtml);\n    } else {\n      $el = $(dialog.params.el);\n    }\n\n    if ($el && $el.length > 0 && $el[0].f7Modal) {\n      return $el[0].f7Modal;\n    }\n\n    if ($el.length === 0) {\n      return dialog.destroy();\n    }\n\n    let $backdropEl;\n    if (backdrop) {\n      $backdropEl = app.$el.children('.dialog-backdrop');\n      if ($backdropEl.length === 0) {\n        $backdropEl = $('<div class=\"dialog-backdrop\"></div>');\n        app.$el.append($backdropEl);\n      }\n    }\n\n    // Assign events\n    function buttonOnClick(e) {\n      const buttonEl = this;\n      const index = $(buttonEl).index();\n      const button = buttons[index];\n      if (button.onClick) button.onClick(dialog, e);\n      if (dialog.params.onClick) dialog.params.onClick(dialog, index);\n      if (button.close !== false) dialog.close();\n    }\n    let addKeyboardHander;\n    function onKeyDown(e) {\n      const keyCode = e.keyCode;\n      buttons.forEach((button, index) => {\n        if (button.keyCodes && button.keyCodes.indexOf(keyCode) >= 0) {\n          if (document.activeElement) document.activeElement.blur();\n          if (button.onClick) button.onClick(dialog, e);\n          if (dialog.params.onClick) dialog.params.onClick(dialog, index);\n          if (button.close !== false) dialog.close();\n        }\n      });\n    }\n    if (buttons && buttons.length > 0) {\n      dialog.on('open', () => {\n        $el.find('.dialog-button').each((buttonEl, index) => {\n          const button = buttons[index];\n          if (button.keyCodes) addKeyboardHander = true;\n          $(buttonEl).on('click', buttonOnClick);\n        });\n        if (\n          addKeyboardHander &&\n          !device.ios &&\n          !device.android &&\n          !device.cordova &&\n          !device.capacitor\n        ) {\n          $(document).on('keydown', onKeyDown);\n        }\n      });\n      dialog.on('close', () => {\n        $el.find('.dialog-button').each((buttonEl) => {\n          $(buttonEl).off('click', buttonOnClick);\n        });\n        if (\n          addKeyboardHander &&\n          !device.ios &&\n          !device.android &&\n          !device.cordova &&\n          !device.capacitor\n        ) {\n          $(document).off('keydown', onKeyDown);\n        }\n        addKeyboardHander = false;\n      });\n    }\n    extend(dialog, {\n      app,\n      $el,\n      el: $el[0],\n      $backdropEl,\n      backdropEl: $backdropEl && $backdropEl[0],\n      type: 'dialog',\n      setProgress(progress, duration) {\n        app.progressbar.set($el.find('.progressbar'), progress, duration);\n        return dialog;\n      },\n      setText(newText) {\n        let $textEl = $el.find('.dialog-text');\n        if ($textEl.length === 0) {\n          $textEl = $('<div class=\"dialog-text\"></div>');\n          if (typeof title !== 'undefined') {\n            $textEl.insertAfter($el.find('.dialog-title'));\n          } else {\n            $el.find('.dialog-inner').prepend($textEl);\n          }\n        }\n        $textEl.html(newText);\n        dialog.params.text = newText;\n        return dialog;\n      },\n      setTitle(newTitle) {\n        let $titleEl = $el.find('.dialog-title');\n        if ($titleEl.length === 0) {\n          $titleEl = $('<div class=\"dialog-title\"></div>');\n          $el.find('.dialog-inner').prepend($titleEl);\n        }\n        $titleEl.html(newTitle);\n        dialog.params.title = newTitle;\n        return dialog;\n      },\n    });\n\n    function handleClick(e) {\n      const target = e.target;\n      const $target = $(target);\n      if ($target.closest(dialog.el).length === 0) {\n        if (\n          dialog.params.closeByBackdropClick &&\n          dialog.backdropEl &&\n          dialog.backdropEl === target\n        ) {\n          dialog.close();\n        }\n      }\n    }\n\n    dialog.on('opened', () => {\n      if (dialog.params.closeByBackdropClick) {\n        app.on('click', handleClick);\n      }\n    });\n    dialog.on('close', () => {\n      if (dialog.params.closeByBackdropClick) {\n        app.off('click', handleClick);\n      }\n    });\n\n    $el[0].f7Modal = dialog;\n\n    if (dialog.params.destroyOnClose) {\n      dialog.once('closed', () => {\n        setTimeout(() => {\n          dialog.destroy();\n        }, 0);\n      });\n    }\n\n    return dialog;\n  }\n}\nexport default Dialog;\n","import {\n  extend,\n  iosPreloaderContent,\n  mdPreloaderContent,\n  auroraPreloaderContent,\n} from '../../shared/utils';\nimport Dialog from './dialog-class';\nimport ModalMethods from '../../shared/modal-methods';\n\nexport default {\n  name: 'dialog',\n  params: {\n    dialog: {\n      title: undefined,\n      buttonOk: 'OK',\n      buttonCancel: 'Cancel',\n      usernamePlaceholder: 'Username',\n      passwordPlaceholder: 'Password',\n      preloaderTitle: 'Loading... ',\n      progressTitle: 'Loading... ',\n      backdrop: true,\n      closeByBackdropClick: false,\n      destroyPredefinedDialogs: true,\n      keyboardActions: true,\n      autoFocus: true,\n    },\n  },\n  static: {\n    Dialog,\n  },\n  create() {\n    const app = this;\n    function defaultDialogTitle() {\n      return app.params.dialog.title || app.name;\n    }\n    const destroyOnClose = app.params.dialog.destroyPredefinedDialogs;\n    const keyboardActions = app.params.dialog.keyboardActions;\n    const autoFocus = app.params.dialog.autoFocus;\n    const autoFocusHandler = autoFocus\n      ? {\n          on: {\n            opened(dialog) {\n              dialog.$el.find('input').eq(0).focus();\n            },\n          },\n        }\n      : {};\n\n    app.dialog = extend(\n      ModalMethods({\n        app,\n        constructor: Dialog,\n        defaultSelector: '.dialog.modal-in',\n      }),\n      {\n        // Shortcuts\n        alert(...args) {\n          let [text, title, callbackOk] = args;\n          if (args.length === 2 && typeof args[1] === 'function') {\n            [text, callbackOk, title] = args;\n          }\n          return new Dialog(app, {\n            title: typeof title === 'undefined' ? defaultDialogTitle() : title,\n            text,\n            buttons: [\n              {\n                text: app.params.dialog.buttonOk,\n                bold: true,\n                onClick: callbackOk,\n                keyCodes: keyboardActions ? [13, 27] : null,\n              },\n            ],\n            destroyOnClose,\n          }).open();\n        },\n        prompt(...args) {\n          let [text, title, callbackOk, callbackCancel, defaultValue] = args;\n          if (typeof args[1] === 'function') {\n            [text, callbackOk, callbackCancel, defaultValue, title] = args;\n          }\n          defaultValue =\n            typeof defaultValue === 'undefined' || defaultValue === null ? '' : defaultValue;\n          return new Dialog(app, {\n            title: typeof title === 'undefined' ? defaultDialogTitle() : title,\n            text,\n            content: `<div class=\"dialog-input-field input\"><input type=\"text\" class=\"dialog-input\" value=\"${defaultValue}\"></div>`,\n            buttons: [\n              {\n                text: app.params.dialog.buttonCancel,\n                keyCodes: keyboardActions ? [27] : null,\n                color: app.theme === 'aurora' ? 'gray' : null,\n              },\n              {\n                text: app.params.dialog.buttonOk,\n                bold: true,\n                keyCodes: keyboardActions ? [13] : null,\n              },\n            ],\n            onClick(dialog, index) {\n              const inputValue = dialog.$el.find('.dialog-input').val();\n              if (index === 0 && callbackCancel) callbackCancel(inputValue);\n              if (index === 1 && callbackOk) callbackOk(inputValue);\n            },\n            destroyOnClose,\n            ...autoFocusHandler,\n          }).open();\n        },\n        confirm(...args) {\n          let [text, title, callbackOk, callbackCancel] = args;\n          if (typeof args[1] === 'function') {\n            [text, callbackOk, callbackCancel, title] = args;\n          }\n          return new Dialog(app, {\n            title: typeof title === 'undefined' ? defaultDialogTitle() : title,\n            text,\n            buttons: [\n              {\n                text: app.params.dialog.buttonCancel,\n                onClick: callbackCancel,\n                keyCodes: keyboardActions ? [27] : null,\n                color: app.theme === 'aurora' ? 'gray' : null,\n              },\n              {\n                text: app.params.dialog.buttonOk,\n                bold: true,\n                onClick: callbackOk,\n                keyCodes: keyboardActions ? [13] : null,\n              },\n            ],\n            destroyOnClose,\n          }).open();\n        },\n        login(...args) {\n          let [text, title, callbackOk, callbackCancel] = args;\n          if (typeof args[1] === 'function') {\n            [text, callbackOk, callbackCancel, title] = args;\n          }\n          return new Dialog(app, {\n            title: typeof title === 'undefined' ? defaultDialogTitle() : title,\n            text,\n            // prettier-ignore\n            content: `\n              <div class=\"dialog-input-field dialog-input-double input\">\n                <input type=\"text\" name=\"dialog-username\" placeholder=\"${app.params.dialog.usernamePlaceholder}\" class=\"dialog-input\">\n              </div>\n              <div class=\"dialog-input-field dialog-input-double input\">\n                <input type=\"password\" name=\"dialog-password\" placeholder=\"${app.params.dialog.passwordPlaceholder}\" class=\"dialog-input\">\n              </div>`,\n            buttons: [\n              {\n                text: app.params.dialog.buttonCancel,\n                keyCodes: keyboardActions ? [27] : null,\n                color: app.theme === 'aurora' ? 'gray' : null,\n              },\n              {\n                text: app.params.dialog.buttonOk,\n                bold: true,\n                keyCodes: keyboardActions ? [13] : null,\n              },\n            ],\n            onClick(dialog, index) {\n              const username = dialog.$el.find('[name=\"dialog-username\"]').val();\n              const password = dialog.$el.find('[name=\"dialog-password\"]').val();\n              if (index === 0 && callbackCancel) callbackCancel(username, password);\n              if (index === 1 && callbackOk) callbackOk(username, password);\n            },\n            destroyOnClose,\n            ...autoFocusHandler,\n          }).open();\n        },\n        password(...args) {\n          let [text, title, callbackOk, callbackCancel] = args;\n          if (typeof args[1] === 'function') {\n            [text, callbackOk, callbackCancel, title] = args;\n          }\n          return new Dialog(app, {\n            title: typeof title === 'undefined' ? defaultDialogTitle() : title,\n            text,\n            // prettier-ignore\n            content: `\n              <div class=\"dialog-input-field input\">\n                <input type=\"password\" name=\"dialog-password\" placeholder=\"${app.params.dialog.passwordPlaceholder}\" class=\"dialog-input\">\n              </div>`,\n            buttons: [\n              {\n                text: app.params.dialog.buttonCancel,\n                keyCodes: keyboardActions ? [27] : null,\n                color: app.theme === 'aurora' ? 'gray' : null,\n              },\n              {\n                text: app.params.dialog.buttonOk,\n                bold: true,\n                keyCodes: keyboardActions ? [13] : null,\n              },\n            ],\n            onClick(dialog, index) {\n              const password = dialog.$el.find('[name=\"dialog-password\"]').val();\n              if (index === 0 && callbackCancel) callbackCancel(password);\n              if (index === 1 && callbackOk) callbackOk(password);\n            },\n            destroyOnClose,\n            ...autoFocusHandler,\n          }).open();\n        },\n        preloader(title, color) {\n          const preloaders = {\n            iosPreloaderContent,\n            mdPreloaderContent,\n            auroraPreloaderContent,\n          };\n          const preloaderInner = preloaders[`${app.theme}PreloaderContent`] || '';\n          return new Dialog(app, {\n            title:\n              typeof title === 'undefined' || title === null\n                ? app.params.dialog.preloaderTitle\n                : title,\n            // prettier-ignore\n            content: `<div class=\"preloader${color ? ` color-${color}` : ''}\">${preloaderInner}</div>`,\n            cssClass: 'dialog-preloader',\n            destroyOnClose,\n          }).open();\n        },\n        progress(...args) {\n          let [title, progress, color] = args;\n          if (args.length === 2) {\n            if (typeof args[0] === 'number') {\n              [progress, color, title] = args;\n            } else if (typeof args[0] === 'string' && typeof args[1] === 'string') {\n              [title, color, progress] = args;\n            }\n          } else if (args.length === 1) {\n            if (typeof args[0] === 'number') {\n              [progress, title, color] = args;\n            }\n          }\n          const infinite = typeof progress === 'undefined';\n          const dialog = new Dialog(app, {\n            title: typeof title === 'undefined' ? app.params.dialog.progressTitle : title,\n            cssClass: 'dialog-progress',\n            // prettier-ignore\n            content: `\n              <div class=\"progressbar${infinite ? '-infinite' : ''}${color ? ` color-${color}` : ''}\">\n                ${!infinite ? '<span></span>' : ''}\n              </div>\n            `,\n            destroyOnClose,\n          });\n          if (!infinite) dialog.setProgress(progress);\n          return dialog.open();\n        },\n      },\n    );\n  },\n};\n","import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom7';\nimport { extend, now, nextTick } from '../../shared/utils';\nimport { getSupport } from '../../shared/get-support';\nimport { getDevice } from '../../shared/get-device';\nimport Modal from '../modal/modal-class';\n\nclass Popup extends Modal {\n  constructor(app, params) {\n    const extendedParams = extend({ on: {} }, app.params.popup, params);\n\n    // Extends with open/close Modal methods;\n    super(app, extendedParams);\n\n    const popup = this;\n    const window = getWindow();\n    const document = getDocument();\n    const support = getSupport();\n    const device = getDevice();\n\n    popup.params = extendedParams;\n\n    // Find Element\n    let $el;\n    if (!popup.params.el) {\n      $el = $(popup.params.content)\n        .filter((node) => node.nodeType === 1)\n        .eq(0);\n    } else {\n      $el = $(popup.params.el).eq(0);\n    }\n\n    if ($el && $el.length > 0 && $el[0].f7Modal) {\n      return $el[0].f7Modal;\n    }\n\n    if ($el.length === 0) {\n      return popup.destroy();\n    }\n\n    let $backdropEl;\n    if (popup.params.backdrop && popup.params.backdropEl) {\n      $backdropEl = $(popup.params.backdropEl);\n    } else if (popup.params.backdrop) {\n      $backdropEl = popup.$containerEl.children('.popup-backdrop');\n      if ($backdropEl.length === 0) {\n        $backdropEl = $('<div class=\"popup-backdrop\"></div>');\n        popup.$containerEl.append($backdropEl);\n      }\n    }\n\n    extend(popup, {\n      app,\n      push: $el.hasClass('popup-push') || popup.params.push,\n      $el,\n      el: $el[0],\n      $backdropEl,\n      backdropEl: $backdropEl && $backdropEl[0],\n      type: 'popup',\n      $htmlEl: $('html'),\n    });\n\n    if (popup.params.push) {\n      $el.addClass('popup-push');\n    }\n\n    function handleClick(e) {\n      const target = e.target;\n      const $target = $(target);\n      const keyboardOpened =\n        !device.desktop &&\n        device.cordova &&\n        ((window.Keyboard && window.Keyboard.isVisible) ||\n          (window.cordova.plugins &&\n            window.cordova.plugins.Keyboard &&\n            window.cordova.plugins.Keyboard.isVisible));\n      if (keyboardOpened) return;\n      if ($target.closest(popup.el).length === 0) {\n        if (\n          popup.params &&\n          popup.params.closeByBackdropClick &&\n          popup.params.backdrop &&\n          popup.backdropEl &&\n          popup.backdropEl === target\n        ) {\n          let needToClose = true;\n          popup.$el.nextAll('.popup.modal-in').each((popupEl) => {\n            const popupInstance = popupEl.f7Modal;\n            if (!popupInstance) return;\n            if (\n              popupInstance.params.closeByBackdropClick &&\n              popupInstance.params.backdrop &&\n              popupInstance.backdropEl === popup.backdropEl\n            ) {\n              needToClose = false;\n            }\n          });\n          if (needToClose) {\n            popup.close();\n          }\n        }\n      }\n    }\n\n    function onKeyDown(e) {\n      const keyCode = e.keyCode;\n      if (keyCode === 27 && popup.params.closeOnEscape) {\n        popup.close();\n      }\n    }\n\n    let pushOffset;\n    let isPush;\n\n    function pushViewScale(offset) {\n      return (app.height - offset * 2) / app.height;\n    }\n\n    let allowSwipeToClose = true;\n    let isTouched = false;\n    let startTouch;\n    let currentTouch;\n    let isScrolling;\n    let touchStartTime;\n    let touchesDiff;\n    let isMoved = false;\n    let pageContentEl;\n    let pageContentScrollTop;\n    let pageContentOffsetHeight;\n    let pageContentScrollHeight;\n    let popupHeight;\n    let $pushEl;\n\n    function handleTouchStart(e) {\n      if (isTouched || !allowSwipeToClose || !popup.params.swipeToClose) return;\n      if (\n        popup.params.swipeHandler &&\n        $(e.target).closest(popup.params.swipeHandler).length === 0\n      ) {\n        return;\n      }\n      isTouched = true;\n      isMoved = false;\n      startTouch = {\n        x: e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX,\n        y: e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY,\n      };\n      touchStartTime = now();\n      isScrolling = undefined;\n      if (!popup.params.swipeHandler && e.type === 'touchstart') {\n        pageContentEl = $(e.target).closest('.page-content')[0];\n      }\n    }\n    function handleTouchMove(e) {\n      if (!isTouched) return;\n      currentTouch = {\n        x: e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX,\n        y: e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY,\n      };\n\n      if (typeof isScrolling === 'undefined') {\n        isScrolling = !!(\n          isScrolling ||\n          Math.abs(currentTouch.x - startTouch.x) > Math.abs(currentTouch.y - startTouch.y)\n        );\n      }\n      if (isScrolling) {\n        isTouched = false;\n        isMoved = false;\n        return;\n      }\n\n      touchesDiff = startTouch.y - currentTouch.y;\n      if (isPush && pushOffset && touchesDiff > 0) {\n        touchesDiff = 0;\n      }\n      const direction = touchesDiff < 0 ? 'to-bottom' : 'to-top';\n      $el.transition(0);\n\n      if (\n        typeof popup.params.swipeToClose === 'string' &&\n        direction !== popup.params.swipeToClose\n      ) {\n        $el.transform('');\n        $el.transition('');\n        return;\n      }\n\n      if (!isMoved) {\n        if (isPush && pushOffset) {\n          popupHeight = $el[0].offsetHeight;\n          $pushEl = $el.prevAll('.popup.modal-in').eq(0);\n          if ($pushEl.length === 0) {\n            $pushEl = app.$el.children('.view, .views');\n          }\n        }\n        if (pageContentEl) {\n          pageContentScrollTop = pageContentEl.scrollTop;\n          pageContentScrollHeight = pageContentEl.scrollHeight;\n          pageContentOffsetHeight = pageContentEl.offsetHeight;\n          if (\n            !(pageContentScrollHeight === pageContentOffsetHeight) &&\n            !(direction === 'to-bottom' && pageContentScrollTop === 0) &&\n            !(\n              direction === 'to-top' &&\n              pageContentScrollTop === pageContentScrollHeight - pageContentOffsetHeight\n            )\n          ) {\n            $el.transform('');\n            $el.transition('');\n            isTouched = false;\n            isMoved = false;\n            return;\n          }\n        }\n        isMoved = true;\n        popup.emit('local::swipeStart popupSwipeStart', popup);\n        popup.$el.trigger('popup:swipestart');\n      } else {\n        popup.emit('local::swipeMove popupSwipeMove', popup);\n        popup.$el.trigger('popup:swipemove');\n      }\n\n      e.preventDefault();\n      if (isPush && pushOffset) {\n        const pushProgress = 1 - Math.abs(touchesDiff / popupHeight);\n        const scale = 1 - (1 - pushViewScale(pushOffset)) * pushProgress;\n        if ($pushEl.hasClass('popup')) {\n          if ($pushEl.hasClass('popup-push')) {\n            $pushEl.transition(0).forEach((el) => {\n              el.style.setProperty(\n                'transform',\n                `translate3d(0, calc(-1 * ${pushProgress} * (var(--f7-popup-push-offset) + 10px)) , 0px) scale(${scale})`,\n                'important',\n              );\n            });\n          } else {\n            $pushEl.transition(0).forEach((el) => {\n              el.style.setProperty(\n                'transform',\n                `translate3d(0, 0px , 0px) scale(${scale})`,\n                'important',\n              );\n            });\n          }\n        } else {\n          $pushEl.transition(0).forEach((el) => {\n            el.style.setProperty('transform', `translate3d(0,0,0) scale(${scale})`, 'important');\n          });\n        }\n      }\n      $el.transition(0).transform(`translate3d(0,${-touchesDiff}px,0)`);\n    }\n    function handleTouchEnd() {\n      isTouched = false;\n      if (!isMoved) {\n        return;\n      }\n      popup.emit('local::swipeEnd popupSwipeEnd', popup);\n      popup.$el.trigger('popup:swipeend');\n      isMoved = false;\n      allowSwipeToClose = false;\n      $el.transition('');\n      if (isPush && pushOffset) {\n        $pushEl.transition('').transform('');\n      }\n      const direction = touchesDiff <= 0 ? 'to-bottom' : 'to-top';\n      if (\n        typeof popup.params.swipeToClose === 'string' &&\n        direction !== popup.params.swipeToClose\n      ) {\n        $el.transform('');\n        allowSwipeToClose = true;\n        return;\n      }\n      const diff = Math.abs(touchesDiff);\n      const timeDiff = new Date().getTime() - touchStartTime;\n      if ((timeDiff < 300 && diff > 20) || (timeDiff >= 300 && diff > 100)) {\n        nextTick(() => {\n          if (direction === 'to-bottom') {\n            $el.addClass('swipe-close-to-bottom');\n          } else {\n            $el.addClass('swipe-close-to-top');\n          }\n          $el.transform('');\n          popup.emit('local::swipeclose popupSwipeClose', popup);\n          popup.$el.trigger('popup:swipeclose');\n          popup.close();\n          allowSwipeToClose = true;\n        });\n        return;\n      }\n      allowSwipeToClose = true;\n      $el.transform('');\n    }\n\n    const passive = support.passiveListener ? { passive: true } : false;\n    if (popup.params.swipeToClose) {\n      $el.on(app.touchEvents.start, handleTouchStart, passive);\n      app.on('touchmove', handleTouchMove);\n      app.on('touchend:passive', handleTouchEnd);\n      popup.once('popupDestroy', () => {\n        $el.off(app.touchEvents.start, handleTouchStart, passive);\n        app.off('touchmove', handleTouchMove);\n        app.off('touchend:passive', handleTouchEnd);\n      });\n    }\n\n    let hasPreviousPushPopup;\n\n    const updatePushOffset = () => {\n      const wasPush = isPush;\n      if (popup.push) {\n        isPush =\n          popup.push &&\n          (app.width < 630 || app.height < 630 || $el.hasClass('popup-tablet-fullscreen'));\n      }\n      if (isPush && !wasPush) {\n        // eslint-disable-next-line\n        setPushOffset();\n      } else if (isPush && wasPush) {\n        popup.$htmlEl[0].style.setProperty('--f7-popup-push-scale', pushViewScale(pushOffset));\n      } else if (!isPush && wasPush) {\n        popup.$htmlEl.removeClass('with-modal-popup-push');\n        popup.$htmlEl[0].style.removeProperty('--f7-popup-push-scale');\n      }\n    };\n\n    const setPushOffset = () => {\n      app.off('resize', updatePushOffset);\n      if (popup.push) {\n        isPush =\n          popup.push &&\n          (app.width < 630 || app.height < 630 || $el.hasClass('popup-tablet-fullscreen'));\n      }\n      if (isPush) {\n        pushOffset = parseInt($el.css('--f7-popup-push-offset'), 10);\n        if (Number.isNaN(pushOffset)) pushOffset = 0;\n        if (pushOffset) {\n          $el.addClass('popup-push');\n          popup.$htmlEl.addClass('with-modal-popup-push');\n          popup.$htmlEl[0].style.setProperty('--f7-popup-push-scale', pushViewScale(pushOffset));\n        }\n      }\n      app.on('resize', updatePushOffset);\n    };\n\n    popup.on('open', () => {\n      hasPreviousPushPopup = false;\n      if (popup.params.closeOnEscape) {\n        $(document).on('keydown', onKeyDown);\n      }\n      $el.prevAll('.popup.modal-in').addClass('popup-behind');\n      setPushOffset();\n    });\n    popup.on('opened', () => {\n      $el.removeClass('swipe-close-to-bottom swipe-close-to-top');\n      if (popup.params.closeByBackdropClick) {\n        app.on('click', handleClick);\n      }\n    });\n    popup.on('close', () => {\n      hasPreviousPushPopup = popup.$el.prevAll('.popup-push.modal-in').length > 0;\n      if (popup.params.closeOnEscape) {\n        $(document).off('keydown', onKeyDown);\n      }\n      if (popup.params.closeByBackdropClick) {\n        app.off('click', handleClick);\n      }\n      $el.prevAll('.popup.modal-in').eq(0).removeClass('popup-behind');\n      if (isPush && pushOffset && !hasPreviousPushPopup) {\n        popup.$htmlEl.removeClass('with-modal-popup-push');\n        popup.$htmlEl.addClass('with-modal-popup-push-closing');\n      }\n      app.off('resize', updatePushOffset);\n    });\n    popup.on('closed', () => {\n      $el.removeClass('popup-behind');\n      if (isPush && pushOffset && !hasPreviousPushPopup) {\n        popup.$htmlEl.removeClass('with-modal-popup-push-closing');\n        popup.$htmlEl[0].style.removeProperty('--f7-popup-push-scale');\n      }\n    });\n\n    $el[0].f7Modal = popup;\n\n    return popup;\n  }\n}\nexport default Popup;\n","import Popup from './popup-class';\nimport ModalMethods from '../../shared/modal-methods';\n\nexport default {\n  name: 'popup',\n  params: {\n    popup: {\n      backdrop: true,\n      backdropEl: undefined,\n      closeByBackdropClick: true,\n      closeOnEscape: false,\n      swipeToClose: false,\n      swipeHandler: null,\n      push: false,\n      containerEl: null,\n    },\n  },\n  static: {\n    Popup,\n  },\n  create() {\n    const app = this;\n    app.popup = ModalMethods({\n      app,\n      constructor: Popup,\n      defaultSelector: '.popup.modal-in',\n      parentSelector: '.popup',\n    });\n  },\n  clicks: {\n    '.popup-open': function openPopup($clickedEl, data = {}) {\n      const app = this;\n      app.popup.open(data.popup, data.animate, $clickedEl);\n    },\n    '.popup-close': function closePopup($clickedEl, data = {}) {\n      const app = this;\n      app.popup.close(data.popup, data.animate, $clickedEl);\n    },\n  },\n};\n","import $ from '../../shared/dom7';\nimport { extend } from '../../shared/utils';\nimport Modal from '../modal/modal-class';\n\nclass LoginScreen extends Modal {\n  constructor(app, params) {\n    const extendedParams = extend(\n      {\n        on: {},\n      },\n      params,\n    );\n\n    // Extends with open/close Modal methods;\n    super(app, extendedParams);\n\n    const loginScreen = this;\n\n    loginScreen.params = extendedParams;\n\n    // Find Element\n    let $el;\n    if (!loginScreen.params.el) {\n      $el = $(loginScreen.params.content)\n        .filter((node) => node.nodeType === 1)\n        .eq(0);\n    } else {\n      $el = $(loginScreen.params.el).eq(0);\n    }\n\n    if ($el && $el.length > 0 && $el[0].f7Modal) {\n      return $el[0].f7Modal;\n    }\n\n    if ($el.length === 0) {\n      return loginScreen.destroy();\n    }\n\n    extend(loginScreen, {\n      app,\n      $el,\n      el: $el[0],\n      type: 'loginScreen',\n    });\n\n    $el[0].f7Modal = loginScreen;\n\n    return loginScreen;\n  }\n}\nexport default LoginScreen;\n","import LoginScreen from './login-screen-class';\nimport ModalMethods from '../../shared/modal-methods';\n\nexport default {\n  name: 'loginScreen',\n  static: {\n    LoginScreen,\n  },\n  create() {\n    const app = this;\n    app.loginScreen = ModalMethods({\n      app,\n      constructor: LoginScreen,\n      defaultSelector: '.login-screen.modal-in',\n    });\n  },\n  clicks: {\n    '.login-screen-open': function openLoginScreen($clickedEl, data = {}) {\n      const app = this;\n      app.loginScreen.open(data.loginScreen, data.animate, $clickedEl);\n    },\n    '.login-screen-close': function closeLoginScreen($clickedEl, data = {}) {\n      const app = this;\n      app.loginScreen.close(data.loginScreen, data.animate, $clickedEl);\n    },\n  },\n};\n","import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom7';\nimport { extend } from '../../shared/utils';\nimport { getDevice } from '../../shared/get-device';\nimport Modal from '../modal/modal-class';\n\nclass Popover extends Modal {\n  constructor(app, params) {\n    const extendedParams = extend({ on: {} }, app.params.popover, params);\n\n    // Extends with open/close Modal methods;\n    super(app, extendedParams);\n\n    const popover = this;\n\n    const device = getDevice();\n    const window = getWindow();\n    const document = getDocument();\n\n    popover.params = extendedParams;\n\n    // Find Element\n    let $el;\n    if (!popover.params.el) {\n      $el = $(popover.params.content)\n        .filter((node) => node.nodeType === 1)\n        .eq(0);\n    } else {\n      $el = $(popover.params.el).eq(0);\n    }\n\n    if ($el && $el.length > 0 && $el[0].f7Modal) {\n      return $el[0].f7Modal;\n    }\n\n    // Find Target\n    const $targetEl = $(popover.params.targetEl).eq(0);\n\n    if ($el.length === 0) {\n      return popover.destroy();\n    }\n\n    // Backdrop\n    let $backdropEl;\n    if (popover.params.backdrop && popover.params.backdropEl) {\n      $backdropEl = $(popover.params.backdropEl);\n    } else if (popover.params.backdrop) {\n      $backdropEl = popover.$containerEl.children('.popover-backdrop');\n      if ($backdropEl.length === 0) {\n        $backdropEl = $('<div class=\"popover-backdrop\"></div>');\n        popover.$containerEl.append($backdropEl);\n      }\n    }\n\n    // Find Angle\n    let $angleEl;\n    if ($el.find('.popover-angle').length === 0) {\n      $angleEl = $('<div class=\"popover-angle\"></div>');\n      $el.prepend($angleEl);\n    } else {\n      $angleEl = $el.find('.popover-angle');\n    }\n\n    // Open\n    const originalOpen = popover.open;\n\n    extend(popover, {\n      app,\n      $el,\n      el: $el[0],\n      $targetEl,\n      targetEl: $targetEl[0],\n      $angleEl,\n      angleEl: $angleEl[0],\n      $backdropEl,\n      backdropEl: $backdropEl && $backdropEl[0],\n      type: 'popover',\n      open(...args) {\n        let [targetEl, animate] = args;\n        if (typeof args[0] === 'boolean') [animate, targetEl] = args;\n        if (targetEl) {\n          popover.$targetEl = $(targetEl);\n          popover.targetEl = popover.$targetEl[0];\n        }\n        return originalOpen.call(popover, animate);\n      },\n    });\n\n    function handleResize() {\n      popover.resize();\n    }\n    popover.on('popoverOpen', () => {\n      popover.resize();\n      app.on('resize', handleResize);\n      $(window).on('keyboardDidShow keyboardDidHide', handleResize);\n      popover.on('popoverClose popoverBeforeDestroy', () => {\n        app.off('resize', handleResize);\n        $(window).off('keyboardDidShow keyboardDidHide', handleResize);\n      });\n    });\n\n    let touchStartTarget = null;\n    function handleTouchStart(e) {\n      touchStartTarget = e.target;\n    }\n\n    function handleClick(e) {\n      const target = e.target;\n      const $target = $(target);\n      const keyboardOpened =\n        !device.desktop &&\n        device.cordova &&\n        ((window.Keyboard && window.Keyboard.isVisible) ||\n          (window.cordova.plugins &&\n            window.cordova.plugins.Keyboard &&\n            window.cordova.plugins.Keyboard.isVisible));\n      if (keyboardOpened) return;\n      if ($target.closest(popover.el).length === 0) {\n        if (\n          popover.params.closeByBackdropClick &&\n          popover.params.backdrop &&\n          popover.backdropEl &&\n          popover.backdropEl === target &&\n          touchStartTarget === target\n        ) {\n          popover.close();\n        } else if (popover.params.closeByOutsideClick && touchStartTarget === target) {\n          popover.close();\n        }\n      }\n    }\n\n    function onKeyDown(e) {\n      const keyCode = e.keyCode;\n      if (keyCode === 27 && popover.params.closeOnEscape) {\n        popover.close();\n      }\n    }\n\n    if (popover.params.closeOnEscape) {\n      popover.on('popoverOpen', () => {\n        $(document).on('keydown', onKeyDown);\n      });\n      popover.on('popoverClose', () => {\n        $(document).off('keydown', onKeyDown);\n      });\n    }\n\n    popover.on('popoverOpened', () => {\n      if (popover.params.closeByOutsideClick || popover.params.closeByBackdropClick) {\n        app.on('touchstart', handleTouchStart);\n        app.on('click', handleClick);\n      }\n    });\n    popover.on('popoverClose', () => {\n      if (popover.params.closeByOutsideClick || popover.params.closeByBackdropClick) {\n        app.off('touchstart', handleTouchStart);\n        app.off('click', handleClick);\n      }\n    });\n\n    $el[0].f7Modal = popover;\n\n    return popover;\n  }\n\n  resize() {\n    const popover = this;\n    const { app, $el, $targetEl, $angleEl } = popover;\n    const { targetX, targetY } = popover.params;\n    $el.css({ left: '', top: '' });\n    const [width, height] = [$el.width(), $el.height()];\n    let angleSize = 0;\n    let angleLeft;\n    let angleTop;\n    if (app.theme === 'ios' || app.theme === 'aurora') {\n      $angleEl.removeClass('on-left on-right on-top on-bottom').css({ left: '', top: '' });\n      angleSize = $angleEl.width() / 2;\n    } else {\n      $el\n        .removeClass(\n          'popover-on-left popover-on-right popover-on-top popover-on-bottom popover-on-middle',\n        )\n        .css({ left: '', top: '' });\n    }\n\n    let targetWidth;\n    let targetHeight;\n    let targetOffsetLeft;\n    let targetOffsetTop;\n    let safeAreaTop = parseInt($('html').css('--f7-safe-area-top'), 10);\n    let safeAreaLeft = parseInt($('html').css('--f7-safe-area-left'), 10);\n    let safeAreaRight = parseInt($('html').css('--f7-safe-area-right'), 10);\n    if (Number.isNaN(safeAreaTop)) safeAreaTop = 0;\n    if (Number.isNaN(safeAreaLeft)) safeAreaLeft = 0;\n    if (Number.isNaN(safeAreaRight)) safeAreaRight = 0;\n    if ($targetEl && $targetEl.length > 0) {\n      targetWidth = $targetEl.outerWidth();\n      targetHeight = $targetEl.outerHeight();\n\n      const targetOffset = $targetEl.offset();\n      targetOffsetLeft = targetOffset.left - app.left;\n      targetOffsetTop = targetOffset.top - app.top;\n\n      const targetParentPage = $targetEl.parents('.page');\n      if (targetParentPage.length > 0) {\n        targetOffsetTop -= targetParentPage[0].scrollTop;\n      }\n    } else if (typeof targetX !== 'undefined' && targetY !== 'undefined') {\n      targetOffsetLeft = targetX;\n      targetOffsetTop = targetY;\n      targetWidth = popover.params.targetWidth || 0;\n      targetHeight = popover.params.targetHeight || 0;\n    }\n\n    let [left, top, diff] = [0, 0, 0];\n    // Top Position\n    let position = app.theme === 'md' ? 'bottom' : 'top';\n    if (app.theme === 'md') {\n      if (height < app.height - targetOffsetTop - targetHeight) {\n        // On bottom\n        position = 'bottom';\n        top = targetOffsetTop + targetHeight;\n      } else if (height < targetOffsetTop - safeAreaTop) {\n        // On top\n        top = targetOffsetTop - height;\n        position = 'top';\n      } else {\n        // On middle\n        position = 'middle';\n        top = targetHeight / 2 + targetOffsetTop - height / 2;\n      }\n      top = Math.max(8, Math.min(top, app.height - height - 8));\n\n      // Horizontal Position\n      let hPosition;\n      if (targetOffsetLeft < app.width / 2) {\n        hPosition = 'right';\n        left = position === 'middle' ? targetOffsetLeft + targetWidth : targetOffsetLeft;\n      } else {\n        hPosition = 'left';\n        left =\n          position === 'middle' ? targetOffsetLeft - width : targetOffsetLeft + targetWidth - width;\n      }\n      left = Math.max(8, Math.min(left, app.width - width - 8 - safeAreaRight), safeAreaLeft);\n      $el.addClass(`popover-on-${position} popover-on-${hPosition}`);\n    } else {\n      // ios and aurora\n      if (height + angleSize < targetOffsetTop - safeAreaTop) {\n        // On top\n        top = targetOffsetTop - height - angleSize;\n      } else if (height + angleSize < app.height - targetOffsetTop - targetHeight) {\n        // On bottom\n        position = 'bottom';\n        top = targetOffsetTop + targetHeight + angleSize;\n      } else {\n        // On middle\n        position = 'middle';\n        top = targetHeight / 2 + targetOffsetTop - height / 2;\n        diff = top;\n        top = Math.max(5, Math.min(top, app.height - height - 5));\n        diff -= top;\n      }\n\n      // Horizontal Position\n      if (position === 'top' || position === 'bottom') {\n        left = targetWidth / 2 + targetOffsetLeft - width / 2;\n        diff = left;\n        left = Math.max(5, Math.min(left, app.width - width - 5));\n        if (safeAreaLeft) {\n          left = Math.max(left, safeAreaLeft);\n        }\n        if (safeAreaRight && left + width > app.width - 5 - safeAreaRight) {\n          left = app.width - 5 - safeAreaRight - width;\n        }\n        if (position === 'top') {\n          $angleEl.addClass('on-bottom');\n        }\n        if (position === 'bottom') {\n          $angleEl.addClass('on-top');\n        }\n        diff -= left;\n        angleLeft = width / 2 - angleSize + diff;\n        angleLeft = Math.max(Math.min(angleLeft, width - angleSize * 2 - 13), 13);\n        $angleEl.css({ left: `${angleLeft}px` });\n      } else if (position === 'middle') {\n        left = targetOffsetLeft - width - angleSize;\n        $angleEl.addClass('on-right');\n        if (left < 5 || left + width + safeAreaRight > app.width || left < safeAreaLeft) {\n          if (left < 5) left = targetOffsetLeft + targetWidth + angleSize;\n          if (left + width + safeAreaRight > app.width)\n            left = app.width - width - 5 - safeAreaRight;\n          if (left < safeAreaLeft) left = safeAreaLeft;\n          $angleEl.removeClass('on-right').addClass('on-left');\n        }\n        angleTop = height / 2 - angleSize + diff;\n        angleTop = Math.max(Math.min(angleTop, height - angleSize * 2 - 13), 13);\n        $angleEl.css({ top: `${angleTop}px` });\n      }\n    }\n\n    // Apply Styles\n    $el.css({ top: `${top}px`, left: `${left}px` });\n  }\n}\n\nexport default Popover;\n","import $ from '../../shared/dom7';\nimport { extend } from '../../shared/utils';\nimport Popover from './popover-class';\nimport ModalMethods from '../../shared/modal-methods';\n\nexport default {\n  name: 'popover',\n  params: {\n    popover: {\n      backdrop: true,\n      backdropEl: undefined,\n      closeByBackdropClick: true,\n      closeByOutsideClick: true,\n      closeOnEscape: false,\n      containerEl: null,\n    },\n  },\n  static: {\n    Popover,\n  },\n  create() {\n    const app = this;\n    app.popover = extend(\n      ModalMethods({\n        app,\n        constructor: Popover,\n        defaultSelector: '.popover.modal-in',\n      }),\n      {\n        open(popoverEl, targetEl, animate) {\n          let $popoverEl = $(popoverEl);\n          if ($popoverEl.length > 1) {\n            // check if same popover in other page\n            const $targetPage = $(targetEl).parents('.page');\n            if ($targetPage.length) {\n              $popoverEl.each((el) => {\n                const $el = $(el);\n                if ($el.parents($targetPage)[0] === $targetPage[0]) {\n                  $popoverEl = $el;\n                }\n              });\n            }\n          }\n          if ($popoverEl.length > 1) {\n            $popoverEl = $popoverEl.eq($popoverEl.length - 1);\n          }\n          let popover = $popoverEl[0].f7Modal;\n          const data = $popoverEl.dataset();\n          if (!popover) {\n            popover = new Popover(\n              app,\n              Object.assign(\n                {\n                  el: $popoverEl,\n                  targetEl,\n                },\n                data,\n              ),\n            );\n          }\n          return popover.open(targetEl, animate);\n        },\n      },\n    );\n  },\n  clicks: {\n    '.popover-open': function openPopover($clickedEl, data = {}) {\n      const app = this;\n      app.popover.open(data.popover, $clickedEl, data.animate);\n    },\n    '.popover-close': function closePopover($clickedEl, data = {}) {\n      const app = this;\n      app.popover.close(data.popover, data.animate, $clickedEl);\n    },\n  },\n};\n","/* eslint indent: [\"off\"] */\nimport { getWindow, getDocument } from 'ssr-window';\nimport { getDevice } from '../../shared/get-device';\nimport { extend, nextTick } from '../../shared/utils';\nimport Modal from '../modal/modal-class';\nimport $ from '../../shared/dom7';\n/** @jsx $jsx */\nimport $jsx from '../../shared/$jsx';\n\nclass Actions extends Modal {\n  constructor(app, params) {\n    const extendedParams = extend({ on: {} }, app.params.actions, params);\n\n    // Extends with open/close Modal methods;\n    super(app, extendedParams);\n\n    const actions = this;\n\n    const device = getDevice();\n    const window = getWindow();\n    const document = getDocument();\n\n    actions.params = extendedParams;\n\n    // Buttons\n    let groups;\n    if (actions.params.buttons) {\n      groups = actions.params.buttons;\n      if (!Array.isArray(groups[0])) groups = [groups];\n    }\n    actions.groups = groups;\n\n    // Find Element\n    let $el;\n    if (actions.params.el) {\n      $el = $(actions.params.el).eq(0);\n    } else if (actions.params.content) {\n      $el = $(actions.params.content)\n        .filter((node) => node.nodeType === 1)\n        .eq(0);\n    } else if (actions.params.buttons) {\n      if (actions.params.convertToPopover) {\n        actions.popoverHtml = actions.renderPopover();\n      }\n      actions.actionsHtml = actions.render();\n    }\n\n    if ($el && $el.length > 0 && $el[0].f7Modal) {\n      return $el[0].f7Modal;\n    }\n\n    if ($el && $el.length === 0 && !(actions.actionsHtml || actions.popoverHtml)) {\n      return actions.destroy();\n    }\n\n    // Backdrop\n    let $backdropEl;\n    if (actions.params.backdrop && actions.params.backdropEl) {\n      $backdropEl = $(actions.params.backdropEl);\n    } else if (actions.params.backdrop) {\n      $backdropEl = actions.$containerEl.children('.actions-backdrop');\n      if ($backdropEl.length === 0) {\n        $backdropEl = $('<div class=\"actions-backdrop\"></div>');\n        actions.$containerEl.append($backdropEl);\n      }\n    }\n\n    const originalOpen = actions.open;\n    const originalClose = actions.close;\n\n    let popover;\n    function buttonOnClick(e) {\n      const $buttonEl = $(this);\n      let buttonIndex;\n      let groupIndex;\n      if ($buttonEl.hasClass('list-button') || $buttonEl.hasClass('item-link')) {\n        buttonIndex = $buttonEl.parents('li').index();\n        groupIndex = $buttonEl.parents('.list').index();\n      } else {\n        buttonIndex = $buttonEl.index();\n        groupIndex = $buttonEl.parents('.actions-group').index();\n      }\n      if (typeof groups !== 'undefined') {\n        const button = groups[groupIndex][buttonIndex];\n        if (button.onClick) button.onClick(actions, e);\n        if (actions.params.onClick) actions.params.onClick(actions, e);\n        if (button.close !== false) actions.close();\n      }\n    }\n    actions.open = function open(animate) {\n      let convertToPopover = false;\n      const { targetEl, targetX, targetY, targetWidth, targetHeight } = actions.params;\n      if (\n        actions.params.convertToPopover &&\n        (targetEl || (targetX !== undefined && targetY !== undefined))\n      ) {\n        // Popover\n        if (\n          actions.params.forceToPopover ||\n          (device.ios && device.ipad) ||\n          app.width >= 768 ||\n          (device.desktop && app.theme === 'aurora')\n        ) {\n          convertToPopover = true;\n        }\n      }\n      if (convertToPopover && actions.popoverHtml) {\n        popover = app.popover.create({\n          containerEl: actions.params.containerEl,\n          content: actions.popoverHtml,\n          backdrop: actions.params.backdrop,\n          targetEl,\n          targetX,\n          targetY,\n          targetWidth,\n          targetHeight,\n          on: {\n            open() {\n              if (!actions.$el) {\n                actions.$el = popover.$el;\n              }\n              actions.$el.trigger(`modal:open ${actions.type.toLowerCase()}:open`);\n              actions.emit(`local::open modalOpen ${actions.type}Open`, actions);\n            },\n            opened() {\n              if (!actions.$el) {\n                actions.$el = popover.$el;\n              }\n              actions.$el.trigger(`modal:opened ${actions.type.toLowerCase()}:opened`);\n              actions.emit(`local::opened modalOpened ${actions.type}Opened`, actions);\n            },\n            close() {\n              if (!actions.$el) {\n                actions.$el = popover.$el;\n              }\n              actions.$el.trigger(`modal:close ${actions.type.toLowerCase()}:close`);\n              actions.emit(`local::close modalClose ${actions.type}Close`, actions);\n            },\n            closed() {\n              if (!actions.$el) {\n                actions.$el = popover.$el;\n              }\n              actions.$el.trigger(`modal:closed ${actions.type.toLowerCase()}:closed`);\n              actions.emit(`local::closed modalClosed ${actions.type}Closed`, actions);\n            },\n          },\n        });\n        popover.open(animate);\n        popover.once('popoverOpened', () => {\n          popover.$el.find('.list-button, .item-link').each((buttonEl) => {\n            $(buttonEl).on('click', buttonOnClick);\n          });\n        });\n        popover.once('popoverClosed', () => {\n          popover.$el.find('.list-button, .item-link').each((buttonEl) => {\n            $(buttonEl).off('click', buttonOnClick);\n          });\n          nextTick(() => {\n            popover.destroy();\n            popover = undefined;\n          });\n        });\n      } else {\n        actions.$el = actions.actionsHtml ? $(actions.actionsHtml) : actions.$el;\n        actions.$el[0].f7Modal = actions;\n        if (actions.groups) {\n          actions.$el.find('.actions-button').each((buttonEl) => {\n            $(buttonEl).on('click', buttonOnClick);\n          });\n          actions.once('actionsClosed', () => {\n            actions.$el.find('.actions-button').each((buttonEl) => {\n              $(buttonEl).off('click', buttonOnClick);\n            });\n          });\n        }\n        actions.el = actions.$el[0];\n        originalOpen.call(actions, animate);\n      }\n      return actions;\n    };\n\n    actions.close = function close(animate) {\n      if (popover) {\n        popover.close(animate);\n      } else {\n        originalClose.call(actions, animate);\n      }\n      return actions;\n    };\n\n    extend(actions, {\n      app,\n      $el,\n      el: $el ? $el[0] : undefined,\n      $backdropEl,\n      backdropEl: $backdropEl && $backdropEl[0],\n      type: 'actions',\n    });\n\n    function handleClick(e) {\n      const target = e.target;\n      const $target = $(target);\n      const keyboardOpened =\n        !device.desktop &&\n        device.cordova &&\n        ((window.Keyboard && window.Keyboard.isVisible) ||\n          (window.cordova.plugins &&\n            window.cordova.plugins.Keyboard &&\n            window.cordova.plugins.Keyboard.isVisible));\n      if (keyboardOpened) return;\n      if ($target.closest(actions.el).length === 0) {\n        if (\n          actions.params.closeByBackdropClick &&\n          actions.params.backdrop &&\n          actions.backdropEl &&\n          actions.backdropEl === target\n        ) {\n          actions.close();\n        } else if (actions.params.closeByOutsideClick) {\n          actions.close();\n        }\n      }\n    }\n\n    function onKeyDown(e) {\n      const keyCode = e.keyCode;\n      if (keyCode === 27 && actions.params.closeOnEscape) {\n        actions.close();\n      }\n    }\n\n    if (actions.params.closeOnEscape) {\n      actions.on('open', () => {\n        $(document).on('keydown', onKeyDown);\n      });\n      actions.on('close', () => {\n        $(document).off('keydown', onKeyDown);\n      });\n    }\n\n    actions.on('opened', () => {\n      if (actions.params.closeByBackdropClick || actions.params.closeByOutsideClick) {\n        app.on('click', handleClick);\n      }\n    });\n    actions.on('close', () => {\n      if (actions.params.closeByBackdropClick || actions.params.closeByOutsideClick) {\n        app.off('click', handleClick);\n      }\n    });\n\n    if ($el) {\n      $el[0].f7Modal = actions;\n    }\n\n    return actions;\n  }\n\n  render() {\n    const actions = this;\n    if (actions.params.render) return actions.params.render.call(actions, actions);\n    const { groups } = actions;\n    const cssClass = actions.params.cssClass;\n    return (\n      <div class={`actions-modal${actions.params.grid ? ' actions-grid' : ''} ${cssClass || ''}`}>\n        {groups.map((group) => (\n          <div class=\"actions-group\">\n            {group.map((button) => {\n              const buttonClasses = [`actions-${button.label ? 'label' : 'button'}`];\n              const { color, bg, bold, disabled, label, text, icon } = button;\n              if (color) buttonClasses.push(`color-${color}`);\n              if (bg) buttonClasses.push(`bg-color-${bg}`);\n              if (bold) buttonClasses.push('actions-button-bold');\n              if (disabled) buttonClasses.push('disabled');\n              if (label) {\n                return <div class={buttonClasses.join(' ')}>{text}</div>;\n              }\n              return (\n                <div class={buttonClasses.join(' ')}>\n                  {icon && <div class=\"actions-button-media\">{icon}</div>}\n                  <div class=\"actions-button-text\">{text}</div>\n                </div>\n              );\n            })}\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  renderPopover() {\n    const actions = this;\n    if (actions.params.renderPopover) return actions.params.renderPopover.call(actions, actions);\n    const { groups } = actions;\n    const cssClass = actions.params.cssClass;\n    return (\n      <div class={`popover popover-from-actions ${cssClass || ''}`}>\n        <div class=\"popover-inner\">\n          {groups.map((group) => (\n            <div class=\"list\">\n              <ul>\n                {group.map((button) => {\n                  const itemClasses = [];\n                  const { color, bg, bold, disabled, label, text, icon } = button;\n                  if (color) itemClasses.push(`color-${color}`);\n                  if (bg) itemClasses.push(`bg-color-${bg}`);\n                  if (bold) itemClasses.push('popover-from-actions-bold');\n                  if (disabled) itemClasses.push('disabled');\n                  if (label) {\n                    itemClasses.push('popover-from-actions-label');\n                    return `<li class=\"${itemClasses.join(' ')}\">${text}</li>`;\n                  }\n                  if (icon) {\n                    itemClasses.push('item-link item-content');\n                    return (\n                      <li>\n                        <a class={itemClasses.join(' ')}>\n                          <div class=\"item-media\">{icon}</div>\n                          <div class=\"item-inner\">\n                            <div class=\"item-title\">{text}</div>\n                          </div>\n                        </a>\n                      </li>\n                    );\n                  }\n                  itemClasses.push('list-button');\n                  return (\n                    <li>\n                      <a class={itemClasses.join(' ')}>{text}</a>\n                    </li>\n                  );\n                })}\n              </ul>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Actions;\n","import Actions from './actions-class';\nimport ModalMethods from '../../shared/modal-methods';\n\nexport default {\n  name: 'actions',\n  params: {\n    actions: {\n      convertToPopover: true,\n      forceToPopover: false,\n      backdrop: true,\n      backdropEl: undefined,\n      cssClass: null,\n      closeByBackdropClick: true,\n      closeOnEscape: false,\n      render: null,\n      renderPopover: null,\n      containerEl: null,\n    },\n  },\n  static: {\n    Actions,\n  },\n  create() {\n    const app = this;\n    app.actions = ModalMethods({\n      app,\n      constructor: Actions,\n      defaultSelector: '.actions-modal.modal-in',\n    });\n  },\n  clicks: {\n    '.actions-open': function openActions($clickedEl, data = {}) {\n      const app = this;\n      app.actions.open(data.actions, data.animate, $clickedEl);\n    },\n    '.actions-close': function closeActions($clickedEl, data = {}) {\n      const app = this;\n      app.actions.close(data.actions, data.animate, $clickedEl);\n    },\n  },\n};\n","import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom7';\nimport { extend, now, getTranslate } from '../../shared/utils';\nimport { getSupport } from '../../shared/get-support';\nimport { getDevice } from '../../shared/get-device';\nimport Modal from '../modal/modal-class';\n\nclass Sheet extends Modal {\n  constructor(app, params) {\n    const extendedParams = extend({ on: {} }, app.params.sheet, params);\n\n    // Extends with open/close Modal methods;\n    super(app, extendedParams);\n\n    const sheet = this;\n    const window = getWindow();\n    const document = getDocument();\n    const support = getSupport();\n    const device = getDevice();\n\n    sheet.params = extendedParams;\n    if (typeof sheet.params.backdrop === 'undefined') {\n      sheet.params.backdrop = app.theme !== 'ios';\n    }\n\n    // Find Element\n    let $el;\n    if (!sheet.params.el) {\n      $el = $(sheet.params.content)\n        .filter((node) => node.nodeType === 1)\n        .eq(0);\n    } else {\n      $el = $(sheet.params.el).eq(0);\n    }\n\n    if ($el && $el.length > 0 && $el[0].f7Modal) {\n      return $el[0].f7Modal;\n    }\n\n    if ($el.length === 0) {\n      return sheet.destroy();\n    }\n    let $backdropEl;\n\n    if (sheet.params.backdrop && sheet.params.backdropEl) {\n      $backdropEl = $(sheet.params.backdropEl);\n    } else if (sheet.params.backdrop) {\n      $backdropEl = sheet.$containerEl.children('.sheet-backdrop');\n      if ($backdropEl.length === 0) {\n        $backdropEl = $('<div class=\"sheet-backdrop\"></div>');\n        sheet.$containerEl.append($backdropEl);\n      }\n    }\n\n    extend(sheet, {\n      app,\n      push: $el.hasClass('sheet-modal-push') || sheet.params.push,\n      $el,\n      el: $el[0],\n      $backdropEl,\n      backdropEl: $backdropEl && $backdropEl[0],\n      type: 'sheet',\n      $htmlEl: $('html'),\n    });\n\n    if (sheet.params.push) {\n      $el.addClass('sheet-modal-push');\n    }\n\n    let $pageContentEl;\n    function scrollToElementOnOpen() {\n      const $scrollEl = $(sheet.params.scrollToEl).eq(0);\n      if ($scrollEl.length === 0) return;\n      $pageContentEl = $scrollEl.parents('.page-content');\n      if ($pageContentEl.length === 0) return;\n\n      const paddingTop = parseInt($pageContentEl.css('padding-top'), 10);\n      const paddingBottom = parseInt($pageContentEl.css('padding-bottom'), 10);\n      const pageHeight = $pageContentEl[0].offsetHeight - paddingTop - $el.height();\n      const pageScrollHeight = $pageContentEl[0].scrollHeight - paddingTop - $el.height();\n      const pageScroll = $pageContentEl.scrollTop();\n\n      let newPaddingBottom;\n\n      const scrollElTop = $scrollEl.offset().top - paddingTop + $scrollEl[0].offsetHeight;\n      if (scrollElTop > pageHeight) {\n        const scrollTop = pageScroll + scrollElTop - pageHeight;\n        if (scrollTop + pageHeight > pageScrollHeight) {\n          newPaddingBottom = scrollTop + pageHeight - pageScrollHeight + paddingBottom;\n          if (pageHeight === pageScrollHeight) {\n            newPaddingBottom = $el.height();\n          }\n          $pageContentEl.css({\n            'padding-bottom': `${newPaddingBottom}px`,\n          });\n        }\n        $pageContentEl.scrollTop(scrollTop, 300);\n      }\n    }\n\n    function scrollToElementOnClose() {\n      if ($pageContentEl && $pageContentEl.length > 0) {\n        $pageContentEl.css({\n          'padding-bottom': '',\n        });\n      }\n    }\n    function handleClick(e) {\n      const target = e.target;\n      const $target = $(target);\n      const keyboardOpened =\n        !device.desktop &&\n        device.cordova &&\n        ((window.Keyboard && window.Keyboard.isVisible) ||\n          (window.cordova.plugins &&\n            window.cordova.plugins.Keyboard &&\n            window.cordova.plugins.Keyboard.isVisible));\n      if (keyboardOpened) return;\n      if ($target.closest(sheet.el).length === 0) {\n        if (\n          sheet.params.closeByBackdropClick &&\n          sheet.params.backdrop &&\n          sheet.backdropEl &&\n          sheet.backdropEl === target\n        ) {\n          sheet.close();\n        } else if (sheet.params.closeByOutsideClick) {\n          sheet.close();\n        }\n      }\n    }\n\n    function onKeyDown(e) {\n      const keyCode = e.keyCode;\n      if (keyCode === 27 && sheet.params.closeOnEscape) {\n        sheet.close();\n      }\n    }\n\n    let pushOffset;\n\n    function pushViewScale(offset) {\n      return (app.height - offset * 2) / app.height;\n    }\n\n    let isTouched = false;\n    let startTouch;\n    let currentTouch;\n    let isScrolling;\n    let touchStartTime;\n    let touchesDiff;\n    let isMoved = false;\n    let isTopSheetModal;\n    let swipeStepTranslate;\n    let startTranslate;\n    let currentTranslate;\n    let sheetElOffsetHeight;\n    let minTranslate;\n    let maxTranslate;\n    let $pushViewEl;\n    let pushBorderRadius;\n    let sheetPageContentEl;\n    let sheetPageContentScrollTop;\n    let sheetPageContentScrollHeight;\n    let sheetPageContentOffsetHeight;\n\n    function handleTouchStart(e) {\n      if (isTouched || !(sheet.params.swipeToClose || sheet.params.swipeToStep)) return;\n      if (\n        sheet.params.swipeHandler &&\n        $(e.target).closest(sheet.params.swipeHandler).length === 0\n      ) {\n        return;\n      }\n      isTouched = true;\n      isMoved = false;\n      startTouch = {\n        x: e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX,\n        y: e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY,\n      };\n      touchStartTime = now();\n      isScrolling = undefined;\n      isTopSheetModal = $el.hasClass('sheet-modal-top');\n      if (!sheet.params.swipeHandler && e.type === 'touchstart') {\n        sheetPageContentEl = $(e.target).closest('.page-content')[0];\n      }\n    }\n    function handleTouchMove(e) {\n      if (!isTouched) return;\n      currentTouch = {\n        x: e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX,\n        y: e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY,\n      };\n\n      if (typeof isScrolling === 'undefined') {\n        isScrolling = !!(\n          isScrolling ||\n          Math.abs(currentTouch.x - startTouch.x) > Math.abs(currentTouch.y - startTouch.y)\n        );\n      }\n      if (isScrolling) {\n        isTouched = false;\n        isMoved = false;\n        return;\n      }\n\n      touchesDiff = startTouch.y - currentTouch.y;\n\n      const direction = touchesDiff < 0 ? 'to-bottom' : 'to-top';\n\n      if (!isMoved) {\n        if (sheetPageContentEl && !$el.hasClass('modal-in-swipe-step')) {\n          sheetPageContentScrollTop = sheetPageContentEl.scrollTop;\n          sheetPageContentScrollHeight = sheetPageContentEl.scrollHeight;\n          sheetPageContentOffsetHeight = sheetPageContentEl.offsetHeight;\n          if (\n            !(sheetPageContentScrollHeight === sheetPageContentOffsetHeight) &&\n            !(direction === 'to-bottom' && sheetPageContentScrollTop === 0) &&\n            !(\n              direction === 'to-top' &&\n              sheetPageContentScrollTop ===\n                sheetPageContentScrollHeight - sheetPageContentOffsetHeight\n            )\n          ) {\n            $el.transform('');\n            isTouched = false;\n            isMoved = false;\n            return;\n          }\n        }\n        if (sheet.push && pushOffset) {\n          $pushViewEl = app.$el.children('.view, .views');\n        }\n        sheetElOffsetHeight = $el[0].offsetHeight;\n        startTranslate = getTranslate($el[0], 'y');\n        if (isTopSheetModal) {\n          minTranslate = sheet.params.swipeToClose ? -sheetElOffsetHeight : -swipeStepTranslate;\n          maxTranslate = 0;\n        } else {\n          minTranslate = 0;\n          maxTranslate = sheet.params.swipeToClose ? sheetElOffsetHeight : swipeStepTranslate;\n        }\n        isMoved = true;\n      }\n      currentTranslate = startTranslate - touchesDiff;\n      currentTranslate = Math.min(Math.max(currentTranslate, minTranslate), maxTranslate);\n      e.preventDefault();\n      if (sheet.push && pushOffset) {\n        let progress = (currentTranslate - startTranslate) / sheetElOffsetHeight;\n        if (sheet.params.swipeToStep) {\n          if (isTopSheetModal) {\n            progress = currentTranslate / swipeStepTranslate;\n          } else {\n            progress = 1 - (swipeStepTranslate - currentTranslate) / swipeStepTranslate;\n          }\n        }\n        progress = Math.abs(progress);\n        progress = Math.min(Math.max(progress, 0), 1);\n        const pushProgress = 1 - progress;\n        const scale = 1 - (1 - pushViewScale(pushOffset)) * pushProgress;\n        $pushViewEl.transition(0).forEach((el) => {\n          el.style.setProperty('transform', `translate3d(0,0,0) scale(${scale})`, 'important');\n        });\n        if (sheet.params.swipeToStep) {\n          $pushViewEl.css('border-radius', `${pushBorderRadius * pushProgress}px`);\n        }\n      }\n      $el.transition(0).transform(`translate3d(0,${currentTranslate}px,0)`);\n      if (sheet.params.swipeToStep) {\n        let progress;\n        if (isTopSheetModal) {\n          progress = 1 - currentTranslate / swipeStepTranslate;\n        } else {\n          progress = (swipeStepTranslate - currentTranslate) / swipeStepTranslate;\n        }\n        progress = Math.min(Math.max(progress, 0), 1);\n        $el.trigger('sheet:stepprogress', progress);\n        sheet.emit('local::stepProgress sheetStepProgress', sheet, progress);\n      }\n    }\n    function handleTouchEnd() {\n      isTouched = false;\n      if (!isMoved) {\n        return;\n      }\n      isMoved = false;\n      $el.transform('').transition('');\n      if (sheet.push && pushOffset) {\n        $pushViewEl.transition('').transform('');\n        $pushViewEl.css('border-radius', '');\n      }\n\n      const direction = touchesDiff < 0 ? 'to-bottom' : 'to-top';\n\n      const diff = Math.abs(touchesDiff);\n      if (diff === 0 || currentTranslate === startTranslate) return;\n\n      const timeDiff = new Date().getTime() - touchStartTime;\n\n      if (!sheet.params.swipeToStep) {\n        if (direction !== (isTopSheetModal ? 'to-top' : 'to-bottom')) {\n          return;\n        }\n        if ((timeDiff < 300 && diff > 20) || (timeDiff >= 300 && diff > sheetElOffsetHeight / 2)) {\n          sheet.close();\n        }\n        return;\n      }\n\n      const openDirection = isTopSheetModal ? 'to-bottom' : 'to-top';\n      const closeDirection = isTopSheetModal ? 'to-top' : 'to-bottom';\n      const absCurrentTranslate = Math.abs(currentTranslate);\n      const absSwipeStepTranslate = Math.abs(swipeStepTranslate);\n\n      if (timeDiff < 300 && diff > 10) {\n        if (direction === openDirection && absCurrentTranslate < absSwipeStepTranslate) {\n          // open step\n          $el.removeClass('modal-in-swipe-step');\n          $el.trigger('sheet:stepprogress', 1);\n          sheet.emit('local::stepProgress sheetStepProgress', sheet, 1);\n          sheet.emit('local::_swipeStep', false);\n          $el.trigger('sheet:stepopen');\n          sheet.emit('local::stepOpen sheetStepOpen', sheet);\n          if (sheet.push && pushOffset) {\n            sheet.$htmlEl[0].style.setProperty('--f7-sheet-push-scale', pushViewScale(pushOffset));\n            $pushViewEl.css('border-radius', '');\n          }\n        }\n        if (direction === closeDirection && absCurrentTranslate > absSwipeStepTranslate) {\n          // close sheet\n          if (sheet.params.swipeToClose) {\n            sheet.close();\n          } else {\n            // close step\n            $el.addClass('modal-in-swipe-step');\n            $el.trigger('sheet:stepprogress', 0);\n            sheet.emit('local::stepProgress sheetStepProgress', sheet, 0);\n            sheet.emit('local::_swipeStep', true);\n            $el.trigger('sheet:stepclose');\n            sheet.emit('local::stepClose sheetStepClose', sheet);\n            if (sheet.push && pushOffset) {\n              sheet.$htmlEl[0].style.removeProperty('--f7-sheet-push-scale');\n              $pushViewEl.css('border-radius', '0px');\n            }\n          }\n        }\n        if (direction === closeDirection && absCurrentTranslate <= absSwipeStepTranslate) {\n          // close step\n          $el.addClass('modal-in-swipe-step');\n          $el.trigger('sheet:stepprogress', 0);\n          sheet.emit('local::stepProgress sheetStepProgress', sheet, 0);\n          sheet.emit('local::_swipeStep', true);\n          $el.trigger('sheet:stepclose');\n          sheet.emit('local::stepClose sheetStepClose', sheet);\n          if (sheet.push && pushOffset) {\n            sheet.$htmlEl[0].style.removeProperty('--f7-sheet-push-scale');\n            $pushViewEl.css('border-radius', '0px');\n          }\n        }\n        return;\n      }\n      if (timeDiff >= 300) {\n        const stepOpened = !$el.hasClass('modal-in-swipe-step');\n        if (!stepOpened) {\n          if (absCurrentTranslate < absSwipeStepTranslate / 2) {\n            // open step\n            $el.removeClass('modal-in-swipe-step');\n            $el.trigger('sheet:stepprogress', 1);\n            sheet.emit('local::stepProgress sheetStepProgress', sheet, 1);\n            sheet.emit('local::_swipeStep', false);\n            $el.trigger('sheet:stepopen');\n            sheet.emit('local::stepOpen sheetStepOpen', sheet);\n            if (sheet.push && pushOffset) {\n              sheet.$htmlEl[0].style.setProperty(\n                '--f7-sheet-push-scale',\n                pushViewScale(pushOffset),\n              );\n              $pushViewEl.css('border-radius', '');\n            }\n          } else if (\n            absCurrentTranslate - absSwipeStepTranslate >\n            (sheetElOffsetHeight - absSwipeStepTranslate) / 2\n          ) {\n            // close sheet\n            if (sheet.params.swipeToClose) sheet.close();\n          }\n        } else if (stepOpened) {\n          if (\n            absCurrentTranslate >\n            absSwipeStepTranslate + (sheetElOffsetHeight - absSwipeStepTranslate) / 2\n          ) {\n            // close sheet\n            if (sheet.params.swipeToClose) sheet.close();\n          } else if (absCurrentTranslate > absSwipeStepTranslate / 2) {\n            // close step\n            $el.addClass('modal-in-swipe-step');\n            $el.trigger('sheet:stepprogress', 0);\n            sheet.emit('local::stepProgress sheetStepProgress', sheet, 0);\n            sheet.emit('local::_swipeStep', true);\n            $el.trigger('sheet:stepclose');\n            sheet.emit('local::stepClose sheetStepClose', sheet);\n            if (sheet.push && pushOffset) {\n              sheet.$htmlEl[0].style.removeProperty('--f7-sheet-push-scale');\n              $pushViewEl.css('border-radius', '0px');\n            }\n          }\n        }\n      }\n    }\n\n    sheet.setSwipeStep = function setSwipeStep(byResize = true) {\n      const $swipeStepEl = $el.find('.sheet-modal-swipe-step').eq(0);\n      if (!$swipeStepEl.length) return;\n      if ($el.hasClass('sheet-modal-top')) {\n        swipeStepTranslate = -(\n          $swipeStepEl.offset().top -\n          $el.offset().top +\n          $swipeStepEl[0].offsetHeight\n        );\n      } else {\n        swipeStepTranslate =\n          $el[0].offsetHeight -\n          ($swipeStepEl.offset().top - $el.offset().top + $swipeStepEl[0].offsetHeight);\n      }\n      $el[0].style.setProperty('--f7-sheet-swipe-step', `${swipeStepTranslate}px`);\n      if (!byResize) {\n        $el.addClass('modal-in-swipe-step');\n        sheet.emit('local::_swipeStep', true);\n      }\n    };\n\n    function onResize() {\n      sheet.setSwipeStep(true);\n    }\n\n    const passive = support.passiveListener ? { passive: true } : false;\n    if (sheet.params.swipeToClose || sheet.params.swipeToStep) {\n      $el.on(app.touchEvents.start, handleTouchStart, passive);\n      app.on('touchmove', handleTouchMove);\n      app.on('touchend:passive', handleTouchEnd);\n      sheet.once('sheetDestroy', () => {\n        $el.off(app.touchEvents.start, handleTouchStart, passive);\n        app.off('touchmove', handleTouchMove);\n        app.off('touchend:passive', handleTouchEnd);\n      });\n    }\n\n    sheet.on('open', () => {\n      if (sheet.params.closeOnEscape) {\n        $(document).on('keydown', onKeyDown);\n      }\n      $el.prevAll('.popup.modal-in').addClass('popup-behind');\n      if (sheet.params.swipeToStep) {\n        sheet.setSwipeStep(false);\n        app.on('resize', onResize);\n      }\n      if (sheet.params.scrollToEl) {\n        scrollToElementOnOpen();\n      }\n\n      if (sheet.push) {\n        pushOffset = parseInt($el.css('--f7-sheet-push-offset'), 10);\n        if (Number.isNaN(pushOffset)) pushOffset = 0;\n        if (pushOffset) {\n          $el.addClass('sheet-modal-push');\n          sheet.$htmlEl.addClass('with-modal-sheet-push');\n          if (!sheet.params.swipeToStep) {\n            sheet.$htmlEl[0].style.setProperty('--f7-sheet-push-scale', pushViewScale(pushOffset));\n          } else {\n            $pushViewEl = app.$el.children('.view, .views');\n            pushBorderRadius = parseFloat(\n              $el.css(`border-${isTopSheetModal ? 'bottom' : 'top'}-left-radius`),\n            );\n            $pushViewEl.css('border-radius', '0px');\n          }\n        }\n      }\n    });\n    sheet.on('opened', () => {\n      if (sheet.params.closeByOutsideClick || sheet.params.closeByBackdropClick) {\n        app.on('click', handleClick);\n      }\n    });\n    sheet.on('close', () => {\n      if (sheet.params.swipeToStep) {\n        $el.removeClass('modal-in-swipe-step');\n        sheet.emit('local::_swipeStep', false);\n        app.off('resize', onResize);\n      }\n      if (sheet.params.closeOnEscape) {\n        $(document).off('keydown', onKeyDown);\n      }\n      if (sheet.params.scrollToEl) {\n        scrollToElementOnClose();\n      }\n      if (sheet.params.closeByOutsideClick || sheet.params.closeByBackdropClick) {\n        app.off('click', handleClick);\n      }\n      $el.prevAll('.popup.modal-in').eq(0).removeClass('popup-behind');\n      if (sheet.push && pushOffset) {\n        sheet.$htmlEl.removeClass('with-modal-sheet-push');\n        sheet.$htmlEl.addClass('with-modal-sheet-push-closing');\n      }\n    });\n    sheet.on('closed', () => {\n      if (sheet.push && pushOffset) {\n        sheet.$htmlEl.removeClass('with-modal-sheet-push-closing');\n        sheet.$htmlEl[0].style.removeProperty('--f7-sheet-push-scale');\n      }\n    });\n\n    sheet.stepOpen = function stepOpen() {\n      $el.removeClass('modal-in-swipe-step');\n      sheet.emit('local::_swipeStep', false);\n      if (sheet.push) {\n        if (!pushOffset) {\n          pushOffset = parseInt($el.css('--f7-sheet-push-offset'), 10);\n          if (Number.isNaN(pushOffset)) pushOffset = 0;\n        }\n        if (pushOffset) {\n          sheet.$htmlEl[0].style.setProperty('--f7-sheet-push-scale', pushViewScale(pushOffset));\n        }\n      }\n    };\n    sheet.stepClose = function stepClose() {\n      $el.addClass('modal-in-swipe-step');\n      sheet.emit('local::_swipeStep', true);\n      if (sheet.push) {\n        sheet.$htmlEl[0].style.removeProperty('--f7-sheet-push-scale');\n      }\n    };\n    sheet.stepToggle = function stepToggle() {\n      $el.toggleClass('modal-in-swipe-step');\n      sheet.emit('local::_swipeStep', $el.hasClass('modal-in-swipe-step'));\n    };\n\n    $el[0].f7Modal = sheet;\n\n    return sheet;\n  }\n}\nexport default Sheet;\n","import $ from '../../shared/dom7';\nimport { extend } from '../../shared/utils';\nimport Sheet from './sheet-class';\nimport ModalMethods from '../../shared/modal-methods';\n\nexport default {\n  name: 'sheet',\n  params: {\n    sheet: {\n      push: false,\n      backdrop: undefined,\n      backdropEl: undefined,\n      closeByBackdropClick: true,\n      closeByOutsideClick: false,\n      closeOnEscape: false,\n      swipeToClose: false,\n      swipeToStep: false,\n      swipeHandler: null,\n      containerEl: null,\n    },\n  },\n  static: {\n    Sheet,\n  },\n  create() {\n    const app = this;\n    app.sheet = extend(\n      {},\n      ModalMethods({\n        app,\n        constructor: Sheet,\n        defaultSelector: '.sheet-modal.modal-in',\n      }),\n      {\n        stepOpen(sheet) {\n          const sheetInstance = app.sheet.get(sheet);\n          if (sheetInstance && sheetInstance.stepOpen) return sheetInstance.stepOpen();\n          return undefined;\n        },\n        stepClose(sheet) {\n          const sheetInstance = app.sheet.get(sheet);\n          if (sheetInstance && sheetInstance.stepClose) return sheetInstance.stepClose();\n          return undefined;\n        },\n        stepToggle(sheet) {\n          const sheetInstance = app.sheet.get(sheet);\n          if (sheetInstance && sheetInstance.stepToggle) return sheetInstance.stepToggle();\n          return undefined;\n        },\n      },\n    );\n  },\n  clicks: {\n    '.sheet-open': function openSheet($clickedEl, data = {}) {\n      const app = this;\n      if (\n        $('.sheet-modal.modal-in').length > 0 &&\n        data.sheet &&\n        $(data.sheet)[0] !== $('.sheet-modal.modal-in')[0]\n      ) {\n        app.sheet.close('.sheet-modal.modal-in');\n      }\n      app.sheet.open(data.sheet, data.animate, $clickedEl);\n    },\n    '.sheet-close': function closeSheet($clickedEl, data = {}) {\n      const app = this;\n      app.sheet.close(data.sheet, data.animate, $clickedEl);\n    },\n  },\n};\n","import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom7';\nimport { extend, nextTick } from '../../shared/utils';\nimport Modal from '../modal/modal-class';\n/** @jsx $jsx */\nimport $jsx from '../../shared/$jsx';\n\nclass Toast extends Modal {\n  constructor(app, params) {\n    const extendedParams = extend(\n      {\n        on: {},\n      },\n      app.params.toast,\n      params,\n    );\n\n    // Extends with open/close Modal methods;\n    super(app, extendedParams);\n\n    const toast = this;\n    const window = getWindow();\n\n    toast.app = app;\n\n    toast.params = extendedParams;\n\n    const { closeButton, closeTimeout } = toast.params;\n\n    let $el;\n    if (!toast.params.el) {\n      // Find Element\n      const toastHtml = toast.render();\n\n      $el = $(toastHtml);\n    } else {\n      $el = $(toast.params.el);\n    }\n\n    if ($el && $el.length > 0 && $el[0].f7Modal) {\n      return $el[0].f7Modal;\n    }\n\n    if ($el.length === 0) {\n      return toast.destroy();\n    }\n\n    extend(toast, {\n      $el,\n      el: $el[0],\n      type: 'toast',\n    });\n\n    $el[0].f7Modal = toast;\n\n    if (closeButton) {\n      $el.find('.toast-button').on('click', () => {\n        toast.emit('local::closeButtonClick toastCloseButtonClick', toast);\n        toast.close();\n      });\n\n      toast.on('beforeDestroy', () => {\n        $el.find('.toast-button').off('click');\n      });\n    }\n\n    let timeoutId;\n    toast.on('open', () => {\n      $('.toast.modal-in').each((openedEl) => {\n        const toastInstance = app.toast.get(openedEl);\n        if (openedEl !== toast.el && toastInstance) {\n          toastInstance.close();\n        }\n      });\n      if (closeTimeout) {\n        timeoutId = nextTick(() => {\n          toast.close();\n        }, closeTimeout);\n      }\n    });\n    toast.on('close', () => {\n      window.clearTimeout(timeoutId);\n    });\n\n    if (toast.params.destroyOnClose) {\n      toast.once('closed', () => {\n        setTimeout(() => {\n          toast.destroy();\n        }, 0);\n      });\n    }\n\n    return toast;\n  }\n\n  render() {\n    const toast = this;\n    if (toast.params.render) return toast.params.render.call(toast, toast);\n    const {\n      position,\n      horizontalPosition,\n      cssClass,\n      icon,\n      text,\n      closeButton,\n      closeButtonColor,\n      closeButtonText,\n    } = toast.params;\n    const horizontalClass =\n      position === 'top' || position === 'bottom' ? `toast-horizontal-${horizontalPosition}` : '';\n    return (\n      <div\n        class={`toast toast-${position} ${horizontalClass} ${cssClass || ''} ${\n          icon ? 'toast-with-icon' : ''\n        }`}\n      >\n        <div class=\"toast-content\">\n          {icon && <div class=\"toast-icon\">{icon}</div>}\n          <div class=\"toast-text\">{text}</div>\n          {closeButton && !icon && (\n            <a class={`toast-button button ${closeButtonColor ? `color-${closeButtonColor}` : ''}`}>\n              {closeButtonText}\n            </a>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\nexport default Toast;\n","import { extend } from '../../shared/utils';\nimport Toast from './toast-class';\nimport ModalMethods from '../../shared/modal-methods';\n\nexport default {\n  name: 'toast',\n  static: {\n    Toast,\n  },\n  create() {\n    const app = this;\n    app.toast = extend(\n      {},\n      ModalMethods({\n        app,\n        constructor: Toast,\n        defaultSelector: '.toast.modal-in',\n      }),\n      {\n        // Shortcuts\n        show(params) {\n          extend(params, {\n            destroyOnClose: true,\n          });\n          return new Toast(app, params).open();\n        },\n      },\n    );\n  },\n  params: {\n    toast: {\n      icon: null,\n      text: null,\n      position: 'bottom',\n      horizontalPosition: 'left',\n      closeButton: false,\n      closeButtonColor: null,\n      closeButtonText: 'Ok',\n      closeTimeout: null,\n      cssClass: null,\n      render: null,\n      containerEl: null,\n    },\n  },\n};\n","import $ from '../../shared/dom7';\nimport {\n  bindMethods,\n  iosPreloaderContent,\n  mdPreloaderContent,\n  auroraPreloaderContent,\n} from '../../shared/utils';\n\nconst Preloader = {\n  init(el) {\n    const app = this;\n    const preloaders = {\n      iosPreloaderContent,\n      mdPreloaderContent,\n      auroraPreloaderContent,\n    };\n    const $el = $(el);\n    if (\n      $el.length === 0 ||\n      $el.children('.preloader-inner').length > 0 ||\n      $el.children('.preloader-inner-line').length > 0\n    )\n      return;\n    $el.append(preloaders[`${app.theme}PreloaderContent`]);\n  },\n  // Modal\n  visible: false,\n  show(color = 'white') {\n    const app = this;\n    if (Preloader.visible) return;\n    const preloaders = {\n      iosPreloaderContent,\n      mdPreloaderContent,\n      auroraPreloaderContent,\n    };\n    const preloaderInner = preloaders[`${app.theme}PreloaderContent`] || '';\n    $('html').addClass('with-modal-preloader');\n    // prettier-ignore\n    app.$el.append(`\n      <div class=\"preloader-backdrop\"></div>\n      <div class=\"preloader-modal\">\n        <div class=\"preloader color-${color}\">${preloaderInner}</div>\n      </div>\n    `);\n    Preloader.visible = true;\n  },\n  showIn(el, color = 'white') {\n    const app = this;\n    const preloaders = {\n      iosPreloaderContent,\n      mdPreloaderContent,\n      auroraPreloaderContent,\n    };\n    const preloaderInner = preloaders[`${app.theme}PreloaderContent`] || '';\n    $(el || 'html').addClass('with-modal-preloader');\n    // prettier-ignore\n    $(el || app.$el).append(`\n      <div class=\"preloader-backdrop\"></div>\n      <div class=\"preloader-modal\">\n        <div class=\"preloader color-${color}\">${preloaderInner}</div>\n      </div>\n    `);\n  },\n  hide() {\n    const app = this;\n    if (!Preloader.visible) return;\n    $('html').removeClass('with-modal-preloader');\n    app.$el.find('.preloader-backdrop, .preloader-modal').remove();\n    Preloader.visible = false;\n  },\n  hideIn(el) {\n    const app = this;\n    $(el || 'html').removeClass('with-modal-preloader');\n    $(el || app.$el)\n      .find('.preloader-backdrop, .preloader-modal')\n      .remove();\n  },\n};\nexport default {\n  name: 'preloader',\n  create() {\n    const app = this;\n    bindMethods(app, {\n      preloader: Preloader,\n    });\n  },\n  on: {\n    photoBrowserOpen(pb) {\n      const app = this;\n      pb.$el.find('.preloader').each((preloaderEl) => {\n        app.preloader.init(preloaderEl);\n      });\n    },\n    tabMounted(tabEl) {\n      const app = this;\n      $(tabEl)\n        .find('.preloader')\n        .each((preloaderEl) => {\n          app.preloader.init(preloaderEl);\n        });\n    },\n    pageInit(page) {\n      const app = this;\n      page.$el.find('.preloader').each((preloaderEl) => {\n        app.preloader.init(preloaderEl);\n      });\n    },\n  },\n  vnode: {\n    preloader: {\n      insert(vnode) {\n        const app = this;\n        const preloaderEl = vnode.elm;\n        app.preloader.init(preloaderEl);\n      },\n    },\n  },\n};\n","import $ from '../../shared/dom7';\nimport { bindMethods } from '../../shared/utils';\n\nconst Progressbar = {\n  set(...args) {\n    const app = this;\n    let [el, progress, duration] = args;\n    if (typeof args[0] === 'number') {\n      [progress, duration] = args;\n      el = app.$el;\n    }\n    if (typeof progress === 'undefined' || progress === null) return el;\n    if (!progress) progress = 0;\n\n    const $el = $(el || app.$el);\n    if ($el.length === 0) {\n      return el;\n    }\n    const progressNormalized = Math.min(Math.max(progress, 0), 100);\n    let $progressbarEl;\n    if ($el.hasClass('progressbar')) $progressbarEl = $el.eq(0);\n    else {\n      $progressbarEl = $el.children('.progressbar');\n    }\n    if ($progressbarEl.length === 0 || $progressbarEl.hasClass('progressbar-infinite')) {\n      return $progressbarEl;\n    }\n    let $progressbarLine = $progressbarEl.children('span');\n    if ($progressbarLine.length === 0) {\n      $progressbarLine = $('<span></span>');\n      $progressbarEl.append($progressbarLine);\n    }\n    $progressbarLine\n      .transition(typeof duration !== 'undefined' ? duration : '')\n      .transform(`translate3d(${(-100 + progressNormalized) * (app.rtl ? -1 : 1)}%,0,0)`);\n\n    return $progressbarEl[0];\n  },\n  show(...args) {\n    const app = this;\n\n    // '.page', 50, 'multi'\n    let [el, progress, color] = args;\n    let type = 'determined';\n\n    if (args.length === 2) {\n      if (\n        (typeof args[0] === 'string' || typeof args[0] === 'object') &&\n        typeof args[1] === 'string'\n      ) {\n        // '.page', 'multi'\n        [el, color, progress] = args;\n        type = 'infinite';\n      } else if (typeof args[0] === 'number' && typeof args[1] === 'string') {\n        // 50, 'multi'\n        [progress, color] = args;\n        el = app.$el;\n      }\n    } else if (args.length === 1) {\n      if (typeof args[0] === 'number') {\n        el = app.$el;\n        progress = args[0];\n      } else if (typeof args[0] === 'string') {\n        type = 'infinite';\n        el = app.$el;\n        color = args[0];\n      }\n    } else if (args.length === 0) {\n      type = 'infinite';\n      el = app.$el;\n    }\n\n    const $el = $(el);\n    if ($el.length === 0) return undefined;\n\n    let $progressbarEl;\n    if ($el.hasClass('progressbar') || $el.hasClass('progressbar-infinite')) {\n      $progressbarEl = $el;\n    } else {\n      $progressbarEl = $el.children(\n        '.progressbar:not(.progressbar-out), .progressbar-infinite:not(.progressbar-out)',\n      );\n      if ($progressbarEl.length === 0) {\n        $progressbarEl = $(`\n          <span class=\"progressbar${type === 'infinite' ? '-infinite' : ''}${\n          color ? ` color-${color}` : ''\n        } progressbar-in\">\n            ${type === 'infinite' ? '' : '<span></span>'}\n          </span>`);\n        $el.append($progressbarEl);\n      }\n    }\n\n    if (typeof progress !== 'undefined') {\n      app.progressbar.set($progressbarEl, progress);\n    }\n\n    return $progressbarEl[0];\n  },\n  hide(el, removeAfterHide = true) {\n    const app = this;\n    const $el = $(el || app.$el);\n    if ($el.length === 0) return undefined;\n    let $progressbarEl;\n    if ($el.hasClass('progressbar') || $el.hasClass('progressbar-infinite')) {\n      $progressbarEl = $el;\n    } else {\n      $progressbarEl = $el.children('.progressbar, .progressbar-infinite');\n    }\n    if (\n      $progressbarEl.length === 0 ||\n      !$progressbarEl.hasClass('progressbar-in') ||\n      $progressbarEl.hasClass('progressbar-out')\n    ) {\n      return $progressbarEl;\n    }\n    $progressbarEl\n      .removeClass('progressbar-in')\n      .addClass('progressbar-out')\n      .animationEnd(() => {\n        if (removeAfterHide) {\n          $progressbarEl.remove();\n        }\n      });\n    return $progressbarEl;\n  },\n};\n\nexport default {\n  name: 'progressbar',\n  create() {\n    const app = this;\n    bindMethods(app, {\n      progressbar: Progressbar,\n    });\n  },\n  on: {\n    tabMounted(tabEl) {\n      const app = this;\n      $(tabEl)\n        .find('.progressbar')\n        .each((progressbarEl) => {\n          const $progressbarEl = $(progressbarEl);\n          app.progressbar.set($progressbarEl, $progressbarEl.attr('data-progress'));\n        });\n    },\n    pageInit(page) {\n      const app = this;\n      page.$el.find('.progressbar').each((progressbarEl) => {\n        const $progressbarEl = $(progressbarEl);\n        app.progressbar.set($progressbarEl, $progressbarEl.attr('data-progress'));\n      });\n    },\n  },\n  vnode: {\n    progressbar: {\n      insert(vnode) {\n        const app = this;\n        const el = vnode.elm;\n        app.progressbar.set(el, el.getAttribute('data-progress'));\n      },\n      update(vnode) {\n        const app = this;\n        const el = vnode.elm;\n        app.progressbar.set(el, el.getAttribute('data-progress'));\n      },\n    },\n  },\n};\n","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom7';\nimport { bindMethods } from '../../shared/utils';\nimport { getSupport } from '../../shared/get-support';\n\nconst Sortable = {\n  init() {\n    const app = this;\n    const document = getDocument();\n    let isTouched;\n    let isMoved;\n    let touchStartY;\n    let touchesDiff;\n    let $sortingEl;\n    let $sortingItems;\n    let $sortableContainer;\n    let sortingElHeight;\n    let minTop;\n    let maxTop;\n    let $insertAfterEl;\n    let $insertBeforeEl;\n    let indexFrom;\n    let $pageEl;\n    let $pageContentEl;\n    let pageHeight;\n    let pageOffset;\n    let sortingElOffsetLocal;\n    let sortingElOffsetTop;\n    let initialScrollTop;\n    let wasTapHold;\n\n    function handleTouchStart(e, isTapHold) {\n      isMoved = false;\n      isTouched = true;\n      wasTapHold = false;\n      touchStartY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n      $sortingEl = $(e.target).closest('li').eq(0);\n      indexFrom = $sortingEl.index();\n      $sortableContainer = $sortingEl.parents('.sortable');\n      const $listGroup = $sortingEl.parents('.list-group');\n      if ($listGroup.length && $listGroup.parents($sortableContainer).length) {\n        $sortableContainer = $listGroup;\n      }\n      $sortingItems = $sortableContainer\n        .children('ul')\n        .children('li:not(.disallow-sorting):not(.no-sorting)');\n      if (app.panel) app.panel.allowOpen = false;\n      if (app.swipeout) app.swipeout.allow = false;\n      if (isTapHold) {\n        $sortingEl.addClass('sorting');\n        $sortableContainer.addClass('sortable-sorting');\n        wasTapHold = true;\n      }\n    }\n    function handleTouchMove(e) {\n      if (!isTouched || !$sortingEl) return;\n      const pageY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n      if (!isMoved) {\n        $pageEl = $sortingEl.parents('.page');\n        $pageContentEl = $sortingEl.parents('.page-content');\n        const paddingTop = parseInt($pageContentEl.css('padding-top'), 10);\n        const paddingBottom = parseInt($pageContentEl.css('padding-bottom'), 10);\n        initialScrollTop = $pageContentEl[0].scrollTop;\n        pageOffset = $pageEl.offset().top + paddingTop;\n        pageHeight = $pageEl.height() - paddingTop - paddingBottom;\n        $sortingEl.addClass('sorting');\n        $sortableContainer.addClass('sortable-sorting');\n        sortingElOffsetLocal = $sortingEl[0].offsetTop;\n        minTop = $sortingEl[0].offsetTop;\n        maxTop = $sortingEl.parent().height() - sortingElOffsetLocal - $sortingEl.height();\n        sortingElHeight = $sortingEl[0].offsetHeight;\n        sortingElOffsetTop = $sortingEl.offset().top;\n      }\n      isMoved = true;\n\n      e.preventDefault();\n      e.f7PreventSwipePanel = true;\n\n      touchesDiff = pageY - touchStartY;\n\n      const translateScrollOffset = $pageContentEl[0].scrollTop - initialScrollTop;\n      const translate = Math.min(Math.max(touchesDiff + translateScrollOffset, -minTop), maxTop);\n      $sortingEl.transform(`translate3d(0,${translate}px,0)`);\n\n      const scrollAddition = 44;\n      let allowScroll = true;\n      if (touchesDiff + translateScrollOffset + scrollAddition < -minTop) {\n        allowScroll = false;\n      }\n      if (touchesDiff + translateScrollOffset - scrollAddition > maxTop) {\n        allowScroll = false;\n      }\n\n      $insertBeforeEl = undefined;\n      $insertAfterEl = undefined;\n\n      let scrollDiff;\n      if (allowScroll) {\n        if (\n          sortingElOffsetTop + touchesDiff + sortingElHeight + scrollAddition >\n          pageOffset + pageHeight\n        ) {\n          // To Bottom\n          scrollDiff =\n            sortingElOffsetTop +\n            touchesDiff +\n            sortingElHeight +\n            scrollAddition -\n            (pageOffset + pageHeight);\n        }\n        if (sortingElOffsetTop + touchesDiff < pageOffset + scrollAddition) {\n          // To Top\n          scrollDiff = sortingElOffsetTop + touchesDiff - pageOffset - scrollAddition;\n        }\n        if (scrollDiff) {\n          $pageContentEl[0].scrollTop += scrollDiff;\n        }\n      }\n\n      $sortingItems.each((el) => {\n        const $currentEl = $(el);\n        if ($currentEl[0] === $sortingEl[0]) return;\n        const currentElOffset = $currentEl[0].offsetTop;\n        const currentElHeight = $currentEl.height();\n        const sortingElOffset = sortingElOffsetLocal + translate;\n\n        let currentTranslate;\n        const prevTranslate = $currentEl[0].f7Translate;\n\n        if (\n          sortingElOffset >= currentElOffset - currentElHeight / 2 &&\n          $sortingEl.index() < $currentEl.index()\n        ) {\n          currentTranslate = -sortingElHeight;\n          $currentEl.transform(`translate3d(0, ${currentTranslate}px,0)`);\n          $insertAfterEl = $currentEl;\n          $insertBeforeEl = undefined;\n        } else if (\n          sortingElOffset <= currentElOffset + currentElHeight / 2 &&\n          $sortingEl.index() > $currentEl.index()\n        ) {\n          currentTranslate = sortingElHeight;\n          $currentEl[0].f7Translate = currentTranslate;\n          $currentEl.transform(`translate3d(0, ${currentTranslate}px,0)`);\n          $insertAfterEl = undefined;\n          if (!$insertBeforeEl) $insertBeforeEl = $currentEl;\n        } else {\n          currentTranslate = undefined;\n          $currentEl.transform('translate3d(0, 0%,0)');\n        }\n\n        if (prevTranslate !== currentTranslate) {\n          $currentEl.trigger('sortable:move');\n          app.emit('sortableMove', $currentEl[0], $sortableContainer[0]);\n        }\n\n        $currentEl[0].f7Translate = currentTranslate;\n      });\n    }\n    function handleTouchEnd() {\n      if (!isTouched || !isMoved) {\n        if (isTouched && !isMoved) {\n          if (app.panel) app.panel.allowOpen = true;\n          if (app.swipeout) app.swipeout.allow = true;\n          if (wasTapHold) {\n            $sortingEl.removeClass('sorting');\n            $sortableContainer.removeClass('sortable-sorting');\n          }\n        }\n        isTouched = false;\n        isMoved = false;\n        return;\n      }\n      if (app.panel) app.panel.allowOpen = true;\n      if (app.swipeout) app.swipeout.allow = true;\n\n      $sortingItems.transform('');\n      $sortingEl.removeClass('sorting');\n      $sortableContainer.removeClass('sortable-sorting');\n\n      let indexTo;\n      if ($insertAfterEl) indexTo = $insertAfterEl.index();\n      else if ($insertBeforeEl) indexTo = $insertBeforeEl.index();\n\n      let moveElements = $sortableContainer.dataset().sortableMoveElements;\n      if (typeof moveElements === 'undefined') {\n        moveElements = app.params.sortable.moveElements;\n      }\n\n      if (moveElements) {\n        if ($insertAfterEl) {\n          $sortingEl.insertAfter($insertAfterEl);\n        }\n        if ($insertBeforeEl) {\n          $sortingEl.insertBefore($insertBeforeEl);\n        }\n      }\n\n      if (($insertAfterEl || $insertBeforeEl) && $sortableContainer.hasClass('virtual-list')) {\n        indexFrom = $sortingEl[0].f7VirtualListIndex;\n        if (typeof indexFrom === 'undefined')\n          indexFrom = $sortingEl.attr('data-virtual-list-index');\n        if ($insertBeforeEl) {\n          indexTo = $insertBeforeEl[0].f7VirtualListIndex;\n          if (typeof indexTo === 'undefined')\n            indexTo = $insertBeforeEl.attr('data-virtual-list-index');\n        } else {\n          indexTo = $insertAfterEl[0].f7VirtualListIndex;\n          if (typeof indexTo === 'undefined')\n            indexTo = $insertAfterEl.attr('data-virtual-list-index');\n        }\n        if (indexTo !== null) indexTo = parseInt(indexTo, 10);\n        else indexTo = undefined;\n\n        const virtualList = $sortableContainer[0].f7VirtualList;\n\n        if (indexFrom) indexFrom = parseInt(indexFrom, 10);\n        if (indexTo) indexTo = parseInt(indexTo, 10);\n        if (virtualList) virtualList.moveItem(indexFrom, indexTo);\n      }\n      if (typeof indexTo !== 'undefined' && !Number.isNaN(indexTo) && indexTo !== indexFrom) {\n        $sortingEl.trigger('sortable:sort', { from: indexFrom, to: indexTo });\n        app.emit(\n          'sortableSort',\n          $sortingEl[0],\n          { from: indexFrom, to: indexTo, el: $sortingEl[0] },\n          $sortableContainer[0],\n        );\n      }\n\n      $insertBeforeEl = undefined;\n      $insertAfterEl = undefined;\n      isTouched = false;\n      isMoved = false;\n    }\n\n    const activeListener = getSupport().passiveListener\n      ? { passive: false, capture: false }\n      : false;\n\n    $(document).on(\n      app.touchEvents.start,\n      '.list.sortable .sortable-handler',\n      handleTouchStart,\n      activeListener,\n    );\n    app.on('touchmove:active', handleTouchMove);\n    app.on('touchend:passive', handleTouchEnd);\n\n    $(document).on('taphold', '.sortable-tap-hold', (e, pointerEvent) => {\n      handleTouchStart(pointerEvent, true);\n    });\n  },\n  enable(el = '.list.sortable') {\n    const app = this;\n    const $el = $(el);\n    if ($el.length === 0) return;\n    $el.addClass('sortable-enabled');\n    $el.trigger('sortable:enable');\n    app.emit('sortableEnable', $el[0]);\n  },\n  disable(el = '.list.sortable') {\n    const app = this;\n    const $el = $(el);\n    if ($el.length === 0) return;\n    $el.removeClass('sortable-enabled');\n    $el.trigger('sortable:disable');\n    app.emit('sortableDisable', $el[0]);\n  },\n  toggle(el = '.list.sortable') {\n    const app = this;\n    const $el = $(el);\n    if ($el.length === 0) return;\n    if ($el.hasClass('sortable-enabled')) {\n      app.sortable.disable($el);\n    } else {\n      app.sortable.enable($el);\n    }\n  },\n};\nexport default {\n  name: 'sortable',\n  params: {\n    sortable: {\n      moveElements: true,\n    },\n  },\n  create() {\n    const app = this;\n    bindMethods(app, {\n      sortable: Sortable,\n    });\n  },\n  on: {\n    init() {\n      const app = this;\n      if (!app.params.sortable) return;\n      app.sortable.init();\n    },\n  },\n  clicks: {\n    '.sortable-enable': function enable($clickedEl, data = {}) {\n      const app = this;\n      app.sortable.enable(data.sortable);\n    },\n    '.sortable-disable': function disable($clickedEl, data = {}) {\n      const app = this;\n      app.sortable.disable(data.sortable);\n    },\n    '.sortable-toggle': function toggle($clickedEl, data = {}) {\n      const app = this;\n      app.sortable.toggle(data.sortable);\n    },\n  },\n};\n","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom7';\nimport { nextFrame, bindMethods } from '../../shared/utils';\nimport { getSupport } from '../../shared/get-support';\n\nconst Swipeout = {\n  init() {\n    const app = this;\n    const document = getDocument();\n    const touchesStart = {};\n    let isTouched;\n    let isMoved;\n    let isScrolling;\n    let touchStartTime;\n    let touchesDiff;\n    let $swipeoutEl;\n    let $swipeoutContent;\n    let $actionsRight;\n    let $actionsLeft;\n    let actionsLeftWidth;\n    let actionsRightWidth;\n    let translate;\n    let opened;\n    let openedActionsSide;\n    let $leftButtons;\n    let $rightButtons;\n    let direction;\n    let $overswipeLeftButton;\n    let $overswipeRightButton;\n    let overswipeLeft;\n    let overswipeRight;\n\n    function handleTouchStart(e) {\n      if (!app.swipeout.allow) return;\n      isMoved = false;\n      isTouched = true;\n      isScrolling = undefined;\n      touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n      touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n      touchStartTime = new Date().getTime();\n      $swipeoutEl = $(this);\n    }\n    function handleTouchMove(e) {\n      if (!isTouched) return;\n      const pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n      const pageY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n      if (typeof isScrolling === 'undefined') {\n        isScrolling = !!(\n          isScrolling || Math.abs(pageY - touchesStart.y) > Math.abs(pageX - touchesStart.x)\n        );\n      }\n      if (isScrolling) {\n        isTouched = false;\n        return;\n      }\n\n      if (!isMoved) {\n        if ($('.list.sortable-opened').length > 0) return;\n        $swipeoutContent = $swipeoutEl.find('.swipeout-content');\n        $actionsRight = $swipeoutEl.find('.swipeout-actions-right');\n        $actionsLeft = $swipeoutEl.find('.swipeout-actions-left');\n        actionsLeftWidth = null;\n        actionsRightWidth = null;\n        $leftButtons = null;\n        $rightButtons = null;\n        $overswipeRightButton = null;\n        $overswipeLeftButton = null;\n        if ($actionsLeft.length > 0) {\n          actionsLeftWidth = $actionsLeft.outerWidth();\n          $leftButtons = $actionsLeft.children('a');\n          $overswipeLeftButton = $actionsLeft.find('.swipeout-overswipe');\n        }\n        if ($actionsRight.length > 0) {\n          actionsRightWidth = $actionsRight.outerWidth();\n          $rightButtons = $actionsRight.children('a');\n          $overswipeRightButton = $actionsRight.find('.swipeout-overswipe');\n        }\n        opened = $swipeoutEl.hasClass('swipeout-opened');\n        if (opened) {\n          openedActionsSide =\n            $swipeoutEl.find('.swipeout-actions-left.swipeout-actions-opened').length > 0\n              ? 'left'\n              : 'right';\n        }\n        $swipeoutEl.removeClass('swipeout-transitioning');\n        if (!app.params.swipeout.noFollow) {\n          $swipeoutEl.find('.swipeout-actions-opened').removeClass('swipeout-actions-opened');\n          $swipeoutEl.removeClass('swipeout-opened');\n        }\n      }\n      isMoved = true;\n      if (e.cancelable) {\n        e.preventDefault();\n      }\n\n      touchesDiff = pageX - touchesStart.x;\n      translate = touchesDiff;\n\n      if (opened) {\n        if (openedActionsSide === 'right') translate -= actionsRightWidth;\n        else translate += actionsLeftWidth;\n      }\n\n      if (\n        (translate > 0 && $actionsLeft.length === 0) ||\n        (translate < 0 && $actionsRight.length === 0)\n      ) {\n        if (!opened) {\n          isTouched = false;\n          isMoved = false;\n          $swipeoutContent.transform('');\n          if ($rightButtons && $rightButtons.length > 0) {\n            $rightButtons.transform('');\n          }\n          if ($leftButtons && $leftButtons.length > 0) {\n            $leftButtons.transform('');\n          }\n          return;\n        }\n        translate = 0;\n      }\n\n      if (translate < 0) direction = 'to-left';\n      else if (translate > 0) direction = 'to-right';\n      else if (!direction) direction = 'to-left';\n\n      let buttonOffset;\n      let progress;\n\n      e.f7PreventSwipePanel = true;\n      if (app.params.swipeout.noFollow) {\n        if (opened) {\n          if (openedActionsSide === 'right' && touchesDiff > 0) {\n            app.swipeout.close($swipeoutEl);\n          }\n          if (openedActionsSide === 'left' && touchesDiff < 0) {\n            app.swipeout.close($swipeoutEl);\n          }\n        } else {\n          if (touchesDiff < 0 && $actionsRight.length > 0) {\n            app.swipeout.open($swipeoutEl, 'right');\n          }\n          if (touchesDiff > 0 && $actionsLeft.length > 0) {\n            app.swipeout.open($swipeoutEl, 'left');\n          }\n        }\n        isTouched = false;\n        isMoved = false;\n        return;\n      }\n      overswipeLeft = false;\n      overswipeRight = false;\n      if ($actionsRight.length > 0) {\n        // Show right actions\n        let buttonTranslate = translate;\n        progress = buttonTranslate / actionsRightWidth;\n        if (buttonTranslate < -actionsRightWidth) {\n          const ratio = buttonTranslate / -actionsRightWidth;\n          buttonTranslate = -actionsRightWidth - (-buttonTranslate - actionsRightWidth) ** 0.8;\n          translate = buttonTranslate;\n          if ($overswipeRightButton.length > 0 && ratio > app.params.swipeout.overswipeRatio) {\n            overswipeRight = true;\n          }\n        }\n        if (direction !== 'to-left') {\n          progress = 0;\n          buttonTranslate = 0;\n        }\n        $rightButtons.each((buttonEl) => {\n          const $buttonEl = $(buttonEl);\n          if (typeof buttonEl.f7SwipeoutButtonOffset === 'undefined') {\n            $buttonEl[0].f7SwipeoutButtonOffset = buttonEl.offsetLeft;\n          }\n          buttonOffset = buttonEl.f7SwipeoutButtonOffset;\n          if (\n            $overswipeRightButton.length > 0 &&\n            $buttonEl.hasClass('swipeout-overswipe') &&\n            direction === 'to-left'\n          ) {\n            $buttonEl.css({ left: `${overswipeRight ? -buttonOffset : 0}px` });\n            if (overswipeRight) {\n              if (!$buttonEl.hasClass('swipeout-overswipe-active')) {\n                $swipeoutEl.trigger('swipeout:overswipeenter');\n                app.emit('swipeoutOverswipeEnter', $swipeoutEl[0]);\n              }\n              $buttonEl.addClass('swipeout-overswipe-active');\n            } else {\n              if ($buttonEl.hasClass('swipeout-overswipe-active')) {\n                $swipeoutEl.trigger('swipeout:overswipeexit');\n                app.emit('swipeoutOverswipeExit', $swipeoutEl[0]);\n              }\n              $buttonEl.removeClass('swipeout-overswipe-active');\n            }\n          }\n          $buttonEl.transform(\n            `translate3d(${buttonTranslate - buttonOffset * (1 + Math.max(progress, -1))}px,0,0)`,\n          );\n        });\n      }\n      if ($actionsLeft.length > 0) {\n        // Show left actions\n        let buttonTranslate = translate;\n        progress = buttonTranslate / actionsLeftWidth;\n        if (buttonTranslate > actionsLeftWidth) {\n          const ratio = buttonTranslate / actionsRightWidth;\n          buttonTranslate = actionsLeftWidth + (buttonTranslate - actionsLeftWidth) ** 0.8;\n          translate = buttonTranslate;\n          if ($overswipeLeftButton.length > 0 && ratio > app.params.swipeout.overswipeRatio) {\n            overswipeLeft = true;\n          }\n        }\n        if (direction !== 'to-right') {\n          buttonTranslate = 0;\n          progress = 0;\n        }\n        $leftButtons.each((buttonEl, index) => {\n          const $buttonEl = $(buttonEl);\n          if (typeof buttonEl.f7SwipeoutButtonOffset === 'undefined') {\n            $buttonEl[0].f7SwipeoutButtonOffset =\n              actionsLeftWidth - buttonEl.offsetLeft - buttonEl.offsetWidth;\n          }\n          buttonOffset = buttonEl.f7SwipeoutButtonOffset;\n          if (\n            $overswipeLeftButton.length > 0 &&\n            $buttonEl.hasClass('swipeout-overswipe') &&\n            direction === 'to-right'\n          ) {\n            $buttonEl.css({ left: `${overswipeLeft ? buttonOffset : 0}px` });\n            if (overswipeLeft) {\n              if (!$buttonEl.hasClass('swipeout-overswipe-active')) {\n                $swipeoutEl.trigger('swipeout:overswipeenter');\n                app.emit('swipeoutOverswipeEnter', $swipeoutEl[0]);\n              }\n              $buttonEl.addClass('swipeout-overswipe-active');\n            } else {\n              if ($buttonEl.hasClass('swipeout-overswipe-active')) {\n                $swipeoutEl.trigger('swipeout:overswipeexit');\n                app.emit('swipeoutOverswipeExit', $swipeoutEl[0]);\n              }\n              $buttonEl.removeClass('swipeout-overswipe-active');\n            }\n          }\n          if ($leftButtons.length > 1) {\n            $buttonEl.css('z-index', $leftButtons.length - index);\n          }\n          $buttonEl.transform(\n            `translate3d(${buttonTranslate + buttonOffset * (1 - Math.min(progress, 1))}px,0,0)`,\n          );\n        });\n      }\n      $swipeoutEl.trigger('swipeout', progress);\n      app.emit('swipeout', $swipeoutEl[0], progress);\n      $swipeoutContent.transform(`translate3d(${translate}px,0,0)`);\n    }\n    function handleTouchEnd() {\n      if (!isTouched || !isMoved) {\n        isTouched = false;\n        isMoved = false;\n        return;\n      }\n\n      isTouched = false;\n      isMoved = false;\n      const timeDiff = new Date().getTime() - touchStartTime;\n      const $actions = direction === 'to-left' ? $actionsRight : $actionsLeft;\n      const actionsWidth = direction === 'to-left' ? actionsRightWidth : actionsLeftWidth;\n      let action;\n      let $buttons;\n      let i;\n\n      if (\n        (timeDiff < 300 &&\n          ((touchesDiff < -10 && direction === 'to-left') ||\n            (touchesDiff > 10 && direction === 'to-right'))) ||\n        (timeDiff >= 300 && Math.abs(translate) > actionsWidth / 2)\n      ) {\n        action = 'open';\n      } else {\n        action = 'close';\n      }\n      if (timeDiff < 300) {\n        if (Math.abs(translate) === 0) action = 'close';\n        if (Math.abs(translate) === actionsWidth) action = 'open';\n      }\n\n      if (action === 'open') {\n        Swipeout.el = $swipeoutEl[0];\n        $swipeoutEl.trigger('swipeout:open');\n        app.emit('swipeoutOpen', $swipeoutEl[0]);\n        $swipeoutEl.addClass('swipeout-opened swipeout-transitioning');\n        const newTranslate = direction === 'to-left' ? -actionsWidth : actionsWidth;\n        $swipeoutContent.transform(`translate3d(${newTranslate}px,0,0)`);\n        $actions.addClass('swipeout-actions-opened');\n        $buttons = direction === 'to-left' ? $rightButtons : $leftButtons;\n        if ($buttons) {\n          for (i = 0; i < $buttons.length; i += 1) {\n            $($buttons[i]).transform(`translate3d(${newTranslate}px,0,0)`);\n          }\n        }\n        if (overswipeRight) {\n          $actionsRight.find('.swipeout-overswipe').trigger('click', 'f7Overswipe');\n        }\n        if (overswipeLeft) {\n          $actionsLeft.find('.swipeout-overswipe').trigger('click', 'f7Overswipe');\n        }\n      } else {\n        $swipeoutEl.trigger('swipeout:close');\n        app.emit('swipeoutClose', $swipeoutEl[0]);\n        Swipeout.el = undefined;\n        $swipeoutEl.addClass('swipeout-transitioning').removeClass('swipeout-opened');\n        $swipeoutContent.transform('');\n        $actions.removeClass('swipeout-actions-opened');\n      }\n\n      let buttonOffset;\n      if ($leftButtons && $leftButtons.length > 0 && $leftButtons !== $buttons) {\n        $leftButtons.each((buttonEl) => {\n          const $buttonEl = $(buttonEl);\n          buttonOffset = buttonEl.f7SwipeoutButtonOffset;\n          if (typeof buttonOffset === 'undefined') {\n            $buttonEl[0].f7SwipeoutButtonOffset =\n              actionsLeftWidth - buttonEl.offsetLeft - buttonEl.offsetWidth;\n          }\n          $buttonEl.transform(`translate3d(${buttonOffset}px,0,0)`);\n        });\n      }\n      if ($rightButtons && $rightButtons.length > 0 && $rightButtons !== $buttons) {\n        $rightButtons.each((buttonEl) => {\n          const $buttonEl = $(buttonEl);\n          buttonOffset = buttonEl.f7SwipeoutButtonOffset;\n          if (typeof buttonOffset === 'undefined') {\n            $buttonEl[0].f7SwipeoutButtonOffset = buttonEl.offsetLeft;\n          }\n          $buttonEl.transform(`translate3d(${-buttonOffset}px,0,0)`);\n        });\n      }\n      $swipeoutContent.transitionEnd(() => {\n        if ((opened && action === 'open') || (!opened && action === 'close')) return;\n        $swipeoutEl.trigger(action === 'open' ? 'swipeout:opened' : 'swipeout:closed');\n        app.emit(action === 'open' ? 'swipeoutOpened' : 'swipeoutClosed', $swipeoutEl[0]);\n        $swipeoutEl.removeClass('swipeout-transitioning');\n        if (opened && action === 'close') {\n          if ($actionsRight.length > 0) {\n            $rightButtons.transform('');\n          }\n          if ($actionsLeft.length > 0) {\n            $leftButtons.transform('');\n          }\n        }\n      });\n    }\n\n    const passiveListener = getSupport().passiveListener ? { passive: true } : false;\n\n    app.on('touchstart', (e) => {\n      if (Swipeout.el) {\n        const $targetEl = $(e.target);\n        if (\n          !(\n            $(Swipeout.el).is($targetEl[0]) ||\n            $targetEl.parents('.swipeout').is(Swipeout.el) ||\n            $targetEl.hasClass('modal-in') ||\n            ($targetEl.attr('class') || '').indexOf('-backdrop') > 0 ||\n            $targetEl.hasClass('actions-modal') ||\n            $targetEl.parents('.actions-modal.modal-in, .dialog.modal-in').length > 0\n          )\n        ) {\n          app.swipeout.close(Swipeout.el);\n        }\n      }\n    });\n    $(document).on(app.touchEvents.start, 'li.swipeout', handleTouchStart, passiveListener);\n    app.on('touchmove:active', handleTouchMove);\n    app.on('touchend:passive', handleTouchEnd);\n  },\n  allow: true,\n  el: undefined,\n  open(...args) {\n    const app = this;\n    let [el, side, callback] = args;\n    if (typeof args[1] === 'function') {\n      [el, callback, side] = args;\n    }\n    const $el = $(el).eq(0);\n\n    if ($el.length === 0) return;\n    if (!$el.hasClass('swipeout') || $el.hasClass('swipeout-opened')) return;\n    if (!side) {\n      if ($el.find('.swipeout-actions-right').length > 0) side = 'right';\n      else side = 'left';\n    }\n    const $swipeoutActions = $el.find(`.swipeout-actions-${side}`);\n    const $swipeoutContent = $el.find('.swipeout-content');\n    if ($swipeoutActions.length === 0) return;\n    $el.trigger('swipeout:open').addClass('swipeout-opened').removeClass('swipeout-transitioning');\n    app.emit('swipeoutOpen', $el[0]);\n    $swipeoutActions.addClass('swipeout-actions-opened');\n    const $buttons = $swipeoutActions.children('a');\n    const swipeoutActionsWidth = $swipeoutActions.outerWidth();\n    const translate = side === 'right' ? -swipeoutActionsWidth : swipeoutActionsWidth;\n    if ($buttons.length > 1) {\n      $buttons.each((buttonEl, buttonIndex) => {\n        const $buttonEl = $(buttonEl);\n        if (side === 'right') {\n          $buttonEl.transform(`translate3d(${-buttonEl.offsetLeft}px,0,0)`);\n        } else {\n          $buttonEl\n            .css('z-index', $buttons.length - buttonIndex)\n            .transform(\n              `translate3d(${\n                swipeoutActionsWidth - buttonEl.offsetWidth - buttonEl.offsetLeft\n              }px,0,0)`,\n            );\n        }\n      });\n    }\n    $el.addClass('swipeout-transitioning');\n    $swipeoutContent.transitionEnd(() => {\n      $el.trigger('swipeout:opened');\n      app.emit('swipeoutOpened', $el[0]);\n      if (callback) callback.call($el[0]);\n    });\n    nextFrame(() => {\n      $buttons.transform(`translate3d(${translate}px,0,0)`);\n      $swipeoutContent.transform(`translate3d(${translate}px,0,0)`);\n    });\n    Swipeout.el = $el[0];\n  },\n  close(el, callback) {\n    const app = this;\n    const $el = $(el).eq(0);\n    if ($el.length === 0) return;\n    if (!$el.hasClass('swipeout-opened')) return;\n    const side = $el.find('.swipeout-actions-opened').hasClass('swipeout-actions-right')\n      ? 'right'\n      : 'left';\n    const $swipeoutActions = $el\n      .find('.swipeout-actions-opened')\n      .removeClass('swipeout-actions-opened');\n    const $buttons = $swipeoutActions.children('a');\n    const swipeoutActionsWidth = $swipeoutActions.outerWidth();\n    app.swipeout.allow = false;\n    $el.trigger('swipeout:close');\n    app.emit('swipeoutClose', $el[0]);\n    $el.removeClass('swipeout-opened').addClass('swipeout-transitioning');\n\n    let closeTimeout;\n    function onSwipeoutClose() {\n      app.swipeout.allow = true;\n      if ($el.hasClass('swipeout-opened')) return;\n      $el.removeClass('swipeout-transitioning');\n      $buttons.transform('');\n      $el.trigger('swipeout:closed');\n      app.emit('swipeoutClosed', $el[0]);\n      if (callback) callback.call($el[0]);\n      if (closeTimeout) clearTimeout(closeTimeout);\n    }\n    $el.find('.swipeout-content').transform('').transitionEnd(onSwipeoutClose);\n    closeTimeout = setTimeout(onSwipeoutClose, 500);\n\n    $buttons.each((buttonEl) => {\n      const $buttonEl = $(buttonEl);\n      if (side === 'right') {\n        $buttonEl.transform(`translate3d(${-buttonEl.offsetLeft}px,0,0)`);\n      } else {\n        $buttonEl.transform(\n          `translate3d(${swipeoutActionsWidth - buttonEl.offsetWidth - buttonEl.offsetLeft}px,0,0)`,\n        );\n      }\n      $buttonEl.css({ left: '0px' }).removeClass('swipeout-overswipe-active');\n    });\n    if (Swipeout.el && Swipeout.el === $el[0]) Swipeout.el = undefined;\n  },\n  delete(el, callback) {\n    const app = this;\n    const $el = $(el).eq(0);\n    if ($el.length === 0) return;\n    Swipeout.el = undefined;\n    $el.trigger('swipeout:delete');\n    app.emit('swipeoutDelete', $el[0]);\n    $el.css({ height: `${$el.outerHeight()}px` });\n    $el.transitionEnd(() => {\n      $el.trigger('swipeout:deleted');\n      app.emit('swipeoutDeleted', $el[0]);\n      if (callback) callback.call($el[0]);\n      if ($el.parents('.virtual-list').length > 0) {\n        const virtualList = $el.parents('.virtual-list')[0].f7VirtualList;\n        const virtualIndex = $el[0].f7VirtualListIndex;\n        if (virtualList && typeof virtualIndex !== 'undefined')\n          virtualList.deleteItem(virtualIndex);\n      } else if (app.params.swipeout.removeElements) {\n        if (app.params.swipeout.removeElementsWithTimeout) {\n          setTimeout(() => {\n            $el.remove();\n          }, app.params.swipeout.removeElementsTimeout);\n        } else {\n          $el.remove();\n        }\n      } else {\n        $el.removeClass('swipeout-deleting swipeout-transitioning');\n      }\n    });\n    // eslint-disable-next-line\n    // $el[0]._clientLeft = $el[0].clientLeft;\n    nextFrame(() => {\n      $el\n        .addClass('swipeout-deleting swipeout-transitioning')\n        .css({ height: '0px' })\n        .find('.swipeout-content')\n        .transform('translate3d(-100%,0,0)');\n    });\n  },\n};\nexport default {\n  name: 'swipeout',\n  params: {\n    swipeout: {\n      actionsNoFold: false,\n      noFollow: false,\n      removeElements: true,\n      removeElementsWithTimeout: false,\n      removeElementsTimeout: 0,\n      overswipeRatio: 1.2,\n    },\n  },\n  create() {\n    const app = this;\n    bindMethods(app, {\n      swipeout: Swipeout,\n    });\n  },\n  clicks: {\n    '.swipeout-open': function openSwipeout($clickedEl, data = {}) {\n      const app = this;\n      app.swipeout.open(data.swipeout, data.side);\n    },\n    '.swipeout-close': function closeSwipeout($clickedEl) {\n      const app = this;\n      const $swipeoutEl = $clickedEl.closest('.swipeout');\n      if ($swipeoutEl.length === 0) return;\n      app.swipeout.close($swipeoutEl);\n    },\n    '.swipeout-delete': function deleteSwipeout($clickedEl, data = {}) {\n      const app = this;\n      const $swipeoutEl = $clickedEl.closest('.swipeout');\n      if ($swipeoutEl.length === 0) return;\n      const { confirm, confirmTitle } = data;\n      if (data.confirm) {\n        app.dialog.confirm(confirm, confirmTitle, () => {\n          app.swipeout.delete($swipeoutEl);\n        });\n      } else {\n        app.swipeout.delete($swipeoutEl);\n      }\n    },\n  },\n  on: {\n    init() {\n      const app = this;\n      if (!app.params.swipeout) return;\n      app.swipeout.init();\n    },\n  },\n};\n","import $ from '../../shared/dom7';\nimport { nextFrame, bindMethods } from '../../shared/utils';\n\nconst Accordion = {\n  toggleClicked($clickedEl) {\n    const app = this;\n    let $accordionItemEl = $clickedEl.closest('.accordion-item').eq(0);\n    if (!$accordionItemEl.length) $accordionItemEl = $clickedEl.parents('li').eq(0);\n\n    const $accordionContent = $clickedEl.parents('.accordion-item-content').eq(0);\n    if ($accordionContent.length) {\n      if ($accordionContent.parents($accordionItemEl).length) return;\n    }\n\n    if ($clickedEl.parents('li').length > 1 && $clickedEl.parents('li')[0] !== $accordionItemEl[0])\n      return;\n    app.accordion.toggle($accordionItemEl);\n  },\n  open(el) {\n    const app = this;\n    const $el = $(el);\n    let prevented = false;\n    function prevent() {\n      prevented = true;\n    }\n    $el.trigger('accordion:beforeopen', { prevent }, prevent);\n    app.emit('accordionBeforeOpen', $el[0], prevent);\n    if (prevented) return;\n    const $list = $el.parents('.accordion-list').eq(0);\n    let $contentEl = $el.children('.accordion-item-content');\n    $contentEl.removeAttr('aria-hidden');\n    if ($contentEl.length === 0) $contentEl = $el.find('.accordion-item-content');\n    if ($contentEl.length === 0) return;\n    const $openedItem = $list.length > 0 && $el.parent().children('.accordion-item-opened');\n    if ($openedItem.length > 0) {\n      app.accordion.close($openedItem);\n    }\n    $contentEl.transitionEnd(() => {\n      if ($el.hasClass('accordion-item-opened')) {\n        $contentEl.transition(0);\n        $contentEl.css('height', 'auto');\n        nextFrame(() => {\n          $contentEl.transition('');\n          $el.trigger('accordion:opened');\n          app.emit('accordionOpened', $el[0]);\n        });\n      } else {\n        $contentEl.css('height', '');\n        $el.trigger('accordion:closed');\n        app.emit('accordionClosed', $el[0]);\n      }\n    });\n    $contentEl.css('height', `${$contentEl[0].scrollHeight}px`);\n    $el.trigger('accordion:open');\n    $el.addClass('accordion-item-opened');\n    app.emit('accordionOpen', $el[0]);\n  },\n  close(el) {\n    const app = this;\n    const $el = $(el);\n    let prevented = false;\n    function prevent() {\n      prevented = true;\n    }\n    $el.trigger('accordion:beforeclose', { prevent }, prevent);\n    app.emit('accordionBeforeClose', $el[0], prevent);\n    if (prevented) return;\n    let $contentEl = $el.children('.accordion-item-content');\n    if ($contentEl.length === 0) $contentEl = $el.find('.accordion-item-content');\n    $el.removeClass('accordion-item-opened');\n    $contentEl.attr('aria-hidden', true);\n    $contentEl.transition(0);\n    $contentEl.css('height', `${$contentEl[0].scrollHeight}px`);\n    // Close\n    $contentEl.transitionEnd(() => {\n      if ($el.hasClass('accordion-item-opened')) {\n        $contentEl.transition(0);\n        $contentEl.css('height', 'auto');\n        nextFrame(() => {\n          $contentEl.transition('');\n          $el.trigger('accordion:opened');\n          app.emit('accordionOpened', $el[0]);\n        });\n      } else {\n        $contentEl.css('height', '');\n        $el.trigger('accordion:closed');\n        app.emit('accordionClosed', $el[0]);\n      }\n    });\n    nextFrame(() => {\n      $contentEl.transition('');\n      $contentEl.css('height', '');\n      $el.trigger('accordion:close');\n      app.emit('accordionClose', $el[0]);\n    });\n  },\n  toggle(el) {\n    const app = this;\n    const $el = $(el);\n    if ($el.length === 0) return;\n    if ($el.hasClass('accordion-item-opened')) app.accordion.close(el);\n    else app.accordion.open(el);\n  },\n};\n\nexport default {\n  name: 'accordion',\n  create() {\n    const app = this;\n    bindMethods(app, {\n      accordion: Accordion,\n    });\n  },\n  clicks: {\n    '.accordion-item .item-link, .accordion-item-toggle, .links-list.accordion-list > ul > li > a':\n      function open($clickedEl) {\n        const app = this;\n        Accordion.toggleClicked.call(app, $clickedEl);\n      },\n  },\n};\n","export default {\n  name: 'contactsList',\n};\n","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom7';\nimport { extend, deleteProps } from '../../shared/utils';\nimport Framework7Class from '../../shared/class';\nimport { getDevice } from '../../shared/get-device';\n\nclass VirtualList extends Framework7Class {\n  constructor(app, params = {}) {\n    super(params, [app]);\n    const vl = this;\n    const device = getDevice();\n    const document = getDocument();\n\n    let defaultHeight;\n    if (app.theme === 'md') {\n      defaultHeight = 48;\n    } else if (app.theme === 'ios') {\n      defaultHeight = 44;\n    } else if (app.theme === 'aurora') {\n      defaultHeight = 38;\n    }\n\n    const defaults = {\n      cols: 1,\n      height: defaultHeight,\n      cache: true,\n      dynamicHeightBufferSize: 1,\n      showFilteredItemsOnly: false,\n      renderExternal: undefined,\n      setListHeight: true,\n      searchByItem: undefined,\n      searchAll: undefined,\n      ul: null,\n      createUl: true,\n      scrollableParentEl: undefined,\n      renderItem(item) {\n        return `\n          <li>\n            <div class=\"item-content\">\n              <div class=\"item-inner\">\n                <div class=\"item-title\">${item}</div>\n              </div>\n            </div>\n          </li>\n        `.trim();\n      },\n      on: {},\n    };\n\n    // Extend defaults with modules params\n    vl.useModulesParams(defaults);\n\n    vl.params = extend(defaults, params);\n    if (vl.params.height === undefined || !vl.params.height) {\n      vl.params.height = defaultHeight;\n    }\n\n    vl.$el = $(params.el);\n    vl.el = vl.$el[0];\n\n    if (vl.$el.length === 0) return undefined;\n    vl.$el[0].f7VirtualList = vl;\n\n    vl.items = vl.params.items;\n    if (vl.params.showFilteredItemsOnly) {\n      vl.filteredItems = [];\n    }\n    if (vl.params.renderItem) {\n      vl.renderItem = vl.params.renderItem;\n    }\n    vl.$pageContentEl = vl.$el.parents('.page-content');\n    vl.pageContentEl = vl.$pageContentEl[0];\n\n    vl.$scrollableParentEl = vl.params.scrollableParentEl\n      ? $(vl.params.scrollableParentEl).eq(0)\n      : vl.$pageContentEl;\n    if (!vl.$scrollableParentEl.length && vl.$pageContentEl.length) {\n      vl.$scrollableParentEl = vl.$pageContentEl;\n    }\n    vl.scrollableParentEl = vl.$scrollableParentEl[0];\n\n    // Bad scroll\n    if (typeof vl.params.updatableScroll !== 'undefined') {\n      vl.updatableScroll = vl.params.updatableScroll;\n    } else {\n      vl.updatableScroll = true;\n      if (device.ios && device.osVersion.split('.')[0] < 8) {\n        vl.updatableScroll = false;\n      }\n    }\n\n    // Append <ul>\n    const ul = vl.params.ul;\n    vl.$ul = ul ? $(vl.params.ul) : vl.$el.children('ul');\n    if (vl.$ul.length === 0 && vl.params.createUl) {\n      vl.$el.append('<ul></ul>');\n      vl.$ul = vl.$el.children('ul');\n    }\n    vl.ul = vl.$ul[0];\n\n    let $itemsWrapEl;\n    if (!vl.ul && !vl.params.createUl) $itemsWrapEl = vl.$el;\n    else $itemsWrapEl = vl.$ul;\n\n    extend(vl, {\n      $itemsWrapEl,\n      itemsWrapEl: $itemsWrapEl[0],\n      // DOM cached items\n      domCache: {},\n      displayDomCache: {},\n      // Temporary DOM Element\n      tempDomElement: document.createElement('ul'),\n      // Last repain position\n      lastRepaintY: null,\n      // Fragment\n      fragment: document.createDocumentFragment(),\n      // Props\n      pageHeight: undefined,\n      rowsPerScreen: undefined,\n      rowsBefore: undefined,\n      rowsAfter: undefined,\n      rowsToRender: undefined,\n      maxBufferHeight: 0,\n      listHeight: undefined,\n      dynamicHeight: typeof vl.params.height === 'function',\n    });\n\n    // Install Modules\n    vl.useModules();\n\n    // Attach events\n    const handleScrollBound = vl.handleScroll.bind(vl);\n    const handleResizeBound = vl.handleResize.bind(vl);\n    let $pageEl;\n    let $tabEl;\n    let $panelEl;\n    let $popupEl;\n    vl.attachEvents = function attachEvents() {\n      $pageEl = vl.$el.parents('.page').eq(0);\n      $tabEl = vl.$el\n        .parents('.tab')\n        .filter((tabEl) => {\n          return (\n            $(tabEl).parent('.tabs').parent('.tabs-animated-wrap, .tabs-swipeable-wrap').length ===\n            0\n          );\n        })\n        .eq(0);\n      $panelEl = vl.$el.parents('.panel').eq(0);\n      $popupEl = vl.$el.parents('.popup').eq(0);\n\n      vl.$scrollableParentEl.on('scroll', handleScrollBound);\n      if ($pageEl.length) $pageEl.on('page:reinit', handleResizeBound);\n      if ($tabEl.length) $tabEl.on('tab:show', handleResizeBound);\n      if ($panelEl.length) $panelEl.on('panel:open', handleResizeBound);\n      if ($popupEl.length) $popupEl.on('popup:open', handleResizeBound);\n      app.on('resize', handleResizeBound);\n    };\n    vl.detachEvents = function attachEvents() {\n      vl.$scrollableParentEl.off('scroll', handleScrollBound);\n      if ($pageEl.length) $pageEl.off('page:reinit', handleResizeBound);\n      if ($tabEl.length) $tabEl.off('tab:show', handleResizeBound);\n      if ($panelEl.length) $panelEl.off('panel:open', handleResizeBound);\n      if ($popupEl.length) $popupEl.off('popup:open', handleResizeBound);\n      app.off('resize', handleResizeBound);\n    };\n    // Init\n    vl.init();\n\n    return vl;\n  }\n\n  setListSize() {\n    const vl = this;\n    const items = vl.filteredItems || vl.items;\n    vl.pageHeight = vl.$scrollableParentEl[0].offsetHeight;\n    if (vl.dynamicHeight) {\n      vl.listHeight = 0;\n      vl.heights = [];\n      for (let i = 0; i < items.length; i += 1) {\n        const itemHeight = vl.params.height(items[i]);\n        vl.listHeight += itemHeight;\n        vl.heights.push(itemHeight);\n      }\n    } else {\n      vl.listHeight = Math.ceil(items.length / vl.params.cols) * vl.params.height;\n      vl.rowsPerScreen = Math.ceil(vl.pageHeight / vl.params.height);\n      vl.rowsBefore = vl.params.rowsBefore || vl.rowsPerScreen * 2;\n      vl.rowsAfter = vl.params.rowsAfter || vl.rowsPerScreen;\n      vl.rowsToRender = vl.rowsPerScreen + vl.rowsBefore + vl.rowsAfter;\n      vl.maxBufferHeight = (vl.rowsBefore / 2) * vl.params.height;\n    }\n\n    if (vl.updatableScroll || vl.params.setListHeight) {\n      vl.$itemsWrapEl.css({ height: `${vl.listHeight}px` });\n    }\n  }\n\n  render(force, forceScrollTop) {\n    const vl = this;\n    if (force) vl.lastRepaintY = null;\n\n    let scrollTop = -(\n      vl.$el[0].getBoundingClientRect().top - vl.$scrollableParentEl[0].getBoundingClientRect().top\n    );\n\n    if (typeof forceScrollTop !== 'undefined') scrollTop = forceScrollTop;\n    if (\n      vl.lastRepaintY === null ||\n      Math.abs(scrollTop - vl.lastRepaintY) > vl.maxBufferHeight ||\n      (!vl.updatableScroll &&\n        vl.$scrollableParentEl[0].scrollTop + vl.pageHeight >=\n          vl.$scrollableParentEl[0].scrollHeight)\n    ) {\n      vl.lastRepaintY = scrollTop;\n    } else {\n      return;\n    }\n\n    const items = vl.filteredItems || vl.items;\n    let fromIndex;\n    let toIndex;\n    let heightBeforeFirstItem = 0;\n    let heightBeforeLastItem = 0;\n    if (vl.dynamicHeight) {\n      let itemTop = 0;\n      let itemHeight;\n      vl.maxBufferHeight = vl.pageHeight;\n\n      for (let j = 0; j < vl.heights.length; j += 1) {\n        itemHeight = vl.heights[j];\n        if (typeof fromIndex === 'undefined') {\n          if (\n            itemTop + itemHeight >=\n            scrollTop - vl.pageHeight * 2 * vl.params.dynamicHeightBufferSize\n          )\n            fromIndex = j;\n          else heightBeforeFirstItem += itemHeight;\n        }\n\n        if (typeof toIndex === 'undefined') {\n          if (\n            itemTop + itemHeight >=\n              scrollTop + vl.pageHeight * 2 * vl.params.dynamicHeightBufferSize ||\n            j === vl.heights.length - 1\n          )\n            toIndex = j + 1;\n          heightBeforeLastItem += itemHeight;\n        }\n        itemTop += itemHeight;\n      }\n      toIndex = Math.min(toIndex, items.length);\n    } else {\n      fromIndex = (parseInt(scrollTop / vl.params.height, 10) - vl.rowsBefore) * vl.params.cols;\n      if (fromIndex < 0) {\n        fromIndex = 0;\n      }\n      toIndex = Math.min(fromIndex + vl.rowsToRender * vl.params.cols, items.length);\n    }\n\n    let topPosition;\n    const renderExternalItems = [];\n    vl.reachEnd = false;\n    let i;\n    for (i = fromIndex; i < toIndex; i += 1) {\n      let itemEl;\n      // Define real item index\n      const index = vl.items.indexOf(items[i]);\n\n      if (i === fromIndex) vl.currentFromIndex = index;\n      if (i === toIndex - 1) vl.currentToIndex = index;\n      if (vl.filteredItems) {\n        if (vl.items[index] === vl.filteredItems[vl.filteredItems.length - 1]) vl.reachEnd = true;\n      } else if (index === vl.items.length - 1) vl.reachEnd = true;\n\n      // Find items\n      if (vl.params.renderExternal) {\n        renderExternalItems.push(items[i]);\n      } else if (vl.domCache[index]) {\n        itemEl = vl.domCache[index];\n        itemEl.f7VirtualListIndex = index;\n      } else {\n        if (vl.renderItem) {\n          vl.tempDomElement.innerHTML = vl.renderItem(items[i], index).trim();\n        } else {\n          vl.tempDomElement.innerHTML = items[i].toString().trim();\n        }\n        itemEl = vl.tempDomElement.childNodes[0];\n        if (vl.params.cache) vl.domCache[index] = itemEl;\n        itemEl.f7VirtualListIndex = index;\n      }\n\n      // Set item top position\n      if (i === fromIndex) {\n        if (vl.dynamicHeight) {\n          topPosition = heightBeforeFirstItem;\n        } else {\n          topPosition = (i * vl.params.height) / vl.params.cols;\n        }\n      }\n      if (!vl.params.renderExternal) {\n        itemEl.style.top = `${topPosition}px`;\n\n        // Before item insert\n        vl.emit('local::itemBeforeInsert vlItemBeforeInsert', vl, itemEl, items[i]);\n\n        // Append item to fragment\n        vl.fragment.appendChild(itemEl);\n      }\n    }\n\n    // Update list height with not updatable scroll\n    if (!vl.updatableScroll) {\n      if (vl.dynamicHeight) {\n        vl.itemsWrapEl.style.height = `${heightBeforeLastItem}px`;\n      } else {\n        vl.itemsWrapEl.style.height = `${(i * vl.params.height) / vl.params.cols}px`;\n      }\n    }\n\n    // Update list html\n    if (vl.params.renderExternal) {\n      if (items && items.length === 0) {\n        vl.reachEnd = true;\n      }\n    } else {\n      vl.emit('local::beforeClear vlBeforeClear', vl, vl.fragment);\n      vl.itemsWrapEl.innerHTML = '';\n\n      vl.emit('local::itemsBeforeInsert vlItemsBeforeInsert', vl, vl.fragment);\n\n      if (items && items.length === 0) {\n        vl.reachEnd = true;\n        if (vl.params.emptyTemplate) vl.itemsWrapEl.innerHTML = vl.params.emptyTemplate;\n      } else {\n        vl.itemsWrapEl.appendChild(vl.fragment);\n      }\n\n      vl.emit('local::itemsAfterInsert vlItemsAfterInsert', vl, vl.fragment);\n    }\n\n    if (typeof forceScrollTop !== 'undefined' && force) {\n      vl.$scrollableParentEl.scrollTop(forceScrollTop, 0);\n    }\n    if (vl.params.renderExternal) {\n      vl.params.renderExternal(vl, {\n        fromIndex,\n        toIndex,\n        listHeight: vl.listHeight,\n        topPosition,\n        items: renderExternalItems,\n      });\n    }\n  }\n\n  // Filter\n  filterItems(indexes, resetScrollTop = true) {\n    const vl = this;\n    vl.filteredItems = [];\n    for (let i = 0; i < indexes.length; i += 1) {\n      vl.filteredItems.push(vl.items[indexes[i]]);\n    }\n    if (resetScrollTop) {\n      vl.$scrollableParentEl[0].scrollTop = 0;\n    }\n    vl.update();\n  }\n\n  resetFilter() {\n    const vl = this;\n    if (vl.params.showFilteredItemsOnly) {\n      vl.filteredItems = [];\n    } else {\n      vl.filteredItems = null;\n      delete vl.filteredItems;\n    }\n    vl.update();\n  }\n\n  scrollToItem(index) {\n    const vl = this;\n    if (index > vl.items.length) return false;\n    let itemTop = 0;\n    if (vl.dynamicHeight) {\n      for (let i = 0; i < index; i += 1) {\n        itemTop += vl.heights[i];\n      }\n    } else {\n      itemTop = index * vl.params.height;\n    }\n    const listTop = vl.$el[0].offsetTop;\n    vl.render(true, listTop + itemTop - parseInt(vl.$scrollableParentEl.css('padding-top'), 10));\n    return true;\n  }\n\n  handleScroll() {\n    const vl = this;\n    vl.render();\n  }\n\n  // Handle resize event\n  isVisible() {\n    const vl = this;\n    return !!(vl.el.offsetWidth || vl.el.offsetHeight || vl.el.getClientRects().length);\n  }\n\n  handleResize() {\n    const vl = this;\n    if (vl.isVisible()) {\n      vl.setListSize();\n      vl.render(true);\n    }\n  }\n\n  // Append\n  appendItems(items) {\n    const vl = this;\n    for (let i = 0; i < items.length; i += 1) {\n      vl.items.push(items[i]);\n    }\n    vl.update();\n  }\n\n  appendItem(item) {\n    const vl = this;\n    vl.appendItems([item]);\n  }\n\n  // Replace\n  replaceAllItems(items) {\n    const vl = this;\n    vl.items = items;\n    delete vl.filteredItems;\n    vl.domCache = {};\n    vl.update();\n  }\n\n  replaceItem(index, item) {\n    const vl = this;\n    vl.items[index] = item;\n    if (vl.params.cache) delete vl.domCache[index];\n    vl.update();\n  }\n\n  // Prepend\n  prependItems(items) {\n    const vl = this;\n    for (let i = items.length - 1; i >= 0; i -= 1) {\n      vl.items.unshift(items[i]);\n    }\n    if (vl.params.cache) {\n      const newCache = {};\n      Object.keys(vl.domCache).forEach((cached) => {\n        newCache[parseInt(cached, 10) + items.length] = vl.domCache[cached];\n      });\n      vl.domCache = newCache;\n    }\n    vl.update();\n  }\n\n  prependItem(item) {\n    const vl = this;\n    vl.prependItems([item]);\n  }\n\n  // Move\n  moveItem(from, to) {\n    const vl = this;\n    const fromIndex = from;\n    let toIndex = to;\n    if (fromIndex === toIndex) return;\n    // remove item from array\n    const item = vl.items.splice(fromIndex, 1)[0];\n    if (toIndex >= vl.items.length) {\n      // Add item to the end\n      vl.items.push(item);\n      toIndex = vl.items.length - 1;\n    } else {\n      // Add item to new index\n      vl.items.splice(toIndex, 0, item);\n    }\n    // Update cache\n    if (vl.params.cache) {\n      const newCache = {};\n      Object.keys(vl.domCache).forEach((cached) => {\n        const cachedIndex = parseInt(cached, 10);\n        const leftIndex = fromIndex < toIndex ? fromIndex : toIndex;\n        const rightIndex = fromIndex < toIndex ? toIndex : fromIndex;\n        const indexShift = fromIndex < toIndex ? -1 : 1;\n        if (cachedIndex < leftIndex || cachedIndex > rightIndex)\n          newCache[cachedIndex] = vl.domCache[cachedIndex];\n        if (cachedIndex === leftIndex) newCache[rightIndex] = vl.domCache[cachedIndex];\n        if (cachedIndex > leftIndex && cachedIndex <= rightIndex)\n          newCache[cachedIndex + indexShift] = vl.domCache[cachedIndex];\n      });\n      vl.domCache = newCache;\n    }\n    vl.update();\n  }\n\n  // Insert before\n  insertItemBefore(index, item) {\n    const vl = this;\n    if (index === 0) {\n      vl.prependItem(item);\n      return;\n    }\n    if (index >= vl.items.length) {\n      vl.appendItem(item);\n      return;\n    }\n    vl.items.splice(index, 0, item);\n    // Update cache\n    if (vl.params.cache) {\n      const newCache = {};\n      Object.keys(vl.domCache).forEach((cached) => {\n        const cachedIndex = parseInt(cached, 10);\n        if (cachedIndex >= index) {\n          newCache[cachedIndex + 1] = vl.domCache[cachedIndex];\n        }\n      });\n      vl.domCache = newCache;\n    }\n    vl.update();\n  }\n\n  // Delete\n  deleteItems(indexes) {\n    const vl = this;\n    let prevIndex;\n    let indexShift = 0;\n    for (let i = 0; i < indexes.length; i += 1) {\n      let index = indexes[i];\n      if (typeof prevIndex !== 'undefined') {\n        if (index > prevIndex) {\n          indexShift = -i;\n        }\n      }\n      index += indexShift;\n      prevIndex = indexes[i];\n      // Delete item\n      const deletedItem = vl.items.splice(index, 1)[0];\n\n      // Delete from filtered\n      if (vl.filteredItems && vl.filteredItems.indexOf(deletedItem) >= 0) {\n        vl.filteredItems.splice(vl.filteredItems.indexOf(deletedItem), 1);\n      }\n      // Update cache\n      if (vl.params.cache) {\n        const newCache = {};\n        Object.keys(vl.domCache).forEach((cached) => {\n          const cachedIndex = parseInt(cached, 10);\n          if (cachedIndex === index) {\n            delete vl.domCache[index];\n          } else if (parseInt(cached, 10) > index) {\n            newCache[cachedIndex - 1] = vl.domCache[cached];\n          } else {\n            newCache[cachedIndex] = vl.domCache[cached];\n          }\n        });\n        vl.domCache = newCache;\n      }\n    }\n    vl.update();\n  }\n\n  deleteAllItems() {\n    const vl = this;\n    vl.items = [];\n    delete vl.filteredItems;\n    if (vl.params.cache) vl.domCache = {};\n    vl.update();\n  }\n\n  deleteItem(index) {\n    const vl = this;\n    vl.deleteItems([index]);\n  }\n\n  // Clear cache\n  clearCache() {\n    const vl = this;\n    vl.domCache = {};\n  }\n\n  // Update Virtual List\n  update(deleteCache) {\n    const vl = this;\n    if (deleteCache && vl.params.cache) {\n      vl.domCache = {};\n    }\n    vl.setListSize();\n    vl.render(true);\n  }\n\n  init() {\n    const vl = this;\n    vl.attachEvents();\n    vl.setListSize();\n    vl.render();\n  }\n\n  destroy() {\n    let vl = this;\n    vl.detachEvents();\n    vl.$el[0].f7VirtualList = null;\n    delete vl.$el[0].f7VirtualList;\n    deleteProps(vl);\n    vl = null;\n  }\n}\n\nexport default VirtualList;\n","import VirtualList from './virtual-list-class';\nimport ConstructorMethods from '../../shared/constructor-methods';\n\nexport default {\n  name: 'virtualList',\n  static: {\n    VirtualList,\n  },\n  create() {\n    const app = this;\n    app.virtualList = ConstructorMethods({\n      defaultSelector: '.virtual-list',\n      constructor: VirtualList,\n      app,\n      domProp: 'f7VirtualList',\n    });\n  },\n};\n","import $ from '../../shared/dom7';\nimport { extend, deleteProps } from '../../shared/utils';\nimport Framework7Class from '../../shared/class';\nimport { getSupport } from '../../shared/get-support';\n\nclass ListIndex extends Framework7Class {\n  constructor(app, params = {}) {\n    super(params, [app]);\n    const index = this;\n\n    const defaults = {\n      el: null, // where to render indexes\n      listEl: null, // list el to generate indexes\n      indexes: 'auto', // or array of indexes\n      iosItemHeight: 14,\n      mdItemHeight: 14,\n      auroraItemHeight: 14,\n      scrollList: true,\n      label: false,\n      // eslint-disable-next-line\n      renderItem(itemContent, itemIndex) {\n        return `\n          <li>${itemContent}</li>\n        `.trim();\n      },\n      renderSkipPlaceholder() {\n        return '<li class=\"list-index-skip-placeholder\"></li>';\n      },\n      on: {},\n    };\n\n    // Extend defaults with modules params\n    index.useModulesParams(defaults);\n\n    index.params = extend(defaults, params);\n\n    let $el;\n    let $listEl;\n    let $pageContentEl;\n    let $ul;\n\n    if (index.params.el) {\n      $el = $(index.params.el);\n    } else {\n      return index;\n    }\n\n    if ($el[0].f7ListIndex) {\n      return $el[0].f7ListIndex;\n    }\n\n    $ul = $el.find('ul');\n    if ($ul.length === 0) {\n      $ul = $('<ul></ul>');\n      $el.append($ul);\n    }\n\n    if (index.params.listEl) {\n      $listEl = $(index.params.listEl);\n    }\n\n    if (index.params.indexes === 'auto' && !$listEl) {\n      return index;\n    }\n\n    if ($listEl) {\n      $pageContentEl = $listEl.parents('.page-content').eq(0);\n    } else {\n      $pageContentEl = $el.siblings('.page-content').eq(0);\n      if ($pageContentEl.length === 0) {\n        $pageContentEl = $el.parents('.page').eq(0).find('.page-content').eq(0);\n      }\n    }\n\n    $el[0].f7ListIndex = index;\n\n    extend(index, {\n      app,\n      $el,\n      el: $el && $el[0],\n      $ul,\n      ul: $ul && $ul[0],\n      $listEl,\n      listEl: $listEl && $listEl[0],\n      $pageContentEl,\n      pageContentEl: $pageContentEl && $pageContentEl[0],\n      indexes: params.indexes,\n      height: 0,\n      skipRate: 0,\n    });\n\n    // Install Modules\n    index.useModules();\n\n    // Attach events\n    function handleResize() {\n      const height = { index };\n      index.calcSize();\n      if (height !== index.height) {\n        index.render();\n      }\n    }\n\n    function handleClick(e) {\n      const $clickedLi = $(e.target).closest('li');\n      if (!$clickedLi.length) return;\n\n      let itemIndex = $clickedLi.index();\n      if (index.skipRate > 0) {\n        const percentage = itemIndex / ($clickedLi.siblings('li').length - 1);\n        itemIndex = Math.round((index.indexes.length - 1) * percentage);\n      }\n      const itemContent = index.indexes[itemIndex];\n\n      index.$el.trigger('listindex:click', { content: itemContent, index: itemIndex });\n      index.emit('local::click listIndexClick', index, itemContent, itemIndex);\n      index.$el.trigger('listindex:select', { content: itemContent, index: itemIndex });\n      index.emit('local::select listIndexSelect', index, itemContent, itemIndex);\n\n      if (index.$listEl && index.params.scrollList) {\n        index.scrollListToIndex(itemContent, itemIndex);\n      }\n    }\n\n    const touchesStart = {};\n    let isTouched;\n    let isMoved;\n    let topPoint;\n    let bottomPoint;\n    let $labelEl;\n    let previousIndex = null;\n    function handleTouchStart(e) {\n      const $children = $ul.children();\n      if (!$children.length) return;\n      topPoint = $children[0].getBoundingClientRect().top;\n      bottomPoint =\n        $children[$children.length - 1].getBoundingClientRect().top + $children[0].offsetHeight;\n\n      touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n      touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n      isTouched = true;\n      isMoved = false;\n      previousIndex = null;\n    }\n    function handleTouchMove(e) {\n      if (!isTouched) return;\n      if (!isMoved && index.params.label) {\n        $labelEl = $('<span class=\"list-index-label\"></span>');\n        $el.append($labelEl);\n      }\n      isMoved = true;\n      const pageY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n      e.preventDefault();\n\n      let percentage = (pageY - topPoint) / (bottomPoint - topPoint);\n      percentage = Math.min(Math.max(percentage, 0), 1);\n\n      const itemIndex = Math.round((index.indexes.length - 1) * percentage);\n      const itemContent = index.indexes[itemIndex];\n\n      const ulHeight = bottomPoint - topPoint;\n      const bubbleBottom = (index.height - ulHeight) / 2 + (1 - percentage) * ulHeight;\n\n      if (itemIndex !== previousIndex) {\n        if (index.params.label) {\n          $labelEl.html(itemContent).transform(`translateY(-${bubbleBottom}px)`);\n        }\n\n        if (index.$listEl && index.params.scrollList) {\n          index.scrollListToIndex(itemContent, itemIndex);\n        }\n      }\n\n      previousIndex = itemIndex;\n\n      index.$el.trigger('listindex:select');\n      index.emit('local::select listIndexSelect', index, itemContent, itemIndex);\n    }\n    function handleTouchEnd() {\n      if (!isTouched) return;\n      isTouched = false;\n      isMoved = false;\n      if (index.params.label) {\n        if ($labelEl) $labelEl.remove();\n        $labelEl = undefined;\n      }\n    }\n    const passiveListener = getSupport().passiveListener ? { passive: true } : false;\n    index.attachEvents = function attachEvents() {\n      $el.parents('.tab').on('tab:show', handleResize);\n      $el.parents('.page').on('page:reinit', handleResize);\n      $el.parents('.panel').on('panel:open', handleResize);\n      $el\n        .parents('.sheet-modal, .actions-modal, .popup, .popover, .login-screen, .dialog, .toast')\n        .on('modal:open', handleResize);\n      app.on('resize', handleResize);\n\n      $el.on('click', handleClick);\n      $el.on(app.touchEvents.start, handleTouchStart, passiveListener);\n      app.on('touchmove:active', handleTouchMove);\n      app.on('touchend:passive', handleTouchEnd);\n    };\n    index.detachEvents = function attachEvents() {\n      $el.parents('.tab').off('tab:show', handleResize);\n      $el.parents('.page').off('page:reinit', handleResize);\n      $el.parents('.panel').off('panel:open', handleResize);\n      $el\n        .parents('.sheet-modal, .actions-modal, .popup, .popover, .login-screen, .dialog, .toast')\n        .off('modal:open', handleResize);\n      app.off('resize', handleResize);\n\n      $el.off('click', handleClick);\n      $el.off(app.touchEvents.start, handleTouchStart, passiveListener);\n      app.off('touchmove:active', handleTouchMove);\n      app.off('touchend:passive', handleTouchEnd);\n    };\n    // Init\n    index.init();\n\n    return index;\n  }\n  // eslint-disable-next-line\n  scrollListToIndex(itemContent, itemIndex) {\n    const index = this;\n    const { $listEl, $pageContentEl, app } = index;\n    if (!$listEl || !$pageContentEl || $pageContentEl.length === 0) return index;\n\n    let $scrollToEl;\n    $listEl.find('.list-group-title, .item-divider').each((el) => {\n      if ($scrollToEl) return;\n      const $el = $(el);\n      if ($el.text() === itemContent) {\n        $scrollToEl = $el;\n      }\n    });\n    if (!$scrollToEl || $scrollToEl.length === 0) return index;\n\n    const parentTop = $scrollToEl.parent().offset().top;\n    let paddingTop = parseInt($pageContentEl.css('padding-top'), 10);\n    const scrollTop = $pageContentEl[0].scrollTop;\n    const scrollToElTop = $scrollToEl.offset().top;\n    if ($pageContentEl.parents('.page-with-navbar-large').length) {\n      const navbarInnerEl = app.navbar.getElByPage(\n        $pageContentEl.parents('.page-with-navbar-large').eq(0),\n      );\n      const $titleLargeEl = $(navbarInnerEl).find('.title-large');\n      if ($titleLargeEl.length) {\n        paddingTop -= $titleLargeEl[0].offsetHeight || 0;\n      }\n    }\n\n    if (parentTop <= paddingTop) {\n      $pageContentEl.scrollTop(parentTop + scrollTop - paddingTop);\n    } else {\n      $pageContentEl.scrollTop(scrollToElTop + scrollTop - paddingTop);\n    }\n    return index;\n  }\n\n  renderSkipPlaceholder() {\n    const index = this;\n    return index.params.renderSkipPlaceholder.call(index);\n  }\n\n  renderItem(itemContent, itemIndex) {\n    const index = this;\n    return index.params.renderItem.call(index, itemContent, itemIndex);\n  }\n\n  render() {\n    const index = this;\n    const { $ul, indexes, skipRate } = index;\n    let wasSkipped;\n\n    const html = indexes\n      .map((itemContent, itemIndex) => {\n        if (itemIndex % skipRate !== 0 && skipRate > 0) {\n          wasSkipped = true;\n          return '';\n        }\n        let itemHtml = index.renderItem(itemContent, itemIndex);\n        if (wasSkipped) {\n          itemHtml = index.renderSkipPlaceholder() + itemHtml;\n        }\n        wasSkipped = false;\n        return itemHtml;\n      })\n      .join('');\n\n    $ul.html(html);\n\n    return index;\n  }\n\n  calcSize() {\n    const index = this;\n    const { app, params, el, indexes } = index;\n    const height = el.offsetHeight;\n    const itemHeight = params[`${app.theme}ItemHeight`];\n    const maxItems = Math.floor(height / itemHeight);\n    const items = indexes.length;\n    let skipRate = 0;\n    if (items > maxItems) {\n      skipRate = Math.ceil((items * 2 - 1) / maxItems);\n    }\n\n    index.height = height;\n    index.skipRate = skipRate;\n\n    return index;\n  }\n\n  calcIndexes() {\n    const index = this;\n    if (index.params.indexes === 'auto') {\n      index.indexes = [];\n\n      index.$listEl.find('.list-group-title, .item-divider').each((el) => {\n        const elContent = $(el).text();\n        if (index.indexes.indexOf(elContent) < 0) {\n          index.indexes.push(elContent);\n        }\n      });\n    } else {\n      index.indexes = index.params.indexes;\n    }\n    return index;\n  }\n\n  update() {\n    const index = this;\n    index.calcIndexes();\n    index.calcSize();\n    index.render();\n\n    return index;\n  }\n\n  init() {\n    const index = this;\n    index.calcIndexes();\n    index.calcSize();\n    index.render();\n    index.attachEvents();\n  }\n\n  destroy() {\n    let index = this;\n    index.$el.trigger('listindex:beforedestroy', index);\n    index.emit('local::beforeDestroy listIndexBeforeDestroy');\n    index.detachEvents();\n    if (index.$el[0]) {\n      index.$el[0].f7ListIndex = null;\n      delete index.$el[0].f7ListIndex;\n    }\n    deleteProps(index);\n    index = null;\n  }\n}\n\nexport default ListIndex;\n","import $ from '../../shared/dom7';\nimport { extend } from '../../shared/utils';\nimport ListIndex from './list-index-class';\nimport ConstructorMethods from '../../shared/constructor-methods';\n\nexport default {\n  name: 'listIndex',\n  static: {\n    ListIndex,\n  },\n  create() {\n    const app = this;\n    app.listIndex = ConstructorMethods({\n      defaultSelector: '.list-index',\n      constructor: ListIndex,\n      app,\n      domProp: 'f7ListIndex',\n    });\n  },\n  on: {\n    tabMounted(tabEl) {\n      const app = this;\n      $(tabEl)\n        .find('.list-index-init')\n        .each((listIndexEl) => {\n          const params = extend($(listIndexEl).dataset(), { el: listIndexEl });\n          app.listIndex.create(params);\n        });\n    },\n    tabBeforeRemove(tabEl) {\n      $(tabEl)\n        .find('.list-index-init')\n        .each((listIndexEl) => {\n          if (listIndexEl.f7ListIndex) listIndexEl.f7ListIndex.destroy();\n        });\n    },\n    pageInit(page) {\n      const app = this;\n      page.$el.find('.list-index-init').each((listIndexEl) => {\n        const params = extend($(listIndexEl).dataset(), { el: listIndexEl });\n        app.listIndex.create(params);\n      });\n    },\n    pageBeforeRemove(page) {\n      page.$el.find('.list-index-init').each((listIndexEl) => {\n        if (listIndexEl.f7ListIndex) listIndexEl.f7ListIndex.destroy();\n      });\n    },\n  },\n  vnode: {\n    'list-index-init': {\n      insert(vnode) {\n        const app = this;\n        const listIndexEl = vnode.elm;\n        const params = extend($(listIndexEl).dataset(), { el: listIndexEl });\n        app.listIndex.create(params);\n      },\n      destroy(vnode) {\n        const listIndexEl = vnode.elm;\n        if (listIndexEl.f7ListIndex) listIndexEl.f7ListIndex.destroy();\n      },\n    },\n  },\n};\n","export default {\n  name: 'timeline',\n};\n","import $ from '../../shared/dom7';\nimport { extend } from '../../shared/utils';\n\nconst Tab = {\n  show(...args) {\n    const app = this;\n\n    let tabEl;\n    let tabLinkEl;\n    let animate;\n    let tabRoute;\n    let animatedInit;\n    if (args.length === 1 && args[0] && args[0].constructor === Object) {\n      tabEl = args[0].tabEl;\n      tabLinkEl = args[0].tabLinkEl;\n      animate = args[0].animate;\n      tabRoute = args[0].tabRoute;\n      animatedInit = args[0].animatedInit;\n    } else {\n      [tabEl, tabLinkEl, animate, tabRoute] = args;\n      if (typeof args[1] === 'boolean') {\n        [tabEl, animate, tabLinkEl, tabRoute] = args;\n        if (args.length > 2 && tabLinkEl.constructor === Object) {\n          [tabEl, animate, tabRoute, tabLinkEl] = args;\n        }\n      }\n    }\n    if (typeof animate === 'undefined') animate = true;\n\n    const $newTabEl = $(tabEl);\n    if (tabRoute && $newTabEl[0]) {\n      $newTabEl[0].f7TabRoute = tabRoute;\n    }\n\n    if (!animatedInit && ($newTabEl.length === 0 || $newTabEl.hasClass('tab-active'))) {\n      return {\n        $newTabEl,\n        newTabEl: $newTabEl[0],\n      };\n    }\n\n    let $tabLinkEl;\n    if (tabLinkEl) $tabLinkEl = $(tabLinkEl);\n\n    const $tabsEl = $newTabEl.parent('.tabs');\n    if ($tabsEl.length === 0) {\n      return {\n        $newTabEl,\n        newTabEl: $newTabEl[0],\n      };\n    }\n\n    // Release swipeouts in hidden tabs\n    if (app.swipeout) app.swipeout.allowOpen = true;\n\n    // Animated tabs\n    const tabsChangedCallbacks = [];\n\n    function onTabsChanged(callback) {\n      tabsChangedCallbacks.push(callback);\n    }\n    function tabsChanged() {\n      tabsChangedCallbacks.forEach((callback) => {\n        callback();\n      });\n    }\n\n    let animated = false;\n\n    if ($tabsEl.parent().hasClass('tabs-animated-wrap')) {\n      $tabsEl.parent()[animate ? 'removeClass' : 'addClass']('not-animated');\n\n      const transitionDuration = parseFloat($tabsEl.css('transition-duration').replace(',', '.'));\n      if (animate && transitionDuration) {\n        $tabsEl.transitionEnd(tabsChanged);\n        animated = true;\n      }\n\n      const tabsTranslate = (app.rtl ? $newTabEl.index() : -$newTabEl.index()) * 100;\n      $tabsEl.transform(`translate3d(${tabsTranslate}%,0,0)`);\n    }\n\n    // Swipeable tabs\n    let swiper;\n    if ($tabsEl.parent().hasClass('tabs-swipeable-wrap') && app.swiper) {\n      swiper = $tabsEl.parent()[0].swiper;\n      if (swiper && swiper.activeIndex !== $newTabEl.index()) {\n        animated = true;\n        swiper\n          .once('slideChangeTransitionEnd', () => {\n            tabsChanged();\n          })\n          .slideTo($newTabEl.index(), animate ? undefined : 0);\n      } else if (swiper && swiper.animating) {\n        animated = true;\n        swiper.once('slideChangeTransitionEnd', () => {\n          tabsChanged();\n        });\n      }\n    }\n\n    // Remove active class from old tabs\n    const $oldTabEl = $tabsEl.children('.tab-active');\n    $oldTabEl.removeClass('tab-active');\n    if (!animatedInit && (!swiper || (swiper && !swiper.animating) || (swiper && tabRoute))) {\n      if ($oldTabEl.hasClass('view') && $oldTabEl.children('.page').length) {\n        $oldTabEl.children('.page').each((pageEl) => {\n          $(pageEl).trigger('page:tabhide');\n          app.emit('pageTabHide', pageEl);\n        });\n      }\n      $oldTabEl.trigger('tab:hide');\n      app.emit('tabHide', $oldTabEl[0]);\n    }\n\n    // Trigger 'show' event on new tab\n    $newTabEl.addClass('tab-active');\n    if (!animatedInit && (!swiper || (swiper && !swiper.animating) || (swiper && tabRoute))) {\n      if ($newTabEl.hasClass('view') && $newTabEl.children('.page').length) {\n        $newTabEl.children('.page').each((pageEl) => {\n          $(pageEl).trigger('page:tabshow');\n          app.emit('pageTabShow', pageEl);\n        });\n      }\n      $newTabEl.trigger('tab:show');\n      app.emit('tabShow', $newTabEl[0]);\n    }\n\n    // Find related link for new tab\n    if (!$tabLinkEl) {\n      // Search by id\n      if (typeof tabEl === 'string') $tabLinkEl = $(`.tab-link[href=\"${tabEl}\"]`);\n      else $tabLinkEl = $(`.tab-link[href=\"#${$newTabEl.attr('id')}\"]`);\n      // Search by data-tab\n      if (!$tabLinkEl || ($tabLinkEl && $tabLinkEl.length === 0)) {\n        $('[data-tab]').each((el) => {\n          if ($newTabEl.is($(el).attr('data-tab'))) $tabLinkEl = $(el);\n        });\n      }\n      if (tabRoute && (!$tabLinkEl || ($tabLinkEl && $tabLinkEl.length === 0))) {\n        $tabLinkEl = $(`[data-route-tab-id=\"${tabRoute.route.tab.id}\"]`);\n        if ($tabLinkEl.length === 0) {\n          $tabLinkEl = $(`.tab-link[href=\"${tabRoute.url}\"]`);\n        }\n      }\n      if ($tabLinkEl.length > 1 && $newTabEl.parents('.page').length) {\n        // eslint-disable-next-line\n        $tabLinkEl = $tabLinkEl.filter((tabLinkElement) => {\n          return $(tabLinkElement).parents('.page')[0] === $newTabEl.parents('.page')[0];\n        });\n        if (app.theme === 'ios' && $tabLinkEl.length === 0 && tabRoute) {\n          const $pageEl = $newTabEl.parents('.page');\n          const $navbarEl = $(app.navbar.getElByPage($pageEl));\n          $tabLinkEl = $navbarEl.find(`[data-route-tab-id=\"${tabRoute.route.tab.id}\"]`);\n          if ($tabLinkEl.length === 0) {\n            $tabLinkEl = $navbarEl.find(`.tab-link[href=\"${tabRoute.url}\"]`);\n          }\n        }\n      }\n    }\n    if ($tabLinkEl.length > 0) {\n      // Find related link for old tab\n      let $oldTabLinkEl;\n      if ($oldTabEl && $oldTabEl.length > 0) {\n        // Search by id\n        const oldTabId = $oldTabEl.attr('id');\n        if (oldTabId) {\n          $oldTabLinkEl = $(`.tab-link[href=\"#${oldTabId}\"]`);\n          // Search by data-route-tab-id\n          if (!$oldTabLinkEl || ($oldTabLinkEl && $oldTabLinkEl.length === 0)) {\n            $oldTabLinkEl = $(`.tab-link[data-route-tab-id=\"${oldTabId}\"]`);\n          }\n        }\n        // Search by data-tab\n        if (!$oldTabLinkEl || ($oldTabLinkEl && $oldTabLinkEl.length === 0)) {\n          $('[data-tab]').each((tabLinkElement) => {\n            if ($oldTabEl.is($(tabLinkElement).attr('data-tab'))) $oldTabLinkEl = $(tabLinkElement);\n          });\n        }\n        if (!$oldTabLinkEl || ($oldTabLinkEl && $oldTabLinkEl.length === 0)) {\n          $oldTabLinkEl = $tabLinkEl.siblings('.tab-link-active');\n        }\n      } else if (tabRoute) {\n        $oldTabLinkEl = $tabLinkEl.siblings('.tab-link-active');\n      }\n\n      if (\n        $oldTabLinkEl &&\n        $oldTabLinkEl.length > 1 &&\n        $oldTabEl &&\n        $oldTabEl.parents('.page').length\n      ) {\n        // eslint-disable-next-line\n        $oldTabLinkEl = $oldTabLinkEl.filter((tabLinkElement) => {\n          return $(tabLinkElement).parents('.page')[0] === $oldTabEl.parents('.page')[0];\n        });\n      }\n\n      if ($oldTabLinkEl && $oldTabLinkEl.length > 0) $oldTabLinkEl.removeClass('tab-link-active');\n\n      // Update links' classes\n      if ($tabLinkEl && $tabLinkEl.length > 0) {\n        $tabLinkEl.addClass('tab-link-active');\n        // Material Highlight\n        const $tabbarEl = $tabLinkEl.parents('.tabbar, .tabbar-labels');\n        const hasHighlight =\n          app.toolbar &&\n          $tabbarEl.length > 0 &&\n          ($tabbarEl.hasClass('tabbar-highlight') || app.theme !== 'ios');\n        if (hasHighlight) {\n          app.toolbar.setHighlight($tabbarEl);\n        }\n      }\n    }\n    return {\n      $newTabEl,\n      newTabEl: $newTabEl[0],\n      $oldTabEl,\n      oldTabEl: $oldTabEl[0],\n      onTabsChanged,\n      animated,\n    };\n  },\n};\nexport default {\n  name: 'tabs',\n  create() {\n    const app = this;\n    extend(app, {\n      tab: {\n        show: Tab.show.bind(app),\n      },\n    });\n  },\n  on: {\n    'pageInit tabMounted': function onInit(pageOrTabEl) {\n      const $el = $(pageOrTabEl.el || pageOrTabEl);\n      const animatedTabEl = $el.find('.tabs-animated-wrap > .tabs > .tab-active')[0];\n      if (!animatedTabEl) return;\n      const app = this;\n      app.tab.show({ tabEl: animatedTabEl, animatedInit: true, animate: false });\n    },\n  },\n  clicks: {\n    '.tab-link': function tabLinkClick($clickedEl, data = {}) {\n      if (\n        ($clickedEl.attr('href') && $clickedEl.attr('href').indexOf('#') === 0) ||\n        $clickedEl.attr('data-tab')\n      ) {\n        const app = this;\n        app.tab.show({\n          tabEl: data.tab || $clickedEl.attr('href'),\n          tabLinkEl: $clickedEl,\n          animate: data.animate,\n        });\n      }\n    },\n  },\n};\n","import $ from '../../shared/dom7';\nimport { extend, now, nextFrame } from '../../shared/utils';\n\nfunction swipePanel(panel) {\n  const app = panel.app;\n  if (panel.swipeInitialized) {\n    return;\n  }\n  extend(panel, {\n    swipeable: true,\n    swipeInitialized: true,\n  });\n  const params = panel.params;\n  const { $el, $backdropEl, side, effect } = panel;\n  let otherPanel;\n\n  let isTouched;\n  let isGestureStarted;\n  let isMoved;\n  let isScrolling;\n  let isInterrupted;\n  const touchesStart = {};\n  let touchStartTime;\n  let touchesDiff;\n  let translate;\n  let backdropOpacity;\n  let panelWidth;\n  let direction;\n\n  let $viewEl;\n\n  let touchMoves = 0;\n  function handleTouchStart(e) {\n    if (!panel.swipeable || isGestureStarted) return;\n    if (!app.panel.allowOpen || (!params.swipe && !params.swipeOnlyClose) || isTouched) return;\n    if ($('.modal-in:not(.toast):not(.notification), .photo-browser-in').length > 0) return;\n    otherPanel = app.panel.get(side === 'left' ? 'right' : 'left') || {};\n    const otherPanelOpened =\n      otherPanel.opened && otherPanel.$el && !otherPanel.$el.hasClass('panel-in-breakpoint');\n    if (!panel.opened && otherPanelOpened) {\n      return;\n    }\n    if (!params.swipeOnlyClose) {\n      if (otherPanelOpened) return;\n    }\n    if (e.target && e.target.nodeName.toLowerCase() === 'input' && e.target.type === 'range')\n      return;\n    if (\n      $(e.target).closest(\n        '.range-slider, .tabs-swipeable-wrap, .calendar-months, .no-swipe-panel, .card-opened',\n      ).length > 0\n    )\n      return;\n    touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n    touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n    if (params.swipeOnlyClose && !panel.opened) {\n      return;\n    }\n    if (params.swipeActiveArea && !panel.opened) {\n      if (side === 'left') {\n        if (touchesStart.x > params.swipeActiveArea) return;\n      }\n      if (side === 'right') {\n        if (touchesStart.x < app.width - params.swipeActiveArea) return;\n      }\n    }\n    touchMoves = 0;\n    $viewEl = $(panel.getViewEl());\n    isMoved = false;\n    isTouched = true;\n    isScrolling = undefined;\n    isInterrupted = false;\n\n    touchStartTime = now();\n    direction = undefined;\n  }\n  function handleTouchMove(e) {\n    if (!isTouched || isGestureStarted || isInterrupted) return;\n    touchMoves += 1;\n    if (touchMoves < 2) return;\n    if (e.f7PreventSwipePanel || app.preventSwipePanelBySwipeBack || app.preventSwipePanel) {\n      isTouched = false;\n      return;\n    }\n    const pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n    const pageY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n    if (typeof isScrolling === 'undefined') {\n      isScrolling = !!(\n        isScrolling || Math.abs(pageY - touchesStart.y) > Math.abs(pageX - touchesStart.x)\n      );\n    }\n    if (isScrolling) {\n      isTouched = false;\n      return;\n    }\n    if (!direction) {\n      if (pageX > touchesStart.x) {\n        direction = 'to-right';\n      } else {\n        direction = 'to-left';\n      }\n\n      if (params.swipeActiveArea > 0 && !panel.opened) {\n        if (side === 'left' && touchesStart.x > params.swipeActiveArea) {\n          isTouched = false;\n          return;\n        }\n        if (side === 'right' && touchesStart.x < app.width - params.swipeActiveArea) {\n          isTouched = false;\n          return;\n        }\n      }\n      if ($el.hasClass('panel-in-breakpoint')) {\n        isTouched = false;\n        return;\n      }\n\n      if (\n        (side === 'left' && direction === 'to-left' && !$el.hasClass('panel-in')) ||\n        (side === 'right' && direction === 'to-right' && !$el.hasClass('panel-in'))\n      ) {\n        isTouched = false;\n        return;\n      }\n    }\n\n    let threshold = panel.opened ? 0 : -params.swipeThreshold;\n    if (side === 'right') threshold = -threshold;\n\n    if (!isMoved) {\n      if (!panel.opened) {\n        panel.insertToRoot();\n        $el.addClass('panel-in-swipe');\n        $backdropEl.css('visibility', 'visible');\n        $el.trigger('panel:swipeopen');\n        panel.emit('local::swipeOpen panelSwipeOpen', panel);\n      }\n      panelWidth = $el[0].offsetWidth;\n      if (effect === 'reveal' && $el.hasClass('panel-in-collapsed')) {\n        panelWidth -= parseFloat($viewEl.css(`margin-${side}`));\n      }\n      $el.transition(0);\n    }\n\n    isMoved = true;\n    if (e.cancelable) {\n      e.preventDefault();\n    }\n\n    touchesDiff = pageX - touchesStart.x + threshold;\n\n    if (side === 'right') {\n      if (effect === 'cover' || effect === 'push') {\n        translate = touchesDiff + (panel.opened ? 0 : panelWidth);\n        if (translate < 0) translate = 0;\n        if (translate > panelWidth) {\n          translate = panelWidth;\n        }\n      } else {\n        translate = touchesDiff - (panel.opened ? panelWidth : 0);\n        if (translate > 0) translate = 0;\n        if (translate < -panelWidth) {\n          translate = -panelWidth;\n        }\n      }\n    } else {\n      translate = touchesDiff + (panel.opened ? panelWidth : 0);\n      if (translate < 0) translate = 0;\n      if (translate > panelWidth) {\n        translate = panelWidth;\n      }\n    }\n    const noFollowProgress = Math.abs(translate / panelWidth);\n    if (effect === 'reveal') {\n      if (!params.swipeNoFollow) {\n        $viewEl.transform(`translate3d(${translate}px,0,0)`).transition(0);\n        $backdropEl.transform(`translate3d(${translate}px,0,0)`).transition(0);\n      }\n\n      $el.trigger('panel:swipe', Math.abs(translate / panelWidth));\n      panel.emit('local::swipe panelSwipe', panel, Math.abs(translate / panelWidth));\n    } else {\n      if (side === 'left') translate -= panelWidth;\n      if (!params.swipeNoFollow) {\n        $backdropEl.transition(0);\n        backdropOpacity = 1 - Math.abs(translate / panelWidth);\n        $backdropEl.css({ opacity: backdropOpacity });\n        $el.transform(`translate3d(${translate}px,0,0)`).transition(0);\n        if (effect === 'push') {\n          const viewTranslate = side === 'left' ? translate + panelWidth : translate - panelWidth;\n          $viewEl.transform(`translate3d(${viewTranslate}px,0,0)`).transition(0);\n          $backdropEl.transform(`translate3d(${viewTranslate}px,0,0)`).transition(0);\n        }\n      }\n\n      $el.trigger('panel:swipe', Math.abs(translate / panelWidth));\n      panel.emit('local::swipe panelSwipe', panel, Math.abs(translate / panelWidth));\n    }\n\n    if (params.swipeNoFollow) {\n      const stateChanged =\n        (panel.opened && noFollowProgress === 0) || (!panel.opened && noFollowProgress === 1);\n      if (stateChanged) {\n        isInterrupted = true;\n        // eslint-disable-next-line\n        handleTouchEnd(e);\n      }\n    }\n  }\n  function handleTouchEnd(e) {\n    if (!isTouched || !isMoved) {\n      isTouched = false;\n      isMoved = false;\n      return;\n    }\n    const isGesture = e.type === 'gesturestart' || isGestureStarted;\n    isTouched = false;\n    isMoved = false;\n    const timeDiff = new Date().getTime() - touchStartTime;\n    let action;\n    const edge = (translate === 0 || Math.abs(translate) === panelWidth) && !params.swipeNoFollow;\n\n    const threshold = params.swipeThreshold || 0;\n\n    if (isGesture) {\n      action = 'reset';\n    } else if (!panel.opened) {\n      if (Math.abs(touchesDiff) < threshold) {\n        action = 'reset';\n      } else if (effect === 'cover' || effect === 'push') {\n        if (translate === 0) {\n          action = 'swap'; // open\n        } else if (timeDiff < 300 && Math.abs(translate) > 0) {\n          action = 'swap'; // open\n        } else if (timeDiff >= 300 && Math.abs(translate) < panelWidth / 2) {\n          action = 'swap'; // open\n        } else {\n          action = 'reset'; // close\n        }\n      } else if (translate === 0) {\n        action = 'reset';\n      } else if (\n        (timeDiff < 300 && Math.abs(translate) > 0) ||\n        (timeDiff >= 300 && Math.abs(translate) >= panelWidth / 2)\n      ) {\n        action = 'swap';\n      } else {\n        action = 'reset';\n      }\n    } else if (effect === 'cover' || effect === 'push') {\n      if (translate === 0) {\n        action = 'reset'; // open\n      } else if (timeDiff < 300 && Math.abs(translate) > 0) {\n        action = 'swap'; // open\n      } else if (timeDiff >= 300 && Math.abs(translate) < panelWidth / 2) {\n        action = 'reset'; // open\n      } else {\n        action = 'swap'; // close\n      }\n    } else if (translate === -panelWidth) {\n      action = 'reset';\n    } else if (\n      (timeDiff < 300 && Math.abs(translate) >= 0) ||\n      (timeDiff >= 300 && Math.abs(translate) <= panelWidth / 2)\n    ) {\n      if (side === 'left' && translate === panelWidth) action = 'reset';\n      else action = 'swap';\n    } else {\n      action = 'reset';\n    }\n    if (action === 'swap') {\n      if (panel.opened) {\n        panel.close(!edge);\n      } else {\n        panel.open(!edge);\n      }\n    }\n    let removePanelInClass = true;\n    if (action === 'reset') {\n      if (!panel.opened) {\n        if (edge) {\n          // edge position\n          $el.removeClass('panel-in-swipe');\n        } else {\n          removePanelInClass = false;\n          const target = effect === 'reveal' ? $viewEl : $el;\n          panel.setStateClasses('before-closing');\n          target.transitionEnd(() => {\n            if ($el.hasClass('panel-in')) return;\n            $el.removeClass('panel-in-swipe');\n            panel.setStateClasses('after-closing');\n          });\n        }\n      }\n    }\n    if (effect === 'reveal' || effect === 'push') {\n      nextFrame(() => {\n        $viewEl.transition('');\n        $viewEl.transform('');\n      });\n    }\n    if (removePanelInClass) {\n      $el.removeClass('panel-in-swipe');\n    }\n    $el.transition('').transform('');\n    $backdropEl.transform('').transition('').css({ opacity: '', visibility: '' });\n  }\n  function handleGestureStart(e) {\n    isGestureStarted = true;\n    handleTouchEnd(e);\n  }\n  function handleGestureEnd() {\n    isGestureStarted = false;\n  }\n\n  // Add Events\n  app.on('touchstart:passive', handleTouchStart);\n  app.on('touchmove:active', handleTouchMove);\n  app.on('touchend:passive', handleTouchEnd);\n  app.on('gesturestart', handleGestureStart);\n  app.on('gestureend', handleGestureEnd);\n  panel.on('panelDestroy', () => {\n    app.off('touchstart:passive', handleTouchStart);\n    app.off('touchmove:active', handleTouchMove);\n    app.off('touchend:passive', handleTouchEnd);\n    app.off('gesturestart', handleGestureStart);\n    app.off('gestureend', handleGestureEnd);\n  });\n}\n\nexport default swipePanel;\n","import $ from '../../shared/dom7';\nimport { extend, nextFrame } from '../../shared/utils';\nimport { getSupport } from '../../shared/get-support';\n\nfunction resizablePanel(panel) {\n  const app = panel.app;\n  const support = getSupport();\n  if (panel.resizableInitialized) return;\n  extend(panel, {\n    resizable: true,\n    resizableWidth: null,\n    resizableInitialized: true,\n  });\n  const $htmlEl = $('html');\n  const { $el, $backdropEl, side, effect } = panel;\n  if (!$el) return;\n\n  let isTouched;\n  let isMoved;\n  const touchesStart = {};\n  let touchesDiff;\n  let panelWidth;\n\n  let $viewEl;\n\n  let panelMinWidth;\n  let panelMaxWidth;\n  let visibleByBreakpoint;\n\n  function transformCSSWidth(v) {\n    if (!v) return null;\n    if (v.indexOf('%') >= 0 || v.indexOf('vw') >= 0) {\n      return (parseInt(v, 10) / 100) * app.width;\n    }\n    const newV = parseInt(v, 10);\n    if (Number.isNaN(newV)) return null;\n    return newV;\n  }\n\n  function isResizable() {\n    return panel.resizable && $el.hasClass('panel-resizable');\n  }\n\n  function handleTouchStart(e) {\n    if (!isResizable()) return;\n    touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n    touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n    isMoved = false;\n    isTouched = true;\n    panelMinWidth = transformCSSWidth($el.css('min-width'));\n    panelMaxWidth = transformCSSWidth($el.css('max-width'));\n    visibleByBreakpoint = $el.hasClass('panel-in-breakpoint');\n  }\n  function handleTouchMove(e) {\n    if (!isTouched) return;\n    const pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n\n    if (!isMoved) {\n      panelWidth = $el[0].offsetWidth;\n      $el.transition(0);\n      $el.addClass('panel-resizing');\n      $htmlEl.css('cursor', 'col-resize');\n      if (effect !== 'cover' || visibleByBreakpoint) {\n        $viewEl = $(panel.getViewEl());\n        if (panel.$containerEl && panel.$containerEl.hasClass('page')) {\n          $viewEl.add(panel.$containerEl.children('.page-content, .tabs, .fab'));\n        }\n      }\n      if (effect !== 'cover' && !visibleByBreakpoint) {\n        $backdropEl.transition(0);\n        $viewEl.transition(0);\n      }\n    }\n\n    isMoved = true;\n\n    e.preventDefault();\n\n    touchesDiff = pageX - touchesStart.x;\n\n    let newPanelWidth = side === 'left' ? panelWidth + touchesDiff : panelWidth - touchesDiff;\n    if (panelMinWidth && !Number.isNaN(panelMinWidth)) {\n      newPanelWidth = Math.max(newPanelWidth, panelMinWidth);\n    }\n    if (panelMaxWidth && !Number.isNaN(panelMaxWidth)) {\n      newPanelWidth = Math.min(newPanelWidth, panelMaxWidth);\n    }\n    newPanelWidth = Math.min(Math.max(newPanelWidth, 0), app.width);\n\n    panel.resizableWidth = newPanelWidth;\n    $el[0].style.width = `${newPanelWidth}px`;\n    if (effect !== 'cover' && !visibleByBreakpoint) {\n      if ($viewEl) {\n        $viewEl.transform(\n          `translate3d(${side === 'left' ? newPanelWidth : -newPanelWidth}px, 0, 0)`,\n        );\n      }\n      if ($backdropEl) {\n        $backdropEl.transform(\n          `translate3d(${side === 'left' ? newPanelWidth : -newPanelWidth}px, 0, 0)`,\n        );\n      }\n    } else if (visibleByBreakpoint && $viewEl) {\n      $viewEl.css(`margin-${side}`, `${newPanelWidth}px`);\n    }\n\n    $el.trigger('panel:resize', newPanelWidth);\n    panel.emit('local::resize panelResize', panel, newPanelWidth);\n  }\n  function handleTouchEnd() {\n    $('html').css('cursor', '');\n    if (!isTouched || !isMoved) {\n      isTouched = false;\n      isMoved = false;\n      return;\n    }\n    isTouched = false;\n    isMoved = false;\n\n    $htmlEl[0].style.setProperty(`--f7-panel-${side}-width`, `${panel.resizableWidth}px`);\n    $el[0].style.width = '';\n    if (effect !== 'cover' && !visibleByBreakpoint) {\n      $viewEl.transform('');\n      $backdropEl.transform('');\n    }\n    $el.removeClass('panel-resizing');\n    nextFrame(() => {\n      $el.transition('');\n      if (effect !== 'cover') {\n        $backdropEl.transition('');\n        if ($viewEl) $viewEl.transition('');\n      }\n    });\n  }\n\n  function handleResize() {\n    if (!panel.opened || !panel.resizableWidth) return;\n    panelMinWidth = transformCSSWidth($el.css('min-width'));\n    panelMaxWidth = transformCSSWidth($el.css('max-width'));\n\n    if (panelMinWidth && !Number.isNaN(panelMinWidth) && panel.resizableWidth < panelMinWidth) {\n      panel.resizableWidth = Math.max(panel.resizableWidth, panelMinWidth);\n    }\n    if (panelMaxWidth && !Number.isNaN(panelMaxWidth) && panel.resizableWidth > panelMaxWidth) {\n      panel.resizableWidth = Math.min(panel.resizableWidth, panelMaxWidth);\n    }\n    panel.resizableWidth = Math.min(Math.max(panel.resizableWidth, 0), app.width);\n\n    $htmlEl[0].style.setProperty(`--f7-panel-${side}-width`, `${panel.resizableWidth}px`);\n  }\n\n  if (panel.$el.find('.panel-resize-handler').length === 0) {\n    panel.$el.append('<div class=\"panel-resize-handler\"></div>');\n  }\n  panel.$resizeHandlerEl = panel.$el.children('.panel-resize-handler');\n\n  $el.addClass('panel-resizable');\n\n  // Add Events\n  const passive = support.passiveListener ? { passive: true } : false;\n\n  panel.$el.on(app.touchEvents.start, '.panel-resize-handler', handleTouchStart, passive);\n  app.on('touchmove:active', handleTouchMove);\n  app.on('touchend:passive', handleTouchEnd);\n  app.on('resize', handleResize);\n  panel.on('beforeOpen', handleResize);\n\n  panel.once('panelDestroy', () => {\n    $el.removeClass('panel-resizable');\n    panel.$resizeHandlerEl.remove();\n    panel.$el.off(app.touchEvents.start, '.panel-resize-handler', handleTouchStart, passive);\n    app.off('touchmove:active', handleTouchMove);\n    app.off('touchend:passive', handleTouchEnd);\n    app.off('resize', handleResize);\n    panel.off('beforeOpen', handleResize);\n  });\n}\n\nexport default resizablePanel;\n","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom7';\nimport { extend, deleteProps } from '../../shared/utils';\nimport Framework7Class from '../../shared/class';\nimport swipePanel from './swipe-panel';\nimport resizablePanel from './resizable-panel';\n\nclass Panel extends Framework7Class {\n  constructor(app, params = {}) {\n    const extendedParams = extend({ on: {} }, app.params.panel, params);\n    super(extendedParams, [app]);\n\n    const panel = this;\n\n    panel.params = extendedParams;\n    panel.$containerEl = panel.params.containerEl ? $(panel.params.containerEl).eq(0) : app.$el;\n    panel.containerEl = panel.$containerEl[0];\n    if (!panel.containerEl) {\n      panel.$containerEl = app.$el;\n      panel.containerEl = app.$el[0];\n    }\n\n    let $el;\n    if (panel.params.el) {\n      $el = $(panel.params.el).eq(0);\n    } else if (panel.params.content) {\n      $el = $(panel.params.content)\n        .filter((node) => node.nodeType === 1)\n        .eq(0);\n    }\n\n    if ($el.length === 0) return panel;\n    if ($el[0].f7Panel) return $el[0].f7Panel;\n\n    $el[0].f7Panel = panel;\n\n    let { side, effect, resizable } = panel.params;\n    if (typeof side === 'undefined') side = $el.hasClass('panel-left') ? 'left' : 'right';\n    if (typeof effect === 'undefined')\n      // eslint-disable-next-line\n      effect = $el.hasClass('panel-cover')\n        ? 'cover'\n        : $el.hasClass('panel-push')\n        ? 'push'\n        : 'reveal';\n    if (typeof resizable === 'undefined') resizable = $el.hasClass('panel-resizable');\n\n    let $backdropEl;\n    if (panel.params.backdrop && panel.params.backdropEl) {\n      $backdropEl = $(panel.params.backdropEl);\n    } else if (panel.params.backdrop) {\n      $backdropEl = panel.$containerEl.children('.panel-backdrop');\n      if ($backdropEl.length === 0) {\n        $backdropEl = $('<div class=\"panel-backdrop\"></div>');\n        panel.$containerEl.prepend($backdropEl);\n      }\n    }\n\n    extend(panel, {\n      app,\n      side,\n      effect,\n      resizable,\n      $el,\n      el: $el[0],\n      opened: false,\n      $backdropEl,\n      backdropEl: $backdropEl && $backdropEl[0],\n    });\n\n    // Install Modules\n    panel.useModules();\n\n    // Init\n    panel.init();\n\n    return panel;\n  }\n\n  getViewEl() {\n    const panel = this;\n    let viewEl;\n    if (panel.$containerEl.children('.views').length > 0) {\n      viewEl = panel.$containerEl.children('.views')[0];\n    } else {\n      viewEl = panel.$containerEl.children('.view')[0];\n    }\n    return viewEl;\n  }\n\n  setStateClasses(state) {\n    const panel = this;\n    const { side, el } = panel;\n\n    const viewEl = panel.getViewEl();\n    const panelInView = viewEl && viewEl.contains(el);\n    const $targetEl = !viewEl || panelInView ? panel.$containerEl : $('html');\n    if (state === 'open') {\n      $targetEl.addClass(`with-panel with-panel-${panel.side}-${panel.effect}`);\n    }\n    if (state === 'before-closing') {\n      $targetEl.addClass('with-panel-closing');\n    }\n    if (state === 'closing') {\n      $targetEl.addClass('with-panel-closing');\n      $targetEl.removeClass(`with-panel with-panel-${panel.side}-${panel.effect}`);\n    }\n    if (state === 'after-closing') {\n      $targetEl.removeClass('with-panel-closing');\n    }\n    if (state === 'closed') {\n      $targetEl.removeClass(\n        `with-panel-${side}-reveal with-panel-${side}-cover with-panel-${side}-push with-panel`,\n      );\n    }\n  }\n\n  enableVisibleBreakpoint() {\n    const panel = this;\n    panel.visibleBreakpointDisabled = false;\n    panel.setVisibleBreakpoint();\n    return panel;\n  }\n\n  disableVisibleBreakpoint() {\n    const panel = this;\n    panel.visibleBreakpointDisabled = true;\n    panel.setVisibleBreakpoint();\n    return panel;\n  }\n\n  toggleVisibleBreakpoint() {\n    const panel = this;\n    panel.visibleBreakpointDisabled = !panel.visibleBreakpointDisabled;\n    panel.setVisibleBreakpoint();\n    return panel;\n  }\n\n  setVisibleBreakpoint(emitEvents = true) {\n    const panel = this;\n    const app = panel.app;\n    if (!panel.visibleBreakpointResizeHandler) {\n      panel.visibleBreakpointResizeHandler = function visibleBreakpointResizeHandler() {\n        panel.setVisibleBreakpoint();\n      };\n      app.on('resize', panel.visibleBreakpointResizeHandler);\n    }\n    const { side, $el, $containerEl, params, visibleBreakpointDisabled } = panel;\n    const breakpoint = params.visibleBreakpoint;\n    const $viewEl = $(panel.getViewEl());\n    const wasVisible = $el.hasClass('panel-in-breakpoint');\n    if ($containerEl && $containerEl.hasClass('page')) {\n      $viewEl.add($containerEl.children('.page-content, .tabs, .fab'));\n    }\n\n    if (\n      app.width >= breakpoint &&\n      typeof breakpoint !== 'undefined' &&\n      breakpoint !== null &&\n      !visibleBreakpointDisabled\n    ) {\n      if (!wasVisible) {\n        panel.setStateClasses('closed');\n        $el.addClass('panel-in-breakpoint').removeClass('panel-in panel-in-collapsed');\n        panel.onOpen(false);\n        panel.onOpened();\n        $viewEl.css({\n          [`margin-${side}`]: `${$el.width()}px`,\n        });\n        app.allowPanelOpen = true;\n        if (emitEvents) {\n          panel.emit('local::breakpoint panelBreakpoint', panel);\n          panel.$el.trigger('panel:breakpoint');\n        }\n      } else {\n        $viewEl.css({\n          [`margin-${side}`]: `${$el.width()}px`,\n        });\n      }\n    } else if (wasVisible) {\n      $el.removeClass('panel-in-breakpoint panel-in');\n      panel.onClose();\n      panel.onClosed();\n      $viewEl.css({\n        [`margin-${side}`]: '',\n      });\n      if (emitEvents) {\n        panel.emit('local::breakpoint panelBreakpoint', panel);\n        panel.$el.trigger('panel:breakpoint');\n      }\n    }\n  }\n\n  enableCollapsedBreakpoint() {\n    const panel = this;\n    panel.collapsedBreakpointDisabled = false;\n    panel.setCollapsedBreakpoint();\n    return panel;\n  }\n\n  disableCollapsedBreakpoint() {\n    const panel = this;\n    panel.collapsedBreakpointDisabled = true;\n    panel.setCollapsedBreakpoint();\n    return panel;\n  }\n\n  toggleCollapsedBreakpoint() {\n    const panel = this;\n    panel.collapsedBreakpointDisabled = !panel.collapsedBreakpointDisabled;\n    panel.setCollapsedBreakpoint();\n    return panel;\n  }\n\n  setCollapsedBreakpoint(emitEvents = true) {\n    const panel = this;\n    const app = panel.app;\n    if (!panel.collapsedBreakpointResizeHandler) {\n      panel.collapsedBreakpointResizeHandler = function collapsedBreakpointResizeHandler() {\n        panel.setCollapsedBreakpoint();\n      };\n      app.on('resize', panel.collapsedBreakpointResizeHandler);\n    }\n    const { $el, params, collapsedBreakpointDisabled } = panel;\n    if ($el.hasClass('panel-in-breakpoint')) return;\n    const breakpoint = params.collapsedBreakpoint;\n    const wasVisible = $el.hasClass('panel-in-collapsed');\n\n    if (\n      app.width >= breakpoint &&\n      typeof breakpoint !== 'undefined' &&\n      breakpoint !== null &&\n      !collapsedBreakpointDisabled\n    ) {\n      if (!wasVisible) {\n        panel.setStateClasses('closed');\n        $el.addClass('panel-in-collapsed').removeClass('panel-in');\n        panel.collapsed = true;\n        app.allowPanelOpen = true;\n        if (emitEvents) {\n          panel.emit('local::collapsedBreakpoint panelCollapsedBreakpoint', panel);\n          panel.$el.trigger('panel:collapsedbreakpoint');\n        }\n      }\n    } else if (wasVisible) {\n      $el.removeClass('panel-in-collapsed panel-in');\n      panel.collapsed = false;\n      if (emitEvents) {\n        panel.emit('local::collapsedBreakpoint panelCollapsedBreakpoint', panel);\n        panel.$el.trigger('panel:collapsedbreakpoint');\n      }\n    }\n  }\n\n  enableResizable() {\n    const panel = this;\n    if (panel.resizableInitialized) {\n      panel.resizable = true;\n      panel.$el.addClass('panel-resizable');\n    } else {\n      resizablePanel(panel);\n    }\n    return panel;\n  }\n\n  disableResizable() {\n    const panel = this;\n    panel.resizable = false;\n    panel.$el.removeClass('panel-resizable');\n    return panel;\n  }\n\n  enableSwipe() {\n    const panel = this;\n    if (panel.swipeInitialized) {\n      panel.swipeable = true;\n    } else {\n      swipePanel(panel);\n    }\n    return panel;\n  }\n\n  disableSwipe() {\n    const panel = this;\n    panel.swipeable = false;\n    return panel;\n  }\n\n  onOpen(modifyHtmlClasses = true) {\n    const panel = this;\n    const app = panel.app;\n\n    panel.opened = true;\n    app.panel.allowOpen = false;\n\n    panel.$el.trigger('panel:beforeopen');\n    panel.emit('local::beforeOpen panelBeforeOpen', panel);\n\n    if (modifyHtmlClasses) {\n      panel.setStateClasses('open');\n    }\n\n    panel.$el.trigger('panel:open');\n    panel.emit('local::open panelOpen', panel);\n  }\n\n  onOpened() {\n    const panel = this;\n    const app = panel.app;\n\n    app.panel.allowOpen = true;\n\n    panel.$el.trigger('panel:opened');\n    panel.emit('local::opened panelOpened', panel);\n  }\n\n  onClose() {\n    const panel = this;\n    const app = panel.app;\n\n    panel.opened = false;\n    app.panel.allowOpen = false;\n\n    panel.$el.trigger('panel:beforeclose');\n    panel.emit('local::beforeClose panelBeforeClose', panel);\n\n    panel.setStateClasses('closing');\n\n    panel.$el.trigger('panel:close');\n    panel.emit('local::close panelClose', panel);\n  }\n\n  onClosed() {\n    const panel = this;\n    const app = panel.app;\n    app.panel.allowOpen = true;\n    panel.setStateClasses('after-closing');\n    panel.$el.removeClass('panel-out');\n    if (panel.$backdropEl) {\n      const otherPanel = app.panel.get('.panel-in');\n      const shouldHideBackdrop = !otherPanel || (otherPanel && !otherPanel.$backdropEl);\n      if (shouldHideBackdrop) {\n        panel.$backdropEl.removeClass('panel-backdrop-in');\n      }\n    }\n    panel.$el.trigger('panel:closed');\n    panel.emit('local::closed panelClosed', panel);\n  }\n\n  toggle(animate = true) {\n    const panel = this;\n    const breakpoint = panel.params.visibleBreakpoint;\n    const app = panel.app;\n    if (app.width >= breakpoint && typeof breakpoint !== 'undefined' && breakpoint !== null) {\n      return panel.toggleVisibleBreakpoint();\n    }\n    if (panel.opened) panel.close(animate);\n    else panel.open(animate);\n    return panel;\n  }\n\n  insertToRoot() {\n    const panel = this;\n    const document = getDocument();\n    const { $el, $backdropEl, $containerEl } = panel;\n    const $panelParentEl = $el.parent();\n    const wasInDom = $el.parents(document).length > 0;\n\n    if (!$panelParentEl.is($containerEl) || $el.prevAll('.views, .view').length) {\n      const $insertBeforeEl = $containerEl.children('.panel, .views, .view').eq(0);\n      const $insertAfterEl = $containerEl.children('.panel-backdrop').eq(0);\n\n      if ($insertBeforeEl.length) {\n        $el.insertBefore($insertBeforeEl);\n      } else if ($insertAfterEl) {\n        $el.insertBefore($insertAfterEl);\n      } else {\n        $containerEl.prepend($el);\n      }\n\n      if (\n        $backdropEl &&\n        $backdropEl.length &&\n        ((!$backdropEl.parent().is($containerEl) && $backdropEl.nextAll('.panel').length === 0) ||\n          ($backdropEl.parent().is($containerEl) && $backdropEl.nextAll('.panel').length === 0))\n      ) {\n        $backdropEl.insertBefore($el);\n      }\n\n      panel.once('panelClosed', () => {\n        if (wasInDom) {\n          $panelParentEl.append($el);\n        } else {\n          $el.remove();\n        }\n      });\n    }\n  }\n\n  open(animate = true) {\n    const panel = this;\n    const app = panel.app;\n\n    if (!app.panel.allowOpen) return false;\n\n    const { effect, $el, $backdropEl, opened, $containerEl } = panel;\n\n    if (!$el || $el.hasClass('panel-in')) {\n      return panel;\n    }\n\n    panel.insertToRoot();\n\n    // Ignore if opened\n    if (opened || $el.hasClass('panel-in-breakpoint') || $el.hasClass('panel-in')) return false;\n\n    // Close if some panel is opened\n    const otherOpenedPanel = app.panel.get('.panel-in');\n    if (otherOpenedPanel && otherOpenedPanel !== panel) {\n      otherOpenedPanel.close(animate);\n    }\n\n    $el[animate ? 'removeClass' : 'addClass']('not-animated');\n    $el.addClass('panel-in');\n\n    if ($backdropEl) {\n      $backdropEl.addClass('panel-backdrop-in');\n      $backdropEl[animate ? 'removeClass' : 'addClass']('not-animated');\n    }\n\n    if (panel.effect === 'cover' || panel.effect === 'push') {\n      /* eslint no-underscore-dangle: [\"error\", { \"allow\": [\"_clientLeft\"] }] */\n      panel._clientLeft = $el[0].clientLeft;\n    }\n\n    // Transitionend\n    const $viewEl = $(panel.getViewEl());\n    if ($containerEl && $containerEl.hasClass('page')) {\n      $viewEl.add($containerEl.children('.page-content, .tabs'));\n    }\n    const transitionEndTarget = effect === 'reveal' ? $viewEl : $el;\n\n    function panelTransitionEnd() {\n      transitionEndTarget.transitionEnd((e) => {\n        if ($(e.target).is(transitionEndTarget)) {\n          if ($el.hasClass('panel-out')) {\n            panel.onClosed();\n          } else {\n            panel.onOpened();\n          }\n        } else panelTransitionEnd();\n      });\n    }\n    if (animate) {\n      if ($backdropEl) {\n        $backdropEl.removeClass('not-animated');\n      }\n      panelTransitionEnd();\n      $el.removeClass('panel-out not-animated').addClass('panel-in');\n      panel.onOpen();\n    } else {\n      if ($backdropEl) {\n        $backdropEl.addClass('not-animated');\n      }\n      $el.removeClass('panel-out').addClass('panel-in not-animated');\n      panel.onOpen();\n      panel.onOpened();\n    }\n\n    return true;\n  }\n\n  close(animate = true) {\n    const panel = this;\n\n    const { effect, $el, $backdropEl, opened, $containerEl } = panel;\n    if (!opened || $el.hasClass('panel-in-breakpoint') || !$el.hasClass('panel-in')) return panel;\n\n    $el[animate ? 'removeClass' : 'addClass']('not-animated');\n    if ($backdropEl) {\n      $backdropEl[animate ? 'removeClass' : 'addClass']('not-animated');\n    }\n\n    const $viewEl = $(panel.getViewEl());\n    if ($containerEl && $containerEl.hasClass('page')) {\n      $viewEl.add($containerEl.children('.page-content, .tabs'));\n    }\n    const transitionEndTarget = effect === 'reveal' ? $viewEl : $el;\n\n    function transitionEnd() {\n      if ($el.hasClass('panel-out')) {\n        panel.onClosed();\n      } else if ($el.hasClass('panel-in')) {\n        panel.onOpened();\n      }\n      panel.setStateClasses('after-closing');\n    }\n    if (animate) {\n      transitionEndTarget.transitionEnd(() => {\n        transitionEnd();\n      });\n      $el.removeClass('panel-in').addClass('panel-out');\n      // Emit close\n      panel.onClose();\n    } else {\n      $el.addClass('not-animated').removeClass('panel-in').addClass('panel-out');\n      // Emit close\n      panel.onClose();\n      panel.onClosed();\n    }\n\n    return panel;\n  }\n\n  init() {\n    const panel = this;\n    // const app = panel.app;\n    if (typeof panel.params.visibleBreakpoint !== 'undefined') {\n      panel.setVisibleBreakpoint();\n    }\n    if (typeof panel.params.collapsedBreakpoint !== 'undefined') {\n      panel.setCollapsedBreakpoint();\n    }\n    if (panel.params.swipe) {\n      panel.enableSwipe();\n    }\n    if (panel.resizable) {\n      panel.enableResizable();\n    }\n  }\n\n  destroy() {\n    let panel = this;\n    const app = panel.app;\n    const { $containerEl } = panel;\n\n    if (!panel.$el) {\n      // Panel already destroyed\n      return;\n    }\n\n    panel.emit('local::beforeDestroy panelBeforeDestroy', panel);\n    panel.$el.trigger('panel:beforedestroy');\n\n    if (panel.visibleBreakpointResizeHandler) {\n      app.off('resize', panel.visibleBreakpointResizeHandler);\n    }\n    if (panel.collapsedBreakpointResizeHandler) {\n      app.off('resize', panel.collapsedBreakpointResizeHandler);\n    }\n    if (panel.$el.hasClass('panel-in-breakpoint') || panel.$el.hasClass('panel-in-collapsed')) {\n      const $viewEl = $(panel.getViewEl());\n      if ($containerEl && $containerEl.hasClass('page')) {\n        $viewEl.add($containerEl.children('.page-content, .tabs'));\n      }\n      panel.$el.removeClass('panel-in-breakpoint panel-in-collapsed panel-in');\n      $viewEl.css({\n        [`margin-${panel.side}`]: '',\n      });\n      panel.emit('local::breakpoint panelBreakpoint', panel);\n      panel.$el.trigger('panel:breakpoint');\n    }\n\n    panel.$el.trigger('panel:destroy');\n    panel.emit('local::destroy panelDestroy', panel);\n    if (panel.el) {\n      panel.el.f7Panel = null;\n      delete panel.el.f7Panel;\n    }\n    deleteProps(panel);\n\n    panel = null;\n  }\n}\n\nexport default Panel;\n","import $ from '../../shared/dom7';\nimport { extend } from '../../shared/utils';\nimport Panel from './panel-class';\n\nexport default {\n  name: 'panel',\n  params: {\n    panel: {\n      opened: undefined, // default based on panel-in class\n      side: undefined, // default based on panel class\n      effect: undefined, // default based on panel class\n      resizable: undefined, // default based on panel-resizable class\n      backdrop: true,\n      backdropEl: undefined,\n      visibleBreakpoint: undefined,\n      collapsedBreakpoint: undefined,\n      swipe: false, // or true\n      swipeNoFollow: false, // or true\n      swipeOnlyClose: false,\n      swipeActiveArea: 0,\n      swipeThreshold: 0,\n      closeByBackdropClick: true,\n      containerEl: undefined,\n    },\n  },\n  static: {\n    Panel,\n  },\n  create() {\n    const app = this;\n    extend(app, {\n      panel: {\n        allowOpen: true,\n        create(params) {\n          return new Panel(app, params);\n        },\n        get(el = '.panel') {\n          if (el instanceof Panel) return el;\n          if (el === 'left' || el === 'right') el = `.panel-${el}`; // eslint-disable-line\n          const $el = $(el);\n          if ($el.length === 0 || $el.length > 1) return undefined;\n          return $el[0].f7Panel;\n        },\n        destroy(el = '.panel') {\n          const panel = app.panel.get(el);\n          if (panel && panel.destroy) return panel.destroy();\n          return undefined;\n        },\n        open(el = '.panel', animate) {\n          if (el === 'left' || el === 'right') el = `.panel-${el}`; // eslint-disable-line\n          let panel = app.panel.get(el);\n          if (panel && panel.open) return panel.open(animate);\n          if (!panel) {\n            panel = app.panel.create({ el });\n            return panel.open(animate);\n          }\n          return undefined;\n        },\n        close(el = '.panel-in', animate) {\n          if (el === 'left' || el === 'right') el = `.panel-${el}`; // eslint-disable-line\n          let panel = app.panel.get(el);\n          if (panel && panel.open) return panel.close(animate);\n          if (!panel) {\n            panel = app.panel.create({ el });\n            return panel.close(animate);\n          }\n          return undefined;\n        },\n        toggle(el = '.panel', animate) {\n          if (el === 'left' || el === 'right') el = `.panel-${el}`; // eslint-disable-line\n          let panel = app.panel.get(el);\n          if (panel && panel.toggle) return panel.toggle(animate);\n          if (!panel) {\n            panel = app.panel.create({ el });\n            return panel.toggle(animate);\n          }\n          return undefined;\n        },\n      },\n    });\n  },\n  on: {\n    init() {\n      const app = this;\n      $('.panel-init').each((panelEl) => {\n        const params = Object.assign({ el: panelEl }, $(panelEl).dataset() || {});\n        app.panel.create(params);\n      });\n    },\n    pageInit(page) {\n      const app = this;\n      page.$el.find('.panel-init').each((panelEl) => {\n        const params = Object.assign({ el: panelEl }, $(panelEl).dataset() || {});\n        app.panel.create(params);\n      });\n    },\n    pageBeforeRemove(page) {\n      const app = this;\n      page.$el.find('.panel-init').each((panelEl) => {\n        const panel = app.panel.get(panelEl);\n        if (panel && panel.destroy) panel.destroy();\n      });\n    },\n  },\n  vnode: {\n    'panel-init': {\n      insert(vnode) {\n        const app = this;\n        const panelEl = vnode.elm;\n        const params = Object.assign({ el: panelEl }, $(panelEl).dataset() || {});\n        app.panel.create(params);\n      },\n      destroy(vnode) {\n        const app = this;\n        const panelEl = vnode.elm;\n        const panel = app.panel.get(panelEl);\n        if (panel && panel.destroy) panel.destroy();\n      },\n    },\n  },\n  clicks: {\n    '.panel-open': function open(clickedEl, data = {}) {\n      const app = this;\n      app.panel.open(data.panel, data.animate);\n    },\n    '.panel-close': function close(clickedEl, data = {}) {\n      const app = this;\n      app.panel.close(data.panel, data.animate);\n    },\n    '.panel-toggle': function close(clickedEl, data = {}) {\n      const app = this;\n      app.panel.toggle(data.panel, data.animate);\n    },\n    '.panel-backdrop': function close() {\n      const app = this;\n      const $panelEl = $('.panel-in:not(.panel-out)');\n      if (!$panelEl.length) return;\n      const instance = $panelEl[0] && $panelEl[0].f7Panel;\n      $panelEl.trigger('panel:backdrop-click');\n      if (instance) {\n        instance.emit('backdropClick', instance);\n      }\n      app.emit('panelBackdropClick', instance || $panelEl[0]);\n      if (app.params.panel.closeByBackdropClick) app.panel.close();\n    },\n  },\n};\n","/* eslint no-param-reassign: \"off\" */\nimport { getDocument } from 'ssr-window';\nimport { bindMethods } from '../../shared/utils';\nimport { getSupport } from '../../shared/get-support';\nimport { getDevice } from '../../shared/get-device';\nimport $ from '../../shared/dom7';\n\nconst CardExpandable = {\n  open(cardEl = '.card-expandable', animate = true) {\n    const app = this;\n    const device = getDevice();\n    const document = getDocument();\n    const support = getSupport();\n\n    const $cardEl = $(cardEl).eq(0);\n    if (!$cardEl || !$cardEl.length) return;\n    if (\n      $cardEl.hasClass('card-opened') ||\n      $cardEl.hasClass('card-opening') ||\n      $cardEl.hasClass('card-closing')\n    )\n      return;\n\n    const $pageEl = $cardEl.parents('.page').eq(0);\n    if (!$pageEl.length) return;\n\n    if ($pageEl.find('.card-opened').length) {\n      return;\n    }\n\n    let prevented;\n\n    function prevent() {\n      prevented = true;\n    }\n\n    $cardEl.trigger('card:beforeopen', { prevent });\n    app.emit('cardBeforeOpen', $cardEl[0], prevent);\n\n    if (prevented) return;\n\n    const cardParams = Object.assign({ animate }, app.params.card, $cardEl.dataset());\n\n    const $pageContentEl = $cardEl.parents('.page-content');\n\n    let $backdropEl;\n    if ($cardEl.attr('data-backdrop-el')) {\n      $backdropEl = $($cardEl.attr('data-backdrop-el'));\n    }\n    if (!$backdropEl && cardParams.backdrop) {\n      $backdropEl = $pageContentEl.find('.card-backdrop');\n      if (!$backdropEl.length) {\n        $backdropEl = $('<div class=\"card-backdrop\"></div>');\n        $pageContentEl.append($backdropEl);\n      }\n    }\n\n    let $navbarEl;\n    let $toolbarEl;\n    if (cardParams.hideNavbarOnOpen) {\n      $navbarEl = $pageEl.children('.navbar');\n      if (!$navbarEl.length) {\n        if ($pageEl[0].f7Page) $navbarEl = $pageEl[0].f7Page.$navbarEl;\n      }\n    }\n    if (cardParams.hideToolbarOnOpen) {\n      $toolbarEl = $pageEl.children('.toolbar');\n      if (!$toolbarEl.length) {\n        $toolbarEl = $pageEl.parents('.view').children('.toolbar');\n      }\n      if (!$toolbarEl.length) {\n        $toolbarEl = $pageEl.parents('.views').children('.toolbar');\n      }\n    }\n\n    const currTransform = $cardEl.css('transform');\n    let hasTransform;\n    if (currTransform && currTransform.match(/[2-9]/)) {\n      hasTransform = true;\n    }\n    const $cardContentEl = $cardEl.children('.card-content');\n\n    const $cardSizeEl = $(document.createElement('div')).addClass('card-expandable-size');\n    $cardEl.append($cardSizeEl);\n\n    let cardWidth = $cardEl[0].offsetWidth;\n    let cardHeight = $cardEl[0].offsetHeight;\n    let pageWidth = $pageEl[0].offsetWidth;\n    let pageHeight = $pageEl[0].offsetHeight;\n\n    let maxWidth = $cardSizeEl[0].offsetWidth || pageWidth;\n    let maxHeight = $cardSizeEl[0].offsetHeight || pageHeight;\n\n    let statusbarHeight;\n    if ($navbarEl && !cardParams.hideStatusbarOnOpen && maxHeight === pageHeight) {\n      statusbarHeight = parseInt($navbarEl.css('--f7-safe-area-top'), 10);\n      if (Number.isNaN(statusbarHeight)) statusbarHeight = 0;\n    }\n    if (statusbarHeight) {\n      maxHeight -= statusbarHeight;\n    }\n\n    let scaleX = maxWidth / cardWidth;\n    let scaleY = maxHeight / cardHeight;\n\n    let offset = $cardEl.offset();\n    let pageOffset = $pageEl.offset();\n    if (statusbarHeight) {\n      pageOffset.top += statusbarHeight / 2;\n    }\n    offset.left -= pageOffset.left;\n\n    let cardLeftOffset;\n    let cardTopOffset;\n\n    if (hasTransform) {\n      const transformValues = currTransform\n        .replace(/matrix\\(|\\)/g, '')\n        .split(',')\n        .map((el) => el.trim());\n      if (transformValues && transformValues.length > 1) {\n        const scale = parseFloat(transformValues[0]);\n        cardLeftOffset = offset.left - (cardWidth * (1 - scale)) / 2;\n        cardTopOffset = offset.top - pageOffset.top - (cardHeight * (1 - scale)) / 2;\n        if (app.rtl) cardLeftOffset -= $cardEl[0].scrollLeft;\n      } else {\n        cardLeftOffset = $cardEl[0].offsetLeft;\n        cardTopOffset =\n          $cardEl[0].offsetTop - ($pageContentEl.length ? $pageContentEl[0].scrollTop : 0);\n      }\n    } else {\n      cardLeftOffset = offset.left;\n      cardTopOffset = offset.top - pageOffset.top;\n      if (app.rtl) cardLeftOffset -= $cardEl[0].scrollLeft;\n    }\n\n    cardLeftOffset -= (pageWidth - maxWidth) / 2;\n    cardTopOffset -= (pageHeight - maxHeight) / 2;\n\n    let cardRightOffset = maxWidth - cardWidth - cardLeftOffset;\n    if (app.rtl) {\n      [cardLeftOffset, cardRightOffset] = [cardRightOffset, cardLeftOffset];\n    }\n    let cardBottomOffset = maxHeight - cardHeight - cardTopOffset;\n    let translateX = (cardRightOffset - cardLeftOffset) / 2;\n    let translateY = (cardBottomOffset - cardTopOffset) / 2;\n    if (cardParams.hideNavbarOnOpen && $navbarEl && $navbarEl.length) {\n      if ($navbarEl.closest('.navbar-hidden').length) {\n        // Was hidden\n        $cardEl[0].f7KeepNavbarOnClose = true;\n      } else {\n        delete $cardEl[0].f7KeepNavbarOnClose;\n        app.navbar.hide($navbarEl, cardParams.animate, cardParams.hideStatusbarOnOpen, true);\n      }\n    }\n    if (cardParams.hideToolbarOnOpen && $toolbarEl && $toolbarEl.length) {\n      if ($toolbarEl.closest('.toolbar-hidden').length) {\n        // Was hidden\n        $cardEl[0].f7KeepToolbarOnClose = true;\n      } else {\n        delete $cardEl[0].f7KeepToolbarOnClose;\n        app.toolbar.hide($toolbarEl, cardParams.animate);\n      }\n    }\n    if ($backdropEl) {\n      $backdropEl.removeClass('card-backdrop-out').addClass('card-backdrop-in');\n    }\n    $cardEl.removeClass('card-transitioning');\n    if (cardParams.animate) {\n      $cardEl.addClass('card-opening');\n    }\n    $cardEl.trigger('card:open');\n    app.emit('cardOpen', $cardEl[0]);\n    function transitionEnd() {\n      $pageEl.addClass('page-with-card-opened');\n      if (device.ios && $pageContentEl.length) {\n        $pageContentEl.css('height', `${$pageContentEl[0].offsetHeight + 1}px`);\n        setTimeout(() => {\n          $pageContentEl.css('height', '');\n        });\n      }\n      $cardEl.addClass('card-opened');\n      $cardEl.removeClass('card-opening');\n      $cardEl.trigger('card:opened');\n      app.emit('cardOpened', $cardEl[0], $pageEl[0]);\n    }\n    $cardContentEl\n      .css({\n        width: `${maxWidth}px`,\n        height: `${maxHeight}px`,\n      })\n      .transform(\n        `translate3d(${\n          app.rtl ? cardLeftOffset + translateX : -cardLeftOffset - translateX\n        }px, 0px, 0) scale(${1 / scaleX}, ${1 / scaleY})`,\n      );\n\n    $cardEl.transform(\n      `translate3d(${\n        app.rtl ? -translateX : translateX\n      }px, ${translateY}px, 0) scale(${scaleX}, ${scaleY})`,\n    );\n    if (cardParams.animate) {\n      $cardEl.transitionEnd(() => {\n        transitionEnd();\n      });\n    } else {\n      transitionEnd();\n    }\n\n    function onResize() {\n      $cardEl.removeClass('card-transitioning');\n      cardWidth = $cardEl[0].offsetWidth;\n      cardHeight = $cardEl[0].offsetHeight;\n      pageWidth = $pageEl[0].offsetWidth;\n      pageHeight = $pageEl[0].offsetHeight;\n      maxWidth = $cardSizeEl[0].offsetWidth || pageWidth;\n      maxHeight = $cardSizeEl[0].offsetHeight || pageHeight;\n\n      statusbarHeight = 0;\n      if ($navbarEl && !cardParams.hideStatusbarOnOpen && maxHeight === pageHeight) {\n        statusbarHeight = parseInt($navbarEl.css('--f7-safe-area-top'), 10);\n        if (Number.isNaN(statusbarHeight)) statusbarHeight = 0;\n      }\n      if (statusbarHeight) {\n        maxHeight -= statusbarHeight;\n      }\n\n      scaleX = maxWidth / cardWidth;\n      scaleY = maxHeight / cardHeight;\n\n      $cardEl.transform('translate3d(0px, 0px, 0) scale(1)');\n      offset = $cardEl.offset();\n      pageOffset = $pageEl.offset();\n      if (statusbarHeight) {\n        pageOffset.top += statusbarHeight / 2;\n      }\n      offset.left -= pageOffset.left;\n      offset.top -= pageOffset.top;\n\n      cardLeftOffset = offset.left - (pageWidth - maxWidth) / 2;\n      if (app.rtl) cardLeftOffset -= $cardEl[0].scrollLeft;\n      cardTopOffset = offset.top - (pageHeight - maxHeight) / 2;\n\n      cardRightOffset = maxWidth - cardWidth - cardLeftOffset;\n      cardBottomOffset = maxHeight - cardHeight - cardTopOffset;\n      if (app.rtl) {\n        [cardLeftOffset, cardRightOffset] = [cardRightOffset, cardLeftOffset];\n      }\n      translateX = (cardRightOffset - cardLeftOffset) / 2;\n      translateY = (cardBottomOffset - cardTopOffset) / 2;\n\n      $cardEl.transform(\n        `translate3d(${\n          app.rtl ? -translateX : translateX\n        }px, ${translateY}px, 0) scale(${scaleX}, ${scaleY})`,\n      );\n      $cardContentEl\n        .css({\n          width: `${maxWidth}px`,\n          height: `${maxHeight}px`,\n        })\n        .transform(\n          `translate3d(${\n            app.rtl ? cardLeftOffset + translateX : -cardLeftOffset - translateX\n          }px, 0px, 0) scale(${1 / scaleX}, ${1 / scaleY})`,\n        );\n    }\n\n    let cardScrollTop;\n    let isTouched;\n    let isMoved;\n    let touchStartX;\n    let touchStartY;\n    let touchEndX;\n    let touchEndY;\n    let isScrolling;\n    let progress;\n    let isV;\n    let isH;\n    let $cardScrollableEl;\n    function onTouchStart(e) {\n      if (!$(e.target).closest($cardEl).length) return;\n      if (!$cardEl.hasClass('card-opened')) return;\n      $cardScrollableEl = $cardEl.find(cardParams.scrollableEl);\n\n      if (\n        $cardScrollableEl[0] &&\n        $cardScrollableEl[0] !== $cardContentEl[0] &&\n        !$cardScrollableEl[0].contains(e.target)\n      ) {\n        cardScrollTop = 0;\n      } else {\n        cardScrollTop = $cardScrollableEl.scrollTop();\n      }\n      isTouched = true;\n      touchStartX = e.targetTouches[0].pageX;\n      touchStartY = e.targetTouches[0].pageY;\n      isScrolling = undefined;\n      isV = false;\n      isH = false;\n    }\n    function onTouchMove(e) {\n      if (!isTouched) return;\n      touchEndX = e.targetTouches[0].pageX;\n      touchEndY = e.targetTouches[0].pageY;\n      if (typeof isScrolling === 'undefined') {\n        isScrolling = !!(\n          isScrolling || Math.abs(touchEndY - touchStartY) > Math.abs(touchEndX - touchStartX)\n        );\n      }\n      if (!isH && !isV) {\n        if (!isScrolling && e.targetTouches[0].clientX <= 50) {\n          isH = true;\n        } else {\n          isV = true;\n        }\n      }\n\n      if (!(isH || isV) || (isV && cardScrollTop !== 0)) {\n        isTouched = true;\n        isMoved = true;\n        return;\n      }\n      if (!isMoved) {\n        $cardEl.removeClass('card-transitioning');\n      }\n\n      isMoved = true;\n      progress = isV\n        ? Math.max((touchEndY - touchStartY) / 150, 0)\n        : Math.max((touchEndX - touchStartX) / (cardWidth / 2), 0);\n      if ((progress > 0 && isV) || isH) {\n        if (isV && device.ios && $cardScrollableEl[0] === $cardContentEl[0]) {\n          $cardScrollableEl.css('-webkit-overflow-scrolling', 'auto');\n          $cardScrollableEl.scrollTop(0);\n        }\n        e.preventDefault();\n      }\n\n      if (progress > 1) progress **= 0.3;\n      if (progress > (isV ? 1.3 : 1.1)) {\n        isTouched = false;\n        isMoved = false;\n        app.card.close($cardEl);\n      } else {\n        $cardEl.transform(\n          `translate3d(${app.rtl ? -translateX : translateX}px, ${translateY}px, 0) scale(${\n            scaleX * (1 - progress * 0.2)\n          }, ${scaleY * (1 - progress * 0.2)})`,\n        );\n      }\n    }\n    function onTouchEnd() {\n      if (!isTouched || !isMoved) return;\n      isTouched = false;\n      isMoved = false;\n      if (device.ios) {\n        $cardScrollableEl.css('-webkit-overflow-scrolling', '');\n      }\n      if (progress >= 0.8) {\n        app.card.close($cardEl);\n      } else {\n        $cardEl\n          .addClass('card-transitioning')\n          .transform(\n            `translate3d(${\n              app.rtl ? -translateX : translateX\n            }px, ${translateY}px, 0) scale(${scaleX}, ${scaleY})`,\n          );\n      }\n    }\n\n    $cardEl[0].detachEventHandlers = function detachEventHandlers() {\n      app.off('resize', onResize);\n      if (support.touch && cardParams.swipeToClose) {\n        app.off('touchstart:passive', onTouchStart);\n        app.off('touchmove:active', onTouchMove);\n        app.off('touchend:passive', onTouchEnd);\n      }\n    };\n\n    app.on('resize', onResize);\n    if (support.touch && cardParams.swipeToClose) {\n      app.on('touchstart:passive', onTouchStart);\n      app.on('touchmove:active', onTouchMove);\n      app.on('touchend:passive', onTouchEnd);\n    }\n  },\n  close(cardEl = '.card-expandable.card-opened', animate = true) {\n    const app = this;\n    const device = getDevice();\n    const $cardEl = $(cardEl).eq(0);\n    if (!$cardEl || !$cardEl.length) return;\n    if (\n      !$cardEl.hasClass('card-opened') ||\n      $cardEl.hasClass('card-opening') ||\n      $cardEl.hasClass('card-closing')\n    )\n      return;\n\n    const $cardContentEl = $cardEl.children('.card-content');\n    const $pageContentEl = $cardEl.parents('.page-content');\n\n    const $pageEl = $cardEl.parents('.page').eq(0);\n    if (!$pageEl.length) return;\n\n    const cardParams = Object.assign({ animate }, app.params.card, $cardEl.dataset());\n    const $cardScrollableEl = $cardEl.find(cardParams.scrollableEl);\n\n    let $navbarEl;\n    let $toolbarEl;\n\n    let $backdropEl;\n    if ($cardEl.attr('data-backdrop-el')) {\n      $backdropEl = $($cardEl.attr('data-backdrop-el'));\n    }\n    if (cardParams.backdrop) {\n      $backdropEl = $cardEl.parents('.page-content').find('.card-backdrop');\n    }\n\n    if (cardParams.hideNavbarOnOpen) {\n      $navbarEl = $pageEl.children('.navbar');\n      if (!$navbarEl.length) {\n        if ($pageEl[0].f7Page) $navbarEl = $pageEl[0].f7Page.$navbarEl;\n      }\n      if ($navbarEl && $navbarEl.length && !$cardEl[0].f7KeepNavbarOnClose) {\n        app.navbar.show($navbarEl, cardParams.animate, true);\n      }\n    }\n    if (cardParams.hideToolbarOnOpen) {\n      $toolbarEl = $pageEl.children('.toolbar');\n      if (!$toolbarEl.length) {\n        $toolbarEl = $pageEl.parents('.view').children('.toolbar');\n      }\n      if (!$toolbarEl.length) {\n        $toolbarEl = $pageEl.parents('.views').children('.toolbar');\n      }\n      if ($toolbarEl && $toolbarEl.length && !$cardEl[0].f7KeepToolbarOnClose) {\n        app.toolbar.show($toolbarEl, cardParams.animate);\n      }\n    }\n\n    $pageEl.removeClass('page-with-card-opened');\n\n    if (device.ios && $pageContentEl.length) {\n      $pageContentEl.css('height', `${$pageContentEl[0].offsetHeight + 1}px`);\n      setTimeout(() => {\n        $pageContentEl.css('height', '');\n      });\n    }\n\n    if ($backdropEl && $backdropEl.length) {\n      $backdropEl.removeClass('card-backdrop-in').addClass('card-backdrop-out');\n    }\n\n    $cardEl.removeClass('card-opened card-transitioning');\n    if (cardParams.animate) {\n      $cardEl.addClass('card-closing');\n    } else {\n      $cardEl.addClass('card-no-transition');\n    }\n    $cardEl.transform('');\n    $cardEl.trigger('card:close');\n    app.emit('cardClose', $cardEl[0], $pageEl[0]);\n\n    const animateWidth = $cardEl.hasClass('card-expandable-animate-width');\n\n    function transitionEnd() {\n      if (!animateWidth) {\n        $cardContentEl.css({\n          width: '',\n          height: '',\n        });\n      }\n      if ($backdropEl && $backdropEl.length) {\n        $backdropEl.removeClass('card-backdrop-in card-backdrop-out');\n      }\n      $cardEl.removeClass('card-closing card-no-transition');\n      $cardEl.trigger('card:closed');\n      $cardEl.find('.card-expandable-size').remove();\n      app.emit('cardClosed', $cardEl[0], $pageEl[0]);\n    }\n    if (animateWidth) {\n      $cardContentEl.css({\n        width: '',\n        height: '',\n      });\n    }\n\n    $cardContentEl.transform('').scrollTop(0, animate ? 300 : 0);\n    if ($cardScrollableEl.length && $cardScrollableEl[0] !== $cardContentEl[0]) {\n      $cardScrollableEl.scrollTop(0, animate ? 300 : 0);\n    }\n    if (animate) {\n      $cardContentEl.transitionEnd(() => {\n        transitionEnd();\n      });\n    } else {\n      transitionEnd();\n    }\n\n    if ($cardEl[0].detachEventHandlers) {\n      $cardEl[0].detachEventHandlers();\n      delete $cardEl[0].detachEventHandlers;\n    }\n  },\n  toggle(cardEl = '.card-expandable', animate) {\n    const app = this;\n    const $cardEl = $(cardEl).eq(0);\n    if (!$cardEl.length) return;\n    if ($cardEl.hasClass('card-opened')) {\n      app.card.close($cardEl, animate);\n    } else {\n      app.card.open($cardEl, animate);\n    }\n  },\n};\n\nexport default {\n  name: 'card',\n  params: {\n    card: {\n      hideNavbarOnOpen: true,\n      hideStatusbarOnOpen: true,\n      hideToolbarOnOpen: true,\n      scrollableEl: '.card-content',\n      swipeToClose: true,\n      closeByBackdropClick: true,\n      backdrop: true,\n    },\n  },\n  create() {\n    const app = this;\n    bindMethods(app, {\n      card: CardExpandable,\n    });\n  },\n  on: {\n    pageBeforeIn(page) {\n      const app = this;\n      if (\n        app.params.card.hideNavbarOnOpen &&\n        page.navbarEl &&\n        page.$el.find('.card-opened.card-expandable').length\n      ) {\n        app.navbar.hide(page.navbarEl, true, app.params.card.hideStatusbarOnOpen, true);\n      }\n\n      if (\n        app.params.card.hideToolbarOnOpen &&\n        page.$el.find('.card-opened.card-expandable').length\n      ) {\n        let $toolbarEl = page.$el.children('.toolbar');\n        if (!$toolbarEl.length) {\n          $toolbarEl = page.$el.parents('.view').children('.toolbar');\n        }\n        if (!$toolbarEl.length) {\n          $toolbarEl = page.$el.parents('.views').children('.toolbar');\n        }\n        if ($toolbarEl && $toolbarEl.length) {\n          app.toolbar.hide($toolbarEl);\n        }\n      }\n    },\n  },\n  clicks: {\n    '.card-close': function closeCard($clickedEl, data) {\n      const app = this;\n      app.card.close(data.card, data.animate);\n    },\n    '.card-open': function closeCard($clickedEl, data) {\n      const app = this;\n      app.card.open(data.card, data.animate);\n    },\n    '.card-expandable': function toggleExpandableCard($clickedEl, data, e) {\n      const app = this;\n      if (\n        $clickedEl.hasClass('card-opened') ||\n        $clickedEl.hasClass('card-opening') ||\n        $clickedEl.hasClass('card-closing')\n      )\n        return;\n      if ($(e.target).closest('.card-prevent-open, .card-close').length) return;\n      app.card.open($clickedEl);\n    },\n    '.card-backdrop-in': function onBackdropClick() {\n      const app = this;\n      let needToClose = false;\n      if (app.params.card.closeByBackdropClick) needToClose = true;\n      const $openedCardEl = $('.card-opened');\n      if (!$openedCardEl.length) return;\n      if ($openedCardEl.attr('data-close-by-backdrop-click') === 'true') {\n        needToClose = true;\n      } else if ($openedCardEl.attr('data-close-by-backdrop-click') === 'false') {\n        needToClose = false;\n      }\n      if (needToClose) app.card.close($openedCardEl);\n    },\n  },\n};\n","export default {\n  name: 'chip',\n};\n","import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom7';\nimport { extend, serializeObject } from '../../shared/utils';\n\n// Form Data\nconst FormData = {\n  store(form, data) {\n    const app = this;\n    const window = getWindow();\n    let formId = form;\n\n    const $formEl = $(form);\n    if ($formEl.length && $formEl.is('form') && $formEl.attr('id')) {\n      formId = $formEl.attr('id');\n    }\n    // Store form data in app.formsData\n    app.form.data[`form-${formId}`] = data;\n\n    // Store form data in local storage also\n    window.localStorage[`f7form-${formId}`] = JSON.stringify(data);\n  },\n  get(form) {\n    const app = this;\n    const window = getWindow();\n    let formId = form;\n\n    const $formEl = $(form);\n    if ($formEl.length && $formEl.is('form') && $formEl.attr('id')) {\n      formId = $formEl.attr('id');\n    }\n\n    if (window.localStorage[`f7form-${formId}`]) {\n      return JSON.parse(window.localStorage[`f7form-${formId}`]);\n    }\n    if (app.form.data[`form-${formId}`]) {\n      return app.form.data[`form-${formId}`];\n    }\n    return undefined;\n  },\n  remove(form) {\n    const app = this;\n    const window = getWindow();\n    let formId = form;\n\n    const $formEl = $(form);\n    if ($formEl.length && $formEl.is('form') && $formEl.attr('id')) {\n      formId = $formEl.attr('id');\n    }\n\n    // Delete form data from app.formsData\n    if (app.form.data[`form-${formId}`]) {\n      app.form.data[`form-${formId}`] = '';\n      delete app.form.data[`form-${formId}`];\n    }\n\n    // Delete form data from local storage also\n    if (window.localStorage[`f7form-${formId}`]) {\n      window.localStorage[`f7form-${formId}`] = '';\n      window.localStorage.removeItem(`f7form-${formId}`);\n    }\n  },\n};\n\n// Form Storage\nconst FormStorage = {\n  init(formEl) {\n    const app = this;\n    const $formEl = $(formEl);\n    const formId = $formEl.attr('id');\n    if (!formId) return;\n    const initialData = app.form.getFormData(formId);\n    if (initialData) {\n      app.form.fillFromData($formEl, initialData);\n    }\n    function store() {\n      const data = app.form.convertToData($formEl);\n      if (!data) return;\n      app.form.storeFormData(formId, data);\n      $formEl.trigger('form:storedata', data);\n      app.emit('formStoreData', $formEl[0], data);\n    }\n    $formEl.on('change submit', store);\n  },\n  destroy(formEl) {\n    const $formEl = $(formEl);\n    $formEl.off('change submit');\n  },\n};\n\n// Form To/From Data\nfunction formToData(formEl) {\n  const app = this;\n  const $formEl = $(formEl).eq(0);\n  if ($formEl.length === 0) return undefined;\n\n  // Form data\n  const data = {};\n\n  // Skip input types\n  const skipTypes = ['submit', 'image', 'button', 'file'];\n  const skipNames = [];\n  $formEl.find('input, select, textarea').each((inputEl) => {\n    const $inputEl = $(inputEl);\n    if ($inputEl.hasClass('ignore-store-data') || $inputEl.hasClass('no-store-data')) {\n      return;\n    }\n    const name = $inputEl.attr('name');\n    const type = $inputEl.attr('type');\n    const tag = inputEl.nodeName.toLowerCase();\n    if (skipTypes.indexOf(type) >= 0) return;\n    if (skipNames.indexOf(name) >= 0 || !name) return;\n    if (tag === 'select' && $inputEl.prop('multiple')) {\n      skipNames.push(name);\n      data[name] = [];\n      $formEl.find(`select[name=\"${name}\"] option`).each((el) => {\n        if (el.selected) data[name].push(el.value);\n      });\n    } else {\n      switch (type) {\n        case 'checkbox':\n          skipNames.push(name);\n          data[name] = [];\n          $formEl.find(`input[name=\"${name}\"]`).each((el) => {\n            if (el.checked) data[name].push(el.value);\n          });\n          break;\n        case 'radio':\n          skipNames.push(name);\n          $formEl.find(`input[name=\"${name}\"]`).each((el) => {\n            if (el.checked) data[name] = el.value;\n          });\n          break;\n        default:\n          data[name] = $inputEl.val();\n          break;\n      }\n    }\n  });\n  $formEl.trigger('form:todata', data);\n  app.emit('formToData', $formEl[0], data);\n\n  return data;\n}\nfunction formFromData(formEl, formData) {\n  const app = this;\n  const $formEl = $(formEl).eq(0);\n  if (!$formEl.length) return;\n\n  let data = formData;\n  const formId = $formEl.attr('id');\n\n  if (!data && formId) {\n    data = app.form.getFormData(formId);\n  }\n\n  if (!data) return;\n\n  // Skip input types\n  const skipTypes = ['submit', 'image', 'button', 'file'];\n  const skipNames = [];\n\n  $formEl.find('input, select, textarea').each((inputEl) => {\n    const $inputEl = $(inputEl);\n    if ($inputEl.hasClass('ignore-store-data') || $inputEl.hasClass('no-store-data')) {\n      return;\n    }\n    const name = $inputEl.attr('name');\n    const type = $inputEl.attr('type');\n    const tag = inputEl.nodeName.toLowerCase();\n    if (typeof data[name] === 'undefined' || data[name] === null) return;\n    if (skipTypes.indexOf(type) >= 0) return;\n    if (skipNames.indexOf(name) >= 0 || !name) return;\n    if (tag === 'select' && $inputEl.prop('multiple')) {\n      skipNames.push(name);\n      $formEl.find(`select[name=\"${name}\"] option`).each((el) => {\n        const selectEl = el;\n        if (data[name].indexOf(el.value) >= 0) selectEl.selected = true;\n        else selectEl.selected = false;\n      });\n    } else {\n      switch (type) {\n        case 'checkbox':\n          skipNames.push(name);\n          $formEl.find(`input[name=\"${name}\"]`).each((el) => {\n            const checkboxEl = el;\n            if (data[name].indexOf(el.value) >= 0) checkboxEl.checked = true;\n            else checkboxEl.checked = false;\n          });\n          break;\n        case 'radio':\n          skipNames.push(name);\n          $formEl.find(`input[name=\"${name}\"]`).each((el) => {\n            const radioEl = el;\n            if (data[name] === el.value) radioEl.checked = true;\n            else radioEl.checked = false;\n          });\n          break;\n        default:\n          $inputEl.val(data[name]);\n          break;\n      }\n    }\n    if (tag === 'select' || tag === 'input' || tag === 'textarea') {\n      $inputEl.trigger('change', 'fromdata');\n    }\n  });\n  $formEl.trigger('form:fromdata', data);\n  app.emit('formFromData', $formEl[0], data);\n}\n\nfunction initAjaxForm() {\n  const app = this;\n  const window = getWindow();\n  const document = getDocument();\n\n  function onSubmitChange(e, fromData) {\n    const $formEl = $(this);\n    if (e.type === 'change' && !$formEl.hasClass('form-ajax-submit-onchange')) return;\n    if (e.type === 'submit') e.preventDefault();\n\n    if (e.type === 'change' && fromData === 'fromdata') return;\n\n    const method = ($formEl.attr('method') || 'GET').toUpperCase();\n    const contentType = $formEl.prop('enctype') || $formEl.attr('enctype');\n\n    const url = $formEl.attr('action');\n    if (!url) return;\n\n    let data;\n    if (method === 'POST') {\n      if (contentType === 'application/x-www-form-urlencoded') {\n        data = app.form.convertToData($formEl[0]);\n      } else {\n        data = new window.FormData($formEl[0]);\n      }\n    } else {\n      data = serializeObject(app.form.convertToData($formEl[0]));\n    }\n\n    app.request({\n      method,\n      url,\n      contentType,\n      data,\n      beforeSend(xhr) {\n        $formEl.trigger('formajax:beforesend', { data, xhr });\n        app.emit('formAjaxBeforeSend', $formEl[0], data, xhr);\n      },\n      error(xhr) {\n        $formEl.trigger('formajax:error', { data, xhr });\n        app.emit('formAjaxError', $formEl[0], data, xhr);\n      },\n      complete(xhr) {\n        $formEl.trigger('formajax:complete', { data, xhr });\n        app.emit('formAjaxComplete', $formEl[0], data, xhr);\n      },\n      success(response, status, xhr) {\n        $formEl.trigger('formajax:success', { data, xhr });\n        app.emit('formAjaxSuccess', $formEl[0], data, xhr);\n      },\n    });\n  }\n  $(document).on(\n    'submit change',\n    'form.form-ajax-submit, form.form-ajax-submit-onchange',\n    onSubmitChange,\n  );\n}\n\nexport default {\n  name: 'form',\n  create() {\n    const app = this;\n    extend(app, {\n      form: {\n        data: {},\n        storeFormData: FormData.store.bind(app),\n        getFormData: FormData.get.bind(app),\n        removeFormData: FormData.remove.bind(app),\n        convertToData: formToData.bind(app),\n        fillFromData: formFromData.bind(app),\n        storage: {\n          init: FormStorage.init.bind(app),\n          destroy: FormStorage.destroy.bind(app),\n        },\n      },\n    });\n  },\n  on: {\n    init() {\n      const app = this;\n      initAjaxForm.call(app);\n    },\n    tabBeforeRemove(tabEl) {\n      const app = this;\n      $(tabEl)\n        .find('.form-store-data')\n        .each((formEl) => {\n          app.form.storage.destroy(formEl);\n        });\n    },\n    tabMounted(tabEl) {\n      const app = this;\n      $(tabEl)\n        .find('.form-store-data')\n        .each((formEl) => {\n          app.form.storage.init(formEl);\n        });\n    },\n    pageBeforeRemove(page) {\n      const app = this;\n      page.$el.find('.form-store-data').each((formEl) => {\n        app.form.storage.destroy(formEl);\n      });\n    },\n    pageInit(page) {\n      const app = this;\n      page.$el.find('.form-store-data').each((formEl) => {\n        app.form.storage.init(formEl);\n      });\n    },\n  },\n};\n","import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom7';\nimport { bindMethods } from '../../shared/utils';\nimport { getDevice } from '../../shared/get-device';\n\nconst Input = {\n  ignoreTypes: ['checkbox', 'button', 'submit', 'range', 'radio', 'image'],\n  createTextareaResizableShadow() {\n    const document = getDocument();\n    const $shadowEl = $(document.createElement('textarea'));\n    $shadowEl.addClass('textarea-resizable-shadow');\n    $shadowEl.prop({\n      disabled: true,\n      readonly: true,\n    });\n    Input.textareaResizableShadow = $shadowEl;\n  },\n  textareaResizableShadow: undefined,\n  resizeTextarea(textareaEl) {\n    const app = this;\n    const window = getWindow();\n    const $textareaEl = $(textareaEl);\n    if (!Input.textareaResizableShadow) {\n      Input.createTextareaResizableShadow();\n    }\n    const $shadowEl = Input.textareaResizableShadow;\n    if (!$textareaEl.length) return;\n    if (!$textareaEl.hasClass('resizable')) return;\n    if (Input.textareaResizableShadow.parents().length === 0) {\n      app.$el.append($shadowEl);\n    }\n\n    const styles = window.getComputedStyle($textareaEl[0]);\n    'padding-top padding-bottom padding-left padding-right margin-left margin-right margin-top margin-bottom width font-size font-family font-style font-weight line-height font-variant text-transform letter-spacing border box-sizing display'\n      .split(' ')\n      .forEach((style) => {\n        let styleValue = styles[style];\n        if ('font-size line-height letter-spacing width'.split(' ').indexOf(style) >= 0) {\n          styleValue = styleValue.replace(',', '.');\n        }\n        $shadowEl.css(style, styleValue);\n      });\n    const currentHeight = $textareaEl[0].clientHeight;\n\n    $shadowEl.val('');\n    const initialHeight = $shadowEl[0].scrollHeight;\n\n    $shadowEl.val($textareaEl.val());\n    $shadowEl.css('height', 0);\n    const scrollHeight = $shadowEl[0].scrollHeight;\n\n    if (currentHeight !== scrollHeight) {\n      if (scrollHeight > initialHeight) {\n        $textareaEl.css('height', `${scrollHeight}px`);\n      } else if (scrollHeight < currentHeight) {\n        $textareaEl.css('height', '');\n      }\n      if (scrollHeight > initialHeight || scrollHeight < currentHeight) {\n        $textareaEl.trigger('textarea:resize', { initialHeight, currentHeight, scrollHeight });\n        app.emit('textareaResize', { initialHeight, currentHeight, scrollHeight });\n      }\n    }\n  },\n  validate(inputEl) {\n    const $inputEl = $(inputEl);\n    if (!$inputEl.length) return true;\n    const $itemInputEl = $inputEl.parents('.item-input');\n    const $inputWrapEl = $inputEl.parents('.input');\n    function unsetReadonly() {\n      if ($inputEl[0].f7ValidateReadonly) {\n        $inputEl[0].readOnly = false;\n      }\n    }\n    function setReadonly() {\n      if ($inputEl[0].f7ValidateReadonly) {\n        $inputEl[0].readOnly = true;\n      }\n    }\n    unsetReadonly();\n    const validity = $inputEl[0].validity;\n    const validationMessage =\n      $inputEl.dataset().errorMessage || $inputEl[0].validationMessage || '';\n    if (!validity) {\n      setReadonly();\n      return true;\n    }\n    if (!validity.valid) {\n      let $errorEl = $inputEl.nextAll('.item-input-error-message, .input-error-message');\n      if (validationMessage) {\n        if ($errorEl.length === 0) {\n          $errorEl = $(\n            `<div class=\"${\n              $inputWrapEl.length ? 'input-error-message' : 'item-input-error-message'\n            }\"></div>`,\n          );\n          $errorEl.insertAfter($inputEl);\n        }\n        $errorEl.text(validationMessage);\n      }\n      if ($errorEl.length > 0) {\n        $itemInputEl.addClass('item-input-with-error-message');\n        $inputWrapEl.addClass('input-with-error-message');\n      }\n      $itemInputEl.addClass('item-input-invalid');\n      $inputWrapEl.addClass('input-invalid');\n      $inputEl.addClass('input-invalid');\n      setReadonly();\n      return false;\n    }\n    $itemInputEl.removeClass('item-input-invalid item-input-with-error-message');\n    $inputWrapEl.removeClass('input-invalid input-with-error-message');\n    $inputEl.removeClass('input-invalid');\n    setReadonly();\n    return true;\n  },\n  validateInputs(el) {\n    const app = this;\n    const validates = $(el)\n      .find('input, textarea, select')\n      .map((inputEl) => app.input.validate(inputEl));\n    return validates.indexOf(false) < 0;\n  },\n  focus(inputEl) {\n    const $inputEl = $(inputEl);\n    const type = $inputEl.attr('type');\n    if (Input.ignoreTypes.indexOf(type) >= 0) return;\n    $inputEl.parents('.item-input').addClass('item-input-focused');\n    $inputEl.parents('.input').addClass('input-focused');\n    $inputEl.addClass('input-focused');\n  },\n  blur(inputEl) {\n    const $inputEl = $(inputEl);\n    $inputEl.parents('.item-input').removeClass('item-input-focused');\n    $inputEl.parents('.input').removeClass('input-focused');\n    $inputEl.removeClass('input-focused');\n  },\n  checkEmptyState(inputEl) {\n    const app = this;\n    let $inputEl = $(inputEl);\n    if (!$inputEl.is('input, select, textarea, .item-input [contenteditable]')) {\n      $inputEl = $inputEl.find('input, select, textarea, .item-input [contenteditable]').eq(0);\n    }\n    if (!$inputEl.length) return;\n    const isContentEditable = $inputEl[0].hasAttribute('contenteditable');\n    let value;\n    if (isContentEditable) {\n      if ($inputEl.find('.text-editor-placeholder').length) value = '';\n      else value = $inputEl.html();\n    } else {\n      value = $inputEl.val();\n    }\n    const $itemInputEl = $inputEl.parents('.item-input');\n    const $inputWrapEl = $inputEl.parents('.input');\n    if (\n      (value && typeof value === 'string' && value.trim() !== '') ||\n      (Array.isArray(value) && value.length > 0)\n    ) {\n      $itemInputEl.addClass('item-input-with-value');\n      $inputWrapEl.addClass('input-with-value');\n      $inputEl.addClass('input-with-value');\n      $inputEl.trigger('input:notempty');\n      app.emit('inputNotEmpty', $inputEl[0]);\n    } else {\n      $itemInputEl.removeClass('item-input-with-value');\n      $inputWrapEl.removeClass('input-with-value');\n      $inputEl.removeClass('input-with-value');\n      $inputEl.trigger('input:empty');\n      app.emit('inputEmpty', $inputEl[0]);\n    }\n  },\n  scrollIntoView(inputEl, duration = 0, centered, force) {\n    const $inputEl = $(inputEl);\n    const $scrollableEl = $inputEl\n      .parents('.page-content, .panel, .card-expandable .card-content')\n      .eq(0);\n    if (!$scrollableEl.length) {\n      return false;\n    }\n    const contentHeight = $scrollableEl[0].offsetHeight;\n    const contentScrollTop = $scrollableEl[0].scrollTop;\n    const contentPaddingTop = parseInt($scrollableEl.css('padding-top'), 10);\n    const contentPaddingBottom = parseInt($scrollableEl.css('padding-bottom'), 10);\n    const contentOffsetTop = $scrollableEl.offset().top - contentScrollTop;\n\n    const inputOffsetTop = $inputEl.offset().top - contentOffsetTop;\n    const inputHeight = $inputEl[0].offsetHeight;\n\n    const min = inputOffsetTop + contentScrollTop - contentPaddingTop;\n    const max =\n      inputOffsetTop + contentScrollTop - contentHeight + contentPaddingBottom + inputHeight;\n    const centeredPosition = min + (max - min) / 2;\n\n    if (contentScrollTop > min) {\n      $scrollableEl.scrollTop(centered ? centeredPosition : min, duration);\n      return true;\n    }\n    if (contentScrollTop < max) {\n      $scrollableEl.scrollTop(centered ? centeredPosition : max, duration);\n      return true;\n    }\n    if (force) {\n      $scrollableEl.scrollTop(centered ? centeredPosition : max, duration);\n    }\n    return false;\n  },\n  init() {\n    const app = this;\n    const device = getDevice();\n    const window = getWindow();\n    const document = getDocument();\n    Input.createTextareaResizableShadow();\n    function onFocus() {\n      const inputEl = this;\n      if (app.params.input.scrollIntoViewOnFocus) {\n        if (device.android) {\n          $(window).once('resize', () => {\n            if (document && document.activeElement === inputEl) {\n              app.input.scrollIntoView(\n                inputEl,\n                app.params.input.scrollIntoViewDuration,\n                app.params.input.scrollIntoViewCentered,\n                app.params.input.scrollIntoViewAlways,\n              );\n            }\n          });\n        } else {\n          app.input.scrollIntoView(\n            inputEl,\n            app.params.input.scrollIntoViewDuration,\n            app.params.input.scrollIntoViewCentered,\n            app.params.input.scrollIntoViewAlways,\n          );\n        }\n      }\n      app.input.focus(inputEl);\n    }\n    function onBlur() {\n      const $inputEl = $(this);\n      const tag = $inputEl[0].nodeName.toLowerCase();\n      app.input.blur($inputEl);\n      if (\n        $inputEl.dataset().validate ||\n        $inputEl.attr('validate') !== null ||\n        $inputEl.attr('data-validate-on-blur') !== null\n      ) {\n        app.input.validate($inputEl);\n      }\n      // Resize textarea\n      if (tag === 'textarea' && $inputEl.hasClass('resizable')) {\n        if (Input.textareaResizableShadow) Input.textareaResizableShadow.remove();\n      }\n    }\n    function onChange() {\n      const $inputEl = $(this);\n      const type = $inputEl.attr('type');\n      const tag = $inputEl[0].nodeName.toLowerCase();\n      const isContentEditable = $inputEl[0].hasAttribute('contenteditable');\n      if (Input.ignoreTypes.indexOf(type) >= 0) return;\n\n      // Check Empty State\n      app.input.checkEmptyState($inputEl);\n      if (isContentEditable) return;\n\n      // Check validation\n      if (\n        $inputEl.attr('data-validate-on-blur') === null &&\n        ($inputEl.dataset().validate || $inputEl.attr('validate') !== null)\n      ) {\n        app.input.validate($inputEl);\n      }\n\n      // Resize textarea\n      if (tag === 'textarea' && $inputEl.hasClass('resizable')) {\n        app.input.resizeTextarea($inputEl);\n      }\n    }\n    function onInvalid(e) {\n      const $inputEl = $(this);\n      if (\n        $inputEl.attr('data-validate-on-blur') === null &&\n        ($inputEl.dataset().validate || $inputEl.attr('validate') !== null)\n      ) {\n        e.preventDefault();\n        app.input.validate($inputEl);\n      }\n    }\n    function clearInput() {\n      const $clicked = $(this);\n      const $inputEl = $clicked.siblings('input, textarea').eq(0);\n      const previousValue = $inputEl.val();\n      $inputEl.val('').trigger('input change').focus().trigger('input:clear', previousValue);\n      app.emit('inputClear', previousValue);\n    }\n    function preventDefault(e) {\n      e.preventDefault();\n    }\n    $(document).on('click', '.input-clear-button', clearInput);\n    $(document).on('mousedown', '.input-clear-button', preventDefault);\n    $(document).on(\n      'change input',\n      'input, textarea, select, .item-input [contenteditable]',\n      onChange,\n      true,\n    );\n    $(document).on(\n      'focus',\n      'input, textarea, select, .item-input [contenteditable]',\n      onFocus,\n      true,\n    );\n    $(document).on('blur', 'input, textarea, select, .item-input [contenteditable]', onBlur, true);\n    $(document).on('invalid', 'input, textarea, select', onInvalid, true);\n  },\n};\n\nexport default {\n  name: 'input',\n  params: {\n    input: {\n      scrollIntoViewOnFocus: undefined,\n      scrollIntoViewCentered: false,\n      scrollIntoViewDuration: 0,\n      scrollIntoViewAlways: false,\n    },\n  },\n  create() {\n    const app = this;\n    if (typeof app.params.input.scrollIntoViewOnFocus === 'undefined') {\n      app.params.input.scrollIntoViewOnFocus = getDevice().android;\n    }\n    bindMethods(app, {\n      input: Input,\n    });\n  },\n  on: {\n    init() {\n      const app = this;\n      app.input.init();\n    },\n    tabMounted(tabEl) {\n      const app = this;\n      const $tabEl = $(tabEl);\n      $tabEl.find('.item-input, .input').each((itemInputEl) => {\n        const $itemInputEl = $(itemInputEl);\n        $itemInputEl.find('input, select, textarea, [contenteditable]').each((inputEl) => {\n          const $inputEl = $(inputEl);\n          if (Input.ignoreTypes.indexOf($inputEl.attr('type')) >= 0) return;\n          app.input.checkEmptyState($inputEl);\n        });\n      });\n      $tabEl.find('textarea.resizable').each((textareaEl) => {\n        app.input.resizeTextarea(textareaEl);\n      });\n    },\n    pageInit(page) {\n      const app = this;\n      const $pageEl = page.$el;\n      $pageEl.find('.item-input, .input').each((itemInputEl) => {\n        const $itemInputEl = $(itemInputEl);\n        $itemInputEl.find('input, select, textarea, [contenteditable]').each((inputEl) => {\n          const $inputEl = $(inputEl);\n          if (Input.ignoreTypes.indexOf($inputEl.attr('type')) >= 0) return;\n          app.input.checkEmptyState($inputEl);\n        });\n      });\n      $pageEl.find('textarea.resizable').each((textareaEl) => {\n        app.input.resizeTextarea(textareaEl);\n      });\n    },\n    'panelBreakpoint panelCollapsedBreakpoint panelResize panelOpen panelSwipeOpen resize viewMasterDetailBreakpoint':\n      function onPanelOpen(instance) {\n        const app = this;\n        if (instance && instance.$el) {\n          instance.$el.find('textarea.resizable').each((textareaEl) => {\n            app.input.resizeTextarea(textareaEl);\n          });\n        } else {\n          $('textarea.resizable').each((textareaEl) => {\n            app.input.resizeTextarea(textareaEl);\n          });\n        }\n      },\n  },\n};\n","export default {\n  name: 'checkbox',\n};\n","export default {\n  name: 'radio',\n};\n","import $ from '../../shared/dom7';\nimport { extend, now, nextTick, deleteProps } from '../../shared/utils';\nimport Framework7Class from '../../shared/class';\nimport { getSupport } from '../../shared/get-support';\n\nclass Toggle extends Framework7Class {\n  constructor(app, params = {}) {\n    super(params, [app]);\n    const toggle = this;\n    const support = getSupport();\n\n    const defaults = {};\n\n    // Extend defaults with modules params\n    toggle.useModulesParams(defaults);\n\n    toggle.params = extend(defaults, params);\n\n    const el = toggle.params.el;\n    if (!el) return toggle;\n\n    const $el = $(el);\n    if ($el.length === 0) return toggle;\n\n    if ($el[0].f7Toggle) return $el[0].f7Toggle;\n\n    const $inputEl = $el.children('input[type=\"checkbox\"]');\n\n    extend(toggle, {\n      app,\n      $el,\n      el: $el[0],\n      $inputEl,\n      inputEl: $inputEl[0],\n      disabled:\n        $el.hasClass('disabled') ||\n        $inputEl.hasClass('disabled') ||\n        $inputEl.attr('disabled') ||\n        $inputEl[0].disabled,\n    });\n\n    Object.defineProperty(toggle, 'checked', {\n      enumerable: true,\n      configurable: true,\n      set(checked) {\n        if (!toggle || typeof toggle.$inputEl === 'undefined') return;\n        if (toggle.checked === checked) return;\n        $inputEl[0].checked = checked;\n        toggle.$inputEl.trigger('change');\n      },\n      get() {\n        return $inputEl[0].checked;\n      },\n    });\n\n    $el[0].f7Toggle = toggle;\n\n    let isTouched;\n    const touchesStart = {};\n    let isScrolling;\n    let touchesDiff;\n    let toggleWidth;\n    let touchStartTime;\n    let touchStartChecked;\n    function handleTouchStart(e) {\n      if (isTouched || toggle.disabled) return;\n      touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n      touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n      touchesDiff = 0;\n\n      isTouched = true;\n      isScrolling = undefined;\n      touchStartTime = now();\n      touchStartChecked = toggle.checked;\n\n      toggleWidth = $el[0].offsetWidth;\n      nextTick(() => {\n        if (isTouched) {\n          $el.addClass('toggle-active-state');\n        }\n      });\n    }\n    function handleTouchMove(e) {\n      if (!isTouched || toggle.disabled) return;\n      const pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n      const pageY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n      const inverter = app.rtl ? -1 : 1;\n\n      if (typeof isScrolling === 'undefined') {\n        isScrolling = !!(\n          isScrolling || Math.abs(pageY - touchesStart.y) > Math.abs(pageX - touchesStart.x)\n        );\n      }\n      if (isScrolling) {\n        isTouched = false;\n        return;\n      }\n      e.preventDefault();\n\n      touchesDiff = pageX - touchesStart.x;\n\n      let changed;\n      if (\n        touchesDiff * inverter < 0 &&\n        Math.abs(touchesDiff) > toggleWidth / 3 &&\n        touchStartChecked\n      ) {\n        changed = true;\n      }\n      if (\n        touchesDiff * inverter > 0 &&\n        Math.abs(touchesDiff) > toggleWidth / 3 &&\n        !touchStartChecked\n      ) {\n        changed = true;\n      }\n      if (changed) {\n        touchesStart.x = pageX;\n        toggle.checked = !touchStartChecked;\n        touchStartChecked = !touchStartChecked;\n      }\n    }\n    function handleTouchEnd() {\n      if (!isTouched || toggle.disabled) {\n        if (isScrolling) $el.removeClass('toggle-active-state');\n        isTouched = false;\n        return;\n      }\n      const inverter = app.rtl ? -1 : 1;\n      isTouched = false;\n\n      $el.removeClass('toggle-active-state');\n\n      let changed;\n      if (now() - touchStartTime < 300) {\n        if (touchesDiff * inverter < 0 && touchStartChecked) {\n          changed = true;\n        }\n        if (touchesDiff * inverter > 0 && !touchStartChecked) {\n          changed = true;\n        }\n        if (changed) {\n          toggle.checked = !touchStartChecked;\n        }\n      }\n    }\n    function handleInputChange() {\n      toggle.$el.trigger('toggle:change');\n      toggle.emit('local::change toggleChange', toggle);\n    }\n    toggle.attachEvents = function attachEvents() {\n      const passive = support.passiveListener ? { passive: true } : false;\n      $el.on(app.touchEvents.start, handleTouchStart, passive);\n      app.on('touchmove', handleTouchMove);\n      app.on('touchend:passive', handleTouchEnd);\n      toggle.$inputEl.on('change', handleInputChange);\n    };\n    toggle.detachEvents = function detachEvents() {\n      const passive = support.passiveListener ? { passive: true } : false;\n      $el.off(app.touchEvents.start, handleTouchStart, passive);\n      app.off('touchmove', handleTouchMove);\n      app.off('touchend:passive', handleTouchEnd);\n      toggle.$inputEl.off('change', handleInputChange);\n    };\n\n    // Install Modules\n    toggle.useModules();\n\n    // Init\n    toggle.init();\n  }\n\n  toggle() {\n    const toggle = this;\n    toggle.checked = !toggle.checked;\n  }\n\n  init() {\n    const toggle = this;\n    toggle.attachEvents();\n  }\n\n  destroy() {\n    let toggle = this;\n    toggle.$el.trigger('toggle:beforedestroy');\n    toggle.emit('local::beforeDestroy toggleBeforeDestroy', toggle);\n    delete toggle.$el[0].f7Toggle;\n    toggle.detachEvents();\n    deleteProps(toggle);\n    toggle = null;\n  }\n}\n\nexport default Toggle;\n","import $ from '../../shared/dom7';\nimport ConstructorMethods from '../../shared/constructor-methods';\nimport Toggle from './toggle-class';\n\nexport default {\n  name: 'toggle',\n  create() {\n    const app = this;\n    app.toggle = ConstructorMethods({\n      defaultSelector: '.toggle',\n      constructor: Toggle,\n      app,\n      domProp: 'f7Toggle',\n    });\n  },\n  static: {\n    Toggle,\n  },\n  on: {\n    tabMounted(tabEl) {\n      const app = this;\n      $(tabEl)\n        .find('.toggle-init')\n        .each((toggleEl) => app.toggle.create({ el: toggleEl }));\n    },\n    tabBeforeRemove(tabEl) {\n      $(tabEl)\n        .find('.toggle-init')\n        .each((toggleEl) => {\n          if (toggleEl.f7Toggle) toggleEl.f7Toggle.destroy();\n        });\n    },\n    pageInit(page) {\n      const app = this;\n      page.$el.find('.toggle-init').each((toggleEl) => app.toggle.create({ el: toggleEl }));\n    },\n    pageBeforeRemove(page) {\n      page.$el.find('.toggle-init').each((toggleEl) => {\n        if (toggleEl.f7Toggle) toggleEl.f7Toggle.destroy();\n      });\n    },\n  },\n  vnode: {\n    'toggle-init': {\n      insert(vnode) {\n        const app = this;\n        const toggleEl = vnode.elm;\n        app.toggle.create({ el: toggleEl });\n      },\n      destroy(vnode) {\n        const toggleEl = vnode.elm;\n        if (toggleEl.f7Toggle) toggleEl.f7Toggle.destroy();\n      },\n    },\n  },\n};\n","import $ from '../../shared/dom7';\nimport { extend, nextTick, deleteProps } from '../../shared/utils';\nimport Framework7Class from '../../shared/class';\nimport { getSupport } from '../../shared/get-support';\n\nclass Range extends Framework7Class {\n  constructor(app, params) {\n    super(params, [app]);\n\n    const range = this;\n    const support = getSupport();\n\n    const defaults = {\n      el: null,\n      inputEl: null,\n      dual: false,\n      step: 1,\n      label: false,\n      min: 0,\n      max: 100,\n      value: 0,\n      draggableBar: true,\n      vertical: false,\n      verticalReversed: false,\n      formatLabel: null,\n      scale: false,\n      scaleSteps: 5,\n      scaleSubSteps: 0,\n      formatScaleLabel: null,\n      limitKnobPosition: app.theme === 'ios',\n    };\n\n    // Extend defaults with modules params\n    range.useModulesParams(defaults);\n\n    range.params = extend(defaults, params);\n\n    const el = range.params.el;\n    if (!el) return range;\n\n    const $el = $(el);\n    if ($el.length === 0) return range;\n\n    if ($el[0].f7Range) return $el[0].f7Range;\n\n    const dataset = $el.dataset();\n\n    'step min max value scaleSteps scaleSubSteps'.split(' ').forEach((paramName) => {\n      if (typeof params[paramName] === 'undefined' && typeof dataset[paramName] !== 'undefined') {\n        range.params[paramName] = parseFloat(dataset[paramName]);\n      }\n    });\n    'dual label vertical verticalReversed scale'.split(' ').forEach((paramName) => {\n      if (typeof params[paramName] === 'undefined' && typeof dataset[paramName] !== 'undefined') {\n        range.params[paramName] = dataset[paramName];\n      }\n    });\n\n    if (!range.params.value) {\n      if (typeof dataset.value !== 'undefined') range.params.value = dataset.value;\n      if (typeof dataset.valueLeft !== 'undefined' && typeof dataset.valueRight !== 'undefined') {\n        range.params.value = [parseFloat(dataset.valueLeft), parseFloat(dataset.valueRight)];\n      }\n    }\n\n    let $inputEl;\n    if (!range.params.dual) {\n      if (range.params.inputEl) {\n        $inputEl = $(range.params.inputEl);\n      } else if ($el.find('input[type=\"range\"]').length) {\n        $inputEl = $el.find('input[type=\"range\"]').eq(0);\n      }\n    }\n\n    const {\n      dual,\n      step,\n      label,\n      min,\n      max,\n      value,\n      vertical,\n      verticalReversed,\n      scale,\n      scaleSteps,\n      scaleSubSteps,\n      limitKnobPosition,\n    } = range.params;\n\n    extend(range, {\n      app,\n      $el,\n      el: $el[0],\n      $inputEl,\n      inputEl: $inputEl ? $inputEl[0] : undefined,\n      dual,\n      step,\n      label,\n      min,\n      max,\n      value,\n      previousValue: value,\n      vertical,\n      verticalReversed,\n      scale,\n      scaleSteps,\n      scaleSubSteps,\n      limitKnobPosition,\n    });\n\n    if ($inputEl) {\n      'step min max'.split(' ').forEach((paramName) => {\n        if (!params[paramName] && $inputEl.attr(paramName)) {\n          range.params[paramName] = parseFloat($inputEl.attr(paramName));\n          range[paramName] = parseFloat($inputEl.attr(paramName));\n        }\n      });\n      if (typeof $inputEl.val() !== 'undefined') {\n        range.params.value = parseFloat($inputEl.val());\n        range.value = parseFloat($inputEl.val());\n      }\n    }\n\n    // Dual\n    if (range.dual) {\n      $el.addClass('range-slider-dual');\n    }\n    if (range.label) {\n      $el.addClass('range-slider-label');\n    }\n\n    // Vertical\n    if (range.vertical) {\n      $el.addClass('range-slider-vertical');\n      if (range.verticalReversed) {\n        $el.addClass('range-slider-vertical-reversed');\n      }\n    } else {\n      $el.addClass('range-slider-horizontal');\n    }\n\n    // Check for layout\n    const $barEl = $('<div class=\"range-bar\"></div>');\n    const $barActiveEl = $('<div class=\"range-bar-active\"></div>');\n    $barEl.append($barActiveEl);\n\n    // Create Knobs\n    // prettier-ignore\n    const knobHTML = `\n      <div class=\"range-knob-wrap\">\n        <div class=\"range-knob\"></div>\n        ${range.label ? '<div class=\"range-knob-label\"></div>' : ''}\n      </div>\n    `;\n    const knobs = [$(knobHTML)];\n\n    if (range.dual) {\n      knobs.push($(knobHTML));\n    }\n\n    $el.append($barEl);\n    knobs.forEach(($knobEl) => {\n      $el.append($knobEl);\n    });\n\n    // Labels\n    const labels = [];\n    if (range.label) {\n      labels.push(knobs[0].find('.range-knob-label'));\n      if (range.dual) {\n        labels.push(knobs[1].find('.range-knob-label'));\n      }\n    }\n\n    // Scale\n    let $scaleEl;\n    if (range.scale && range.scaleSteps >= 1) {\n      $scaleEl = $(`\n        <div class=\"range-scale\">\n          ${range.renderScale()}\n        </div>\n      `);\n      $el.append($scaleEl);\n    }\n\n    extend(range, {\n      knobs,\n      labels,\n      $barEl,\n      $barActiveEl,\n      $scaleEl,\n    });\n\n    $el[0].f7Range = range;\n\n    // Touch Events\n    let isTouched;\n    const touchesStart = {};\n    let isScrolling;\n    let rangeOffset;\n    let rangeOffsetLeft;\n    let rangeOffsetTop;\n    let $touchedKnobEl;\n    let dualValueIndex;\n    let valueChangedByTouch;\n    let targetTouchIdentifier;\n    function onTouchChange() {\n      valueChangedByTouch = true;\n    }\n    function handleTouchStart(e) {\n      if (isTouched) return;\n      if (!range.params.draggableBar) {\n        if ($(e.target).closest('.range-knob').length === 0) {\n          return;\n        }\n      }\n      valueChangedByTouch = false;\n      touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n      touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n      if (e.type === 'touchstart') {\n        targetTouchIdentifier = e.targetTouches[0].identifier;\n      }\n\n      isTouched = true;\n      isScrolling = undefined;\n      rangeOffset = $el.offset();\n      rangeOffsetLeft = rangeOffset.left;\n      rangeOffsetTop = rangeOffset.top;\n\n      let progress;\n      if (range.vertical) {\n        progress = (touchesStart.y - rangeOffsetTop) / range.rangeHeight;\n        if (!range.verticalReversed) progress = 1 - progress;\n      } else if (range.app.rtl) {\n        progress = (rangeOffsetLeft + range.rangeWidth - touchesStart.x) / range.rangeWidth;\n      } else {\n        progress = (touchesStart.x - rangeOffsetLeft) / range.rangeWidth;\n      }\n\n      let newValue = progress * (range.max - range.min) + range.min;\n      if (range.dual) {\n        if (Math.abs(range.value[0] - newValue) < Math.abs(range.value[1] - newValue)) {\n          dualValueIndex = 0;\n          $touchedKnobEl = range.knobs[0];\n          newValue = [newValue, range.value[1]];\n        } else {\n          dualValueIndex = 1;\n          $touchedKnobEl = range.knobs[1];\n          newValue = [range.value[0], newValue];\n        }\n      } else {\n        $touchedKnobEl = range.knobs[0];\n        newValue = progress * (range.max - range.min) + range.min;\n      }\n      nextTick(() => {\n        if (isTouched) $touchedKnobEl.addClass('range-knob-active-state');\n      }, 70);\n      range.on('change', onTouchChange);\n      range.setValue(newValue, true);\n    }\n    function handleTouchMove(e) {\n      if (!isTouched) return;\n      let pageX;\n      let pageY;\n      if (e.type === 'touchmove') {\n        for (let i = 0; i < e.targetTouches.length; i += 1) {\n          if (e.targetTouches[i].identifier === targetTouchIdentifier) {\n            pageX = e.targetTouches[i].pageX;\n            pageY = e.targetTouches[i].pageY;\n          }\n        }\n      } else {\n        pageX = e.pageX;\n        pageY = e.pageY;\n      }\n      if (typeof pageX === 'undefined' && typeof pageY === 'undefined') return;\n\n      if (typeof isScrolling === 'undefined' && !range.vertical) {\n        isScrolling = !!(\n          isScrolling || Math.abs(pageY - touchesStart.y) > Math.abs(pageX - touchesStart.x)\n        );\n      }\n      if (isScrolling) {\n        isTouched = false;\n        return;\n      }\n      e.preventDefault();\n\n      let progress;\n      if (range.vertical) {\n        progress = (pageY - rangeOffsetTop) / range.rangeHeight;\n        if (!range.verticalReversed) progress = 1 - progress;\n      } else if (range.app.rtl) {\n        progress = (rangeOffsetLeft + range.rangeWidth - pageX) / range.rangeWidth;\n      } else {\n        progress = (pageX - rangeOffsetLeft) / range.rangeWidth;\n      }\n\n      let newValue = progress * (range.max - range.min) + range.min;\n      if (range.dual) {\n        let leftValue;\n        let rightValue;\n        if (dualValueIndex === 0) {\n          leftValue = newValue;\n          rightValue = range.value[1];\n          if (leftValue > rightValue) {\n            rightValue = leftValue;\n          }\n        } else {\n          leftValue = range.value[0];\n          rightValue = newValue;\n          if (rightValue < leftValue) {\n            leftValue = rightValue;\n          }\n        }\n        newValue = [leftValue, rightValue];\n      }\n      range.setValue(newValue, true);\n    }\n    function handleTouchEnd(e) {\n      if (e.type === 'touchend') {\n        let touchEnded;\n        for (let i = 0; i < e.changedTouches.length; i += 1) {\n          if (e.changedTouches[i].identifier === targetTouchIdentifier) touchEnded = true;\n        }\n        if (!touchEnded) return;\n      }\n      if (!isTouched) {\n        if (isScrolling) $touchedKnobEl.removeClass('range-knob-active-state');\n        isTouched = false;\n        return;\n      }\n      range.off('change', onTouchChange);\n      isTouched = false;\n      $touchedKnobEl.removeClass('range-knob-active-state');\n      if (valueChangedByTouch && range.$inputEl && !range.dual) {\n        range.$inputEl.trigger('change');\n      }\n      valueChangedByTouch = false;\n      if (typeof range.previousValue !== 'undefined') {\n        if (\n          (range.dual &&\n            (range.previousValue[0] !== range.value[0] ||\n              range.previousValue[1] !== range.value[1])) ||\n          (!range.dual && range.previousValue !== range.value)\n        ) {\n          range.$el.trigger('range:changed', range.value);\n          range.emit('local::changed rangeChanged', range, range.value);\n        }\n      }\n    }\n\n    function handleResize() {\n      range.calcSize();\n      range.layout();\n    }\n    let parentModals;\n    let parentPanel;\n    let parentPage;\n    range.attachEvents = function attachEvents() {\n      const passive = support.passiveListener ? { passive: true } : false;\n      range.$el.on(app.touchEvents.start, handleTouchStart, passive);\n      app.on('touchmove', handleTouchMove);\n      app.on('touchend:passive', handleTouchEnd);\n      app.on('tabShow', handleResize);\n      app.on('resize', handleResize);\n      parentModals = range.$el.parents(\n        '.sheet-modal, .actions-modal, .popup, .popover, .login-screen, .dialog, .toast',\n      );\n      parentModals.on('modal:open', handleResize);\n      parentPanel = range.$el.parents('.panel');\n      parentPanel.on('panel:open panel:resize', handleResize);\n      parentPage = range.$el.parents('.page').eq(0);\n      parentPage.on('page:reinit', handleResize);\n    };\n    range.detachEvents = function detachEvents() {\n      const passive = support.passiveListener ? { passive: true } : false;\n      range.$el.off(app.touchEvents.start, handleTouchStart, passive);\n      app.off('touchmove', handleTouchMove);\n      app.off('touchend:passive', handleTouchEnd);\n      app.off('tabShow', handleResize);\n      app.off('resize', handleResize);\n      if (parentModals) {\n        parentModals.off('modal:open', handleResize);\n      }\n      if (parentPanel) {\n        parentPanel.off('panel:open panel:resize', handleResize);\n      }\n      if (parentPage) {\n        parentPage.off('page:reinit', handleResize);\n      }\n      parentModals = null;\n      parentPanel = null;\n      parentPage = null;\n    };\n\n    // Install Modules\n    range.useModules();\n\n    // Init\n    range.init();\n\n    return range;\n  }\n\n  calcSize() {\n    const range = this;\n    if (range.vertical) {\n      const height = range.$el.outerHeight();\n      if (height === 0) return;\n      range.rangeHeight = height;\n      range.knobHeight = range.knobs[0].outerHeight();\n    } else {\n      const width = range.$el.outerWidth();\n      if (width === 0) return;\n      range.rangeWidth = width;\n      range.knobWidth = range.knobs[0].outerWidth();\n    }\n  }\n\n  layout() {\n    const range = this;\n    const {\n      app,\n      knobWidth,\n      knobHeight,\n      rangeWidth,\n      rangeHeight,\n      min,\n      max,\n      knobs,\n      $barActiveEl,\n      value,\n      label,\n      labels,\n      vertical,\n      verticalReversed,\n      limitKnobPosition,\n    } = range;\n    const knobSize = vertical ? knobHeight : knobWidth;\n    const rangeSize = vertical ? rangeHeight : rangeWidth;\n    // eslint-disable-next-line\n    const positionProperty = vertical\n      ? verticalReversed\n        ? 'top'\n        : 'bottom'\n      : app.rtl\n      ? 'right'\n      : 'left';\n    if (range.dual) {\n      const progress = [(value[0] - min) / (max - min), (value[1] - min) / (max - min)];\n      $barActiveEl.css({\n        [positionProperty]: `${progress[0] * 100}%`,\n        [vertical ? 'height' : 'width']: `${(progress[1] - progress[0]) * 100}%`,\n      });\n      knobs.forEach(($knobEl, knobIndex) => {\n        let startPos = rangeSize * progress[knobIndex];\n        if (limitKnobPosition) {\n          const realStartPos = rangeSize * progress[knobIndex] - knobSize / 2;\n          if (realStartPos < 0) startPos = knobSize / 2;\n          if (realStartPos + knobSize > rangeSize) startPos = rangeSize - knobSize / 2;\n        }\n        $knobEl.css(positionProperty, `${startPos}px`);\n        if (label)\n          labels[knobIndex].text(range.formatLabel(value[knobIndex], labels[knobIndex][0]));\n      });\n    } else {\n      const progress = (value - min) / (max - min);\n      $barActiveEl.css(vertical ? 'height' : 'width', `${progress * 100}%`);\n\n      let startPos = rangeSize * progress;\n      if (limitKnobPosition) {\n        const realStartPos = rangeSize * progress - knobSize / 2;\n        if (realStartPos < 0) startPos = knobSize / 2;\n        if (realStartPos + knobSize > rangeSize) startPos = rangeSize - knobSize / 2;\n      }\n      knobs[0].css(positionProperty, `${startPos}px`);\n      if (label) labels[0].text(range.formatLabel(value, labels[0][0]));\n    }\n    if ((range.dual && value.indexOf(min) >= 0) || (!range.dual && value === min)) {\n      range.$el.addClass('range-slider-min');\n    } else {\n      range.$el.removeClass('range-slider-min');\n    }\n    if ((range.dual && value.indexOf(max) >= 0) || (!range.dual && value === max)) {\n      range.$el.addClass('range-slider-max');\n    } else {\n      range.$el.removeClass('range-slider-max');\n    }\n  }\n\n  setValue(newValue, byTouchMove) {\n    const range = this;\n    const { step, min, max } = range;\n    let valueChanged;\n    let oldValue;\n    if (range.dual) {\n      oldValue = [range.value[0], range.value[1]];\n      let newValues = newValue;\n      if (!Array.isArray(newValues)) newValues = [newValue, newValue];\n      if (newValue[0] > newValue[1]) {\n        newValues = [newValues[0], newValues[0]];\n      }\n      newValues = newValues.map((value) =>\n        Math.max(Math.min(Math.round(value / step) * step, max), min),\n      );\n      if (newValues[0] === range.value[0] && newValues[1] === range.value[1]) {\n        return range;\n      }\n      newValues.forEach((value, valueIndex) => {\n        range.value[valueIndex] = value;\n      });\n      valueChanged = oldValue[0] !== newValues[0] || oldValue[1] !== newValues[1];\n      range.layout();\n    } else {\n      oldValue = range.value;\n      const value = Math.max(Math.min(Math.round(newValue / step) * step, max), min);\n      range.value = value;\n      range.layout();\n      valueChanged = oldValue !== value;\n    }\n\n    if (valueChanged) {\n      range.previousValue = oldValue;\n    }\n    // Events\n    if (!valueChanged) return range;\n    range.$el.trigger('range:change', range.value);\n    if (range.$inputEl && !range.dual) {\n      range.$inputEl.val(range.value);\n      if (!byTouchMove) {\n        range.$inputEl.trigger('input change');\n      } else {\n        range.$inputEl.trigger('input');\n      }\n    }\n    if (!byTouchMove) {\n      range.$el.trigger('range:changed', range.value);\n      range.emit('local::changed rangeChanged', range, range.value);\n    }\n    range.emit('local::change rangeChange', range, range.value);\n    return range;\n  }\n\n  getValue() {\n    return this.value;\n  }\n\n  formatLabel(value, labelEl) {\n    const range = this;\n    if (range.params.formatLabel) return range.params.formatLabel.call(range, value, labelEl);\n    return value;\n  }\n\n  formatScaleLabel(value) {\n    const range = this;\n    if (range.params.formatScaleLabel) return range.params.formatScaleLabel.call(range, value);\n    return value;\n  }\n\n  renderScale() {\n    const range = this;\n    const { app, verticalReversed, vertical } = range;\n\n    // eslint-disable-next-line\n    const positionProperty = vertical\n      ? verticalReversed\n        ? 'top'\n        : 'bottom'\n      : app.rtl\n      ? 'right'\n      : 'left';\n\n    let html = '';\n    Array.from({ length: range.scaleSteps + 1 }).forEach((scaleEl, index) => {\n      const scaleStepValue = (range.max - range.min) / range.scaleSteps;\n      const scaleValue = range.min + scaleStepValue * index;\n      const progress = (scaleValue - range.min) / (range.max - range.min);\n      html += `<div class=\"range-scale-step\" style=\"${positionProperty}: ${\n        progress * 100\n      }%\">${range.formatScaleLabel(scaleValue)}</div>`;\n\n      if (range.scaleSubSteps && range.scaleSubSteps > 1 && index < range.scaleSteps) {\n        Array.from({ length: range.scaleSubSteps - 1 }).forEach((subStepEl, subIndex) => {\n          const subStep = scaleStepValue / range.scaleSubSteps;\n          const scaleSubValue = scaleValue + subStep * (subIndex + 1);\n          const subProgress = (scaleSubValue - range.min) / (range.max - range.min);\n          html += `<div class=\"range-scale-step range-scale-substep\" style=\"${positionProperty}: ${\n            subProgress * 100\n          }%\"></div>`;\n        });\n      }\n    });\n\n    return html;\n  }\n\n  updateScale() {\n    const range = this;\n    if (!range.scale || range.scaleSteps < 1) {\n      if (range.$scaleEl) range.$scaleEl.remove();\n      delete range.$scaleEl;\n      return;\n    }\n    if (!range.$scaleEl) {\n      range.$scaleEl = $('<div class=\"range-scale\"></div>');\n      range.$el.append(range.$scaleEl);\n    }\n\n    range.$scaleEl.html(range.renderScale());\n  }\n\n  init() {\n    const range = this;\n    range.calcSize();\n    range.layout();\n    range.attachEvents();\n    return range;\n  }\n\n  destroy() {\n    let range = this;\n    range.$el.trigger('range:beforedestroy');\n    range.emit('local::beforeDestroy rangeBeforeDestroy', range);\n    delete range.$el[0].f7Range;\n    range.detachEvents();\n    deleteProps(range);\n    range = null;\n  }\n}\n\nexport default Range;\n","import $ from '../../shared/dom7';\nimport { extend } from '../../shared/utils';\nimport Range from './range-class';\nimport ConstructorMethods from '../../shared/constructor-methods';\n\nexport default {\n  name: 'range',\n  create() {\n    const app = this;\n    app.range = extend(\n      ConstructorMethods({\n        defaultSelector: '.range-slider',\n        constructor: Range,\n        app,\n        domProp: 'f7Range',\n      }),\n      {\n        getValue(el = '.range-slider') {\n          const range = app.range.get(el);\n          if (range) return range.getValue();\n          return undefined;\n        },\n        setValue(el = '.range-slider', value) {\n          const range = app.range.get(el);\n          if (range) return range.setValue(value);\n          return undefined;\n        },\n      },\n    );\n  },\n  static: {\n    Range,\n  },\n  on: {\n    tabMounted(tabEl) {\n      const app = this;\n      $(tabEl)\n        .find('.range-slider-init')\n        .each(\n          (rangeEl) =>\n            new Range(app, {\n              el: rangeEl,\n            }),\n        );\n    },\n    tabBeforeRemove(tabEl) {\n      $(tabEl)\n        .find('.range-slider-init')\n        .each((rangeEl) => {\n          if (rangeEl.f7Range) rangeEl.f7Range.destroy();\n        });\n    },\n    pageInit(page) {\n      const app = this;\n      page.$el.find('.range-slider-init').each(\n        (rangeEl) =>\n          new Range(app, {\n            el: rangeEl,\n          }),\n      );\n    },\n    pageBeforeRemove(page) {\n      page.$el.find('.range-slider-init').each((rangeEl) => {\n        if (rangeEl.f7Range) rangeEl.f7Range.destroy();\n      });\n    },\n  },\n  vnode: {\n    'range-slider-init': {\n      insert(vnode) {\n        const rangeEl = vnode.elm;\n        const app = this;\n        app.range.create({ el: rangeEl });\n      },\n      destroy(vnode) {\n        const rangeEl = vnode.elm;\n        if (rangeEl.f7Range) rangeEl.f7Range.destroy();\n      },\n    },\n  },\n};\n","import $ from '../../shared/dom7';\nimport { extend, deleteProps } from '../../shared/utils';\nimport Framework7Class from '../../shared/class';\n\nclass Stepper extends Framework7Class {\n  constructor(app, params) {\n    super(params, [app]);\n    const stepper = this;\n\n    const defaults = {\n      el: null,\n      inputEl: null,\n      valueEl: null,\n      value: 0,\n      formatValue: null,\n      step: 1,\n      min: 0,\n      max: 100,\n      watchInput: true,\n      autorepeat: false,\n      autorepeatDynamic: false,\n      wraps: false,\n      manualInputMode: false,\n      decimalPoint: 4,\n      buttonsEndInputMode: true,\n    };\n\n    // Extend defaults with modules params\n    stepper.useModulesParams(defaults);\n\n    stepper.params = extend(defaults, params);\n    if (stepper.params.value < stepper.params.min) {\n      stepper.params.value = stepper.params.min;\n    }\n    if (stepper.params.value > stepper.params.max) {\n      stepper.params.value = stepper.params.max;\n    }\n\n    const el = stepper.params.el;\n    if (!el) return stepper;\n\n    const $el = $(el);\n    if ($el.length === 0) return stepper;\n\n    if ($el[0].f7Stepper) return $el[0].f7Stepper;\n\n    let $inputEl;\n    if (stepper.params.inputEl) {\n      $inputEl = $(stepper.params.inputEl);\n    } else if ($el.find('.stepper-input-wrap').find('input, textarea').length) {\n      $inputEl = $el.find('.stepper-input-wrap').find('input, textarea').eq(0);\n    }\n\n    if ($inputEl && $inputEl.length) {\n      'step min max'.split(' ').forEach((paramName) => {\n        if (!params[paramName] && $inputEl.attr(paramName)) {\n          stepper.params[paramName] = parseFloat($inputEl.attr(paramName));\n        }\n      });\n\n      const decimalPoint = parseInt(stepper.params.decimalPoint, 10);\n      if (Number.isNaN(decimalPoint)) {\n        stepper.params.decimalPoint = 0;\n      } else {\n        stepper.params.decimalPoint = decimalPoint;\n      }\n\n      const inputValue = parseFloat($inputEl.val());\n      if (\n        typeof params.value === 'undefined' &&\n        !Number.isNaN(inputValue) &&\n        (inputValue || inputValue === 0)\n      ) {\n        stepper.params.value = inputValue;\n      }\n    }\n\n    let $valueEl;\n    if (stepper.params.valueEl) {\n      $valueEl = $(stepper.params.valueEl);\n    } else if ($el.find('.stepper-value').length) {\n      $valueEl = $el.find('.stepper-value').eq(0);\n    }\n\n    const $buttonPlusEl = $el.find('.stepper-button-plus');\n    const $buttonMinusEl = $el.find('.stepper-button-minus');\n\n    const { step, min, max, value, decimalPoint } = stepper.params;\n\n    extend(stepper, {\n      app,\n      $el,\n      el: $el[0],\n      $buttonPlusEl,\n      buttonPlusEl: $buttonPlusEl[0],\n      $buttonMinusEl,\n      buttonMinusEl: $buttonMinusEl[0],\n      $inputEl,\n      inputEl: $inputEl ? $inputEl[0] : undefined,\n      $valueEl,\n      valueEl: $valueEl ? $valueEl[0] : undefined,\n      step,\n      min,\n      max,\n      value,\n      decimalPoint,\n      typeModeChanged: false,\n    });\n\n    $el[0].f7Stepper = stepper;\n\n    // Handle Events\n    const touchesStart = {};\n    let isTouched;\n    let isScrolling;\n    let preventButtonClick;\n    let intervalId;\n    let timeoutId;\n    let autorepeatAction = null;\n    let autorepeatInAction = false;\n    let manualInput = false;\n\n    function dynamicRepeat(current, progressions, startsIn, progressionStep, repeatEvery, action) {\n      clearTimeout(timeoutId);\n      timeoutId = setTimeout(\n        () => {\n          if (current === 1) {\n            preventButtonClick = true;\n            autorepeatInAction = true;\n          }\n          clearInterval(intervalId);\n          action();\n          intervalId = setInterval(() => {\n            action();\n          }, repeatEvery);\n          if (current < progressions) {\n            dynamicRepeat(\n              current + 1,\n              progressions,\n              startsIn,\n              progressionStep,\n              repeatEvery / 2,\n              action,\n            );\n          }\n        },\n        current === 1 ? startsIn : progressionStep,\n      );\n    }\n\n    function onTouchStart(e) {\n      if (isTouched) return;\n      if (manualInput) {\n        return;\n      }\n      if ($(e.target).closest($buttonPlusEl).length) {\n        autorepeatAction = 'increment';\n      } else if ($(e.target).closest($buttonMinusEl).length) {\n        autorepeatAction = 'decrement';\n      }\n      if (!autorepeatAction) return;\n\n      touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n      touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n      isTouched = true;\n      isScrolling = undefined;\n\n      const progressions = stepper.params.autorepeatDynamic ? 4 : 1;\n      dynamicRepeat(1, progressions, 500, 1000, 300, () => {\n        stepper[autorepeatAction]();\n      });\n    }\n    function onTouchMove(e) {\n      if (!isTouched) return;\n      if (manualInput) {\n        return;\n      }\n      const pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n      const pageY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\n      if (typeof isScrolling === 'undefined' && !autorepeatInAction) {\n        isScrolling = !!(\n          isScrolling || Math.abs(pageY - touchesStart.y) > Math.abs(pageX - touchesStart.x)\n        );\n      }\n      const distance = ((pageX - touchesStart.x) ** 2 + (pageY - touchesStart.y) ** 2) ** 0.5;\n\n      if (isScrolling || distance > 20) {\n        isTouched = false;\n        clearTimeout(timeoutId);\n        clearInterval(intervalId);\n      }\n    }\n    function onTouchEnd() {\n      clearTimeout(timeoutId);\n      clearInterval(intervalId);\n      autorepeatAction = null;\n      autorepeatInAction = false;\n      isTouched = false;\n    }\n\n    function onMinusClick() {\n      if (manualInput) {\n        if (stepper.params.buttonsEndInputMode) {\n          manualInput = false;\n          stepper.endTypeMode(true);\n        }\n        return;\n      }\n      if (preventButtonClick) {\n        preventButtonClick = false;\n        return;\n      }\n      stepper.decrement(true);\n    }\n    function onPlusClick() {\n      if (manualInput) {\n        if (stepper.params.buttonsEndInputMode) {\n          manualInput = false;\n          stepper.endTypeMode(true);\n        }\n        return;\n      }\n      if (preventButtonClick) {\n        preventButtonClick = false;\n        return;\n      }\n      stepper.increment(true);\n    }\n    function onInputClick(e) {\n      if (!e.target.readOnly && stepper.params.manualInputMode) {\n        manualInput = true;\n        if (typeof e.target.selectionStart === 'number') {\n          e.target.selectionStart = e.target.value.length;\n          e.target.selectionEnd = e.target.value.length;\n        }\n      }\n    }\n    function onInputKey(e) {\n      if (e.keyCode === 13 || e.which === 13) {\n        e.preventDefault();\n        manualInput = false;\n        stepper.endTypeMode();\n      }\n    }\n    function onInputBlur() {\n      manualInput = false;\n      stepper.endTypeMode(true);\n    }\n    function onInput(e) {\n      if (manualInput) {\n        stepper.typeValue(e.target.value);\n        return;\n      }\n      if (e.detail && e.detail.sentByF7Stepper) return;\n      stepper.setValue(e.target.value, true);\n    }\n    stepper.attachEvents = function attachEvents() {\n      $buttonMinusEl.on('click', onMinusClick);\n      $buttonPlusEl.on('click', onPlusClick);\n      if (stepper.params.watchInput && $inputEl && $inputEl.length) {\n        $inputEl.on('input', onInput);\n        $inputEl.on('click', onInputClick);\n        $inputEl.on('blur', onInputBlur);\n        $inputEl.on('keyup', onInputKey);\n      }\n      if (stepper.params.autorepeat) {\n        app.on('touchstart:passive', onTouchStart);\n        app.on('touchmove:active', onTouchMove);\n        app.on('touchend:passive', onTouchEnd);\n      }\n    };\n    stepper.detachEvents = function detachEvents() {\n      $buttonMinusEl.off('click', onMinusClick);\n      $buttonPlusEl.off('click', onPlusClick);\n      if (stepper.params.watchInput && $inputEl && $inputEl.length) {\n        $inputEl.off('input', onInput);\n        $inputEl.off('click', onInputClick);\n        $inputEl.off('blur', onInputBlur);\n        $inputEl.off('keyup', onInputKey);\n      }\n    };\n\n    // Install Modules\n    stepper.useModules();\n\n    // Init\n    stepper.init();\n\n    return stepper;\n  }\n\n  minus() {\n    return this.decrement();\n  }\n\n  plus() {\n    return this.increment();\n  }\n\n  decrement() {\n    const stepper = this;\n    return stepper.setValue(stepper.value - stepper.step, false, true);\n  }\n\n  increment() {\n    const stepper = this;\n    return stepper.setValue(stepper.value + stepper.step, false, true);\n  }\n\n  setValue(newValue, forceUpdate, withWraps) {\n    const stepper = this;\n    const { step, min, max } = stepper;\n\n    const oldValue = stepper.value;\n\n    let value = Math.round(newValue / step) * step;\n    if (stepper.params.wraps && withWraps) {\n      if (value > max) value = min;\n      if (value < min) value = max;\n    } else {\n      value = Math.max(Math.min(value, max), min);\n    }\n\n    if (Number.isNaN(value)) {\n      value = oldValue;\n    }\n    stepper.value = value;\n\n    const valueChanged = oldValue !== value;\n\n    // Events\n    if (!valueChanged && !forceUpdate) return stepper;\n\n    stepper.$el.trigger('stepper:change', stepper.value);\n    const formattedValue = stepper.formatValue(stepper.value);\n    if (stepper.$inputEl && stepper.$inputEl.length) {\n      stepper.$inputEl.val(formattedValue);\n      stepper.$inputEl.trigger('input change', { sentByF7Stepper: true });\n    }\n    if (stepper.$valueEl && stepper.$valueEl.length) {\n      stepper.$valueEl.html(formattedValue);\n    }\n    stepper.emit('local::change stepperChange', stepper, stepper.value);\n    return stepper;\n  }\n\n  endTypeMode(noBlur) {\n    const stepper = this;\n    const { min, max } = stepper;\n    let value = parseFloat(stepper.value);\n\n    if (Number.isNaN(value)) value = 0;\n\n    value = Math.max(Math.min(value, max), min);\n\n    stepper.value = value;\n    if (!stepper.typeModeChanged) {\n      if (stepper.$inputEl && stepper.$inputEl.length && !noBlur) {\n        stepper.$inputEl.blur();\n      }\n      return stepper;\n    }\n    stepper.typeModeChanged = false;\n\n    stepper.$el.trigger('stepper:change', stepper.value);\n    const formattedValue = stepper.formatValue(stepper.value);\n    if (stepper.$inputEl && stepper.$inputEl.length) {\n      stepper.$inputEl.val(formattedValue);\n      stepper.$inputEl.trigger('input change', { sentByF7Stepper: true });\n      if (!noBlur) stepper.$inputEl.blur();\n    }\n    if (stepper.$valueEl && stepper.$valueEl.length) {\n      stepper.$valueEl.html(formattedValue);\n    }\n    stepper.emit('local::change stepperChange', stepper, stepper.value);\n    return stepper;\n  }\n\n  typeValue(value) {\n    const stepper = this;\n    stepper.typeModeChanged = true;\n    let inputTxt = String(value);\n    if (inputTxt.length === 1 && inputTxt === '-') return stepper;\n    if (\n      inputTxt.lastIndexOf('.') + 1 === inputTxt.length ||\n      inputTxt.lastIndexOf(',') + 1 === inputTxt.length\n    ) {\n      if (\n        inputTxt.lastIndexOf('.') !== inputTxt.indexOf('.') ||\n        inputTxt.lastIndexOf(',') !== inputTxt.indexOf(',')\n      ) {\n        inputTxt = inputTxt.slice(0, -1);\n        stepper.value = inputTxt;\n        stepper.$inputEl.val(stepper.value);\n        return stepper;\n      }\n    } else {\n      let newValue = parseFloat(inputTxt.replace(',', '.'));\n      if (newValue === 0) {\n        stepper.value = inputTxt.replace(',', '.');\n        stepper.$inputEl.val(stepper.value);\n        return stepper;\n      }\n      if (Number.isNaN(newValue)) {\n        stepper.value = 0;\n        stepper.$inputEl.val(stepper.value);\n        return stepper;\n      }\n      const powVal = 10 ** stepper.params.decimalPoint;\n      newValue = Math.round(newValue * powVal).toFixed(stepper.params.decimalPoint + 1) / powVal;\n      stepper.value = parseFloat(String(newValue).replace(',', '.'));\n      stepper.$inputEl.val(stepper.value);\n      return stepper;\n    }\n    stepper.value = inputTxt;\n    stepper.$inputEl.val(inputTxt);\n    return stepper;\n  }\n\n  getValue() {\n    return this.value;\n  }\n\n  formatValue(value) {\n    const stepper = this;\n    if (!stepper.params.formatValue) return value;\n    return stepper.params.formatValue.call(stepper, value);\n  }\n\n  init() {\n    const stepper = this;\n    stepper.attachEvents();\n    if (stepper.$valueEl && stepper.$valueEl.length) {\n      const formattedValue = stepper.formatValue(stepper.value);\n      stepper.$valueEl.html(formattedValue);\n    }\n    return stepper;\n  }\n\n  destroy() {\n    let stepper = this;\n    stepper.$el.trigger('stepper:beforedestroy');\n    stepper.emit('local::beforeDestroy stepperBeforeDestroy', stepper);\n    delete stepper.$el[0].f7Stepper;\n    stepper.detachEvents();\n    deleteProps(stepper);\n    stepper = null;\n  }\n}\n\nexport default Stepper;\n","import $ from '../../shared/dom7';\nimport { extend } from '../../shared/utils';\nimport Stepper from './stepper-class';\nimport ConstructorMethods from '../../shared/constructor-methods';\n\nexport default {\n  name: 'stepper',\n  create() {\n    const app = this;\n    app.stepper = extend(\n      ConstructorMethods({\n        defaultSelector: '.stepper',\n        constructor: Stepper,\n        app,\n        domProp: 'f7Stepper',\n      }),\n      {\n        getValue(el = '.stepper') {\n          const stepper = app.stepper.get(el);\n          if (stepper) return stepper.getValue();\n          return undefined;\n        },\n        setValue(el = '.stepper', value) {\n          const stepper = app.stepper.get(el);\n          if (stepper) return stepper.setValue(value);\n          return undefined;\n        },\n      },\n    );\n  },\n  static: {\n    Stepper,\n  },\n  on: {\n    tabMounted(tabEl) {\n      const app = this;\n      $(tabEl)\n        .find('.stepper-init')\n        .each((stepperEl) => {\n          const dataset = $(stepperEl).dataset();\n          app.stepper.create(extend({ el: stepperEl }, dataset || {}));\n        });\n    },\n    tabBeforeRemove(tabEl) {\n      $(tabEl)\n        .find('.stepper-init')\n        .each((stepperEl) => {\n          if (stepperEl.f7Stepper) stepperEl.f7Stepper.destroy();\n        });\n    },\n    pageInit(page) {\n      const app = this;\n      page.$el.find('.stepper-init').each((stepperEl) => {\n        const dataset = $(stepperEl).dataset();\n        app.stepper.create(extend({ el: stepperEl }, dataset || {}));\n      });\n    },\n    pageBeforeRemove(page) {\n      page.$el.find('.stepper-init').each((stepperEl) => {\n        if (stepperEl.f7Stepper) stepperEl.f7Stepper.destroy();\n      });\n    },\n  },\n  vnode: {\n    'stepper-init': {\n      insert(vnode) {\n        const app = this;\n        const stepperEl = vnode.elm;\n        const dataset = $(stepperEl).dataset();\n        app.stepper.create(extend({ el: stepperEl }, dataset || {}));\n      },\n      destroy(vnode) {\n        const stepperEl = vnode.elm;\n        if (stepperEl.f7Stepper) stepperEl.f7Stepper.destroy();\n      },\n    },\n  },\n};\n","import $ from '../../shared/dom7';\nimport { extend, deleteProps, id, nextTick } from '../../shared/utils';\nimport Framework7Class from '../../shared/class';\n/** @jsx $jsx */\nimport $jsx from '../../shared/$jsx';\n\nclass SmartSelect extends Framework7Class {\n  constructor(app, params = {}) {\n    super(params, [app]);\n    const ss = this;\n\n    const defaults = extend(\n      {\n        on: {},\n      },\n      app.params.smartSelect,\n    );\n\n    if (typeof defaults.searchbarDisableButton === 'undefined') {\n      defaults.searchbarDisableButton = app.theme !== 'aurora';\n    }\n\n    // Extend defaults with modules params\n    ss.useModulesParams(defaults);\n\n    ss.params = extend({}, defaults, params);\n\n    ss.app = app;\n\n    const $el = $(ss.params.el).eq(0);\n    if ($el.length === 0) return ss;\n\n    if ($el[0].f7SmartSelect) return $el[0].f7SmartSelect;\n\n    const $selectEl = $el.find('select').eq(0);\n    if ($selectEl.length === 0) return ss;\n\n    let $valueEl;\n    if (ss.params.setValueText) {\n      $valueEl = $(ss.params.valueEl);\n      if ($valueEl.length === 0) {\n        $valueEl = $el.find('.item-after');\n      }\n      if ($valueEl.length === 0) {\n        $valueEl = $('<div class=\"item-after\"></div>');\n        $valueEl.insertAfter($el.find('.item-title'));\n      }\n    }\n\n    // Url\n    let url = params.url;\n    if (!url) {\n      if ($el.attr('href') && $el.attr('href') !== '#') url = $el.attr('href');\n      else if ($selectEl.attr('name')) url = `${$selectEl.attr('name').toLowerCase()}-select/`;\n    }\n    if (!url) url = ss.params.url;\n\n    const multiple = $selectEl[0].multiple;\n    const inputType = multiple ? 'checkbox' : 'radio';\n    const selectId = id();\n\n    extend(ss, {\n      $el,\n      el: $el[0],\n      $selectEl,\n      selectEl: $selectEl[0],\n      $valueEl,\n      valueEl: $valueEl && $valueEl[0],\n      url,\n      multiple,\n      inputType,\n      id: selectId,\n      inputName: `${inputType}-${selectId}`,\n      selectName: $selectEl.attr('name'),\n      maxLength: $selectEl.attr('maxlength') || params.maxLength,\n    });\n\n    $el[0].f7SmartSelect = ss;\n\n    // Events\n    function onClick() {\n      ss.open();\n    }\n    function onChange() {\n      const value = ss.$selectEl.val();\n      ss.$el.trigger('smartselect:change', value);\n      ss.emit('local::change smartSelectChange', ss, value);\n      if (ss.vl) {\n        ss.vl.clearCache();\n      }\n      ss.setValueText();\n    }\n    ss.attachEvents = function attachEvents() {\n      $el.on('click', onClick);\n      $el.on('change', 'select', onChange);\n    };\n    ss.detachEvents = function detachEvents() {\n      $el.off('click', onClick);\n      $el.off('change', 'select', onChange);\n    };\n\n    function handleInputChange() {\n      let optionEl;\n      let text;\n      const inputEl = this;\n      const value = inputEl.value;\n      let optionText = [];\n      let displayAs;\n      if (inputEl.type === 'checkbox') {\n        for (let i = 0; i < ss.selectEl.options.length; i += 1) {\n          optionEl = ss.selectEl.options[i];\n          if (optionEl.value === value) {\n            optionEl.selected = inputEl.checked;\n          }\n          if (optionEl.selected) {\n            displayAs = optionEl.dataset\n              ? optionEl.dataset.displayAs\n              : $(optionEl).data('display-value-as');\n            text = displayAs && typeof displayAs !== 'undefined' ? displayAs : optionEl.textContent;\n            optionText.push(text.trim());\n          }\n        }\n        if (ss.maxLength) {\n          ss.checkMaxLength();\n        }\n      } else {\n        optionEl = ss.$selectEl.find(`option[value=\"${value}\"]`)[0];\n        if (!optionEl) {\n          optionEl = ss.$selectEl.find('option').filter((optEl) => optEl.value === value)[0];\n        }\n        displayAs = optionEl.dataset ? optionEl.dataset.displayAs : $(optionEl).data('display-as');\n        text = displayAs && typeof displayAs !== 'undefined' ? displayAs : optionEl.textContent;\n        optionText = [text];\n        ss.selectEl.value = value;\n      }\n\n      ss.$selectEl.trigger('change');\n      if (ss.params.setValueText) {\n        ss.$valueEl.text(ss.formatValueText(optionText));\n      }\n      if (ss.params.closeOnSelect && ss.inputType === 'radio') {\n        ss.close();\n      }\n    }\n\n    ss.attachInputsEvents = function attachInputsEvents() {\n      ss.$containerEl.on(\n        'change',\n        'input[type=\"checkbox\"], input[type=\"radio\"]',\n        handleInputChange,\n      );\n    };\n    ss.detachInputsEvents = function detachInputsEvents() {\n      ss.$containerEl.off(\n        'change',\n        'input[type=\"checkbox\"], input[type=\"radio\"]',\n        handleInputChange,\n      );\n    };\n\n    // Install Modules\n    ss.useModules();\n\n    // Init\n    ss.init();\n\n    return ss;\n  }\n\n  setValue(value) {\n    const ss = this;\n    let newValue = value;\n    let optionText = [];\n    let optionEl;\n    let displayAs;\n    let text;\n    if (ss.multiple) {\n      if (!Array.isArray(newValue)) newValue = [newValue];\n      for (let i = 0; i < ss.selectEl.options.length; i += 1) {\n        optionEl = ss.selectEl.options[i];\n        if (newValue.indexOf(optionEl.value) >= 0) {\n          optionEl.selected = true;\n        } else {\n          optionEl.selected = false;\n        }\n        if (optionEl.selected) {\n          displayAs = optionEl.dataset\n            ? optionEl.dataset.displayAs\n            : $(optionEl).data('display-value-as');\n          text = displayAs && typeof displayAs !== 'undefined' ? displayAs : optionEl.textContent;\n          optionText.push(text.trim());\n        }\n      }\n    } else {\n      optionEl = ss.$selectEl.find(`option[value=\"${newValue}\"]`)[0];\n      if (optionEl) {\n        displayAs = optionEl.dataset ? optionEl.dataset.displayAs : $(optionEl).data('display-as');\n        text = displayAs && typeof displayAs !== 'undefined' ? displayAs : optionEl.textContent;\n        optionText = [text];\n      }\n      ss.selectEl.value = newValue;\n    }\n    if (ss.params.setValueText) {\n      ss.$valueEl.text(ss.formatValueText(optionText));\n    }\n    ss.$selectEl.trigger('change');\n    return ss;\n  }\n\n  unsetValue() {\n    const ss = this;\n    if (ss.params.setValueText) {\n      ss.$valueEl.text(ss.formatValueText([]));\n    }\n    ss.$selectEl.find('option').each((optionEl) => {\n      optionEl.selected = false;\n      optionEl.checked = false;\n    });\n    ss.$selectEl[0].value = null;\n\n    if (ss.$containerEl) {\n      ss.$containerEl\n        .find(\n          `input[name=\"${ss.inputName}\"][type=\"checkbox\"], input[name=\"${ss.inputName}\"][type=\"radio\"]`,\n        )\n        .prop('checked', false);\n    }\n    ss.$selectEl.trigger('change');\n  }\n\n  getValue() {\n    const ss = this;\n    return ss.$selectEl.val();\n  }\n\n  get view() {\n    const { params, $el } = this;\n    let view;\n    if (params.view) {\n      view = params.view;\n    }\n    if (!view) {\n      view = $el.parents('.view').length && $el.parents('.view')[0].f7View;\n    }\n    if (!view && params.openIn === 'page') {\n      throw Error('Smart Select requires initialized View');\n    }\n    return view;\n  }\n\n  checkMaxLength() {\n    const ss = this;\n    const $containerEl = ss.$containerEl;\n    if (ss.selectEl.selectedOptions.length >= ss.maxLength) {\n      $containerEl.find('input[type=\"checkbox\"]').each((inputEl) => {\n        if (!inputEl.checked) {\n          $(inputEl).parents('li').addClass('disabled');\n        } else {\n          $(inputEl).parents('li').removeClass('disabled');\n        }\n      });\n    } else {\n      $containerEl.find('.disabled').removeClass('disabled');\n    }\n  }\n\n  formatValueText(values) {\n    const ss = this;\n    let textValue;\n    if (ss.params.formatValueText) {\n      textValue = ss.params.formatValueText.call(ss, values, ss);\n    } else {\n      textValue = values.join(', ');\n    }\n    return textValue;\n  }\n\n  setValueText(value) {\n    const ss = this;\n    let valueArray = [];\n    if (typeof value !== 'undefined') {\n      if (Array.isArray(value)) {\n        valueArray = value;\n      } else {\n        valueArray = [value];\n      }\n    } else {\n      ss.$selectEl.find('option').each((optionEl) => {\n        const $optionEl = $(optionEl);\n        if (optionEl.selected) {\n          const displayAs = optionEl.dataset\n            ? optionEl.dataset.displayAs\n            : $optionEl.data('display-value-as');\n          if (displayAs && typeof displayAs !== 'undefined') {\n            valueArray.push(displayAs);\n          } else {\n            valueArray.push(optionEl.textContent.trim());\n          }\n        }\n      });\n    }\n    if (ss.params.setValueText) {\n      ss.$valueEl.text(ss.formatValueText(valueArray));\n    }\n  }\n\n  getItemsData() {\n    const ss = this;\n    const theme = ss.app.theme;\n    const items = [];\n    let previousGroupEl;\n    ss.$selectEl.find('option').each((optionEl) => {\n      const $optionEl = $(optionEl);\n      const optionData = $optionEl.dataset();\n      const optionImage = optionData.optionImage || ss.params.optionImage;\n      const optionIcon = optionData.optionIcon || ss.params.optionIcon;\n      const optionIconIos =\n        theme === 'ios' && (optionData.optionIconIos || ss.params.optionIconIos);\n      const optionIconMd = theme === 'md' && (optionData.optionIconMd || ss.params.optionIconMd);\n      const optionIconAurora =\n        theme === 'aurora' && (optionData.optionIconAurora || ss.params.optionIconAurora);\n      const optionHasMedia =\n        optionImage || optionIcon || optionIconIos || optionIconMd || optionIconAurora;\n      const optionColor = optionData.optionColor;\n\n      let optionClassName = optionData.optionClass || '';\n      if ($optionEl[0].disabled) optionClassName += ' disabled';\n\n      const optionGroupEl = $optionEl.parent('optgroup')[0];\n      const optionGroupLabel = optionGroupEl && optionGroupEl.label;\n      let optionIsLabel = false;\n      if (optionGroupEl && optionGroupEl !== previousGroupEl) {\n        optionIsLabel = true;\n        previousGroupEl = optionGroupEl;\n        items.push({\n          groupLabel: optionGroupLabel,\n          isLabel: optionIsLabel,\n        });\n      }\n      items.push({\n        value: $optionEl[0].value,\n        text: $optionEl[0].textContent.trim(),\n        selected: $optionEl[0].selected,\n        groupEl: optionGroupEl,\n        groupLabel: optionGroupLabel,\n        image: optionImage,\n        icon: optionIcon,\n        iconIos: optionIconIos,\n        iconMd: optionIconMd,\n        iconAurora: optionIconAurora,\n        color: optionColor,\n        className: optionClassName,\n        disabled: $optionEl[0].disabled,\n        id: ss.id,\n        hasMedia: optionHasMedia,\n        checkbox: ss.inputType === 'checkbox',\n        radio: ss.inputType === 'radio',\n        inputName: ss.inputName,\n        inputType: ss.inputType,\n      });\n    });\n    ss.items = items;\n    return items;\n  }\n\n  renderSearchbar() {\n    const ss = this;\n    if (ss.params.renderSearchbar) return ss.params.renderSearchbar.call(ss);\n    return (\n      <form class=\"searchbar\">\n        <div class=\"searchbar-inner\">\n          <div class=\"searchbar-input-wrap\">\n            <input\n              type=\"search\"\n              spellcheck={ss.params.searchbarSpellcheck || 'false'}\n              placeholder={ss.params.searchbarPlaceholder}\n            />\n            <i class=\"searchbar-icon\"></i>\n            <span class=\"input-clear-button\"></span>\n          </div>\n          {ss.params.searchbarDisableButton && (\n            <span class=\"searchbar-disable-button\">{ss.params.searchbarDisableText}</span>\n          )}\n        </div>\n      </form>\n    );\n  }\n\n  renderItem(item, index) {\n    const ss = this;\n    if (ss.params.renderItem) return ss.params.renderItem.call(ss, item, index);\n\n    function getIconContent(iconValue = '') {\n      if (iconValue.indexOf(':') >= 0) {\n        return iconValue.split(':')[1];\n      }\n      return '';\n    }\n    function getIconClass(iconValue = '') {\n      if (iconValue.indexOf(':') >= 0) {\n        let className = iconValue.split(':')[0];\n        if (className === 'f7') className = 'f7-icons';\n        if (className === 'material') className = 'material-icons';\n        return className;\n      }\n      return iconValue;\n    }\n\n    let itemHtml;\n    if (item.isLabel) {\n      itemHtml = `<li class=\"item-divider\">${item.groupLabel}</li>`;\n    } else {\n      let selected = item.selected;\n      let disabled;\n      if (ss.params.virtualList) {\n        const ssValue = ss.getValue();\n        selected = ss.multiple ? ssValue.indexOf(item.value) >= 0 : ssValue === item.value;\n        if (ss.multiple) {\n          disabled = ss.multiple && !selected && ssValue.length === parseInt(ss.maxLength, 10);\n        }\n      }\n\n      const { icon, iconIos, iconMd, iconAurora } = item;\n      const hasIcon = icon || iconIos || iconMd || iconAurora;\n      const iconContent = getIconContent(icon || iconIos || iconMd || iconAurora || '');\n      const iconClass = getIconClass(icon || iconIos || iconMd || iconAurora || '');\n\n      itemHtml = (\n        <li class={`${item.className || ''}${disabled ? ' disabled' : ''}`}>\n          <label class={`item-${item.inputType} item-content`}>\n            <input\n              type={item.inputType}\n              name={item.inputName}\n              value={item.value}\n              _checked={selected}\n            />\n            <i class={`icon icon-${item.inputType}`}></i>\n            {item.hasMedia && (\n              <div class=\"item-media\">\n                {hasIcon && <i class={`icon ${iconClass}`}>{iconContent}</i>}\n                {item.image && <img src={item.image} />}\n              </div>\n            )}\n            <div class=\"item-inner\">\n              <div class={`item-title${item.color ? ` text-color-${item.color}` : ''}`}>\n                {item.text}\n              </div>\n            </div>\n          </label>\n        </li>\n      );\n    }\n    return itemHtml;\n  }\n\n  renderItems() {\n    const ss = this;\n    if (ss.params.renderItems) return ss.params.renderItems.call(ss, ss.items);\n    const itemsHtml = `\n      ${ss.items.map((item, index) => `${ss.renderItem(item, index)}`).join('')}\n    `;\n    return itemsHtml;\n  }\n\n  renderPage() {\n    const ss = this;\n    if (ss.params.renderPage) return ss.params.renderPage.call(ss, ss.items);\n    let pageTitle = ss.params.pageTitle;\n    if (typeof pageTitle === 'undefined') {\n      const $itemTitleEl = ss.$el.find('.item-title');\n      pageTitle = $itemTitleEl.length ? $itemTitleEl.text().trim() : '';\n    }\n    const cssClass = ss.params.cssClass;\n    return (\n      <div\n        class={`page smart-select-page ${cssClass}`}\n        data-name=\"smart-select-page\"\n        data-select-name={ss.selectName}\n      >\n        <div\n          class={`navbar ${\n            ss.params.navbarColorTheme ? `color-${ss.params.navbarColorTheme}` : ''\n          }`}\n        >\n          <div class=\"navbar-bg\"></div>\n          <div\n            class={`navbar-inner sliding ${\n              ss.params.navbarColorTheme ? `color-${ss.params.navbarColorTheme}` : ''\n            }`}\n          >\n            <div class=\"left\">\n              <a class=\"link back\">\n                <i class=\"icon icon-back\"></i>\n                <span class=\"if-not-md\">{ss.params.pageBackLinkText}</span>\n              </a>\n            </div>\n            {pageTitle && <div class=\"title\">{pageTitle}</div>}\n            {ss.params.searchbar && <div class=\"subnavbar\">{ss.renderSearchbar()}</div>}\n          </div>\n        </div>\n        {ss.params.searchbar && <div class=\"searchbar-backdrop\"></div>}\n        <div class=\"page-content\">\n          <div\n            class={`list smart-select-list-${ss.id} ${\n              ss.params.virtualList ? ' virtual-list' : ''\n            } ${ss.params.formColorTheme ? `color-${ss.params.formColorTheme}` : ''}`}\n          >\n            <ul>{!ss.params.virtualList && ss.renderItems(ss.items)}</ul>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  renderPopup() {\n    const ss = this;\n    if (ss.params.renderPopup) return ss.params.renderPopup.call(ss, ss.items);\n    let pageTitle = ss.params.pageTitle;\n    if (typeof pageTitle === 'undefined') {\n      const $itemTitleEl = ss.$el.find('.item-title');\n      pageTitle = $itemTitleEl.length ? $itemTitleEl.text().trim() : '';\n    }\n    const cssClass = ss.params.cssClass || '';\n    return (\n      <div\n        class={`popup smart-select-popup ${cssClass} ${\n          ss.params.popupTabletFullscreen ? 'popup-tablet-fullscreen' : ''\n        }`}\n        data-select-name={ss.selectName}\n      >\n        <div class=\"view\">\n          <div\n            class={`page smart-select-page ${ss.params.searchbar ? 'page-with-subnavbar' : ''}`}\n            data-name=\"smart-select-page\"\n          >\n            <div\n              class={`navbar ${\n                ss.params.navbarColorTheme ? `color-${ss.params.navbarColorTheme}` : ''\n              }`}\n            >\n              <div class=\"navbar-bg\"></div>\n              <div class=\"navbar-inner sliding\">\n                {pageTitle && <div class=\"title\">{pageTitle}</div>}\n                <div class=\"right\">\n                  <a\n                    class=\"link popup-close\"\n                    data-popup={`.smart-select-popup[data-select-name='${ss.selectName}']`}\n                  >\n                    {ss.params.popupCloseLinkText}\n                  </a>\n                </div>\n                {ss.params.searchbar && <div class=\"subnavbar\">{ss.renderSearchbar()}</div>}\n              </div>\n            </div>\n            {ss.params.searchbar && <div class=\"searchbar-backdrop\"></div>}\n            <div class=\"page-content\">\n              <div\n                class={`list smart-select-list-${ss.id} ${\n                  ss.params.virtualList ? ' virtual-list' : ''\n                } ${ss.params.formColorTheme ? `color-${ss.params.formColorTheme}` : ''}`}\n              >\n                <ul>{!ss.params.virtualList && ss.renderItems(ss.items)}</ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  renderSheet() {\n    const ss = this;\n    if (ss.params.renderSheet) return ss.params.renderSheet.call(ss, ss.items);\n    const cssClass = ss.params.cssClass;\n    // prettier-ignore\n    return (\n      <div class={`sheet-modal smart-select-sheet ${cssClass}`} data-select-name={ss.selectName}>\n        <div class={`toolbar toolbar-top ${ss.params.toolbarColorTheme ? `color-${ss.params.toolbarColorTheme}` : ''}`}>\n          <div class=\"toolbar-inner\">\n            <div class=\"left\"></div>\n            <div class=\"right\">\n              <a class=\"link sheet-close\">{ss.params.sheetCloseLinkText}</a>\n            </div>\n          </div>\n        </div>\n        <div class=\"sheet-modal-inner\">\n          <div class=\"page-content\">\n            <div class={`list smart-select-list-${ss.id} ${ss.params.virtualList ? ' virtual-list' : ''} ${ss.params.formColorTheme ? `color-${ss.params.formColorTheme}` : ''}`}>\n              <ul>{!ss.params.virtualList && ss.renderItems(ss.items)}</ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  renderPopover() {\n    const ss = this;\n    if (ss.params.renderPopover) return ss.params.renderPopover.call(ss, ss.items);\n    const cssClass = ss.params.cssClass;\n    // prettier-ignore\n    return (\n      <div class={`popover smart-select-popover ${cssClass}`} data-select-name={ss.selectName}>\n        <div class=\"popover-inner\">\n          <div class={`list smart-select-list-${ss.id} ${ss.params.virtualList ? ' virtual-list' : ''} ${ss.params.formColorTheme ? `color-${ss.params.formColorTheme}` : ''}`}>\n            <ul>{!ss.params.virtualList && ss.renderItems(ss.items)}</ul>\n          </div>\n        </div>\n      </div>\n\n    )\n  }\n\n  scrollToSelectedItem() {\n    const ss = this;\n    const { params, $containerEl } = ss;\n    if (!ss.opened) return ss;\n    if (params.virtualList) {\n      let selectedIndex;\n      ss.vl.items.forEach((item, index) => {\n        if (typeof selectedIndex === 'undefined' && item.selected) {\n          selectedIndex = index;\n        }\n      });\n      if (typeof selectedIndex !== 'undefined') {\n        ss.vl.scrollToItem(selectedIndex);\n      }\n    } else {\n      const $selectedItemEl = $containerEl.find('input:checked').parents('li');\n      if (!$selectedItemEl.length) return ss;\n      const $scrollableEl = $containerEl.find('.page-content, .popover-inner');\n      if (!$scrollableEl.length) return ss;\n      $scrollableEl.scrollTop(\n        $selectedItemEl.offset().top -\n          $scrollableEl.offset().top -\n          parseInt($scrollableEl.css('padding-top'), 10),\n      );\n    }\n    return ss;\n  }\n\n  onOpen(type, containerEl) {\n    const ss = this;\n    const app = ss.app;\n    const $containerEl = $(containerEl);\n    ss.$containerEl = $containerEl;\n    ss.openedIn = type;\n    ss.opened = true;\n\n    // Init VL\n    if (ss.params.virtualList) {\n      ss.vl = app.virtualList.create({\n        el: $containerEl.find('.virtual-list'),\n        items: ss.items,\n        renderItem: ss.renderItem.bind(ss),\n        height: ss.params.virtualListHeight,\n        searchByItem(query, item) {\n          if (item.text && item.text.toLowerCase().indexOf(query.trim().toLowerCase()) >= 0)\n            return true;\n          return false;\n        },\n      });\n    }\n    if (ss.params.scrollToSelectedItem) {\n      ss.scrollToSelectedItem();\n    }\n\n    // Init SB\n    if (ss.params.searchbar) {\n      let $searchbarEl = $containerEl.find('.searchbar');\n      if (type === 'page' && app.theme === 'ios') {\n        $searchbarEl = $(app.navbar.getElByPage($containerEl)).find('.searchbar');\n      }\n\n      if (ss.params.appendSearchbarNotFound && (type === 'page' || type === 'popup')) {\n        let $notFoundEl = null;\n\n        if (typeof ss.params.appendSearchbarNotFound === 'string') {\n          $notFoundEl = $(\n            `<div class=\"block searchbar-not-found\">${ss.params.appendSearchbarNotFound}</div>`,\n          );\n        } else if (typeof ss.params.appendSearchbarNotFound === 'boolean') {\n          $notFoundEl = $('<div class=\"block searchbar-not-found\">Nothing found</div>');\n        } else {\n          $notFoundEl = ss.params.appendSearchbarNotFound;\n        }\n\n        if ($notFoundEl) {\n          $containerEl.find('.page-content').append($notFoundEl[0]);\n        }\n      }\n\n      const searchbarParams = extend(\n        {\n          el: $searchbarEl,\n          backdropEl: $containerEl.find('.searchbar-backdrop'),\n          searchContainer: `.smart-select-list-${ss.id}`,\n          searchIn: '.item-title',\n        },\n        typeof ss.params.searchbar === 'object' ? ss.params.searchbar : {},\n      );\n\n      ss.searchbar = app.searchbar.create(searchbarParams);\n    }\n\n    // Check for max length\n    if (ss.maxLength) {\n      ss.checkMaxLength();\n    }\n\n    // Close on select\n    if (ss.params.closeOnSelect) {\n      ss.$containerEl\n        .find(`input[type=\"radio\"][name=\"${ss.inputName}\"]:checked`)\n        .parents('label')\n        .once('click', () => {\n          ss.close();\n        });\n    }\n\n    // Attach input events\n    ss.attachInputsEvents();\n\n    ss.$el.trigger('smartselect:open');\n    ss.emit('local::open smartSelectOpen', ss);\n  }\n\n  onOpened() {\n    const ss = this;\n\n    ss.$el.trigger('smartselect:opened');\n    ss.emit('local::opened smartSelectOpened', ss);\n  }\n\n  onClose() {\n    const ss = this;\n    if (ss.destroyed) return;\n\n    // Destroy VL\n    if (ss.vl && ss.vl.destroy) {\n      ss.vl.destroy();\n      ss.vl = null;\n      delete ss.vl;\n    }\n\n    // Destroy SB\n    if (ss.searchbar && ss.searchbar.destroy) {\n      ss.searchbar.destroy();\n      ss.searchbar = null;\n      delete ss.searchbar;\n    }\n    // Detach events\n    ss.detachInputsEvents();\n\n    ss.$el.trigger('smartselect:close');\n    ss.emit('local::close smartSelectClose', ss);\n  }\n\n  onClosed() {\n    const ss = this;\n    if (ss.destroyed) return;\n    ss.opened = false;\n    ss.$containerEl = null;\n    delete ss.$containerEl;\n\n    ss.$el.trigger('smartselect:closed');\n    ss.emit('local::closed smartSelectClosed', ss);\n  }\n\n  openPage() {\n    const ss = this;\n    if (ss.opened) return ss;\n    ss.getItemsData();\n    const pageHtml = ss.renderPage(ss.items);\n\n    ss.view.router.navigate({\n      url: ss.url,\n      route: {\n        content: pageHtml,\n        path: ss.url,\n        on: {\n          pageBeforeIn(e, page) {\n            ss.onOpen('page', page.el);\n          },\n          pageAfterIn(e, page) {\n            ss.onOpened('page', page.el);\n          },\n          pageBeforeOut(e, page) {\n            ss.onClose('page', page.el);\n          },\n          pageAfterOut(e, page) {\n            ss.onClosed('page', page.el);\n          },\n        },\n      },\n    });\n    return ss;\n  }\n\n  openPopup() {\n    const ss = this;\n    if (ss.opened) return ss;\n    ss.getItemsData();\n    const popupHtml = ss.renderPopup(ss.items);\n\n    const popupParams = {\n      content: popupHtml,\n      push: ss.params.popupPush,\n      swipeToClose: ss.params.popupSwipeToClose,\n      on: {\n        popupOpen(popup) {\n          ss.onOpen('popup', popup.el);\n        },\n        popupOpened(popup) {\n          ss.onOpened('popup', popup.el);\n        },\n        popupClose(popup) {\n          ss.onClose('popup', popup.el);\n        },\n        popupClosed(popup) {\n          ss.onClosed('popup', popup.el);\n        },\n      },\n    };\n\n    if (ss.params.routableModals && ss.view) {\n      ss.view.router.navigate({\n        url: ss.url,\n        route: {\n          path: ss.url,\n          popup: popupParams,\n        },\n      });\n    } else {\n      ss.modal = ss.app.popup.create(popupParams).open();\n    }\n    return ss;\n  }\n\n  openSheet() {\n    const ss = this;\n    if (ss.opened) return ss;\n    ss.getItemsData();\n    const sheetHtml = ss.renderSheet(ss.items);\n\n    const sheetParams = {\n      content: sheetHtml,\n      backdrop: ss.params.sheetBackdrop,\n      scrollToEl: ss.$el,\n      closeByOutsideClick: true,\n      push: ss.params.sheetPush,\n      swipeToClose: ss.params.sheetSwipeToClose,\n      on: {\n        sheetOpen(sheet) {\n          ss.onOpen('sheet', sheet.el);\n        },\n        sheetOpened(sheet) {\n          ss.onOpened('sheet', sheet.el);\n        },\n        sheetClose(sheet) {\n          ss.onClose('sheet', sheet.el);\n        },\n        sheetClosed(sheet) {\n          ss.onClosed('sheet', sheet.el);\n        },\n      },\n    };\n\n    if (ss.params.routableModals && ss.view) {\n      ss.view.router.navigate({\n        url: ss.url,\n        route: {\n          path: ss.url,\n          sheet: sheetParams,\n        },\n      });\n    } else {\n      ss.modal = ss.app.sheet.create(sheetParams).open();\n    }\n    return ss;\n  }\n\n  openPopover() {\n    const ss = this;\n    if (ss.opened) return ss;\n    ss.getItemsData();\n    const popoverHtml = ss.renderPopover(ss.items);\n    const popoverParams = {\n      content: popoverHtml,\n      targetEl: ss.$el,\n      on: {\n        popoverOpen(popover) {\n          ss.onOpen('popover', popover.el);\n        },\n        popoverOpened(popover) {\n          ss.onOpened('popover', popover.el);\n        },\n        popoverClose(popover) {\n          ss.onClose('popover', popover.el);\n        },\n        popoverClosed(popover) {\n          ss.onClosed('popover', popover.el);\n        },\n      },\n    };\n    if (ss.params.routableModals && ss.view) {\n      ss.view.router.navigate({\n        url: ss.url,\n        route: {\n          path: ss.url,\n          popover: popoverParams,\n        },\n      });\n    } else {\n      ss.modal = ss.app.popover.create(popoverParams).open();\n    }\n    return ss;\n  }\n\n  open(type) {\n    const ss = this;\n    if (ss.opened) return ss;\n    let prevented = false;\n    function prevent() {\n      prevented = true;\n    }\n    if (ss.$el) {\n      ss.$el.trigger('smartselect:beforeopen', { prevent });\n    }\n    ss.emit('local::beforeOpen smartSelectBeforeOpen', ss, prevent);\n    if (prevented) return ss;\n    const openIn = type || ss.params.openIn;\n    ss[\n      `open${openIn\n        .split('')\n        .map((el, index) => {\n          if (index === 0) return el.toUpperCase();\n          return el;\n        })\n        .join('')}`\n    ]();\n    return ss;\n  }\n\n  close() {\n    const ss = this;\n    if (!ss.opened) return ss;\n    if ((ss.params.routableModals && ss.view) || ss.openedIn === 'page') {\n      ss.view.router.back();\n    } else {\n      ss.modal.once('modalClosed', () => {\n        nextTick(() => {\n          if (ss.destroyed) return;\n          ss.modal.destroy();\n          delete ss.modal;\n        });\n      });\n      ss.modal.close();\n    }\n    return ss;\n  }\n\n  init() {\n    const ss = this;\n    ss.attachEvents();\n    ss.setValueText();\n  }\n\n  destroy() {\n    const ss = this;\n    ss.emit('local::beforeDestroy smartSelectBeforeDestroy', ss);\n    ss.$el.trigger('smartselect:beforedestroy');\n    ss.detachEvents();\n    delete ss.$el[0].f7SmartSelect;\n    deleteProps(ss);\n    ss.destroyed = true;\n  }\n}\n\nexport default SmartSelect;\n","import $ from '../../shared/dom7';\nimport { extend } from '../../shared/utils';\nimport SmartSelect from './smart-select-class';\nimport ConstructorMethods from '../../shared/constructor-methods';\n\nexport default {\n  name: 'smartSelect',\n  params: {\n    smartSelect: {\n      el: undefined,\n      valueEl: undefined,\n      setValueText: true,\n      formatValueText: null,\n      openIn: 'page', // or 'popup' or 'sheet' or 'popover'\n      popupPush: false,\n      popupSwipeToClose: undefined, // defaults to app\n      sheetPush: false,\n      sheetSwipeToClose: undefined, // defaults to app\n      sheetBackdrop: false,\n      pageTitle: undefined,\n      pageBackLinkText: 'Back',\n      popupCloseLinkText: 'Close',\n      popupTabletFullscreen: false,\n      sheetCloseLinkText: 'Done',\n      searchbar: false,\n      searchbarPlaceholder: 'Search',\n      searchbarDisableText: 'Cancel',\n      searchbarDisableButton: undefined,\n      searchbarSpellcheck: false,\n      closeOnSelect: false,\n      virtualList: false,\n      virtualListHeight: undefined,\n      scrollToSelectedItem: false,\n      formColorTheme: undefined,\n      navbarColorTheme: undefined,\n      routableModals: false,\n      url: 'select/',\n      cssClass: '',\n      /*\n        Custom render functions\n      */\n      renderPage: undefined,\n      renderPopup: undefined,\n      renderSheet: undefined,\n      renderPopover: undefined,\n      renderItems: undefined,\n      renderItem: undefined,\n      renderSearchbar: undefined,\n    },\n  },\n  static: {\n    SmartSelect,\n  },\n  create() {\n    const app = this;\n    app.smartSelect = extend(\n      ConstructorMethods({\n        defaultSelector: '.smart-select',\n        constructor: SmartSelect,\n        app,\n        domProp: 'f7SmartSelect',\n      }),\n      {\n        open(smartSelectEl) {\n          const ss = app.smartSelect.get(smartSelectEl);\n          if (ss && ss.open) return ss.open();\n          return undefined;\n        },\n        close(smartSelectEl) {\n          const ss = app.smartSelect.get(smartSelectEl);\n          if (ss && ss.close) return ss.close();\n          return undefined;\n        },\n      },\n    );\n  },\n\n  on: {\n    tabMounted(tabEl) {\n      const app = this;\n      $(tabEl)\n        .find('.smart-select-init')\n        .each((smartSelectEl) => {\n          app.smartSelect.create(extend({ el: smartSelectEl }, $(smartSelectEl).dataset()));\n        });\n    },\n    tabBeforeRemove(tabEl) {\n      $(tabEl)\n        .find('.smart-select-init')\n        .each((smartSelectEl) => {\n          if (smartSelectEl.f7SmartSelect && smartSelectEl.f7SmartSelect.destroy) {\n            smartSelectEl.f7SmartSelect.destroy();\n          }\n        });\n    },\n    pageInit(page) {\n      const app = this;\n      page.$el.find('.smart-select-init').each((smartSelectEl) => {\n        app.smartSelect.create(extend({ el: smartSelectEl }, $(smartSelectEl).dataset()));\n      });\n    },\n    pageBeforeRemove(page) {\n      page.$el.find('.smart-select-init').each((smartSelectEl) => {\n        if (smartSelectEl.f7SmartSelect && smartSelectEl.f7SmartSelect.destroy) {\n          smartSelectEl.f7SmartSelect.destroy();\n        }\n      });\n    },\n  },\n  clicks: {\n    '.smart-select': function open($clickedEl, data) {\n      const app = this;\n      if (!$clickedEl[0].f7SmartSelect) {\n        const ss = app.smartSelect.create(extend({ el: $clickedEl }, data));\n        ss.open();\n      }\n    },\n  },\n  vnode: {\n    'smart-select-init': {\n      insert(vnode) {\n        const app = this;\n        const smartSelectEl = vnode.elm;\n        app.smartSelect.create(extend({ el: smartSelectEl }, $(smartSelectEl).dataset()));\n      },\n      destroy(vnode) {\n        const smartSelectEl = vnode.elm;\n        if (smartSelectEl.f7SmartSelect && smartSelectEl.f7SmartSelect.destroy) {\n          smartSelectEl.f7SmartSelect.destroy();\n        }\n      },\n    },\n  },\n};\n","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom7';\nimport { extend } from '../../shared/utils';\n\nfunction getElMinSize(dimension, $el) {\n  let minSize = $el.css(`min-${dimension}`);\n  if (minSize === 'auto' || minSize === 'none') {\n    minSize = 0;\n  } else if (minSize.indexOf('px') >= 0) {\n    minSize = parseFloat(minSize);\n  } else if (minSize.indexOf('%') >= 0) {\n    minSize =\n      ($el.parent()[0][dimension === 'height' ? 'offsetHeight' : 'offsetWidth'] *\n        parseFloat(minSize)) /\n      100;\n  }\n  return minSize;\n}\nfunction getElMaxSize(dimension, $el) {\n  let maxSize = $el.css(`max-${dimension}`);\n  if (maxSize === 'auto' || maxSize === 'none') {\n    maxSize = null;\n  } else if (maxSize.indexOf('px') >= 0) {\n    maxSize = parseFloat(maxSize);\n  } else if (maxSize.indexOf('%') >= 0) {\n    maxSize =\n      ($el.parent()[0][dimension === 'height' ? 'offsetHeight' : 'offsetWidth'] *\n        parseFloat(maxSize)) /\n      100;\n  }\n  return maxSize;\n}\n\nconst Grid = {\n  init() {\n    const app = this;\n    let isTouched;\n    let isMoved;\n    let touchStartX;\n    let touchStartY;\n    let $resizeHandlerEl;\n    let $prevResizableEl;\n    let $nextResizableEl;\n    let prevElSize;\n    let prevElMinSize;\n    let prevElMaxSize;\n    let nextElSize;\n    let nextElMinSize;\n    let nextElMaxSize;\n    let parentSize;\n    let itemsInFlow;\n    let gapSize;\n    let isScrolling;\n\n    function handleTouchStart(e) {\n      if (isTouched || isMoved) return;\n      $resizeHandlerEl = $(e.target).closest('.resize-handler');\n      touchStartX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n      touchStartY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n      isTouched = true;\n      $prevResizableEl = undefined;\n      $nextResizableEl = undefined;\n      isScrolling = undefined;\n    }\n\n    function handleTouchMove(e) {\n      if (!isTouched) return;\n      const isRow = $resizeHandlerEl.parent('.row').length === 1;\n      const sizeProp = isRow ? 'height' : 'width';\n      const getSizeProp = isRow ? 'offsetHeight' : 'offsetWidth';\n      if (!isMoved) {\n        $prevResizableEl = $resizeHandlerEl.parent(isRow ? '.row' : '.col');\n        if (\n          $prevResizableEl.length &&\n          (!$prevResizableEl.hasClass('resizable') || $prevResizableEl.hasClass('resizable-fixed'))\n        ) {\n          $prevResizableEl = $prevResizableEl.prevAll('.resizable:not(.resizable-fixed)').eq(0);\n        }\n        $nextResizableEl = $prevResizableEl.next(isRow ? '.row' : '.col');\n        if (\n          $nextResizableEl.length &&\n          (!$nextResizableEl.hasClass('resizable') || $nextResizableEl.hasClass('resizable-fixed'))\n        ) {\n          $nextResizableEl = $nextResizableEl.nextAll('.resizable:not(.resizable-fixed)').eq(0);\n        }\n\n        if ($prevResizableEl.length) {\n          prevElSize = $prevResizableEl[0][getSizeProp];\n          prevElMinSize = getElMinSize(sizeProp, $prevResizableEl);\n          prevElMaxSize = getElMaxSize(sizeProp, $prevResizableEl);\n          parentSize = $prevResizableEl.parent()[0][getSizeProp];\n          itemsInFlow = $prevResizableEl\n            .parent()\n            .children(isRow ? '.row' : '[class*=\"col-\"], .col').length;\n          gapSize = parseFloat($prevResizableEl.css(isRow ? '--f7-grid-row-gap' : '--f7-grid-gap'));\n        }\n        if ($nextResizableEl.length) {\n          nextElSize = $nextResizableEl[0][getSizeProp];\n          nextElMinSize = getElMinSize(sizeProp, $nextResizableEl);\n          nextElMaxSize = getElMaxSize(sizeProp, $nextResizableEl);\n          if (!$prevResizableEl.length) {\n            parentSize = $nextResizableEl.parent()[0][getSizeProp];\n            itemsInFlow = $nextResizableEl\n              .parent()\n              .children(isRow ? '.row' : '[class*=\"col-\"], .col').length;\n            gapSize = parseFloat(\n              $nextResizableEl.css(isRow ? '--f7-grid-row-gap' : '--f7-grid-gap'),\n            );\n          }\n        }\n      }\n\n      isMoved = true;\n      const touchCurrentX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n      const touchCurrentY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n      if (typeof isScrolling === 'undefined' && !isRow) {\n        isScrolling = !!(\n          isScrolling ||\n          Math.abs(touchCurrentY - touchStartY) > Math.abs(touchCurrentX - touchStartX)\n        );\n      }\n      if (isScrolling) {\n        isTouched = false;\n        isMoved = false;\n        return;\n      }\n\n      const isAbsolute =\n        $prevResizableEl.hasClass('resizable-absolute') ||\n        $nextResizableEl.hasClass('resizable-absolute');\n      const resizeNextEl = !isRow || (isRow && !isAbsolute);\n\n      if ((resizeNextEl && !$nextResizableEl.length) || !$prevResizableEl.length) {\n        isTouched = false;\n        isMoved = false;\n        return;\n      }\n\n      e.preventDefault();\n\n      let diff = isRow ? touchCurrentY - touchStartY : touchCurrentX - touchStartX;\n\n      let prevElNewSize;\n      let nextElNewSize;\n      if ($prevResizableEl.length) {\n        prevElNewSize = prevElSize + diff;\n        if (prevElNewSize < prevElMinSize) {\n          prevElNewSize = prevElMinSize;\n          diff = prevElNewSize - prevElSize;\n        }\n        if (prevElMaxSize && prevElNewSize > prevElMaxSize) {\n          prevElNewSize = prevElMaxSize;\n          diff = prevElNewSize - prevElSize;\n        }\n      }\n      if ($nextResizableEl.length && resizeNextEl) {\n        nextElNewSize = nextElSize - diff;\n        if (nextElNewSize < nextElMinSize) {\n          nextElNewSize = nextElMinSize;\n          diff = nextElSize - nextElNewSize;\n          prevElNewSize = prevElSize + diff;\n        }\n        if (nextElMaxSize && nextElNewSize > nextElMaxSize) {\n          nextElNewSize = nextElMaxSize;\n          diff = nextElSize - nextElNewSize;\n          prevElNewSize = prevElSize + diff;\n        }\n      }\n\n      if (isAbsolute) {\n        $prevResizableEl[0].style[sizeProp] = `${prevElNewSize}px`;\n        if (resizeNextEl) {\n          $nextResizableEl[0].style[sizeProp] = `${nextElNewSize}px`;\n        }\n        $prevResizableEl.trigger('grid:resize');\n        $nextResizableEl.trigger('grid:resize');\n        app.emit('gridResize', $prevResizableEl[0]);\n        app.emit('gridResize', $nextResizableEl[0]);\n        return;\n      }\n\n      const gapAddSize = ((itemsInFlow - 1) * gapSize) / itemsInFlow;\n      const gapAddSizeCSS = isRow\n        ? `${itemsInFlow - 1} * var(--f7-grid-row-gap) / ${itemsInFlow}`\n        : '(var(--f7-cols-per-row) - 1) * var(--f7-grid-gap) / var(--f7-cols-per-row)';\n      const prevElNewSizeNormalized = prevElNewSize + gapAddSize;\n      const nextElNewSizeNormalized = nextElNewSize + gapAddSize;\n      $prevResizableEl[0].style[sizeProp] = `calc(${\n        (prevElNewSizeNormalized / parentSize) * 100\n      }% - ${gapAddSizeCSS})`;\n      $nextResizableEl[0].style[sizeProp] = `calc(${\n        (nextElNewSizeNormalized / parentSize) * 100\n      }% - ${gapAddSizeCSS})`;\n      $prevResizableEl.trigger('grid:resize');\n      $nextResizableEl.trigger('grid:resize');\n      app.emit('gridResize', $prevResizableEl[0]);\n      app.emit('gridResize', $nextResizableEl[0]);\n    }\n\n    function handleTouchEnd() {\n      if (!isTouched) return;\n      if (!isMoved) {\n        isTouched = false;\n      }\n      isTouched = false;\n      isMoved = false;\n    }\n    const document = getDocument();\n    $(document).on(\n      app.touchEvents.start,\n      '.col > .resize-handler, .row > .resize-handler',\n      handleTouchStart,\n    );\n    app.on('touchmove', handleTouchMove);\n    app.on('touchend', handleTouchEnd);\n  },\n};\n\nexport default {\n  name: 'grid',\n  create() {\n    const app = this;\n    extend(app, {\n      grid: {\n        init: Grid.init.bind(app),\n      },\n    });\n  },\n  on: {\n    init() {\n      const app = this;\n      app.grid.init();\n    },\n  },\n};\n","import { extend, nextTick, deleteProps } from '../../shared/utils';\nimport Framework7Class from '../../shared/class';\nimport $ from '../../shared/dom7';\nimport { getDevice } from '../../shared/get-device';\nimport { getSupport } from '../../shared/get-support';\n/** @jsx $jsx */\nimport $jsx from '../../shared/$jsx';\n\nclass Calendar extends Framework7Class {\n  constructor(app, params = {}) {\n    super(params, [app]);\n    const calendar = this;\n\n    calendar.params = extend({}, app.params.calendar, params);\n\n    let $containerEl;\n    if (calendar.params.containerEl) {\n      $containerEl = $(calendar.params.containerEl);\n      if ($containerEl.length === 0) return calendar;\n    }\n\n    let $inputEl;\n    if (calendar.params.inputEl) {\n      $inputEl = $(calendar.params.inputEl);\n    }\n\n    const isHorizontal = calendar.params.direction === 'horizontal';\n\n    let inverter = 1;\n    if (isHorizontal) {\n      inverter = app.rtl ? -1 : 1;\n    }\n\n    extend(calendar, {\n      app,\n      $containerEl,\n      containerEl: $containerEl && $containerEl[0],\n      inline: $containerEl && $containerEl.length > 0,\n      $inputEl,\n      inputEl: $inputEl && $inputEl[0],\n      initialized: false,\n      opened: false,\n      url: calendar.params.url,\n      isHorizontal,\n      inverter,\n      animating: false,\n      allowTouchMove: true,\n      hasTimePicker:\n        calendar.params.timePicker && !calendar.params.rangePicker && !calendar.params.multiple,\n    });\n    calendar.dayFormatter = (date) => {\n      const formatter = new Intl.DateTimeFormat(calendar.params.locale, { day: 'numeric' });\n      return formatter.format(date).replace(//, '');\n    };\n    calendar.monthFormatter = (date) => {\n      const formatter = new Intl.DateTimeFormat(calendar.params.locale, { month: 'long' });\n      return formatter.format(date);\n    };\n    calendar.yearFormatter = (date) => {\n      const formatter = new Intl.DateTimeFormat(calendar.params.locale, { year: 'numeric' });\n      return formatter.format(date);\n    };\n    calendar.timeSelectorFormatter = (date) => {\n      const formatter = new Intl.DateTimeFormat(\n        calendar.params.locale,\n        calendar.params.timePickerFormat,\n      );\n      return formatter.format(date);\n    };\n    const timeFormatCheckDate = calendar.timeSelectorFormatter(new Date()).toLowerCase();\n    calendar.is12HoursFormat =\n      timeFormatCheckDate.indexOf('pm') >= 0 || timeFormatCheckDate.indexOf('am') >= 0;\n\n    // Auto names\n    let { monthNames, monthNamesShort, dayNames, dayNamesShort } = calendar.params;\n    const { monthNamesIntl, monthNamesShortIntl, dayNamesIntl, dayNamesShortIntl } =\n      calendar.getIntlNames();\n    if (monthNames === 'auto') monthNames = monthNamesIntl;\n    if (monthNamesShort === 'auto') monthNamesShort = monthNamesShortIntl;\n    if (dayNames === 'auto') dayNames = dayNamesIntl;\n    if (dayNamesShort === 'auto') dayNamesShort = dayNamesShortIntl;\n\n    extend(calendar, {\n      monthNames,\n      monthNamesShort,\n      dayNames,\n      dayNamesShort,\n    });\n\n    function onInputClick() {\n      calendar.open();\n    }\n    function onInputFocus(e) {\n      e.preventDefault();\n    }\n    function onInputClear() {\n      calendar.setValue([]);\n      if (calendar.opened) {\n        calendar.update();\n      }\n    }\n    function onHtmlClick(e) {\n      const $targetEl = $(e.target);\n      if (calendar.destroyed || !calendar.params) return;\n      if (calendar.isPopover()) return;\n      if (!calendar.opened || calendar.closing) return;\n      if ($targetEl.closest('[class*=\"backdrop\"]').length) return;\n      if ($inputEl && $inputEl.length > 0) {\n        if (\n          $targetEl[0] !== $inputEl[0] &&\n          $targetEl.closest('.sheet-modal, .calendar-modal').length === 0\n        ) {\n          calendar.close();\n        }\n      } else if ($(e.target).closest('.sheet-modal, .calendar-modal').length === 0) {\n        calendar.close();\n      }\n    }\n\n    // Events\n    extend(calendar, {\n      attachInputEvents() {\n        calendar.$inputEl.on('click', onInputClick);\n        calendar.$inputEl.on('input:clear', onInputClear);\n        if (calendar.params.inputReadOnly) {\n          calendar.$inputEl.on('focus mousedown', onInputFocus);\n          if (calendar.$inputEl[0]) {\n            calendar.$inputEl[0].f7ValidateReadonly = true;\n          }\n        }\n      },\n      detachInputEvents() {\n        calendar.$inputEl.off('click', onInputClick);\n        calendar.$inputEl.off('input:clear', onInputClear);\n        if (calendar.params.inputReadOnly) {\n          calendar.$inputEl.off('focus mousedown', onInputFocus);\n          if (calendar.$inputEl[0]) {\n            delete calendar.$inputEl[0].f7ValidateReadonly;\n          }\n        }\n      },\n      attachHtmlEvents() {\n        app.on('click', onHtmlClick);\n      },\n      detachHtmlEvents() {\n        app.off('click', onHtmlClick);\n      },\n    });\n    calendar.attachCalendarEvents = function attachCalendarEvents() {\n      let allowItemClick = true;\n      let isTouched;\n      let isMoved;\n      let touchStartX;\n      let touchStartY;\n      let touchCurrentX;\n      let touchCurrentY;\n      let touchStartTime;\n      let touchEndTime;\n      let currentTranslate;\n      let wrapperWidth;\n      let wrapperHeight;\n      let percentage;\n      let touchesDiff;\n      let isScrolling;\n\n      const { $el, $wrapperEl } = calendar;\n\n      function handleTouchStart(e) {\n        if (isMoved || isTouched) return;\n        isTouched = true;\n        touchStartX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n        touchCurrentX = touchStartX;\n        touchStartY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n        touchCurrentY = touchStartY;\n        touchStartTime = new Date().getTime();\n        percentage = 0;\n        allowItemClick = true;\n        isScrolling = undefined;\n        currentTranslate = calendar.monthsTranslate;\n      }\n      function handleTouchMove(e) {\n        if (!isTouched) return;\n        const { isHorizontal: isH } = calendar;\n\n        touchCurrentX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n        touchCurrentY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n        if (typeof isScrolling === 'undefined') {\n          isScrolling = !!(\n            isScrolling ||\n            Math.abs(touchCurrentY - touchStartY) > Math.abs(touchCurrentX - touchStartX)\n          );\n        }\n        if ((isH && isScrolling) || !calendar.allowTouchMove) {\n          isTouched = false;\n          return;\n        }\n        e.preventDefault();\n        if (calendar.animating) {\n          isTouched = false;\n          return;\n        }\n        allowItemClick = false;\n        if (!isMoved) {\n          // First move\n          isMoved = true;\n          wrapperWidth = $wrapperEl[0].offsetWidth;\n          wrapperHeight = $wrapperEl[0].offsetHeight;\n          $wrapperEl.transition(0);\n        }\n\n        touchesDiff = isH ? touchCurrentX - touchStartX : touchCurrentY - touchStartY;\n        percentage = touchesDiff / (isH ? wrapperWidth : wrapperHeight);\n        currentTranslate = (calendar.monthsTranslate * calendar.inverter + percentage) * 100;\n\n        // Transform wrapper\n        $wrapperEl.transform(\n          `translate3d(${isH ? currentTranslate : 0}%, ${isH ? 0 : currentTranslate}%, 0)`,\n        );\n      }\n      function handleTouchEnd() {\n        if (!isTouched || !isMoved) {\n          isTouched = false;\n          isMoved = false;\n          return;\n        }\n        isTouched = false;\n        isMoved = false;\n\n        touchEndTime = new Date().getTime();\n        if (touchEndTime - touchStartTime < 300) {\n          if (Math.abs(touchesDiff) < 10) {\n            calendar.resetMonth();\n          } else if (touchesDiff >= 10) {\n            if (app.rtl) calendar.nextMonth();\n            else calendar.prevMonth();\n          } else if (app.rtl) calendar.prevMonth();\n          else calendar.nextMonth();\n        } else if (percentage <= -0.5) {\n          if (app.rtl) calendar.prevMonth();\n          else calendar.nextMonth();\n        } else if (percentage >= 0.5) {\n          if (app.rtl) calendar.nextMonth();\n          else calendar.prevMonth();\n        } else {\n          calendar.resetMonth();\n        }\n\n        // Allow click\n        setTimeout(() => {\n          allowItemClick = true;\n        }, 100);\n      }\n\n      function handleDayClick(e) {\n        if (!allowItemClick) return;\n        let $dayEl = $(e.target).parents('.calendar-day');\n        if ($dayEl.length === 0 && $(e.target).hasClass('calendar-day')) {\n          $dayEl = $(e.target);\n        }\n        if ($dayEl.length === 0) return;\n        if ($dayEl.hasClass('calendar-day-disabled')) return;\n        if (!calendar.params.rangePicker) {\n          if ($dayEl.hasClass('calendar-day-next')) calendar.nextMonth();\n          if ($dayEl.hasClass('calendar-day-prev')) calendar.prevMonth();\n        }\n        const dateYear = parseInt($dayEl.attr('data-year'), 10);\n        const dateMonth = parseInt($dayEl.attr('data-month'), 10);\n        const dateDay = parseInt($dayEl.attr('data-day'), 10);\n        calendar.emit(\n          'local::dayClick calendarDayClick',\n          calendar,\n          $dayEl[0],\n          dateYear,\n          dateMonth,\n          dateDay,\n        );\n        if (\n          !$dayEl.hasClass('calendar-day-selected') ||\n          calendar.params.multiple ||\n          calendar.params.rangePicker\n        ) {\n          const valueToAdd = new Date(dateYear, dateMonth, dateDay, 0, 0, 0);\n          if (calendar.hasTimePicker) {\n            if (calendar.value && calendar.value[0]) {\n              valueToAdd.setHours(calendar.value[0].getHours(), calendar.value[0].getMinutes());\n            } else {\n              valueToAdd.setHours(new Date().getHours(), new Date().getMinutes());\n            }\n          }\n          calendar.addValue(valueToAdd);\n        }\n        if (calendar.params.closeOnSelect) {\n          if (\n            (calendar.params.rangePicker && calendar.value.length === 2) ||\n            !calendar.params.rangePicker\n          ) {\n            calendar.close();\n          }\n        }\n      }\n\n      function onNextMonthClick() {\n        calendar.nextMonth();\n      }\n\n      function onPrevMonthClick() {\n        calendar.prevMonth();\n      }\n\n      function onNextYearClick() {\n        calendar.nextYear();\n      }\n\n      function onPrevYearClick() {\n        calendar.prevYear();\n      }\n\n      function onMonthSelectorClick() {\n        $el.append(calendar.renderMonthPicker());\n      }\n      function onMonthSelectorItemClick() {\n        const $clickedEl = $(this);\n        if ($clickedEl.hasClass('calendar-month-picker-item-current')) {\n          $el.find('.calendar-month-picker').remove();\n          return;\n        }\n        $el\n          .find('.calendar-month-picker-item-current')\n          .add($clickedEl)\n          .toggleClass('calendar-month-picker-item-current');\n        const index = $clickedEl.index();\n        const localeMonthIndex = parseInt(\n          calendar.$el.find('.calendar-month-current').attr('data-locale-month'),\n          10,\n        );\n        const monthIndex = calendar.currentMonth;\n        const diff = localeMonthIndex - monthIndex;\n        const diffIndex = index - diff;\n        calendar.setYearMonth(calendar.currentYear, diffIndex, 0);\n        setTimeout(() => {\n          $el.find('.calendar-month-picker').remove();\n        }, 200);\n      }\n\n      function onYearSelectorClick() {\n        $el.append(calendar.renderYearPicker());\n        const $currentEl = $el.find('.calendar-year-picker-item-current');\n        const $yearPickerEl = $el.find('.calendar-year-picker');\n        if (!$currentEl || !$currentEl.length) return;\n        $yearPickerEl.scrollTop(\n          $currentEl[0].offsetTop -\n            $yearPickerEl[0].offsetHeight / 2 +\n            $currentEl[0].offsetHeight / 2,\n        );\n      }\n\n      function onYearSelectorItemClick() {\n        const $clickedEl = $(this);\n        if ($clickedEl.hasClass('calendar-year-picker-item-current')) {\n          $el.find('.calendar-year-picker').remove();\n          return;\n        }\n        $el\n          .find('.calendar-year-picker-item-current')\n          .add($clickedEl)\n          .toggleClass('calendar-year-picker-item-current');\n        const year = parseInt($clickedEl.attr('data-year'), 10);\n        calendar.setYearMonth(year, undefined, 0);\n        setTimeout(() => {\n          $el.find('.calendar-year-picker').remove();\n        }, 200);\n      }\n\n      function onTimeSelectorClick() {\n        calendar.openTimePicker();\n      }\n      function onTimePickerCloseClick() {\n        calendar.closeTimePicker();\n      }\n\n      const passiveListener =\n        app.touchEvents.start === 'touchstart' && getSupport().passiveListener\n          ? { passive: true, capture: false }\n          : false;\n      // Selectors clicks\n      $el.find('.calendar-prev-month-button').on('click', onPrevMonthClick);\n      $el.find('.calendar-next-month-button').on('click', onNextMonthClick);\n      $el.find('.calendar-prev-year-button').on('click', onPrevYearClick);\n      $el.find('.calendar-next-year-button').on('click', onNextYearClick);\n      if (calendar.params.monthPicker) {\n        $el.find('.current-month-value').on('click', onMonthSelectorClick);\n        $el.on('click', '.calendar-month-picker-item', onMonthSelectorItemClick);\n      }\n      if (calendar.params.yearPicker) {\n        $el.find('.current-year-value').on('click', onYearSelectorClick);\n        $el.on('click', '.calendar-year-picker-item', onYearSelectorItemClick);\n      }\n      if (calendar.hasTimePicker) {\n        $el.find('.calendar-time-selector a').on('click', onTimeSelectorClick);\n        $el.on('click', '.calendar-time-picker-close', onTimePickerCloseClick);\n      }\n      // Day clicks\n      $wrapperEl.on('click', handleDayClick);\n      // Touch events\n      if (calendar.params.touchMove) {\n        $wrapperEl.on(app.touchEvents.start, handleTouchStart, passiveListener);\n        app.on('touchmove:active', handleTouchMove);\n        app.on('touchend:passive', handleTouchEnd);\n      }\n\n      calendar.detachCalendarEvents = function detachCalendarEvents() {\n        $el.find('.calendar-prev-month-button').off('click', onPrevMonthClick);\n        $el.find('.calendar-next-month-button').off('click', onNextMonthClick);\n        $el.find('.calendar-prev-year-button').off('click', onPrevYearClick);\n        $el.find('.calendar-next-year-button').off('click', onNextYearClick);\n        if (calendar.params.monthPicker) {\n          $el.find('.current-month-value').off('click', onMonthSelectorClick);\n          $el.off('click', '.calendar-month-picker-item', onMonthSelectorItemClick);\n        }\n        if (calendar.params.yearPicker) {\n          $el.find('.current-year-value').off('click', onYearSelectorClick);\n          $el.off('click', '.calendar-year-picker-item', onYearSelectorItemClick);\n        }\n        if (calendar.hasTimePicker) {\n          $el.find('.calendar-time-selector a').off('click', onTimeSelectorClick);\n          $el.off('click', '.calendar-time-picker-close', onTimePickerCloseClick);\n        }\n        $wrapperEl.off('click', handleDayClick);\n        if (calendar.params.touchMove) {\n          $wrapperEl.off(app.touchEvents.start, handleTouchStart, passiveListener);\n          app.off('touchmove:active', handleTouchMove);\n          app.off('touchend:passive', handleTouchEnd);\n        }\n      };\n    };\n\n    calendar.init();\n\n    return calendar;\n  }\n\n  get view() {\n    const { $inputEl, app, params } = this;\n    let view;\n    if (params.view) {\n      view = params.view;\n    } else if ($inputEl) {\n      view = $inputEl.parents('.view').length && $inputEl.parents('.view')[0].f7View;\n    }\n    if (!view) view = app.views.main;\n    return view;\n  }\n\n  getIntlNames() {\n    const calendar = this;\n    const locale = calendar.params.locale;\n\n    const monthNamesIntl = [];\n    const monthNamesShortIntl = [];\n    const dayNamesIntl = [];\n    const dayNamesShortIntl = [];\n    const formatterMonthNames = new Intl.DateTimeFormat(locale, { month: 'long' });\n    const formatterMonthNamesShort = new Intl.DateTimeFormat(locale, { month: 'short' });\n    const formatterDayNames = new Intl.DateTimeFormat(locale, { weekday: 'long' });\n    const formatterDayNamesShort = new Intl.DateTimeFormat(locale, { weekday: 'short' });\n    let year;\n    let yearStarted;\n    let yearEnded;\n    for (let i = 0; i < 24; i += 1) {\n      const date = new Date().setMonth(i, 1);\n      const currentYear = calendar.yearFormatter(date);\n\n      if (year && currentYear !== year) {\n        if (yearStarted) yearEnded = true;\n        yearStarted = true;\n        year = currentYear;\n      }\n      if (!year) {\n        year = currentYear;\n      }\n      if (yearStarted && year === currentYear && !yearEnded) {\n        monthNamesIntl.push(formatterMonthNames.format(date));\n        monthNamesShortIntl.push(formatterMonthNamesShort.format(date));\n      }\n    }\n    const weekDay = new Date().getDay();\n    for (let i = 0; i < 7; i += 1) {\n      const date = new Date().getTime() + (i - weekDay) * 24 * 60 * 60 * 1000;\n      dayNamesIntl.push(formatterDayNames.format(date));\n      dayNamesShortIntl.push(formatterDayNamesShort.format(date));\n    }\n\n    return {\n      monthNamesIntl,\n      monthNamesShortIntl,\n      dayNamesIntl,\n      dayNamesShortIntl,\n    };\n  }\n\n  normalizeDate(date) {\n    const calendar = this;\n    const d = new Date(date);\n    if (calendar.hasTimePicker) {\n      return new Date(d.getFullYear(), d.getMonth(), d.getDate(), d.getHours(), d.getMinutes());\n    }\n    return new Date(d.getFullYear(), d.getMonth(), d.getDate());\n  }\n\n  normalizeValues(values) {\n    const calendar = this;\n    let newValues = [];\n    if (values && Array.isArray(values)) {\n      newValues = values.map((val) => calendar.normalizeDate(val));\n    }\n    return newValues;\n  }\n\n  initInput() {\n    const calendar = this;\n    if (!calendar.$inputEl) return;\n    if (calendar.params.inputReadOnly) calendar.$inputEl.prop('readOnly', true);\n  }\n\n  isPopover() {\n    const calendar = this;\n    const { app, modal, params } = calendar;\n    const device = getDevice();\n    if (params.openIn === 'sheet') return false;\n    if (modal && modal.type !== 'popover') return false;\n\n    if (!calendar.inline && calendar.inputEl) {\n      if (params.openIn === 'popover') return true;\n      if (device.ios) {\n        return !!device.ipad;\n      }\n      if (app.width >= 768) {\n        return true;\n      }\n      if (device.desktop && app.theme === 'aurora') {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  formatDate(d) {\n    const calendar = this;\n    const date = new Date(d);\n    const year = date.getFullYear();\n    const month = date.getMonth();\n    const month1 = month + 1;\n    const day = date.getDate();\n    const weekDay = date.getDay();\n    const { monthNames, monthNamesShort, dayNames, dayNamesShort } = calendar;\n    const { dateFormat, locale } = calendar.params;\n\n    function twoDigits(number) {\n      return number < 10 ? `0${number}` : number;\n    }\n    if (typeof dateFormat === 'string') {\n      const tokens = {\n        yyyy: year,\n        yy: String(year).substring(2),\n        mm: twoDigits(month1),\n        m: month1,\n        MM: monthNames[month],\n        M: monthNamesShort[month],\n        dd: twoDigits(day),\n        d: day,\n        DD: dayNames[weekDay],\n        D: dayNamesShort[weekDay],\n      };\n      if (calendar.params.timePicker) {\n        const hours = date.getHours();\n        const minutes = date.getMinutes();\n        const seconds = date.getSeconds();\n        let hours12 = hours;\n        if (hours > 12) hours12 = hours - 12;\n        if (hours === 0) hours12 = 12;\n        const a = hours >= 12 && hours !== 0 ? 'pm' : 'am';\n\n        Object.assign(tokens, {\n          HH: twoDigits(hours),\n          H: hours,\n          hh: twoDigits(hours12),\n          h: hours12,\n          ss: twoDigits(seconds),\n          s: seconds,\n          ':mm': twoDigits(minutes),\n          ':m': minutes,\n          a,\n          A: a.toUpperCase(),\n        });\n      }\n      const regexp = new RegExp(\n        Object.keys(tokens)\n          .map((t) => `(${t})`)\n          .join('|'),\n        'g',\n      );\n      return dateFormat.replace(regexp, (token) => {\n        if (token in tokens) return tokens[token];\n        return token;\n      });\n    }\n    if (typeof dateFormat === 'function') {\n      return dateFormat(date);\n    }\n    // Intl Object\n    const formatter = new Intl.DateTimeFormat(locale, dateFormat);\n    return formatter.format(date);\n  }\n\n  formatValue() {\n    const calendar = this;\n    const { value } = calendar;\n    if (calendar.params.formatValue) {\n      return calendar.params.formatValue.call(calendar, value);\n    }\n    return value\n      .map((v) => calendar.formatDate(v))\n      .join(calendar.params.rangePicker ? ' - ' : ', ');\n  }\n\n  addValue(newValue) {\n    const calendar = this;\n    const { multiple, rangePicker, rangePickerMinDays, rangePickerMaxDays } = calendar.params;\n    if (multiple) {\n      if (!calendar.value) calendar.value = [];\n      let inValuesIndex;\n      for (let i = 0; i < calendar.value.length; i += 1) {\n        if (new Date(newValue).getTime() === new Date(calendar.value[i]).getTime()) {\n          inValuesIndex = i;\n        }\n      }\n      if (typeof inValuesIndex === 'undefined') {\n        calendar.value.push(newValue);\n      } else {\n        calendar.value.splice(inValuesIndex, 1);\n      }\n      calendar.updateValue();\n    } else if (rangePicker) {\n      if (!calendar.value) calendar.value = [];\n      if (calendar.value.length === 2 || calendar.value.length === 0) {\n        calendar.value = [];\n      }\n\n      if (\n        calendar.value.length === 0 ||\n        (Math.abs(calendar.value[0].getTime() - newValue.getTime()) >=\n          (rangePickerMinDays - 1) * 60 * 60 * 24 * 1000 &&\n          (rangePickerMaxDays === 0 ||\n            Math.abs(calendar.value[0].getTime() - newValue.getTime()) <=\n              (rangePickerMaxDays - 1) * 60 * 60 * 24 * 1000))\n      )\n        calendar.value.push(newValue);\n      else calendar.value = [];\n\n      calendar.value.sort((a, b) => a - b);\n      calendar.updateValue();\n    } else {\n      calendar.value = [newValue];\n      calendar.updateValue();\n    }\n  }\n\n  setValue(values) {\n    const calendar = this;\n    const currentValue = calendar.value;\n    if (\n      Array.isArray(currentValue) &&\n      Array.isArray(values) &&\n      currentValue.length === values.length\n    ) {\n      let equal = true;\n      currentValue.forEach((v, index) => {\n        if (v !== values[index]) equal = false;\n      });\n      if (equal) return;\n    }\n    calendar.value = values;\n    calendar.updateValue();\n  }\n\n  getValue() {\n    const calendar = this;\n    return calendar.value;\n  }\n\n  updateValue(onlyHeader) {\n    const calendar = this;\n    const { $el, $wrapperEl, $inputEl, value, params } = calendar;\n    let i;\n    if ($el && $el.length > 0) {\n      $wrapperEl\n        .find('.calendar-day-selected')\n        .removeClass(\n          'calendar-day-selected calendar-day-selected-range calendar-day-selected-left calendar-day-selected-right',\n        );\n      let valueDate;\n\n      if (params.rangePicker && value.length === 2) {\n        const leftDate = new Date(value[0]).getTime();\n        const rightDate = new Date(value[1]).getTime();\n        for (i = leftDate; i <= rightDate; i += 24 * 60 * 60 * 1000) {\n          valueDate = new Date(i);\n          let addClass = 'calendar-day-selected';\n          if (leftDate !== rightDate) {\n            if (i !== leftDate && i !== rightDate) {\n              addClass += ' calendar-day-selected-range';\n            }\n            if (i === leftDate) {\n              addClass += ' calendar-day-selected-left';\n            }\n            if (i === rightDate) {\n              addClass += ' calendar-day-selected-right';\n            }\n          }\n          $wrapperEl\n            .find(\n              `.calendar-day[data-date=\"${valueDate.getFullYear()}-${valueDate.getMonth()}-${valueDate.getDate()}\"]`,\n            )\n            .addClass(addClass);\n        }\n        valueDate = new Date(leftDate);\n        $wrapperEl\n          .find(\n            `.calendar-day[data-date=\"${valueDate.getFullYear()}-${valueDate.getMonth()}-${valueDate.getDate()}\"]`,\n          )\n          .removeClass('calendar-day-selected-range')\n          .addClass('calendar-day-selected calendar-day-selected-left');\n        valueDate = new Date(rightDate);\n        $wrapperEl\n          .find(\n            `.calendar-day[data-date=\"${valueDate.getFullYear()}-${valueDate.getMonth()}-${valueDate.getDate()}\"]`,\n          )\n          .removeClass('calendar-day-selected-range')\n          .addClass('calendar-day-selected calendar-day-selected-right');\n      } else {\n        for (i = 0; i < calendar.value.length; i += 1) {\n          valueDate = new Date(value[i]);\n          $wrapperEl\n            .find(\n              `.calendar-day[data-date=\"${valueDate.getFullYear()}-${valueDate.getMonth()}-${valueDate.getDate()}\"]`,\n            )\n            .addClass('calendar-day-selected');\n        }\n      }\n    }\n    if (!onlyHeader) {\n      calendar.emit('local::change calendarChange', calendar, value);\n    }\n\n    if ($el && $el.length > 0 && calendar.hasTimePicker) {\n      $el\n        .find('.calendar-time-selector a')\n        .text(\n          value && value.length\n            ? calendar.timeSelectorFormatter(value[0])\n            : calendar.params.timePickerPlaceholder,\n        );\n    }\n\n    if (($inputEl && $inputEl.length) || params.header) {\n      const inputValue = calendar.formatValue(value);\n      if (params.header && $el && $el.length) {\n        $el.find('.calendar-selected-date').text(inputValue);\n      }\n      if ($inputEl && $inputEl.length && !onlyHeader) {\n        $inputEl.val(inputValue);\n        $inputEl.trigger('change');\n      }\n    }\n  }\n\n  updateCurrentMonthYear(dir) {\n    const calendar = this;\n    const { $months, $el, monthNames } = calendar;\n    let currentLocaleMonth;\n    let currentLocaleYear;\n    if (typeof dir === 'undefined') {\n      calendar.currentMonth = parseInt($months.eq(1).attr('data-month'), 10);\n      calendar.currentYear = parseInt($months.eq(1).attr('data-year'), 10);\n      currentLocaleMonth = $months.eq(1).attr('data-locale-month');\n      currentLocaleYear = $months.eq(1).attr('data-locale-year');\n    } else {\n      calendar.currentMonth = parseInt(\n        $months.eq(dir === 'next' ? $months.length - 1 : 0).attr('data-month'),\n        10,\n      );\n      calendar.currentYear = parseInt(\n        $months.eq(dir === 'next' ? $months.length - 1 : 0).attr('data-year'),\n        10,\n      );\n      currentLocaleMonth = $months\n        .eq(dir === 'next' ? $months.length - 1 : 0)\n        .attr('data-locale-month');\n      currentLocaleYear = $months\n        .eq(dir === 'next' ? $months.length - 1 : 0)\n        .attr('data-locale-year');\n    }\n    $el.find('.current-month-value').text(monthNames[currentLocaleMonth]);\n    $el.find('.current-year-value').text(currentLocaleYear);\n  }\n\n  update() {\n    const calendar = this;\n    const { currentYear, currentMonth, $wrapperEl } = calendar;\n    const currentDate = new Date(currentYear, currentMonth);\n    const prevMonthHtml = calendar.renderMonth(currentDate, 'prev');\n    const currentMonthHtml = calendar.renderMonth(currentDate);\n    const nextMonthHtml = calendar.renderMonth(currentDate, 'next');\n\n    $wrapperEl\n      .transition(0)\n      .html(`${prevMonthHtml}${currentMonthHtml}${nextMonthHtml}`)\n      .transform('translate3d(0,0,0)');\n    calendar.$months = $wrapperEl.find('.calendar-month');\n    calendar.monthsTranslate = 0;\n    calendar.setMonthsTranslate();\n    calendar.$months.each((monthEl) => {\n      calendar.emit('local::monthAdd calendarMonthAdd', monthEl);\n    });\n  }\n\n  onMonthChangeStart(dir) {\n    const calendar = this;\n    const { $months, currentYear, currentMonth } = calendar;\n    calendar.updateCurrentMonthYear(dir);\n    $months.removeClass('calendar-month-current calendar-month-prev calendar-month-next');\n    const currentIndex = dir === 'next' ? $months.length - 1 : 0;\n\n    $months.eq(currentIndex).addClass('calendar-month-current');\n    $months\n      .eq(dir === 'next' ? currentIndex - 1 : currentIndex + 1)\n      .addClass(dir === 'next' ? 'calendar-month-prev' : 'calendar-month-next');\n\n    calendar.emit(\n      'local::monthYearChangeStart calendarMonthYearChangeStart',\n      calendar,\n      currentYear,\n      currentMonth,\n    );\n  }\n\n  onMonthChangeEnd(dir, rebuildBoth) {\n    const calendar = this;\n    const { currentYear, currentMonth, $wrapperEl, monthsTranslate } = calendar;\n    calendar.animating = false;\n    let nextMonthHtml;\n    let prevMonthHtml;\n    let currentMonthHtml;\n    $wrapperEl\n      .find(\n        '.calendar-month:not(.calendar-month-prev):not(.calendar-month-current):not(.calendar-month-next)',\n      )\n      .remove();\n\n    if (typeof dir === 'undefined') {\n      dir = 'next'; // eslint-disable-line\n      rebuildBoth = true; // eslint-disable-line\n    }\n    if (!rebuildBoth) {\n      currentMonthHtml = calendar.renderMonth(new Date(currentYear, currentMonth), dir);\n    } else {\n      $wrapperEl.find('.calendar-month-next, .calendar-month-prev').remove();\n      prevMonthHtml = calendar.renderMonth(new Date(currentYear, currentMonth), 'prev');\n      nextMonthHtml = calendar.renderMonth(new Date(currentYear, currentMonth), 'next');\n    }\n    if (dir === 'next' || rebuildBoth) {\n      $wrapperEl.append(currentMonthHtml || nextMonthHtml);\n    }\n    if (dir === 'prev' || rebuildBoth) {\n      $wrapperEl.prepend(currentMonthHtml || prevMonthHtml);\n    }\n    const $months = $wrapperEl.find('.calendar-month');\n    calendar.$months = $months;\n    calendar.setMonthsTranslate(monthsTranslate);\n    calendar.emit(\n      'local::monthAdd calendarMonthAdd',\n      calendar,\n      dir === 'next' ? $months.eq($months.length - 1)[0] : $months.eq(0)[0],\n    );\n    calendar.emit(\n      'local::monthYearChangeEnd calendarMonthYearChangeEnd',\n      calendar,\n      currentYear,\n      currentMonth,\n    );\n  }\n\n  setMonthsTranslate(translate) {\n    const calendar = this;\n    const { $months, isHorizontal: isH, inverter } = calendar;\n    // eslint-disable-next-line\n    translate = translate || calendar.monthsTranslate || 0;\n    if (typeof calendar.monthsTranslate === 'undefined') {\n      calendar.monthsTranslate = translate;\n    }\n    $months.removeClass('calendar-month-current calendar-month-prev calendar-month-next');\n    const prevMonthTranslate = -(translate + 1) * 100 * inverter;\n    const currentMonthTranslate = -translate * 100 * inverter;\n    const nextMonthTranslate = -(translate - 1) * 100 * inverter;\n    $months\n      .eq(0)\n      .transform(\n        `translate3d(${isH ? prevMonthTranslate : 0}%, ${isH ? 0 : prevMonthTranslate}%, 0)`,\n      )\n      .addClass('calendar-month-prev');\n    $months\n      .eq(1)\n      .transform(\n        `translate3d(${isH ? currentMonthTranslate : 0}%, ${isH ? 0 : currentMonthTranslate}%, 0)`,\n      )\n      .addClass('calendar-month-current');\n    $months\n      .eq(2)\n      .transform(\n        `translate3d(${isH ? nextMonthTranslate : 0}%, ${isH ? 0 : nextMonthTranslate}%, 0)`,\n      )\n      .addClass('calendar-month-next');\n  }\n\n  nextMonth(transition) {\n    const calendar = this;\n    const { params, $wrapperEl, inverter, isHorizontal: isH } = calendar;\n    if (typeof transition === 'undefined' || typeof transition === 'object') {\n      transition = ''; // eslint-disable-line\n      if (!params.animate) transition = 0; // eslint-disable-line\n    }\n    const nextMonth = parseInt(\n      calendar.$months.eq(calendar.$months.length - 1).attr('data-month'),\n      10,\n    );\n    const nextYear = parseInt(\n      calendar.$months.eq(calendar.$months.length - 1).attr('data-year'),\n      10,\n    );\n    const nextDate = new Date(nextYear, nextMonth);\n    const nextDateTime = nextDate.getTime();\n    const transitionEndCallback = !calendar.animating;\n    if (params.maxDate) {\n      if (nextDateTime > new Date(params.maxDate).getTime()) {\n        calendar.resetMonth();\n        return;\n      }\n    }\n    calendar.monthsTranslate -= 1;\n    if (nextMonth === calendar.currentMonth) {\n      const nextMonthTranslate = -calendar.monthsTranslate * 100 * inverter;\n      const nextMonthHtml = $(calendar.renderMonth(nextDateTime, 'next'))\n        .transform(\n          `translate3d(${isH ? nextMonthTranslate : 0}%, ${isH ? 0 : nextMonthTranslate}%, 0)`,\n        )\n        .addClass('calendar-month-next');\n      $wrapperEl.append(nextMonthHtml[0]);\n      calendar.$months = $wrapperEl.find('.calendar-month');\n      calendar.emit(\n        'local::monthAdd calendarMonthAdd',\n        calendar.$months.eq(calendar.$months.length - 1)[0],\n      );\n    }\n    calendar.animating = true;\n    calendar.onMonthChangeStart('next');\n    const translate = calendar.monthsTranslate * 100 * inverter;\n\n    $wrapperEl\n      .transition(transition)\n      .transform(`translate3d(${isH ? translate : 0}%, ${isH ? 0 : translate}%, 0)`);\n    if (transitionEndCallback) {\n      $wrapperEl.transitionEnd(() => {\n        calendar.onMonthChangeEnd('next');\n      });\n    }\n    if (!params.animate) {\n      calendar.onMonthChangeEnd('next');\n    }\n  }\n\n  prevMonth(transition) {\n    const calendar = this;\n    const { params, $wrapperEl, inverter, isHorizontal: isH } = calendar;\n    if (typeof transition === 'undefined' || typeof transition === 'object') {\n      transition = ''; // eslint-disable-line\n      if (!params.animate) transition = 0; // eslint-disable-line\n    }\n    const prevMonth = parseInt(calendar.$months.eq(0).attr('data-month'), 10);\n    const prevYear = parseInt(calendar.$months.eq(0).attr('data-year'), 10);\n    const prevDate = new Date(prevYear, prevMonth + 1, -1);\n    const prevDateTime = prevDate.getTime();\n    const transitionEndCallback = !calendar.animating;\n    if (params.minDate) {\n      let minDate = new Date(params.minDate);\n      minDate = new Date(minDate.getFullYear(), minDate.getMonth(), 1);\n      if (prevDateTime < minDate.getTime()) {\n        calendar.resetMonth();\n        return;\n      }\n    }\n    calendar.monthsTranslate += 1;\n    if (prevMonth === calendar.currentMonth) {\n      const prevMonthTranslate = -calendar.monthsTranslate * 100 * inverter;\n      const prevMonthHtml = $(calendar.renderMonth(prevDateTime, 'prev'))\n        .transform(\n          `translate3d(${isH ? prevMonthTranslate : 0}%, ${isH ? 0 : prevMonthTranslate}%, 0)`,\n        )\n        .addClass('calendar-month-prev');\n      $wrapperEl.prepend(prevMonthHtml[0]);\n      calendar.$months = $wrapperEl.find('.calendar-month');\n      calendar.emit('local::monthAdd calendarMonthAdd', calendar.$months.eq(0)[0]);\n    }\n    calendar.animating = true;\n    calendar.onMonthChangeStart('prev');\n    const translate = calendar.monthsTranslate * 100 * inverter;\n    $wrapperEl\n      .transition(transition)\n      .transform(`translate3d(${isH ? translate : 0}%, ${isH ? 0 : translate}%, 0)`);\n    if (transitionEndCallback) {\n      $wrapperEl.transitionEnd(() => {\n        calendar.onMonthChangeEnd('prev');\n      });\n    }\n    if (!params.animate) {\n      calendar.onMonthChangeEnd('prev');\n    }\n  }\n\n  resetMonth(transition = '') {\n    const calendar = this;\n    const { $wrapperEl, inverter, isHorizontal: isH, monthsTranslate } = calendar;\n    const translate = monthsTranslate * 100 * inverter;\n    $wrapperEl\n      .transition(transition)\n      .transform(`translate3d(${isH ? translate : 0}%, ${isH ? 0 : translate}%, 0)`);\n  }\n  // eslint-disable-next-line\n  setYearMonth(year, month, transition) {\n    const calendar = this;\n    const { params, isHorizontal: isH, $wrapperEl, inverter } = calendar;\n    // eslint-disable-next-line\n    if (typeof year === 'undefined') year = calendar.currentYear;\n    // eslint-disable-next-line\n    if (typeof month === 'undefined') month = calendar.currentMonth;\n    if (typeof transition === 'undefined' || typeof transition === 'object') {\n      // eslint-disable-next-line\n      transition = '';\n      // eslint-disable-next-line\n      if (!params.animate) transition = 0;\n    }\n    let targetDate;\n    if (year < calendar.currentYear) {\n      targetDate = new Date(year, month + 1, -1).getTime();\n    } else {\n      targetDate = new Date(year, month).getTime();\n    }\n    if (params.maxDate && targetDate > new Date(params.maxDate).getTime()) {\n      return false;\n    }\n    if (params.minDate) {\n      let minDate = new Date(params.minDate);\n      minDate = new Date(minDate.getFullYear(), minDate.getMonth(), 1);\n      if (targetDate < minDate.getTime()) {\n        return false;\n      }\n    }\n    const currentDate = new Date(calendar.currentYear, calendar.currentMonth).getTime();\n    const dir = targetDate > currentDate ? 'next' : 'prev';\n    const newMonthHTML = calendar.renderMonth(new Date(year, month));\n    calendar.monthsTranslate = calendar.monthsTranslate || 0;\n    const prevTranslate = calendar.monthsTranslate;\n    let monthTranslate;\n    const transitionEndCallback = !calendar.animating && transition !== 0;\n    if (targetDate > currentDate) {\n      // To next\n      calendar.monthsTranslate -= 1;\n      if (!calendar.animating) calendar.$months.eq(calendar.$months.length - 1).remove();\n      $wrapperEl.append(newMonthHTML);\n      calendar.$months = $wrapperEl.find('.calendar-month');\n      monthTranslate = -(prevTranslate - 1) * 100 * inverter;\n      calendar.$months\n        .eq(calendar.$months.length - 1)\n        .transform(`translate3d(${isH ? monthTranslate : 0}%, ${isH ? 0 : monthTranslate}%, 0)`)\n        .addClass('calendar-month-next');\n    } else {\n      // To prev\n      calendar.monthsTranslate += 1;\n      if (!calendar.animating) calendar.$months.eq(0).remove();\n      $wrapperEl.prepend(newMonthHTML);\n      calendar.$months = $wrapperEl.find('.calendar-month');\n      monthTranslate = -(prevTranslate + 1) * 100 * inverter;\n      calendar.$months\n        .eq(0)\n        .transform(`translate3d(${isH ? monthTranslate : 0}%, ${isH ? 0 : monthTranslate}%, 0)`)\n        .addClass('calendar-month-prev');\n    }\n    calendar.emit(\n      'local::monthAdd calendarMonthAdd',\n      dir === 'next'\n        ? calendar.$months.eq(calendar.$months.length - 1)[0]\n        : calendar.$months.eq(0)[0],\n    );\n\n    calendar.animating = true;\n    calendar.onMonthChangeStart(dir);\n    const wrapperTranslate = calendar.monthsTranslate * 100 * inverter;\n    $wrapperEl\n      .transition(transition)\n      .transform(`translate3d(${isH ? wrapperTranslate : 0}%, ${isH ? 0 : wrapperTranslate}%, 0)`);\n    if (transitionEndCallback) {\n      $wrapperEl.transitionEnd(() => {\n        calendar.onMonthChangeEnd(dir, true);\n      });\n    }\n    if (!params.animate || transition === 0) {\n      calendar.onMonthChangeEnd(dir, true);\n    }\n  }\n\n  nextYear() {\n    const calendar = this;\n    calendar.setYearMonth(calendar.currentYear + 1);\n  }\n\n  prevYear() {\n    const calendar = this;\n    calendar.setYearMonth(calendar.currentYear - 1);\n  }\n  // eslint-disable-next-line\n  dateInRange(dayDate, range) {\n    let match = false;\n    let i;\n    if (!range) return false;\n    if (Array.isArray(range)) {\n      for (i = 0; i < range.length; i += 1) {\n        if (range[i].from || range[i].to) {\n          if (range[i].from && range[i].to) {\n            if (\n              dayDate <= new Date(range[i].to).getTime() &&\n              dayDate >= new Date(range[i].from).getTime()\n            ) {\n              match = true;\n            }\n          } else if (range[i].from) {\n            if (dayDate >= new Date(range[i].from).getTime()) {\n              match = true;\n            }\n          } else if (range[i].to) {\n            if (dayDate <= new Date(range[i].to).getTime()) {\n              match = true;\n            }\n          }\n        } else if (range[i].date) {\n          if (dayDate === new Date(range[i].date).getTime()) {\n            match = true;\n          }\n        } else if (dayDate === new Date(range[i]).getTime()) {\n          match = true;\n        }\n      }\n    } else if (range.from || range.to) {\n      if (range.from && range.to) {\n        if (dayDate <= new Date(range.to).getTime() && dayDate >= new Date(range.from).getTime()) {\n          match = true;\n        }\n      } else if (range.from) {\n        if (dayDate >= new Date(range.from).getTime()) {\n          match = true;\n        }\n      } else if (range.to) {\n        if (dayDate <= new Date(range.to).getTime()) {\n          match = true;\n        }\n      }\n    } else if (range.date) {\n      match = dayDate === new Date(range.date).getTime();\n    } else if (typeof range === 'function') {\n      match = range(new Date(dayDate));\n    }\n    return match;\n  }\n  // eslint-disable-next-line\n  daysInMonth(date) {\n    const d = new Date(date);\n    return new Date(d.getFullYear(), d.getMonth() + 1, 0).getDate();\n  }\n\n  renderMonths(date) {\n    const calendar = this;\n    if (calendar.params.renderMonths) {\n      return calendar.params.renderMonths.call(calendar, date);\n    }\n    return (\n      <div class=\"calendar-months-wrapper\">\n        {calendar.renderMonth(date, 'prev')}\n        {calendar.renderMonth(date)}\n        {calendar.renderMonth(date, 'next')}\n      </div>\n    );\n  }\n\n  renderMonth(d, offset) {\n    const calendar = this;\n    const { params, value } = calendar;\n    if (params.renderMonth) {\n      return params.renderMonth.call(calendar, d, offset);\n    }\n    let date = new Date(d);\n    let year = date.getFullYear();\n    let month = date.getMonth();\n    let localeMonth = calendar.monthNames.indexOf(calendar.monthFormatter(date));\n    if (localeMonth < 0) localeMonth = month;\n    let localeYear = calendar.yearFormatter(date);\n\n    if (offset === 'next') {\n      if (month === 11) date = new Date(year + 1, 0);\n      else date = new Date(year, month + 1, 1);\n    }\n    if (offset === 'prev') {\n      if (month === 0) date = new Date(year - 1, 11);\n      else date = new Date(year, month - 1, 1);\n    }\n    if (offset === 'next' || offset === 'prev') {\n      month = date.getMonth();\n      year = date.getFullYear();\n      localeMonth = calendar.monthNames.indexOf(calendar.monthFormatter(date));\n      if (localeMonth < 0) localeMonth = month;\n      localeYear = calendar.yearFormatter(date);\n    }\n\n    const currentValues = [];\n    const today = new Date().setHours(0, 0, 0, 0);\n    const minDate = params.minDate ? new Date(params.minDate).getTime() : null;\n    const maxDate = params.maxDate ? new Date(params.maxDate).getTime() : null;\n    const rows = 6;\n    const cols = 7;\n    const daysInPrevMonth = calendar.daysInMonth(\n      new Date(date.getFullYear(), date.getMonth()).getTime() - 10 * 24 * 60 * 60 * 1000,\n    );\n    const daysInMonth = calendar.daysInMonth(date);\n    const minDayNumber = params.firstDay === 6 ? 0 : 1;\n\n    let monthHtml = '';\n    let dayIndex = 0 + (params.firstDay - 1);\n    let disabled;\n    let hasEvents;\n    let firstDayOfMonthIndex = new Date(date.getFullYear(), date.getMonth()).getDay();\n    if (firstDayOfMonthIndex === 0) firstDayOfMonthIndex = 7;\n\n    if (value && value.length) {\n      for (let i = 0; i < value.length; i += 1) {\n        currentValues.push(new Date(value[i]).setHours(0, 0, 0, 0));\n      }\n    }\n\n    for (let row = 1; row <= rows; row += 1) {\n      let rowHtml = '';\n      for (let col = 1; col <= cols; col += 1) {\n        dayIndex += 1;\n        let dayDate;\n        let dayNumber = dayIndex - firstDayOfMonthIndex;\n        let addClass = '';\n        if (row === 1 && col === 1 && dayNumber > minDayNumber && params.firstDay !== 1) {\n          dayIndex -= 7;\n          dayNumber = dayIndex - firstDayOfMonthIndex;\n        }\n\n        const weekDayIndex =\n          col - 1 + params.firstDay > 6 ? col - 1 - 7 + params.firstDay : col - 1 + params.firstDay;\n\n        if (dayNumber < 0) {\n          dayNumber = daysInPrevMonth + dayNumber + 1;\n          addClass += ' calendar-day-prev';\n          dayDate = new Date(\n            month - 1 < 0 ? year - 1 : year,\n            month - 1 < 0 ? 11 : month - 1,\n            dayNumber,\n          ).getTime();\n        } else {\n          dayNumber += 1;\n          if (dayNumber > daysInMonth) {\n            dayNumber -= daysInMonth;\n            addClass += ' calendar-day-next';\n            dayDate = new Date(\n              month + 1 > 11 ? year + 1 : year,\n              month + 1 > 11 ? 0 : month + 1,\n              dayNumber,\n            ).getTime();\n          } else {\n            dayDate = new Date(year, month, dayNumber).getTime();\n          }\n        }\n        // Today\n        if (dayDate === today) addClass += ' calendar-day-today';\n\n        // Selected\n        if (params.rangePicker && currentValues.length === 2) {\n          if (dayDate >= currentValues[0] && dayDate <= currentValues[1]) {\n            addClass += ' calendar-day-selected';\n          }\n          if (currentValues[0] !== currentValues[1]) {\n            if (dayDate > currentValues[0] && dayDate < currentValues[1]) {\n              addClass += ' calendar-day-selected-range';\n            }\n            if (dayDate === currentValues[0]) {\n              addClass += ' calendar-day-selected-left';\n            }\n            if (dayDate === currentValues[1]) {\n              addClass += ' calendar-day-selected-right';\n            }\n          }\n        } else if (currentValues.indexOf(dayDate) >= 0) addClass += ' calendar-day-selected';\n        // Weekend\n        if (params.weekendDays.indexOf(weekDayIndex) >= 0) {\n          addClass += ' calendar-day-weekend';\n        }\n        // Events\n        let eventsHtml = '';\n        hasEvents = false;\n        if (params.events) {\n          if (calendar.dateInRange(dayDate, params.events)) {\n            hasEvents = true;\n          }\n        }\n        if (hasEvents) {\n          addClass += ' calendar-day-has-events';\n          // prettier-ignore\n          eventsHtml = `\n            <span class=\"calendar-day-events\">\n              <span class=\"calendar-day-event\"></span>\n            </span>\n          `;\n          if (Array.isArray(params.events)) {\n            const eventDots = [];\n            params.events.forEach((ev) => {\n              const color = ev.color || '';\n              if (eventDots.indexOf(color) < 0 && calendar.dateInRange(dayDate, ev)) {\n                eventDots.push(color);\n              }\n            });\n            // prettier-ignore\n            eventsHtml = `\n              <span class=\"calendar-day-events\">\n                ${eventDots.map(color => `\n                  <span class=\"calendar-day-event\" style=\"${color ? `background-color: ${color}` : ''}\"></span>\n                `.trim()).join('')}\n              </span>\n            `;\n          }\n        }\n        // Custom Ranges\n        if (params.rangesClasses) {\n          for (let k = 0; k < params.rangesClasses.length; k += 1) {\n            if (calendar.dateInRange(dayDate, params.rangesClasses[k].range)) {\n              addClass += ` ${params.rangesClasses[k].cssClass}`;\n            }\n          }\n        }\n        // Disabled\n        disabled = false;\n        if ((minDate && dayDate < minDate) || (maxDate && dayDate > maxDate)) {\n          disabled = true;\n        }\n        if (params.disabled) {\n          if (calendar.dateInRange(dayDate, params.disabled)) {\n            disabled = true;\n          }\n        }\n        if (disabled) {\n          addClass += ' calendar-day-disabled';\n        }\n\n        dayDate = new Date(dayDate);\n        const dayYear = dayDate.getFullYear();\n        const dayMonth = dayDate.getMonth();\n        const dayNumberDisplay = calendar.dayFormatter(dayDate);\n        // prettier-ignore\n        rowHtml += `\n          <div data-year=\"${dayYear}\" data-month=\"${dayMonth}\" data-day=\"${dayNumber}\" class=\"calendar-day${addClass}\" data-date=\"${dayYear}-${dayMonth}-${dayNumber}\">\n            <span class=\"calendar-day-number\">${dayNumberDisplay}${eventsHtml}</span>\n          </div>`.trim();\n      }\n      monthHtml += `<div class=\"calendar-row\">${rowHtml}</div>`;\n    }\n    monthHtml = `<div class=\"calendar-month\" data-year=\"${year}\" data-month=\"${month}\" data-locale-year=\"${localeYear}\" data-locale-month=\"${localeMonth}\">${monthHtml}</div>`;\n    return monthHtml;\n  }\n\n  renderWeekHeader() {\n    const calendar = this;\n    if (calendar.params.renderWeekHeader) {\n      return calendar.params.renderWeekHeader.call(calendar);\n    }\n    const { params } = calendar;\n    let weekDaysHtml = '';\n    for (let i = 0; i < 7; i += 1) {\n      const dayIndex = i + params.firstDay > 6 ? i - 7 + params.firstDay : i + params.firstDay;\n      const dayName = calendar.dayNamesShort[dayIndex];\n      weekDaysHtml += `<div class=\"calendar-week-day\">${dayName}</div>`;\n    }\n    return <div class=\"calendar-week-header\">{weekDaysHtml}</div>;\n  }\n\n  renderMonthSelector() {\n    const calendar = this;\n    if (calendar.params.renderMonthSelector) {\n      return calendar.params.renderMonthSelector.call(calendar);\n    }\n    return (\n      <div class=\"calendar-month-selector\">\n        <a class=\"link icon-only calendar-prev-month-button\">\n          <i class=\"icon icon-prev\"></i>\n        </a>\n        {calendar.params.monthPicker ? (\n          <a class=\"current-month-value link\"></a>\n        ) : (\n          <span class=\"current-month-value\"></span>\n        )}\n        <a class=\"link icon-only calendar-next-month-button\">\n          <i class=\"icon icon-next\"></i>\n        </a>\n      </div>\n    );\n  }\n\n  renderMonthPicker() {\n    const calendar = this;\n    const localeMonth = parseInt(\n      calendar.$el.find('.calendar-month-current').attr('data-locale-month'),\n      10,\n    );\n    return (\n      <div class=\"calendar-month-picker\">\n        {calendar.monthNames.map((m, index) => (\n          <div\n            class={`calendar-month-picker-item ${\n              localeMonth === index ? 'calendar-month-picker-item-current' : ''\n            }`}\n          >\n            <span>{m}</span>\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  renderYearSelector() {\n    const calendar = this;\n    if (calendar.params.renderYearSelector) {\n      return calendar.params.renderYearSelector.call(calendar);\n    }\n    return (\n      <div class=\"calendar-year-selector\">\n        <a class=\"link icon-only calendar-prev-year-button\">\n          <i class=\"icon icon-prev\"></i>\n        </a>\n        {calendar.params.yearPicker ? (\n          <a class=\"current-year-value link\"></a>\n        ) : (\n          <span class=\"current-year-value\"></span>\n        )}\n        <a class=\"link icon-only calendar-next-year-button\">\n          <i class=\"icon icon-next\"></i>\n        </a>\n      </div>\n    );\n  }\n\n  renderYearPicker() {\n    const calendar = this;\n    const currentYear = calendar.currentYear;\n    let yearMin = calendar.params.yearPickerMin || new Date().getFullYear() - 100;\n    if (calendar.params.minDate) {\n      yearMin = Math.max(yearMin, new Date(calendar.params.minDate).getFullYear());\n    }\n    let yearMax = calendar.params.yearPickerMax || new Date().getFullYear() + 100;\n    if (calendar.params.maxDate) {\n      yearMax = Math.min(yearMax, new Date(calendar.params.maxDate).getFullYear());\n    }\n    const years = [];\n    for (let i = yearMin; i <= yearMax; i += 1) {\n      years.push(i);\n    }\n    return (\n      <div class=\"calendar-year-picker\">\n        {years.map((year) => (\n          <div\n            data-year={year}\n            class={`calendar-year-picker-item ${\n              year === currentYear ? 'calendar-year-picker-item-current' : ''\n            }`}\n          >\n            <span>{calendar.yearFormatter(new Date().setFullYear(year))}</span>\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  // eslint-disable-next-line\n  renderTimeSelector() {\n    const calendar = this;\n    const value = calendar.value && calendar.value[0];\n    let timeString;\n    if (value) timeString = calendar.timeSelectorFormatter(value);\n    return (\n      <div class=\"calendar-time-selector\">\n        <a class=\"link\">{timeString || calendar.params.timePickerPlaceholder}</a>\n      </div>\n    );\n  }\n\n  renderHeader() {\n    const calendar = this;\n    if (calendar.params.renderHeader) {\n      return calendar.params.renderHeader.call(calendar);\n    }\n    return (\n      <div class=\"calendar-header\">\n        <div class=\"calendar-selected-date\">{calendar.params.headerPlaceholder}</div>\n      </div>\n    );\n  }\n\n  renderFooter() {\n    const calendar = this;\n    const app = calendar.app;\n    if (calendar.params.renderFooter) {\n      return calendar.params.renderFooter.call(calendar);\n    }\n    return (\n      <div class=\"calendar-footer\">\n        <a\n          class={`${\n            app.theme === 'md' ? 'button' : 'link'\n          } calendar-close sheet-close popover-close`}\n        >\n          {calendar.params.toolbarCloseText}\n        </a>\n      </div>\n    );\n  }\n\n  renderToolbar() {\n    const calendar = this;\n    if (calendar.params.renderToolbar) {\n      return calendar.params.renderToolbar.call(calendar, calendar);\n    }\n    // prettier-ignore\n    return (\n    <div class=\"toolbar toolbar-top no-shadow\">\n      <div class=\"toolbar-inner\">\n        {calendar.params.monthSelector ? calendar.renderMonthSelector() : ''}\n        {calendar.params.yearSelector ? calendar.renderYearSelector() : ''}\n      </div>\n    </div>\n    );\n  }\n  // eslint-disable-next-line\n  renderInline() {\n    const calendar = this;\n    const { cssClass, toolbar, header, footer, rangePicker, weekHeader } = calendar.params;\n    const { value, hasTimePicker } = calendar;\n    const date = value && value.length ? value[0] : new Date().setHours(0, 0, 0);\n    return (\n      <div\n        class={`calendar calendar-inline ${rangePicker ? 'calendar-range' : ''} ${cssClass || ''}`}\n      >\n        {header && calendar.renderHeader()}\n        {toolbar && calendar.renderToolbar()}\n        {weekHeader && calendar.renderWeekHeader()}\n        <div class=\"calendar-months\">{calendar.renderMonths(date)}</div>\n        {hasTimePicker && calendar.renderTimeSelector()}\n        {footer && calendar.renderFooter()}\n      </div>\n    );\n  }\n\n  renderCustomModal() {\n    const calendar = this;\n    const { cssClass, toolbar, header, footer, rangePicker, weekHeader } = calendar.params;\n    const { value, hasTimePicker } = calendar;\n    const date = value && value.length ? value[0] : new Date().setHours(0, 0, 0);\n    return (\n      <div\n        class={`calendar calendar-modal ${rangePicker ? 'calendar-range' : ''} ${cssClass || ''}`}\n      >\n        {header && calendar.renderHeader()}\n        {toolbar && calendar.renderToolbar()}\n        {weekHeader && calendar.renderWeekHeader()}\n        <div class=\"calendar-months\">{calendar.renderMonths(date)}</div>\n        {hasTimePicker && calendar.renderTimeSelector()}\n        {footer && calendar.renderFooter()}\n      </div>\n    );\n  }\n\n  renderSheet() {\n    const calendar = this;\n    const { cssClass, toolbar, header, footer, rangePicker, weekHeader } = calendar.params;\n    const { value, hasTimePicker } = calendar;\n    const date = value && value.length ? value[0] : new Date().setHours(0, 0, 0);\n    return (\n      <div\n        class={`sheet-modal calendar calendar-sheet ${rangePicker ? 'calendar-range' : ''} ${\n          cssClass || ''\n        }`}\n      >\n        {header && calendar.renderHeader()}\n        {toolbar && calendar.renderToolbar()}\n        {weekHeader && calendar.renderWeekHeader()}\n        <div class=\"sheet-modal-inner calendar-months\">{calendar.renderMonths(date)}</div>\n        {hasTimePicker && calendar.renderTimeSelector()}\n        {footer && calendar.renderFooter()}\n      </div>\n    );\n  }\n\n  renderPopover() {\n    const calendar = this;\n    const { cssClass, toolbar, header, footer, rangePicker, weekHeader } = calendar.params;\n    const { value, hasTimePicker } = calendar;\n    const date = value && value.length ? value[0] : new Date().setHours(0, 0, 0);\n    return (\n      <div class=\"popover calendar-popover\">\n        <div class=\"popover-inner\">\n          <div class={`calendar ${rangePicker ? 'calendar-range' : ''} ${cssClass || ''}`}>\n            {header && calendar.renderHeader()}\n            {toolbar && calendar.renderToolbar()}\n            {weekHeader && calendar.renderWeekHeader()}\n            <div class=\"calendar-months\">{calendar.renderMonths(date)}</div>\n            {hasTimePicker && calendar.renderTimeSelector()}\n            {footer && calendar.renderFooter()}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    const calendar = this;\n    const { params } = calendar;\n    if (params.render) return params.render.call(calendar);\n    if (!calendar.inline) {\n      let modalType = params.openIn;\n      if (modalType === 'auto') modalType = calendar.isPopover() ? 'popover' : 'sheet';\n\n      if (modalType === 'popover') return calendar.renderPopover();\n      if (modalType === 'sheet') return calendar.renderSheet();\n      return calendar.renderCustomModal();\n    }\n    return calendar.renderInline();\n  }\n\n  openTimePicker() {\n    const calendar = this;\n    const { $el, app, is12HoursFormat } = calendar;\n    if (!$el || !$el.length) return;\n    $el.append('<div class=\"calendar-time-picker\"></div>');\n    const hoursArr = [];\n    const minutesArr = [];\n    const hoursMin = is12HoursFormat ? 1 : 0;\n    const hoursMax = is12HoursFormat ? 12 : 23;\n    for (let i = hoursMin; i <= hoursMax; i += 1) {\n      hoursArr.push(i);\n    }\n    for (let i = 0; i <= 59; i += 1) {\n      minutesArr.push(i);\n    }\n    let value;\n    if (calendar.value && calendar.value.length) {\n      value = [calendar.value[0].getHours(), calendar.value[0].getMinutes()];\n    } else {\n      value = [new Date().getHours(), new Date().getMinutes()];\n    }\n    if (is12HoursFormat) {\n      value.push(value[0] < 12 ? 'AM' : 'PM');\n      if (value[0] > 12) value[0] -= 12;\n      if (value[0] === 0) value[0] = 12;\n    }\n    calendar.timePickerInstance = app.picker.create({\n      containerEl: $el.find('.calendar-time-picker'),\n      value,\n      toolbar: true,\n      rotateEffect: false,\n      toolbarCloseText: calendar.params.toolbarCloseText,\n      cols: [\n        {\n          values: hoursArr,\n        },\n        {\n          divider: true,\n          content: ':',\n        },\n        {\n          values: minutesArr,\n          displayValues: minutesArr.map((m) => (m < 10 ? `0${m}` : m)),\n        },\n        ...(is12HoursFormat\n          ? [\n              {\n                values: ['AM', 'PM'],\n              },\n            ]\n          : []),\n      ],\n    });\n    calendar.timePickerInstance.$el\n      .find('.toolbar a')\n      .removeClass('sheet-close popover-close')\n      .addClass('calendar-time-picker-close');\n  }\n\n  closeTimePicker() {\n    const calendar = this;\n    const { is12HoursFormat } = calendar;\n    if (calendar.timePickerInstance) {\n      const timePickerValue = calendar.timePickerInstance.value;\n      let hours = parseInt(timePickerValue[0], 10);\n      const minutes = parseInt(timePickerValue[1], 10);\n      const period = calendar.timePickerInstance.value[2];\n      if (is12HoursFormat) {\n        if (period === 'AM' && hours === 12) {\n          hours = 0;\n        } else if (period === 'PM' && hours !== 12) {\n          hours += 12;\n        }\n      }\n\n      let value = calendar.value && calendar.value.length && calendar.value[0];\n      if (!value) {\n        value = new Date();\n        value.setHours(hours, minutes, 0, 0);\n      } else {\n        value = new Date(value);\n        value.setHours(hours, minutes);\n      }\n      calendar.setValue([value]);\n      calendar.timePickerInstance.close();\n      calendar.timePickerInstance.destroy();\n      delete calendar.timePickerInstance;\n    }\n    if (calendar.$el && calendar.$el.length) {\n      calendar.$el.find('.calendar-time-picker').remove();\n    }\n  }\n\n  onOpen() {\n    const calendar = this;\n    const { initialized, $el, app, $inputEl, inline, value, params } = calendar;\n    calendar.closing = false;\n    calendar.opened = true;\n    calendar.opening = true;\n\n    // Init main events\n    calendar.attachCalendarEvents();\n\n    const updateValue = !value && params.value;\n\n    // Set value\n    if (!initialized) {\n      if (value) calendar.setValue(value, 0);\n      else if (params.value) {\n        calendar.setValue(calendar.normalizeValues(params.value), 0);\n      }\n    } else if (value) {\n      calendar.setValue(value, 0);\n    }\n\n    // Update current month and year\n    calendar.updateCurrentMonthYear();\n\n    // Set initial translate\n    calendar.monthsTranslate = 0;\n    calendar.setMonthsTranslate();\n\n    // Update input value\n    if (updateValue) calendar.updateValue();\n    else if (params.header && value) {\n      calendar.updateValue(true);\n    }\n\n    // Extra focus\n    if (!inline && $inputEl && $inputEl.length && app.theme === 'md') {\n      $inputEl.trigger('focus');\n    }\n\n    calendar.initialized = true;\n\n    calendar.$months.each((monthEl) => {\n      calendar.emit('local::monthAdd calendarMonthAdd', monthEl);\n    });\n\n    // Trigger events\n    if ($el) {\n      $el.trigger('calendar:open');\n    }\n    if ($inputEl) {\n      $inputEl.trigger('calendar:open');\n    }\n    calendar.emit('local::open calendarOpen', calendar);\n  }\n\n  onOpened() {\n    const calendar = this;\n    calendar.opening = false;\n    if (calendar.$el) {\n      calendar.$el.trigger('calendar:opened');\n    }\n    if (calendar.$inputEl) {\n      calendar.$inputEl.trigger('calendar:opened');\n    }\n    calendar.emit('local::opened calendarOpened', calendar);\n  }\n\n  onClose() {\n    const calendar = this;\n    const app = calendar.app;\n    calendar.opening = false;\n    calendar.closing = true;\n\n    if (calendar.$inputEl) {\n      if (app.theme === 'md') {\n        calendar.$inputEl.trigger('blur');\n      } else {\n        const validate = calendar.$inputEl.attr('validate');\n        const required = calendar.$inputEl.attr('required');\n        if (validate && required) {\n          app.input.validate(calendar.$inputEl);\n        }\n      }\n    }\n    if (calendar.detachCalendarEvents) {\n      calendar.detachCalendarEvents();\n    }\n\n    if (calendar.$el) {\n      calendar.$el.trigger('calendar:close');\n    }\n    if (calendar.$inputEl) {\n      calendar.$inputEl.trigger('calendar:close');\n    }\n    calendar.emit('local::close calendarClose', calendar);\n  }\n\n  onClosed() {\n    const calendar = this;\n    calendar.opened = false;\n    calendar.closing = false;\n\n    if (!calendar.inline) {\n      nextTick(() => {\n        if (calendar.modal && calendar.modal.el && calendar.modal.destroy) {\n          if (!calendar.params.routableModals) {\n            calendar.modal.destroy();\n          }\n        }\n        delete calendar.modal;\n      });\n    }\n    if (calendar.timePickerInstance) {\n      if (calendar.timePickerInstance.destroy) calendar.timePickerInstance.destroy();\n      delete calendar.timePickerInstance;\n    }\n    if (calendar.$el) {\n      calendar.$el.trigger('calendar:closed');\n    }\n    if (calendar.$inputEl) {\n      calendar.$inputEl.trigger('calendar:closed');\n    }\n    calendar.emit('local::closed calendarClosed', calendar);\n  }\n\n  open() {\n    const calendar = this;\n    const { app, opened, inline, $inputEl, params } = calendar;\n    if (opened) return;\n\n    if (inline) {\n      calendar.$el = $(calendar.render());\n      calendar.$el[0].f7Calendar = calendar;\n      calendar.$wrapperEl = calendar.$el.find('.calendar-months-wrapper');\n      calendar.$months = calendar.$wrapperEl.find('.calendar-month');\n      calendar.$containerEl.append(calendar.$el);\n      calendar.onOpen();\n      calendar.onOpened();\n      return;\n    }\n    let modalType = params.openIn;\n    if (modalType === 'auto') {\n      modalType = calendar.isPopover() ? 'popover' : 'sheet';\n    }\n    const modalContent = calendar.render();\n\n    const modalParams = {\n      targetEl: $inputEl,\n      scrollToEl: params.scrollToInput ? $inputEl : undefined,\n      content: modalContent,\n      backdrop:\n        params.backdrop === true ||\n        (modalType === 'popover' &&\n          app.params.popover.backdrop !== false &&\n          params.backdrop !== false),\n      closeByBackdropClick: params.closeByBackdropClick,\n      on: {\n        open() {\n          const modal = this;\n          calendar.modal = modal;\n          calendar.$el = modalType === 'popover' ? modal.$el.find('.calendar') : modal.$el;\n          calendar.$wrapperEl = calendar.$el.find('.calendar-months-wrapper');\n          calendar.$months = calendar.$wrapperEl.find('.calendar-month');\n          calendar.$el[0].f7Calendar = calendar;\n          if (modalType === 'customModal') {\n            $(calendar.$el)\n              .find('.calendar-close')\n              .once('click', () => {\n                calendar.close();\n              });\n          }\n          calendar.onOpen();\n        },\n        opened() {\n          calendar.onOpened();\n        },\n        close() {\n          calendar.onClose();\n        },\n        closed() {\n          calendar.onClosed();\n        },\n      },\n    };\n    if (modalType === 'sheet') {\n      modalParams.push = params.sheetPush;\n      modalParams.swipeToClose = params.sheetSwipeToClose;\n    }\n    if (params.routableModals && calendar.view) {\n      calendar.view.router.navigate({\n        url: calendar.url,\n        route: {\n          path: calendar.url,\n          [modalType]: modalParams,\n        },\n      });\n    } else {\n      calendar.modal = app[modalType].create(modalParams);\n      calendar.modal.open();\n    }\n  }\n\n  close() {\n    const calendar = this;\n    const { opened, inline } = calendar;\n    if (!opened) return;\n    if (inline) {\n      calendar.onClose();\n      calendar.onClosed();\n      return;\n    }\n    if (calendar.params.routableModals && calendar.view) {\n      calendar.view.router.back();\n    } else {\n      calendar.modal.close();\n    }\n  }\n\n  init() {\n    const calendar = this;\n\n    calendar.initInput();\n\n    if (calendar.inline) {\n      calendar.open();\n      calendar.emit('local::init calendarInit', calendar);\n      return;\n    }\n\n    if (!calendar.initialized && calendar.params.value) {\n      calendar.setValue(calendar.normalizeValues(calendar.params.value));\n    }\n\n    // Attach input Events\n    if (calendar.$inputEl) {\n      calendar.attachInputEvents();\n    }\n    if (calendar.params.closeByOutsideClick) {\n      calendar.attachHtmlEvents();\n    }\n    calendar.emit('local::init calendarInit', calendar);\n  }\n\n  destroy() {\n    const calendar = this;\n    if (calendar.destroyed) return;\n    const { $el } = calendar;\n    calendar.emit('local::beforeDestroy calendarBeforeDestroy', calendar);\n    if ($el) $el.trigger('calendar:beforedestroy');\n\n    calendar.close();\n\n    // Detach Events\n    if (calendar.$inputEl) {\n      calendar.detachInputEvents();\n    }\n    if (calendar.params.closeByOutsideClick) {\n      calendar.detachHtmlEvents();\n    }\n\n    if (calendar.timePickerInstance) {\n      if (calendar.timePickerInstance.destroy) calendar.timePickerInstance.destroy();\n      delete calendar.timePickerInstance;\n    }\n\n    if ($el && $el.length) delete calendar.$el[0].f7Calendar;\n    deleteProps(calendar);\n    calendar.destroyed = true;\n  }\n}\n\nexport default Calendar;\n","import ConstructorMethods from '../../shared/constructor-methods';\nimport Calendar from './calendar-class';\nimport $ from '../../shared/dom7';\n\nexport default {\n  name: 'calendar',\n  static: {\n    Calendar,\n  },\n  create() {\n    const app = this;\n    app.calendar = ConstructorMethods({\n      defaultSelector: '.calendar',\n      constructor: Calendar,\n      app,\n      domProp: 'f7Calendar',\n    });\n    app.calendar.close = function close(el = '.calendar') {\n      const $el = $(el);\n      if ($el.length === 0) return;\n      const calendar = $el[0].f7Calendar;\n      if (!calendar || (calendar && !calendar.opened)) return;\n      calendar.close();\n    };\n  },\n  params: {\n    calendar: {\n      // Calendar settings\n      dateFormat: undefined,\n      monthNames: 'auto',\n      monthNamesShort: 'auto',\n      dayNames: 'auto',\n      dayNamesShort: 'auto',\n      locale: undefined,\n      firstDay: 1, // First day of the week, Monday\n      weekendDays: [0, 6], // Sunday and Saturday\n      multiple: false,\n      rangePicker: false,\n      rangePickerMinDays: 1, // when calendar is used as rangePicker\n      rangePickerMaxDays: 0, // when calendar is used as rangePicker, 0 means unlimited\n      direction: 'horizontal', // or 'vertical'\n      minDate: null,\n      maxDate: null,\n      disabled: null, // dates range of disabled days\n      events: null, // dates range of days with events\n      rangesClasses: null, // array with custom classes date ranges\n      touchMove: true,\n      animate: true,\n      closeOnSelect: false,\n      monthSelector: true,\n      monthPicker: true,\n      yearSelector: true,\n      yearPicker: true,\n      yearPickerMin: undefined,\n      yearPickerMax: undefined,\n      timePicker: false,\n      timePickerFormat: { hour: 'numeric', minute: 'numeric' },\n      timePickerPlaceholder: 'Select time',\n      weekHeader: true,\n      value: null,\n      // Common opener settings\n      containerEl: null,\n      openIn: 'auto', // or 'popover' or 'sheet' or 'customModal'\n      sheetPush: false,\n      sheetSwipeToClose: undefined,\n      formatValue: null,\n      inputEl: null,\n      inputReadOnly: true,\n      closeByOutsideClick: true,\n      scrollToInput: true,\n      header: false,\n      headerPlaceholder: 'Select date',\n      toolbar: true,\n      toolbarCloseText: 'Done',\n      footer: false,\n      cssClass: null,\n      routableModals: false,\n      view: null,\n      url: 'date/',\n      backdrop: null,\n      closeByBackdropClick: true,\n      // Render functions\n      renderWeekHeader: null,\n      renderMonths: null,\n      renderMonth: null,\n      renderMonthSelector: null,\n      renderYearSelector: null,\n      renderHeader: null,\n      renderFooter: null,\n      renderToolbar: null,\n      renderInline: null,\n      renderPopover: null,\n      renderSheet: null,\n      render: null,\n    },\n  },\n};\n","import $ from '../../shared/dom7';\nimport { requestAnimationFrame, getTranslate } from '../../shared/utils';\nimport { getSupport } from '../../shared/get-support';\n\nexport default function pickerColumn(colEl, updateItems) {\n  const picker = this;\n  const app = picker.app;\n  const $colEl = $(colEl);\n  const colIndex = $colEl.index();\n  const col = picker.cols[colIndex];\n  if (col.divider) return;\n\n  col.$el = $colEl;\n  col.el = $colEl[0];\n  col.$itemsEl = col.$el.find('.picker-items');\n  col.items = col.$itemsEl.find('.picker-item');\n\n  let itemHeight;\n  let itemsHeight;\n  let minTranslate;\n  let maxTranslate;\n  let animationFrameId;\n\n  function updateDuringScroll() {\n    animationFrameId = requestAnimationFrame(() => {\n      col.updateItems(undefined, undefined, 0);\n      updateDuringScroll();\n    });\n  }\n\n  col.replaceValues = function replaceColValues(values, displayValues) {\n    col.detachEvents();\n    col.values = values;\n    col.displayValues = displayValues;\n    col.$itemsEl.html(picker.renderColumn(col, true));\n    col.items = col.$itemsEl.find('.picker-item');\n    col.calcSize();\n    col.setValue(col.values[0], 0, true);\n    col.attachEvents();\n  };\n  col.calcSize = function calcColSize() {\n    if (picker.params.rotateEffect) {\n      col.$el.removeClass('picker-column-absolute');\n      if (!col.width) col.$el.css({ width: '' });\n    }\n    let colWidth = 0;\n    const colHeight = col.$el[0].offsetHeight;\n    itemHeight = col.items[0].offsetHeight;\n    itemsHeight = itemHeight * col.items.length;\n    minTranslate = colHeight / 2 - itemsHeight + itemHeight / 2;\n    maxTranslate = colHeight / 2 - itemHeight / 2;\n    if (col.width) {\n      colWidth = col.width;\n      if (parseInt(colWidth, 10) === colWidth) colWidth += 'px';\n      col.$el.css({ width: colWidth });\n    }\n    if (picker.params.rotateEffect) {\n      if (!col.width) {\n        col.items.each((itemEl) => {\n          const item = $(itemEl).children('span');\n          colWidth = Math.max(colWidth, item[0].offsetWidth);\n        });\n        col.$el.css({ width: `${colWidth + 2}px` });\n      }\n      col.$el.addClass('picker-column-absolute');\n    }\n  };\n\n  col.setValue = function setColValue(newValue, transition = '', valueCallbacks) {\n    const newActiveIndex = col.$itemsEl\n      .find(`.picker-item[data-picker-value=\"${newValue}\"]`)\n      .index();\n    if (typeof newActiveIndex === 'undefined' || newActiveIndex === -1) {\n      return;\n    }\n    const newTranslate = -newActiveIndex * itemHeight + maxTranslate;\n    // Update wrapper\n    col.$itemsEl.transition(transition);\n    col.$itemsEl.transform(`translate3d(0,${newTranslate}px,0)`);\n\n    // Watch items\n    if (\n      picker.params.updateValuesOnMomentum &&\n      col.activeIndex &&\n      col.activeIndex !== newActiveIndex\n    ) {\n      cancelAnimationFrame(animationFrameId);\n      col.$itemsEl.transitionEnd(() => {\n        cancelAnimationFrame(animationFrameId);\n      });\n      updateDuringScroll();\n    }\n\n    // Update items\n    col.updateItems(newActiveIndex, newTranslate, transition, valueCallbacks);\n  };\n\n  col.updateItems = function updateColItems(activeIndex, translate, transition, valueCallbacks) {\n    if (typeof translate === 'undefined') {\n      // eslint-disable-next-line\n      translate = getTranslate(col.$itemsEl[0], 'y');\n    }\n\n    if (typeof activeIndex === 'undefined')\n      // eslint-disable-next-line\n      activeIndex = -Math.round((translate - maxTranslate) / itemHeight);\n    // eslint-disable-next-line\n    if (activeIndex < 0) activeIndex = 0;\n    // eslint-disable-next-line\n    if (activeIndex >= col.items.length) activeIndex = col.items.length - 1;\n    const previousActiveIndex = col.activeIndex;\n    col.activeIndex = activeIndex;\n    col.$itemsEl.find('.picker-item-selected').removeClass('picker-item-selected');\n\n    col.items.transition(transition);\n\n    const selectedItem = col.items.eq(activeIndex).addClass('picker-item-selected').transform('');\n\n    // Set 3D rotate effect\n    if (picker.params.rotateEffect) {\n      col.items.each((itemEl) => {\n        const $itemEl = $(itemEl);\n        const itemOffsetTop = $itemEl.index() * itemHeight;\n        const translateOffset = maxTranslate - translate;\n        const itemOffset = itemOffsetTop - translateOffset;\n        const percentage = itemOffset / itemHeight;\n        const itemsFit = Math.ceil(col.height / itemHeight / 2) + 1;\n\n        let angle = -18 * percentage;\n        if (angle > 180) angle = 180;\n        if (angle < -180) angle = -180;\n        if (Math.abs(percentage) > itemsFit) {\n          $itemEl.addClass('picker-item-far');\n        } else {\n          $itemEl.removeClass('picker-item-far');\n        }\n        $itemEl.transform(\n          `translate3d(0, ${-translate + maxTranslate}px, ${\n            picker.needsOriginFix ? -110 : 0\n          }px) rotateX(${angle}deg)`,\n        );\n      });\n    }\n\n    if (valueCallbacks || typeof valueCallbacks === 'undefined') {\n      // Update values\n      col.value = selectedItem.attr('data-picker-value');\n      col.displayValue = col.displayValues ? col.displayValues[activeIndex] : col.value;\n      // On change callback\n      if (previousActiveIndex !== activeIndex) {\n        if (col.onChange) {\n          col.onChange(picker, col.value, col.displayValue);\n        }\n        picker.updateValue();\n      }\n    }\n  };\n\n  let allowItemClick = true;\n  let isTouched;\n  let isMoved;\n  let touchStartY;\n  let touchCurrentY;\n  let touchStartTime;\n  let touchEndTime;\n  let startTranslate;\n  let returnTo;\n  let currentTranslate;\n  let prevTranslate;\n  let velocityTranslate;\n  function handleTouchStart(e) {\n    if (isMoved || isTouched) return;\n    e.preventDefault();\n    isTouched = true;\n    touchStartY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n    touchCurrentY = touchStartY;\n    touchStartTime = new Date().getTime();\n\n    allowItemClick = true;\n    startTranslate = getTranslate(col.$itemsEl[0], 'y');\n    currentTranslate = startTranslate;\n  }\n  function handleTouchMove(e) {\n    if (!isTouched) return;\n    e.preventDefault();\n    allowItemClick = false;\n    touchCurrentY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n    if (!isMoved) {\n      // First move\n      cancelAnimationFrame(animationFrameId);\n      isMoved = true;\n      startTranslate = getTranslate(col.$itemsEl[0], 'y');\n      currentTranslate = startTranslate;\n      col.$itemsEl.transition(0);\n    }\n\n    const diff = touchCurrentY - touchStartY;\n    currentTranslate = startTranslate + diff;\n    returnTo = undefined;\n\n    // Normalize translate\n    if (currentTranslate < minTranslate) {\n      currentTranslate = minTranslate - (minTranslate - currentTranslate) ** 0.8;\n      returnTo = 'min';\n    }\n    if (currentTranslate > maxTranslate) {\n      currentTranslate = maxTranslate + (currentTranslate - maxTranslate) ** 0.8;\n      returnTo = 'max';\n    }\n    // Transform wrapper\n    col.$itemsEl.transform(`translate3d(0,${currentTranslate}px,0)`);\n\n    // Update items\n    col.updateItems(undefined, currentTranslate, 0, picker.params.updateValuesOnTouchmove);\n\n    // Calc velocity\n    velocityTranslate = currentTranslate - prevTranslate || currentTranslate;\n    prevTranslate = currentTranslate;\n  }\n  function handleTouchEnd() {\n    if (!isTouched || !isMoved) {\n      isTouched = false;\n      isMoved = false;\n      return;\n    }\n    isTouched = false;\n    isMoved = false;\n    col.$itemsEl.transition('');\n    if (returnTo) {\n      if (returnTo === 'min') {\n        col.$itemsEl.transform(`translate3d(0,${minTranslate}px,0)`);\n      } else {\n        col.$itemsEl.transform(`translate3d(0,${maxTranslate}px,0)`);\n      }\n    }\n    touchEndTime = new Date().getTime();\n    let newTranslate;\n    if (touchEndTime - touchStartTime > 300) {\n      newTranslate = currentTranslate;\n    } else {\n      newTranslate = currentTranslate + velocityTranslate * picker.params.momentumRatio;\n    }\n\n    newTranslate = Math.max(Math.min(newTranslate, maxTranslate), minTranslate);\n\n    // Active Index\n    const activeIndex = Math.round(Math.abs((newTranslate - maxTranslate) / itemHeight));\n\n    // Normalize translate\n    if (!picker.params.freeMode) newTranslate = -activeIndex * itemHeight + maxTranslate;\n\n    // Transform wrapper\n    col.$itemsEl.transform(`translate3d(0,${parseInt(newTranslate, 10)}px,0)`);\n\n    // Update items\n    col.updateItems(activeIndex, newTranslate, '', true);\n\n    // Watch items\n    if (picker.params.updateValuesOnMomentum) {\n      updateDuringScroll();\n      col.$itemsEl.transitionEnd(() => {\n        cancelAnimationFrame(animationFrameId);\n      });\n    }\n\n    // Allow click\n    setTimeout(() => {\n      allowItemClick = true;\n    }, 100);\n  }\n\n  let mousewheelTimeout;\n  function handleMouseWheel(e) {\n    const { deltaX, deltaY } = e;\n    if (Math.abs(deltaX) > Math.abs(deltaY)) return;\n    clearTimeout(mousewheelTimeout);\n\n    e.preventDefault();\n\n    cancelAnimationFrame(animationFrameId);\n    startTranslate = getTranslate(col.$itemsEl[0], 'y');\n    col.$itemsEl.transition(0);\n\n    currentTranslate = startTranslate - deltaY;\n    returnTo = undefined;\n\n    // Normalize translate\n    if (currentTranslate < minTranslate) {\n      currentTranslate = minTranslate;\n      returnTo = 'min';\n    }\n    if (currentTranslate > maxTranslate) {\n      currentTranslate = maxTranslate;\n      returnTo = 'max';\n    }\n    // Transform wrapper\n    col.$itemsEl.transform(`translate3d(0,${currentTranslate}px,0)`);\n\n    // Update items\n    col.updateItems(undefined, currentTranslate, 0, picker.params.updateValuesOnMousewheel);\n\n    // On end\n    mousewheelTimeout = setTimeout(() => {\n      col.$itemsEl.transition('');\n      if (returnTo) {\n        if (returnTo === 'min') {\n          col.$itemsEl.transform(`translate3d(0,${minTranslate}px,0)`);\n        } else {\n          col.$itemsEl.transform(`translate3d(0,${maxTranslate}px,0)`);\n        }\n      }\n      touchEndTime = new Date().getTime();\n      let newTranslate = currentTranslate;\n      newTranslate = Math.max(Math.min(newTranslate, maxTranslate), minTranslate);\n\n      // Active Index\n      const activeIndex = Math.round(Math.abs((newTranslate - maxTranslate) / itemHeight));\n\n      // Normalize translate\n      if (!picker.params.freeMode) newTranslate = -activeIndex * itemHeight + maxTranslate;\n\n      // Transform wrapper\n      col.$itemsEl.transform(`translate3d(0,${parseInt(newTranslate, 10)}px,0)`);\n\n      // Update items\n      col.updateItems(activeIndex, newTranslate, '', true);\n    }, 200);\n  }\n\n  function handleClick() {\n    if (!allowItemClick) return;\n    cancelAnimationFrame(animationFrameId);\n    const value = $(this).attr('data-picker-value');\n    col.setValue(value);\n  }\n\n  const activeListener = getSupport().passiveListener ? { passive: false, capture: false } : false;\n  col.attachEvents = function attachColEvents() {\n    col.$el.on(app.touchEvents.start, handleTouchStart, activeListener);\n    app.on('touchmove:active', handleTouchMove);\n    app.on('touchend:passive', handleTouchEnd);\n    if (picker.params.mousewheel) {\n      col.$el.on('wheel', handleMouseWheel);\n    }\n    col.items.on('click', handleClick);\n  };\n  col.detachEvents = function detachColEvents() {\n    col.$el.off(app.touchEvents.start, handleTouchStart, activeListener);\n    app.off('touchmove:active', handleTouchMove);\n    app.off('touchend:passive', handleTouchEnd);\n    if (picker.params.mousewheel) {\n      col.$el.off('wheel', handleMouseWheel);\n    }\n    col.items.off('click', handleClick);\n  };\n\n  col.init = function initCol() {\n    col.calcSize();\n    col.$itemsEl.transform(`translate3d(0,${maxTranslate}px,0)`).transition(0);\n    if (colIndex === 0) col.$el.addClass('picker-column-first');\n    if (colIndex === picker.cols.length - 1) col.$el.addClass('picker-column-last');\n    // Update items on init\n    if (updateItems) col.updateItems(0, maxTranslate, 0);\n\n    col.attachEvents();\n  };\n\n  col.destroy = function destroyCol() {\n    col.detachEvents();\n  };\n\n  col.init();\n}\n","import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom7';\nimport { extend, nextTick, deleteProps } from '../../shared/utils';\nimport Framework7Class from '../../shared/class';\nimport { getDevice } from '../../shared/get-device';\n\nimport pickerColumn from './picker-column';\n\n/** @jsx $jsx */\nimport $jsx from '../../shared/$jsx';\n\nclass Picker extends Framework7Class {\n  constructor(app, params = {}) {\n    super(params, [app]);\n    const picker = this;\n    const device = getDevice();\n    const window = getWindow();\n    picker.params = extend({}, app.params.picker, params);\n\n    let $containerEl;\n    if (picker.params.containerEl) {\n      $containerEl = $(picker.params.containerEl);\n      if ($containerEl.length === 0) return picker;\n    }\n\n    let $inputEl;\n    if (picker.params.inputEl) {\n      $inputEl = $(picker.params.inputEl);\n    }\n\n    let $scrollToEl = picker.params.scrollToInput ? $inputEl : undefined;\n    if (picker.params.scrollToEl) {\n      const scrollToEl = $(picker.params.scrollToEl);\n      if (scrollToEl.length > 0) {\n        $scrollToEl = scrollToEl;\n      }\n    }\n\n    extend(picker, {\n      app,\n      $containerEl,\n      containerEl: $containerEl && $containerEl[0],\n      inline: $containerEl && $containerEl.length > 0,\n      needsOriginFix:\n        device.ios ||\n        (window.navigator.userAgent.toLowerCase().indexOf('safari') >= 0 &&\n          window.navigator.userAgent.toLowerCase().indexOf('chrome') < 0 &&\n          !device.android),\n      cols: [],\n      $inputEl,\n      inputEl: $inputEl && $inputEl[0],\n      $scrollToEl,\n      initialized: false,\n      opened: false,\n      url: picker.params.url,\n    });\n\n    function onResize() {\n      picker.resizeCols();\n    }\n    function onInputClick() {\n      picker.open();\n    }\n    function onInputFocus(e) {\n      e.preventDefault();\n    }\n    let htmlTouchStartTarget = null;\n    function onHtmlTouchStart(e) {\n      htmlTouchStartTarget = e.target;\n    }\n    function onHtmlClick(e) {\n      if (picker.destroyed || !picker.params) return;\n      const $targetEl = $(e.target);\n      if (picker.isPopover()) return;\n      if (!picker.opened || picker.closing) return;\n      if ($targetEl.closest('[class*=\"backdrop\"]').length) return;\n      if ($inputEl && $inputEl.length > 0) {\n        if (\n          htmlTouchStartTarget === e.target &&\n          $targetEl[0] !== $inputEl[0] &&\n          $targetEl.closest('.sheet-modal').length === 0\n        ) {\n          picker.close();\n        }\n      } else if ($(e.target).closest('.sheet-modal').length === 0) {\n        picker.close();\n      }\n    }\n\n    // Events\n    extend(picker, {\n      attachResizeEvent() {\n        app.on('resize', onResize);\n      },\n      detachResizeEvent() {\n        app.off('resize', onResize);\n      },\n      attachInputEvents() {\n        picker.$inputEl.on('click', onInputClick);\n        if (picker.params.inputReadOnly) {\n          picker.$inputEl.on('focus mousedown', onInputFocus);\n          if (picker.$inputEl[0]) {\n            picker.$inputEl[0].f7ValidateReadonly = true;\n          }\n        }\n      },\n      detachInputEvents() {\n        picker.$inputEl.off('click', onInputClick);\n        if (picker.params.inputReadOnly) {\n          picker.$inputEl.off('focus mousedown', onInputFocus);\n          if (picker.$inputEl[0]) {\n            delete picker.$inputEl[0].f7ValidateReadonly;\n          }\n        }\n      },\n      attachHtmlEvents() {\n        app.on('click', onHtmlClick);\n        app.on('touchstart', onHtmlTouchStart);\n      },\n      detachHtmlEvents() {\n        app.off('click', onHtmlClick);\n        app.off('touchstart', onHtmlTouchStart);\n      },\n    });\n\n    picker.init();\n\n    return picker;\n  }\n\n  get view() {\n    const { app, params, $inputEl } = this;\n    let view;\n    if (params.view) {\n      view = params.view;\n    } else if ($inputEl) {\n      view = $inputEl.parents('.view').length && $inputEl.parents('.view')[0].f7View;\n    }\n    if (!view) view = app.views.main;\n    return view;\n  }\n\n  initInput() {\n    const picker = this;\n    if (!picker.$inputEl) return;\n    if (picker.params.inputReadOnly) picker.$inputEl.prop('readOnly', true);\n  }\n\n  resizeCols() {\n    const picker = this;\n    if (!picker.opened) return;\n    for (let i = 0; i < picker.cols.length; i += 1) {\n      if (!picker.cols[i].divider) {\n        picker.cols[i].calcSize();\n        picker.cols[i].setValue(picker.cols[i].value, 0, false);\n      }\n    }\n  }\n\n  isPopover() {\n    const picker = this;\n    const { app, modal, params } = picker;\n    const device = getDevice();\n    if (params.openIn === 'sheet') return false;\n    if (modal && modal.type !== 'popover') return false;\n\n    if (!picker.inline && picker.inputEl) {\n      if (params.openIn === 'popover') return true;\n      if (device.ios) {\n        return !!device.ipad;\n      }\n      if (app.width >= 768) {\n        return true;\n      }\n      if (device.desktop && app.theme === 'aurora') {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  formatValue() {\n    const picker = this;\n    const { value, displayValue } = picker;\n    if (picker.params.formatValue) {\n      return picker.params.formatValue.call(picker, value, displayValue);\n    }\n    return value.join(' ');\n  }\n\n  setValue(values, transition) {\n    const picker = this;\n    let valueIndex = 0;\n    if (picker.cols.length === 0) {\n      picker.value = values;\n      picker.updateValue(values);\n      return;\n    }\n    for (let i = 0; i < picker.cols.length; i += 1) {\n      if (picker.cols[i] && !picker.cols[i].divider) {\n        picker.cols[i].setValue(values[valueIndex], transition);\n        valueIndex += 1;\n      }\n    }\n  }\n\n  getValue() {\n    const picker = this;\n    return picker.value;\n  }\n\n  updateValue(forceValues) {\n    const picker = this;\n    const newValue = forceValues || [];\n    const newDisplayValue = [];\n    let column;\n    if (picker.cols.length === 0) {\n      const noDividerColumns = picker.params.cols.filter((c) => !c.divider);\n      for (let i = 0; i < noDividerColumns.length; i += 1) {\n        column = noDividerColumns[i];\n        if (\n          column.displayValues !== undefined &&\n          column.values !== undefined &&\n          column.values.indexOf(newValue[i]) !== -1\n        ) {\n          newDisplayValue.push(column.displayValues[column.values.indexOf(newValue[i])]);\n        } else {\n          newDisplayValue.push(newValue[i]);\n        }\n      }\n    } else {\n      for (let i = 0; i < picker.cols.length; i += 1) {\n        if (!picker.cols[i].divider) {\n          newValue.push(picker.cols[i].value);\n          newDisplayValue.push(picker.cols[i].displayValue);\n        }\n      }\n    }\n\n    if (newValue.indexOf(undefined) >= 0) {\n      return;\n    }\n    picker.value = newValue;\n    picker.displayValue = newDisplayValue;\n    picker.emit('local::change pickerChange', picker, picker.value, picker.displayValue);\n    if (picker.inputEl) {\n      picker.$inputEl.val(picker.formatValue());\n      picker.$inputEl.trigger('change');\n    }\n  }\n\n  initColumn(colEl, updateItems) {\n    const picker = this;\n    pickerColumn.call(picker, colEl, updateItems);\n  }\n  // eslint-disable-next-line\n  destroyColumn(colEl) {\n    const picker = this;\n    const $colEl = $(colEl);\n    const index = $colEl.index();\n    if (picker.cols[index] && picker.cols[index].destroy) {\n      picker.cols[index].destroy();\n    }\n  }\n\n  renderToolbar() {\n    const picker = this;\n    if (picker.params.renderToolbar) return picker.params.renderToolbar.call(picker, picker);\n    return (\n      <div class=\"toolbar toolbar-top no-shadow\">\n        <div class=\"toolbar-inner\">\n          <div class=\"left\"></div>\n          <div class=\"right\">\n            <a class=\"link sheet-close popover-close\">{picker.params.toolbarCloseText}</a>\n          </div>\n        </div>\n      </div>\n    );\n  }\n  // eslint-disable-next-line\n  renderColumn(col, onlyItems) {\n    const colClasses = `picker-column ${col.textAlign ? `picker-column-${col.textAlign}` : ''} ${\n      col.cssClass || ''\n    }`;\n    let columnHtml;\n    let columnItemsHtml;\n\n    if (col.divider) {\n      // prettier-ignore\n      columnHtml = `\n        <div class=\"${colClasses} picker-column-divider\">${col.content}</div>\n      `;\n    } else {\n      // prettier-ignore\n      columnItemsHtml = col.values.map((value, index) => `\n        <div class=\"picker-item\" data-picker-value=\"${value}\">\n          <span>${col.displayValues ? col.displayValues[index] : value}</span>\n        </div>\n      `).join('');\n      // prettier-ignore\n      columnHtml = `\n        <div class=\"${colClasses}\">\n          <div class=\"picker-items\">${columnItemsHtml}</div>\n        </div>\n      `;\n    }\n\n    return onlyItems ? columnItemsHtml.trim() : columnHtml.trim();\n  }\n\n  renderInline() {\n    const picker = this;\n    const { rotateEffect, cssClass, toolbar } = picker.params;\n    const inlineHtml = (\n      <div class={`picker picker-inline ${rotateEffect ? 'picker-3d' : ''} ${cssClass || ''}`}>\n        {toolbar && picker.renderToolbar()}\n        <div class=\"picker-columns\">\n          {picker.cols.map((col) => picker.renderColumn(col))}\n          <div class=\"picker-center-highlight\"></div>\n        </div>\n      </div>\n    );\n\n    return inlineHtml;\n  }\n\n  renderSheet() {\n    const picker = this;\n    const { rotateEffect, cssClass, toolbar } = picker.params;\n    const sheetHtml = (\n      <div\n        class={`sheet-modal picker picker-sheet ${rotateEffect ? 'picker-3d' : ''} ${\n          cssClass || ''\n        }`}\n      >\n        {toolbar && picker.renderToolbar()}\n        <div class=\"sheet-modal-inner picker-columns\">\n          {picker.cols.map((col) => picker.renderColumn(col))}\n          <div class=\"picker-center-highlight\"></div>\n        </div>\n      </div>\n    );\n\n    return sheetHtml;\n  }\n\n  renderPopover() {\n    const picker = this;\n    const { rotateEffect, cssClass, toolbar } = picker.params;\n    const popoverHtml = (\n      <div class=\"popover picker-popover\">\n        <div class=\"popover-inner\">\n          <div class={`picker ${rotateEffect ? 'picker-3d' : ''} ${cssClass || ''}`}>\n            {toolbar && picker.renderToolbar()}\n            <div class=\"picker-columns\">\n              {picker.cols.map((col) => picker.renderColumn(col))}\n              <div class=\"picker-center-highlight\"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n\n    return popoverHtml;\n  }\n\n  render() {\n    const picker = this;\n    if (picker.params.render) return picker.params.render.call(picker);\n    if (!picker.inline) {\n      if (picker.isPopover()) return picker.renderPopover();\n      return picker.renderSheet();\n    }\n    return picker.renderInline();\n  }\n\n  onOpen() {\n    const picker = this;\n    const { initialized, $el, app, $inputEl, inline, value, params } = picker;\n    picker.opened = true;\n    picker.closing = false;\n    picker.opening = true;\n\n    // Init main events\n    picker.attachResizeEvent();\n\n    // Init cols\n    $el.find('.picker-column').each((colEl) => {\n      let updateItems = true;\n      if ((!initialized && params.value) || (initialized && value)) {\n        updateItems = false;\n      }\n      picker.initColumn(colEl, updateItems);\n    });\n\n    // Set value\n    if (!initialized) {\n      if (value) picker.setValue(value, 0);\n      else if (params.value) {\n        picker.setValue(params.value, 0);\n      }\n    } else if (value) {\n      picker.setValue(value, 0);\n    }\n\n    // Extra focus\n    if (!inline && $inputEl && $inputEl.length && app.theme === 'md') {\n      $inputEl.trigger('focus');\n    }\n\n    picker.initialized = true;\n\n    // Trigger events\n    if ($el) {\n      $el.trigger('picker:open');\n    }\n    if ($inputEl) {\n      $inputEl.trigger('picker:open');\n    }\n    picker.emit('local::open pickerOpen', picker);\n  }\n\n  onOpened() {\n    const picker = this;\n    picker.opening = false;\n\n    if (picker.$el) {\n      picker.$el.trigger('picker:opened');\n    }\n    if (picker.$inputEl) {\n      picker.$inputEl.trigger('picker:opened');\n    }\n    picker.emit('local::opened pickerOpened', picker);\n  }\n\n  onClose() {\n    const picker = this;\n    const app = picker.app;\n    picker.opening = false;\n    picker.closing = true;\n\n    // Detach events\n    picker.detachResizeEvent();\n\n    picker.cols.forEach((col) => {\n      if (col.destroy) col.destroy();\n    });\n\n    if (picker.$inputEl) {\n      if (app.theme === 'md') {\n        picker.$inputEl.trigger('blur');\n      } else {\n        const validate = picker.$inputEl.attr('validate');\n        const required = picker.$inputEl.attr('required');\n        if (validate && required) {\n          app.input.validate(picker.$inputEl);\n        }\n      }\n    }\n\n    if (picker.$el) {\n      picker.$el.trigger('picker:close');\n    }\n    if (picker.$inputEl) {\n      picker.$inputEl.trigger('picker:close');\n    }\n    picker.emit('local::close pickerClose', picker);\n  }\n\n  onClosed() {\n    const picker = this;\n    picker.opened = false;\n    picker.closing = false;\n\n    if (!picker.inline) {\n      nextTick(() => {\n        if (picker.modal && picker.modal.el && picker.modal.destroy) {\n          if (!picker.params.routableModals) {\n            picker.modal.destroy();\n          }\n        }\n        delete picker.modal;\n      });\n    }\n\n    if (picker.$el) {\n      picker.$el.trigger('picker:closed');\n    }\n    if (picker.$inputEl) {\n      picker.$inputEl.trigger('picker:closed');\n    }\n    picker.emit('local::closed pickerClosed', picker);\n  }\n\n  open() {\n    const picker = this;\n    const { app, opened, inline, $inputEl, $scrollToEl, params } = picker;\n    if (opened) return;\n    if (picker.cols.length === 0 && params.cols.length) {\n      params.cols.forEach((col) => {\n        picker.cols.push(col);\n      });\n    }\n    if (inline) {\n      picker.$el = $(picker.render());\n      picker.$el[0].f7Picker = picker;\n      picker.$containerEl.append(picker.$el);\n      picker.onOpen();\n      picker.onOpened();\n      return;\n    }\n    const isPopover = picker.isPopover();\n    const modalType = isPopover ? 'popover' : 'sheet';\n    const modalParams = {\n      targetEl: $inputEl,\n      scrollToEl: $scrollToEl,\n      content: picker.render(),\n      backdrop: typeof params.backdrop !== 'undefined' ? params.backdrop : isPopover,\n      on: {\n        open() {\n          const modal = this;\n          picker.modal = modal;\n          picker.$el = isPopover ? modal.$el.find('.picker') : modal.$el;\n          picker.$el[0].f7Picker = picker;\n          picker.onOpen();\n        },\n        opened() {\n          picker.onOpened();\n        },\n        close() {\n          picker.onClose();\n        },\n        closed() {\n          picker.onClosed();\n        },\n      },\n    };\n    if (modalType === 'sheet') {\n      modalParams.push = params.sheetPush;\n      modalParams.swipeToClose = params.sheetSwipeToClose;\n    }\n    if (params.routableModals && picker.view) {\n      picker.view.router.navigate({\n        url: picker.url,\n        route: {\n          path: picker.url,\n          [modalType]: modalParams,\n        },\n      });\n    } else {\n      picker.modal = app[modalType].create(modalParams);\n      picker.modal.open();\n    }\n  }\n\n  close() {\n    const picker = this;\n    const { opened, inline } = picker;\n    if (!opened) return;\n    if (inline) {\n      picker.onClose();\n      picker.onClosed();\n      return;\n    }\n    if (picker.params.routableModals && picker.view) {\n      picker.view.router.back();\n    } else {\n      picker.modal.close();\n    }\n  }\n\n  init() {\n    const picker = this;\n\n    picker.initInput();\n\n    if (picker.inline) {\n      picker.open();\n      picker.emit('local::init pickerInit', picker);\n      return;\n    }\n\n    if (!picker.initialized && picker.params.value) {\n      picker.setValue(picker.params.value);\n    }\n\n    // Attach input Events\n    if (picker.$inputEl) {\n      picker.attachInputEvents();\n    }\n    if (picker.params.closeByOutsideClick) {\n      picker.attachHtmlEvents();\n    }\n    picker.emit('local::init pickerInit', picker);\n  }\n\n  destroy() {\n    const picker = this;\n    if (picker.destroyed) return;\n    const { $el } = picker;\n    picker.emit('local::beforeDestroy pickerBeforeDestroy', picker);\n    if ($el) $el.trigger('picker:beforedestroy');\n\n    picker.close();\n\n    // Detach Events\n    if (picker.$inputEl) {\n      picker.detachInputEvents();\n    }\n    if (picker.params.closeByOutsideClick) {\n      picker.detachHtmlEvents();\n    }\n\n    if ($el && $el.length) delete picker.$el[0].f7Picker;\n    deleteProps(picker);\n    picker.destroyed = true;\n  }\n}\n\nexport default Picker;\n","import $ from '../../shared/dom7';\nimport ConstructorMethods from '../../shared/constructor-methods';\nimport Picker from './picker-class';\n\nexport default {\n  name: 'picker',\n  static: {\n    Picker,\n  },\n  create() {\n    const app = this;\n    app.picker = ConstructorMethods({\n      defaultSelector: '.picker',\n      constructor: Picker,\n      app,\n      domProp: 'f7Picker',\n    });\n    app.picker.close = function close(el = '.picker') {\n      const $el = $(el);\n      if ($el.length === 0) return;\n      const picker = $el[0].f7Picker;\n      if (!picker || (picker && !picker.opened)) return;\n      picker.close();\n    };\n  },\n  params: {\n    picker: {\n      // Picker settings\n      updateValuesOnMomentum: false,\n      updateValuesOnTouchmove: true,\n      updateValuesOnMousewheel: true,\n      mousewheel: true,\n      rotateEffect: false,\n      momentumRatio: 7,\n      freeMode: false,\n      cols: [],\n      // Common opener settings\n      containerEl: null,\n      openIn: 'auto', // or 'popover' or 'sheet'\n      sheetPush: false,\n      sheetSwipeToClose: undefined,\n      backdrop: undefined, // uses Popover or Sheet defaults\n      formatValue: null,\n      inputEl: null,\n      inputReadOnly: true,\n      closeByOutsideClick: true,\n      scrollToInput: true,\n      scrollToEl: undefined,\n      toolbar: true,\n      toolbarCloseText: 'Done',\n      cssClass: null,\n      routableModals: false,\n      view: null,\n      url: 'select/',\n      // Render functions\n      renderToolbar: null,\n      render: null,\n    },\n  },\n};\n","import $ from '../../shared/dom7';\nimport { bindMethods } from '../../shared/utils';\n\nconst InfiniteScroll = {\n  handle(el, e) {\n    const app = this;\n    const $el = $(el);\n    const scrollTop = $el[0].scrollTop;\n    const scrollHeight = $el[0].scrollHeight;\n    const height = $el[0].offsetHeight;\n    let distance = $el[0].getAttribute('data-infinite-distance');\n\n    const virtualListContainer = $el.find('.virtual-list');\n    let virtualList;\n\n    const onTop = $el.hasClass('infinite-scroll-top');\n    if (!distance) distance = 50;\n    if (typeof distance === 'string' && distance.indexOf('%') >= 0) {\n      distance = (parseInt(distance, 10) / 100) * height;\n    }\n    if (distance > height) distance = height;\n    if (onTop) {\n      if (scrollTop < distance) {\n        $el.trigger('infinite', e);\n        app.emit('infinite', $el[0], e);\n      }\n    } else if (scrollTop + height >= scrollHeight - distance) {\n      if (virtualListContainer.length > 0) {\n        virtualList = virtualListContainer.eq(-1)[0].f7VirtualList;\n        if (virtualList && !virtualList.reachEnd && !virtualList.params.updatableScroll) {\n          return;\n        }\n      }\n      $el.trigger('infinite', e);\n      app.emit('infinite', $el[0], e);\n    }\n  },\n  create(el) {\n    const $el = $(el);\n    const app = this;\n    function scrollHandler(e) {\n      app.infiniteScroll.handle(this, e);\n    }\n    $el.each((element) => {\n      element.f7InfiniteScrollHandler = scrollHandler;\n      element.addEventListener('scroll', element.f7InfiniteScrollHandler);\n    });\n  },\n  destroy(el) {\n    const $el = $(el);\n    $el.each((element) => {\n      element.removeEventListener('scroll', element.f7InfiniteScrollHandler);\n      delete element.f7InfiniteScrollHandler;\n    });\n  },\n};\nexport default {\n  name: 'infiniteScroll',\n  create() {\n    const app = this;\n    bindMethods(app, {\n      infiniteScroll: InfiniteScroll,\n    });\n  },\n  on: {\n    tabMounted(tabEl) {\n      const app = this;\n      const $tabEl = $(tabEl);\n      const $isEls = $tabEl.find('.infinite-scroll-content');\n      if ($tabEl.is('.infinite-scroll-content')) $isEls.add($tabEl);\n      $isEls.each((el) => {\n        app.infiniteScroll.create(el);\n      });\n    },\n    tabBeforeRemove(tabEl) {\n      const $tabEl = $(tabEl);\n      const app = this;\n      const $isEls = $tabEl.find('.infinite-scroll-content');\n      if ($tabEl.is('.infinite-scroll-content')) $isEls.add($tabEl);\n      $isEls.each((el) => {\n        app.infiniteScroll.destroy(el);\n      });\n    },\n    pageInit(page) {\n      const app = this;\n      page.$el.find('.infinite-scroll-content').each((el) => {\n        app.infiniteScroll.create(el);\n      });\n    },\n    pageBeforeRemove(page) {\n      const app = this;\n      page.$el.find('.infinite-scroll-content').each((el) => {\n        app.infiniteScroll.destroy(el);\n      });\n    },\n  },\n};\n","import $ from '../../shared/dom7';\nimport { deleteProps } from '../../shared/utils';\nimport Framework7Class from '../../shared/class';\nimport { getSupport } from '../../shared/get-support';\nimport { getDevice } from '../../shared/get-device';\n\nclass PullToRefresh extends Framework7Class {\n  constructor(app, el) {\n    super({}, [app]);\n    const ptr = this;\n    const device = getDevice();\n    const support = getSupport();\n    const $el = $(el);\n    const $preloaderEl = $el.find('.ptr-preloader');\n\n    ptr.$el = $el;\n    ptr.el = $el[0];\n    ptr.app = app;\n\n    ptr.bottom = ptr.$el.hasClass('ptr-bottom');\n\n    // Extend defaults with modules params\n    ptr.useModulesParams({});\n\n    const isMaterial = app.theme === 'md';\n    const isIos = app.theme === 'ios';\n    const isAurora = app.theme === 'aurora';\n\n    // Done\n    ptr.done = function done() {\n      const $transitionTarget = isMaterial ? $preloaderEl : $el;\n      const onTranstionEnd = (e) => {\n        if ($(e.target).closest($preloaderEl).length) return;\n        $el.removeClass('ptr-transitioning ptr-pull-up ptr-pull-down ptr-closing');\n        $el.trigger('ptr:done');\n        ptr.emit('local::done ptrDone', $el[0]);\n        $transitionTarget.off('transitionend', onTranstionEnd);\n      };\n      $transitionTarget.on('transitionend', onTranstionEnd);\n      $el.removeClass('ptr-refreshing').addClass('ptr-transitioning ptr-closing');\n      return ptr;\n    };\n\n    ptr.refresh = function refresh() {\n      if ($el.hasClass('ptr-refreshing')) return ptr;\n      $el.addClass('ptr-transitioning ptr-refreshing');\n      $el.trigger('ptr:refresh', ptr.done);\n      ptr.emit('local::refresh ptrRefresh', $el[0], ptr.done);\n      return ptr;\n    };\n\n    // Mousewheel\n    ptr.mousewheel = $el.attr('data-ptr-mousewheel') === 'true';\n\n    // Events handling\n    let touchId;\n    let isTouched;\n    let isMoved;\n    const touchesStart = {};\n    let isScrolling;\n    let touchesDiff;\n    let refresh = false;\n    let useTranslate = false;\n    let forceUseTranslate = false;\n    let startTranslate = 0;\n    let translate;\n    let scrollTop;\n    let wasScrolled;\n    let triggerDistance;\n    let dynamicTriggerDistance;\n    let pullStarted;\n    let hasNavbar = false;\n    let scrollHeight;\n    let offsetHeight;\n    let maxScrollTop;\n    const $pageEl = $el.parents('.page');\n\n    if (\n      $pageEl.find('.navbar').length > 0 ||\n      $pageEl.parents('.view').children('.navbars').length > 0\n    )\n      hasNavbar = true;\n    if ($pageEl.hasClass('no-navbar')) hasNavbar = false;\n    if (!ptr.bottom) {\n      const pageNavbarEl = app.navbar.getElByPage($pageEl[0]);\n      if (pageNavbarEl) {\n        const $pageNavbarEl = $(pageNavbarEl);\n        const isLargeTransparent =\n          $pageNavbarEl.hasClass('navbar-large-transparent') ||\n          ($pageNavbarEl.hasClass('navbar-large') && $pageNavbarEl.hasClass('navbar-transparent'));\n        const isTransparent =\n          $pageNavbarEl.hasClass('navbar-transparent') && !$pageNavbarEl.hasClass('navbar-large');\n        if (isLargeTransparent) {\n          $el.addClass('ptr-with-navbar-large-transparent');\n        } else if (isTransparent) {\n          $el.addClass('ptr-with-navbar-transparent');\n        }\n      }\n    }\n    if (!hasNavbar && !ptr.bottom) $el.addClass('ptr-no-navbar');\n\n    // Define trigger distance\n    if ($el.attr('data-ptr-distance')) {\n      dynamicTriggerDistance = true;\n    } else if (isMaterial) {\n      triggerDistance = 66;\n    } else if (isIos) {\n      triggerDistance = 44;\n    } else if (isAurora) {\n      triggerDistance = 38;\n    }\n\n    function setPreloaderProgress(progress = 0) {\n      const $bars = $preloaderEl.find('.preloader-inner-line');\n      const perBarProgress = 1 / $bars.length;\n\n      $bars.forEach((barEl, barIndex) => {\n        const barProgress = (progress - barIndex * perBarProgress) / perBarProgress;\n        barEl.style.opacity = Math.max(Math.min(barProgress, 1), 0) * 0.27;\n      });\n    }\n\n    function unsetPreloaderProgress() {\n      $preloaderEl.find('.preloader-inner-line').css('opacity', '');\n    }\n\n    function handleTouchStart(e) {\n      if (isTouched) {\n        if (device.os === 'android') {\n          if ('targetTouches' in e && e.targetTouches.length > 1) return;\n        } else return;\n      }\n\n      if ($el.hasClass('ptr-refreshing')) {\n        return;\n      }\n      if (\n        $(e.target).closest('.sortable-handler, .ptr-ignore, .card-expandable.card-opened').length\n      )\n        return;\n\n      isMoved = false;\n      pullStarted = false;\n      isTouched = true;\n      isScrolling = undefined;\n      wasScrolled = undefined;\n      if (e.type === 'touchstart') touchId = e.targetTouches[0].identifier;\n      touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n      touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n    }\n\n    function handleTouchMove(e) {\n      if (!isTouched) return;\n      let pageX;\n      let pageY;\n      let touch;\n      if (e.type === 'touchmove') {\n        if (touchId && e.touches) {\n          for (let i = 0; i < e.touches.length; i += 1) {\n            if (e.touches[i].identifier === touchId) {\n              touch = e.touches[i];\n            }\n          }\n        }\n        if (!touch) touch = e.targetTouches[0];\n        pageX = touch.pageX;\n        pageY = touch.pageY;\n      } else {\n        pageX = e.pageX;\n        pageY = e.pageY;\n      }\n      if (!pageX || !pageY) return;\n\n      if (typeof isScrolling === 'undefined') {\n        isScrolling = !!(\n          isScrolling || Math.abs(pageY - touchesStart.y) > Math.abs(pageX - touchesStart.x)\n        );\n      }\n      if (!isScrolling) {\n        isTouched = false;\n        return;\n      }\n\n      scrollTop = $el[0].scrollTop;\n\n      if (!isMoved) {\n        $el.removeClass('ptr-transitioning');\n        if (isIos) {\n          setPreloaderProgress(0);\n        }\n        let targetIsScrollable;\n        scrollHeight = $el[0].scrollHeight;\n        offsetHeight = $el[0].offsetHeight;\n        if (ptr.bottom) {\n          maxScrollTop = scrollHeight - offsetHeight;\n        }\n        if (scrollTop > scrollHeight) {\n          isTouched = false;\n          return;\n        }\n        const $ptrWatchScrollable = $(e.target).closest('.ptr-watch-scroll');\n        if ($ptrWatchScrollable.length) {\n          $ptrWatchScrollable.each((ptrScrollableEl) => {\n            if (ptrScrollableEl === el) return;\n            if (\n              ptrScrollableEl.scrollHeight > ptrScrollableEl.offsetHeight &&\n              $(ptrScrollableEl).css('overflow') === 'auto' &&\n              ((!ptr.bottom && ptrScrollableEl.scrollTop > 0) ||\n                (ptr.bottom &&\n                  ptrScrollableEl.scrollTop <\n                    ptrScrollableEl.scrollHeight - ptrScrollableEl.offsetHeight))\n            ) {\n              targetIsScrollable = true;\n            }\n          });\n        }\n        if (targetIsScrollable) {\n          isTouched = false;\n          return;\n        }\n        if (dynamicTriggerDistance) {\n          triggerDistance = $el.attr('data-ptr-distance');\n          if (triggerDistance.indexOf('%') >= 0)\n            triggerDistance = (scrollHeight * parseInt(triggerDistance, 10)) / 100;\n        }\n        startTranslate = $el.hasClass('ptr-refreshing') ? triggerDistance : 0;\n        if (scrollHeight === offsetHeight || device.os !== 'ios' || isMaterial) {\n          useTranslate = true;\n        } else {\n          useTranslate = false;\n        }\n        forceUseTranslate = false;\n      }\n      isMoved = true;\n      touchesDiff = pageY - touchesStart.y;\n\n      if (\n        typeof wasScrolled === 'undefined' &&\n        (ptr.bottom ? scrollTop !== maxScrollTop : scrollTop !== 0)\n      )\n        wasScrolled = true;\n\n      const ptrStarted = ptr.bottom\n        ? (touchesDiff < 0 && scrollTop >= maxScrollTop) || scrollTop > maxScrollTop\n        : (touchesDiff > 0 && scrollTop <= 0) || scrollTop < 0;\n\n      if (ptrStarted) {\n        // iOS 8 fix\n        if (device.os === 'ios' && parseInt(device.osVersion.split('.')[0], 10) > 7) {\n          if (!ptr.bottom && scrollTop === 0 && !wasScrolled) useTranslate = true;\n          if (ptr.bottom && scrollTop === maxScrollTop && !wasScrolled) useTranslate = true;\n        }\n\n        if (!useTranslate && ptr.bottom && !isMaterial) {\n          $el.css('-webkit-overflow-scrolling', 'auto');\n          $el.scrollTop(maxScrollTop);\n          forceUseTranslate = true;\n        }\n\n        if (useTranslate || forceUseTranslate) {\n          if (e.cancelable) {\n            e.preventDefault();\n          }\n          translate =\n            (ptr.bottom ? -1 * Math.abs(touchesDiff) ** 0.85 : touchesDiff ** 0.85) +\n            startTranslate;\n          if (isMaterial) {\n            $preloaderEl\n              .transform(`translate3d(0,${translate}px,0)`)\n              .find('.ptr-arrow')\n              .transform(`rotate(${180 * (Math.abs(touchesDiff) / 66) + 100}deg)`);\n          } else {\n            // eslint-disable-next-line\n            if (ptr.bottom || isIos) {\n              $el.children().transform(`translate3d(0,${translate}px,0)`);\n            } else {\n              // eslint-disable-next-line\n              $el.transform(`translate3d(0,${translate}px,0)`);\n            }\n            if (isIos) {\n              $preloaderEl.transform(`translate3d(0,0px,0)`);\n            }\n          }\n        } else if (isIos && !ptr.bottom) {\n          $preloaderEl.transform(`translate3d(0,${scrollTop}px,0)`);\n        }\n\n        let progress;\n        if (isIos && !refresh) {\n          progress =\n            useTranslate || forceUseTranslate\n              ? Math.abs(touchesDiff) ** 0.85 / triggerDistance\n              : Math.abs(touchesDiff) / (triggerDistance * 2);\n          setPreloaderProgress(progress);\n        }\n\n        if (\n          ((useTranslate || forceUseTranslate) &&\n            Math.abs(touchesDiff) ** 0.85 > triggerDistance) ||\n          (!useTranslate && Math.abs(touchesDiff) >= triggerDistance * 2)\n        ) {\n          refresh = true;\n          $el.addClass('ptr-pull-up').removeClass('ptr-pull-down');\n          unsetPreloaderProgress();\n        } else {\n          refresh = false;\n          $el.removeClass('ptr-pull-up').addClass('ptr-pull-down');\n        }\n        if (!pullStarted) {\n          $el.trigger('ptr:pullstart');\n          ptr.emit('local::pullStart ptrPullStart', $el[0]);\n          pullStarted = true;\n        }\n        $el.trigger('ptr:pullmove', {\n          event: e,\n          scrollTop,\n          translate,\n          touchesDiff,\n        });\n        ptr.emit('local::pullMove ptrPullMove', $el[0], {\n          event: e,\n          scrollTop,\n          translate,\n          touchesDiff,\n        });\n      } else {\n        pullStarted = false;\n        $el.removeClass('ptr-pull-up ptr-pull-down');\n        refresh = false;\n      }\n    }\n    function handleTouchEnd(e) {\n      if (e.type === 'touchend' && e.changedTouches && e.changedTouches.length > 0 && touchId) {\n        if (e.changedTouches[0].identifier !== touchId) {\n          isTouched = false;\n          isScrolling = false;\n          isMoved = false;\n          touchId = null;\n          return;\n        }\n      }\n      if (!isTouched || !isMoved) {\n        isTouched = false;\n        isMoved = false;\n        return;\n      }\n      if (translate) {\n        $el.addClass('ptr-transitioning');\n        translate = 0;\n      }\n      if (isMaterial) {\n        $preloaderEl.transform('').find('.ptr-arrow').transform('');\n      } else {\n        $preloaderEl.transform('');\n        if (ptr.bottom || isIos) {\n          $el.children().transform('');\n        } else {\n          $el.transform('');\n        }\n      }\n\n      if (!useTranslate && ptr.bottom && !isMaterial) {\n        $el.css('-webkit-overflow-scrolling', '');\n      }\n\n      if (refresh) {\n        $el.addClass('ptr-refreshing');\n        $el.trigger('ptr:refresh', ptr.done);\n        ptr.emit('local::refresh ptrRefresh', $el[0], ptr.done);\n      } else {\n        $el.removeClass('ptr-pull-down');\n      }\n      isTouched = false;\n      isMoved = false;\n      if (pullStarted) {\n        $el.trigger('ptr:pullend');\n        ptr.emit('local::pullEnd ptrPullEnd', $el[0]);\n      }\n    }\n\n    let mousewheelTimeout;\n    let mousewheelMoved;\n    let mousewheelAllow = true;\n    let mousewheelTranslate = 0;\n\n    function handleMouseWheelRelease() {\n      mousewheelAllow = true;\n      mousewheelMoved = false;\n      mousewheelTranslate = 0;\n      if (translate) {\n        $el.addClass('ptr-transitioning');\n        translate = 0;\n      }\n      if (isMaterial) {\n        $preloaderEl.transform('').find('.ptr-arrow').transform('');\n      } else {\n        $preloaderEl.transform('');\n        if (ptr.bottom) {\n          $el.children().transform('');\n        } else {\n          $el.transform('');\n        }\n      }\n\n      if (refresh) {\n        $el.addClass('ptr-refreshing');\n        $el.trigger('ptr:refresh', ptr.done);\n        ptr.emit('local::refresh ptrRefresh', $el[0], ptr.done);\n      } else {\n        $el.removeClass('ptr-pull-down');\n      }\n      if (pullStarted) {\n        $el.trigger('ptr:pullend');\n        ptr.emit('local::pullEnd ptrPullEnd', $el[0]);\n      }\n    }\n    function handleMouseWheel(e) {\n      if (!mousewheelAllow) return;\n      const { deltaX, deltaY } = e;\n      if (Math.abs(deltaX) > Math.abs(deltaY)) return;\n      if ($el.hasClass('ptr-refreshing')) {\n        return;\n      }\n      if (\n        $(e.target).closest('.sortable-handler, .ptr-ignore, .card-expandable.card-opened').length\n      )\n        return;\n\n      clearTimeout(mousewheelTimeout);\n\n      scrollTop = $el[0].scrollTop;\n\n      if (!mousewheelMoved) {\n        $el.removeClass('ptr-transitioning');\n        if (isIos) {\n          setPreloaderProgress(0);\n        }\n        let targetIsScrollable;\n        scrollHeight = $el[0].scrollHeight;\n        offsetHeight = $el[0].offsetHeight;\n        if (ptr.bottom) {\n          maxScrollTop = scrollHeight - offsetHeight;\n        }\n        if (scrollTop > scrollHeight) {\n          mousewheelAllow = false;\n          return;\n        }\n        const $ptrWatchScrollable = $(e.target).closest('.ptr-watch-scroll');\n        if ($ptrWatchScrollable.length) {\n          $ptrWatchScrollable.each((ptrScrollableEl) => {\n            if (ptrScrollableEl === el) return;\n            if (\n              ptrScrollableEl.scrollHeight > ptrScrollableEl.offsetHeight &&\n              $(ptrScrollableEl).css('overflow') === 'auto' &&\n              ((!ptr.bottom && ptrScrollableEl.scrollTop > 0) ||\n                (ptr.bottom &&\n                  ptrScrollableEl.scrollTop <\n                    ptrScrollableEl.scrollHeight - ptrScrollableEl.offsetHeight))\n            ) {\n              targetIsScrollable = true;\n            }\n          });\n        }\n        if (targetIsScrollable) {\n          mousewheelAllow = false;\n          return;\n        }\n        if (dynamicTriggerDistance) {\n          triggerDistance = $el.attr('data-ptr-distance');\n          if (triggerDistance.indexOf('%') >= 0)\n            triggerDistance = (scrollHeight * parseInt(triggerDistance, 10)) / 100;\n        }\n      }\n      isMoved = true;\n      mousewheelTranslate -= deltaY;\n      touchesDiff = mousewheelTranslate; // pageY - touchesStart.y;\n\n      if (\n        typeof wasScrolled === 'undefined' &&\n        (ptr.bottom ? scrollTop !== maxScrollTop : scrollTop !== 0)\n      )\n        wasScrolled = true;\n\n      const ptrStarted = ptr.bottom\n        ? (touchesDiff < 0 && scrollTop >= maxScrollTop) || scrollTop > maxScrollTop\n        : (touchesDiff > 0 && scrollTop <= 0) || scrollTop < 0;\n\n      if (ptrStarted) {\n        if (e.cancelable) {\n          e.preventDefault();\n        }\n\n        translate = touchesDiff;\n        if (Math.abs(translate) > triggerDistance) {\n          translate = triggerDistance + (Math.abs(translate) - triggerDistance) ** 0.7;\n          if (ptr.bottom) translate = -translate;\n        }\n\n        if (isMaterial) {\n          $preloaderEl\n            .transform(`translate3d(0,${translate}px,0)`)\n            .find('.ptr-arrow')\n            .transform(`rotate(${180 * (Math.abs(touchesDiff) / 66) + 100}deg)`);\n        } else {\n          // eslint-disable-next-line\n          if (ptr.bottom) {\n            $el.children().transform(`translate3d(0,${translate}px,0)`);\n          } else {\n            $el.transform(`translate3d(0,${translate}px,0)`);\n            if (isIos) {\n              $preloaderEl.transform(`translate3d(0,${-translate}px,0)`);\n            }\n          }\n        }\n\n        let progress;\n        if (isIos && !refresh) {\n          progress = Math.abs(translate) / triggerDistance;\n          setPreloaderProgress(progress);\n        }\n\n        if (Math.abs(translate) > triggerDistance) {\n          refresh = true;\n          $el.addClass('ptr-pull-up').removeClass('ptr-pull-down');\n          unsetPreloaderProgress();\n        } else {\n          refresh = false;\n          $el.removeClass('ptr-pull-up').addClass('ptr-pull-down');\n        }\n        if (!pullStarted) {\n          $el.trigger('ptr:pullstart');\n          ptr.emit('local::pullStart ptrPullStart', $el[0]);\n          pullStarted = true;\n        }\n        $el.trigger('ptr:pullmove', {\n          event: e,\n          scrollTop,\n          translate,\n          touchesDiff,\n        });\n        ptr.emit('local::pullMove ptrPullMove', $el[0], {\n          event: e,\n          scrollTop,\n          translate,\n          touchesDiff,\n        });\n      } else {\n        pullStarted = false;\n        $el.removeClass('ptr-pull-up ptr-pull-down');\n        refresh = false;\n      }\n\n      mousewheelTimeout = setTimeout(handleMouseWheelRelease, 300);\n    }\n\n    if (!$pageEl.length || !$el.length) return ptr;\n\n    $el[0].f7PullToRefresh = ptr;\n\n    // Events\n    ptr.attachEvents = function attachEvents() {\n      const passive = support.passiveListener ? { passive: true } : false;\n      $el.on(app.touchEvents.start, handleTouchStart, passive);\n      app.on('touchmove:active', handleTouchMove);\n      app.on('touchend:passive', handleTouchEnd);\n      if (ptr.mousewheel && !ptr.bottom) {\n        $el.on('wheel', handleMouseWheel);\n      }\n    };\n    ptr.detachEvents = function detachEvents() {\n      const passive = support.passiveListener ? { passive: true } : false;\n      $el.off(app.touchEvents.start, handleTouchStart, passive);\n      app.off('touchmove:active', handleTouchMove);\n      app.off('touchend:passive', handleTouchEnd);\n      if (ptr.mousewheel && !ptr.bottom) {\n        $el.off('wheel', handleMouseWheel);\n      }\n    };\n\n    // Install Modules\n    ptr.useModules();\n\n    // Init\n    ptr.init();\n\n    return ptr;\n  }\n\n  init() {\n    const ptr = this;\n    ptr.attachEvents();\n  }\n\n  destroy() {\n    let ptr = this;\n    ptr.emit('local::beforeDestroy ptrBeforeDestroy', ptr);\n    ptr.$el.trigger('ptr:beforedestroy');\n    delete ptr.el.f7PullToRefresh;\n    ptr.detachEvents();\n    deleteProps(ptr);\n    ptr = null;\n  }\n}\n\nexport default PullToRefresh;\n","import $ from '../../shared/dom7';\nimport { extend } from '../../shared/utils';\nimport PullToRefresh from './pull-to-refresh-class';\nimport ConstructorMethods from '../../shared/constructor-methods';\n\nexport default {\n  name: 'pullToRefresh',\n  create() {\n    const app = this;\n    app.ptr = extend(\n      ConstructorMethods({\n        defaultSelector: '.ptr-content',\n        constructor: PullToRefresh,\n        app,\n        domProp: 'f7PullToRefresh',\n      }),\n      {\n        done(el) {\n          const ptr = app.ptr.get(el);\n          if (ptr) return ptr.done();\n          return undefined;\n        },\n        refresh(el) {\n          const ptr = app.ptr.get(el);\n          if (ptr) return ptr.refresh();\n          return undefined;\n        },\n      },\n    );\n  },\n  static: {\n    PullToRefresh,\n  },\n  on: {\n    tabMounted(tabEl) {\n      const app = this;\n      const $tabEl = $(tabEl);\n      const $ptrEls = $tabEl.find('.ptr-content');\n      if ($tabEl.is('.ptr-content')) $ptrEls.add($tabEl);\n      $ptrEls.each((el) => {\n        app.ptr.create(el);\n      });\n    },\n    tabBeforeRemove(tabEl) {\n      const $tabEl = $(tabEl);\n      const app = this;\n      const $ptrEls = $tabEl.find('.ptr-content');\n      if ($tabEl.is('.ptr-content')) $ptrEls.add($tabEl);\n      $ptrEls.each((el) => {\n        app.ptr.destroy(el);\n      });\n    },\n    pageInit(page) {\n      const app = this;\n      page.$el.find('.ptr-content').each((el) => {\n        app.ptr.create(el);\n      });\n    },\n    pageBeforeRemove(page) {\n      const app = this;\n      page.$el.find('.ptr-content').each((el) => {\n        app.ptr.destroy(el);\n      });\n    },\n  },\n};\n","import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom7';\nimport { bindMethods } from '../../shared/utils';\nimport { getSupport } from '../../shared/get-support';\n\nconst Lazy = {\n  destroy(pageEl) {\n    const $pageEl = $(pageEl).closest('.page');\n    if (!$pageEl.length) return;\n    if ($pageEl[0].f7LazyDestroy) {\n      $pageEl[0].f7LazyDestroy();\n    }\n  },\n  create(pageEl) {\n    const app = this;\n    const window = getWindow();\n    const support = getSupport();\n    const $pageEl = $(pageEl).closest('.page').eq(0);\n\n    // Lazy images\n    const $lazyLoadImages = $pageEl.find('.lazy');\n    if ($lazyLoadImages.length === 0 && !$pageEl.hasClass('lazy')) return;\n\n    // Placeholder\n    const placeholderSrc = app.params.lazy.placeholder;\n\n    if (placeholderSrc !== false) {\n      $lazyLoadImages.each((lazyEl) => {\n        if ($(lazyEl).attr('data-src') && !$(lazyEl).attr('src'))\n          $(lazyEl).attr('src', placeholderSrc);\n      });\n    }\n\n    // load image\n    const imagesSequence = [];\n    let imageIsLoading = false;\n\n    function onImageComplete(lazyEl) {\n      if (imagesSequence.indexOf(lazyEl) >= 0) {\n        imagesSequence.splice(imagesSequence.indexOf(lazyEl), 1);\n      }\n      imageIsLoading = false;\n      if (app.params.lazy.sequential && imagesSequence.length > 0) {\n        imageIsLoading = true;\n        app.lazy.loadImage(imagesSequence[0], onImageComplete);\n      }\n    }\n\n    function observerCallback(entries, observer) {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting) {\n          if (app.params.lazy.sequential && imageIsLoading) {\n            if (imagesSequence.indexOf(entry.target) < 0) imagesSequence.push(entry.target);\n            return;\n          }\n          // Load image\n          imageIsLoading = true;\n          app.lazy.loadImage(entry.target, onImageComplete);\n          // Detach\n          observer.unobserve(entry.target);\n        }\n      });\n    }\n    if (app.params.lazy.observer && support.intersectionObserver) {\n      let observer = $pageEl[0].f7LazyObserver;\n      if (!observer) {\n        observer = new window.IntersectionObserver(observerCallback, {\n          root: $pageEl[0],\n        });\n      }\n      $lazyLoadImages.each((el) => {\n        if (el.f7LazyObserverAdded) return;\n        el.f7LazyObserverAdded = true;\n        observer.observe(el);\n      });\n      if (!$pageEl[0].f7LazyDestroy) {\n        $pageEl[0].f7LazyDestroy = () => {\n          observer.disconnect();\n          delete $pageEl[0].f7LazyDestroy;\n          delete $pageEl[0].f7LazyObserver;\n        };\n      }\n      return;\n    }\n\n    function lazyHandler() {\n      app.lazy.load($pageEl, (lazyEl) => {\n        if (app.params.lazy.sequential && imageIsLoading) {\n          if (imagesSequence.indexOf(lazyEl) < 0) imagesSequence.push(lazyEl);\n          return;\n        }\n        imageIsLoading = true;\n        app.lazy.loadImage(lazyEl, onImageComplete);\n      });\n    }\n\n    function attachEvents() {\n      $pageEl[0].f7LazyAttached = true;\n      $pageEl.on('lazy', lazyHandler);\n      $pageEl.on('scroll', lazyHandler, true);\n      $pageEl.find('.tab').on('tab:mounted tab:show', lazyHandler);\n      app.on('resize', lazyHandler);\n    }\n    function detachEvents() {\n      $pageEl[0].f7LazyAttached = false;\n      delete $pageEl[0].f7LazyAttached;\n      $pageEl.off('lazy', lazyHandler);\n      $pageEl.off('scroll', lazyHandler, true);\n      $pageEl.find('.tab').off('tab:mounted tab:show', lazyHandler);\n      app.off('resize', lazyHandler);\n    }\n\n    // Store detach function\n    if (!$pageEl[0].f7LazyDestroy) {\n      $pageEl[0].f7LazyDestroy = detachEvents;\n    }\n\n    // Attach events\n    if (!$pageEl[0].f7LazyAttached) {\n      attachEvents();\n    }\n\n    // Run loader on page load/init\n    lazyHandler();\n  },\n  isInViewport(lazyEl) {\n    const app = this;\n    const rect = lazyEl.getBoundingClientRect();\n    const threshold = app.params.lazy.threshold || 0;\n\n    return (\n      rect.top >= 0 - threshold &&\n      rect.left >= 0 - threshold &&\n      rect.top <= app.height + threshold &&\n      rect.left <= app.width + threshold\n    );\n  },\n  loadImage(imageEl, callback) {\n    const app = this;\n    const window = getWindow();\n    const $imageEl = $(imageEl);\n\n    const bg = $imageEl.attr('data-background');\n    const src = bg || $imageEl.attr('data-src');\n\n    function onLoad() {\n      $imageEl.removeClass('lazy').addClass('lazy-loaded');\n      if (bg) {\n        $imageEl.css('background-image', `url(${src})`);\n      } else if (src) {\n        $imageEl.attr('src', src);\n      }\n      if (callback) callback(imageEl);\n      $imageEl.trigger('lazy:loaded');\n      app.emit('lazyLoaded', $imageEl[0]);\n    }\n\n    if (!src) {\n      $imageEl.trigger('lazy:load');\n      app.emit('lazyLoad', $imageEl[0]);\n      onLoad();\n      return;\n    }\n    function onError() {\n      $imageEl.removeClass('lazy').addClass('lazy-loaded');\n      if (bg) {\n        $imageEl.css('background-image', `url(${app.params.lazy.placeholder || ''})`);\n      } else {\n        $imageEl.attr('src', app.params.lazy.placeholder || '');\n      }\n      if (callback) callback(imageEl);\n      $imageEl.trigger('lazy:error');\n      app.emit('lazyError', $imageEl[0]);\n    }\n    const image = new window.Image();\n    image.onload = onLoad;\n    image.onerror = onError;\n    image.src = src;\n\n    $imageEl.removeAttr('data-src').removeAttr('data-background');\n\n    // Add loaded callback and events\n    $imageEl.trigger('lazy:load');\n    app.emit('lazyLoad', $imageEl[0]);\n  },\n  load(pageEl, callback) {\n    const app = this;\n    let $pageEl = $(pageEl);\n    if (!$pageEl.hasClass('page')) $pageEl = $pageEl.parents('.page').eq(0);\n    if ($pageEl.length === 0) {\n      return;\n    }\n    $pageEl.find('.lazy').each((lazyEl) => {\n      const $lazyEl = $(lazyEl);\n      if ($lazyEl.parents('.tab:not(.tab-active)').length > 0) {\n        return;\n      }\n      if (app.lazy.isInViewport(lazyEl)) {\n        if (callback) callback(lazyEl);\n        else app.lazy.loadImage(lazyEl);\n      }\n    });\n  },\n};\nexport default {\n  name: 'lazy',\n  params: {\n    lazy: {\n      placeholder:\n        'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEXCwsK592mkAAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==',\n      threshold: 0,\n      sequential: true,\n      observer: true,\n    },\n  },\n  create() {\n    const app = this;\n    bindMethods(app, {\n      lazy: Lazy,\n    });\n  },\n  on: {\n    pageInit(page) {\n      const app = this;\n      if (page.$el.find('.lazy').length > 0 || page.$el.hasClass('lazy')) {\n        app.lazy.create(page.$el);\n      }\n    },\n    pageAfterIn(page) {\n      const app = this;\n      const support = getSupport();\n      if (app.params.lazy.observer && support.intersectionObserver) return;\n      if (page.$el.find('.lazy').length > 0 || page.$el.hasClass('lazy')) {\n        app.lazy.create(page.$el);\n      }\n    },\n    pageBeforeRemove(page) {\n      const app = this;\n      if (page.$el.find('.lazy').length > 0 || page.$el.hasClass('lazy')) {\n        app.lazy.destroy(page.$el);\n      }\n    },\n    tabMounted(tabEl) {\n      const app = this;\n      const $tabEl = $(tabEl);\n      if ($tabEl.find('.lazy').length > 0 || $tabEl.hasClass('lazy')) {\n        app.lazy.create($tabEl);\n      }\n    },\n    tabBeforeRemove(tabEl) {\n      const app = this;\n      const support = getSupport();\n      if (app.params.lazy.observer && support.intersectionObserver) return;\n      const $tabEl = $(tabEl);\n      if ($tabEl.find('.lazy').length > 0 || $tabEl.hasClass('lazy')) {\n        app.lazy.destroy($tabEl);\n      }\n    },\n  },\n};\n","import $ from '../../shared/dom7';\nimport { extend, deleteProps } from '../../shared/utils';\nimport Framework7Class from '../../shared/class';\n\nclass DataTable extends Framework7Class {\n  constructor(app, params = {}) {\n    super(params, [app]);\n\n    const table = this;\n\n    const defaults = {};\n\n    // Extend defaults with modules params\n    table.useModulesParams(defaults);\n\n    table.params = extend(defaults, params);\n\n    // El\n    const $el = $(table.params.el);\n    if ($el.length === 0) return undefined;\n\n    table.$el = $el;\n    table.el = $el[0];\n\n    if (table.$el[0].f7DataTable) {\n      const instance = table.$el[0].f7DataTable;\n      table.destroy();\n      return instance;\n    }\n\n    table.$el[0].f7DataTable = table;\n\n    extend(table, {\n      collapsible: $el.hasClass('data-table-collapsible'),\n      // Headers\n      $headerEl: $el.find('.data-table-header'),\n      $headerSelectedEl: $el.find('.data-table-header-selected'),\n    });\n\n    // Events\n    function handleChange(e) {\n      if (e.detail && e.detail.sentByF7DataTable) {\n        // Scripted event, don't do anything\n        return;\n      }\n      const $inputEl = $(this);\n      const checked = $inputEl[0].checked;\n      const columnIndex = $inputEl.parents('td,th').index();\n\n      if ($inputEl.parents('thead').length > 0) {\n        if (columnIndex === 0) {\n          $el.find('tbody tr')[checked ? 'addClass' : 'removeClass']('data-table-row-selected');\n        }\n        $el\n          .find(`tbody tr td:nth-child(${columnIndex + 1}) input`)\n          .prop('checked', checked)\n          .trigger('change', { sentByF7DataTable: true });\n        $inputEl.prop('indeterminate', false);\n      } else {\n        if (columnIndex === 0) {\n          $inputEl.parents('tr')[checked ? 'addClass' : 'removeClass']('data-table-row-selected');\n        }\n        const checkedRows = $el.find(\n          `tbody .checkbox-cell:nth-child(${columnIndex + 1}) input[type=\"checkbox\"]:checked`,\n        ).length;\n        const totalRows = $el.find('tbody tr').length;\n        const $headCheckboxEl = $el.find(\n          `thead .checkbox-cell:nth-child(${columnIndex + 1}) input[type=\"checkbox\"]`,\n        );\n        if (!checked) {\n          $headCheckboxEl.prop('checked', false);\n        } else if (checkedRows === totalRows) {\n          $headCheckboxEl.prop('checked', true).trigger('change', { sentByF7DataTable: true });\n        }\n        $headCheckboxEl.prop('indeterminate', checkedRows > 0 && checkedRows < totalRows);\n      }\n      table.checkSelectedHeader();\n    }\n    function handleSortableClick() {\n      const $cellEl = $(this);\n      const isActive = $cellEl.hasClass('sortable-cell-active');\n      const currentSort = $cellEl.hasClass('sortable-desc') ? 'desc' : 'asc';\n      let newSort;\n      if (isActive) {\n        newSort = currentSort === 'desc' ? 'asc' : 'desc';\n        $cellEl.removeClass('sortable-desc sortable-asc').addClass(`sortable-${newSort}`);\n      } else {\n        $el.find('thead .sortable-cell-active').removeClass('sortable-cell-active');\n        $cellEl.addClass('sortable-cell-active');\n        newSort = currentSort;\n      }\n      $cellEl.trigger('datatable:sort', newSort);\n      table.emit('local::sort dataTableSort', table, newSort);\n    }\n    table.attachEvents = function attachEvents() {\n      table.$el.on('change', '.checkbox-cell input[type=\"checkbox\"]', handleChange);\n      table.$el.find('thead .sortable-cell').on('click', handleSortableClick);\n    };\n    table.detachEvents = function detachEvents() {\n      table.$el.off('change', '.checkbox-cell input[type=\"checkbox\"]', handleChange);\n      table.$el.find('thead .sortable-cell').off('click', handleSortableClick);\n    };\n\n    // Install Modules\n    table.useModules();\n\n    // Init\n    table.init();\n\n    return table;\n  }\n\n  setCollapsibleLabels() {\n    const table = this;\n    if (!table.collapsible) return;\n    table.$el.find('tbody td:not(.checkbox-cell)').each((el) => {\n      const $el = $(el);\n      const elIndex = $el.index();\n      const collpsibleTitle = $el.attr('data-collapsible-title');\n      if (!collpsibleTitle && collpsibleTitle !== '') {\n        $el.attr('data-collapsible-title', table.$el.find('thead th').eq(elIndex).text());\n      }\n    });\n  }\n\n  checkSelectedHeader() {\n    const table = this;\n    if (table.$headerEl.length > 0 && table.$headerSelectedEl.length > 0) {\n      const checkedItems = table.$el.find('tbody .checkbox-cell input:checked').length;\n      table.$el[checkedItems > 0 ? 'addClass' : 'removeClass']('data-table-has-checked');\n      table.$headerSelectedEl.find('.data-table-selected-count').text(checkedItems);\n    }\n  }\n\n  init() {\n    const table = this;\n    table.attachEvents();\n    table.setCollapsibleLabels();\n    table.checkSelectedHeader();\n  }\n\n  destroy() {\n    let table = this;\n\n    table.$el.trigger('datatable:beforedestroy');\n    table.emit('local::beforeDestroy dataTableBeforeDestroy', table);\n\n    table.attachEvents();\n\n    if (table.$el[0]) {\n      table.$el[0].f7DataTable = null;\n      delete table.$el[0].f7DataTable;\n    }\n    deleteProps(table);\n    table = null;\n  }\n}\n\nexport default DataTable;\n","import $ from '../../shared/dom7';\nimport DataTable from './data-table-class';\nimport ConstructorMethods from '../../shared/constructor-methods';\n\nexport default {\n  name: 'dataTable',\n  static: {\n    DataTable,\n  },\n  create() {\n    const app = this;\n    app.dataTable = ConstructorMethods({\n      defaultSelector: '.data-table',\n      constructor: DataTable,\n      app,\n      domProp: 'f7DataTable',\n    });\n  },\n  on: {\n    tabBeforeRemove(tabEl) {\n      const app = this;\n      $(tabEl)\n        .find('.data-table-init')\n        .each((tableEl) => {\n          app.dataTable.destroy(tableEl);\n        });\n    },\n    tabMounted(tabEl) {\n      const app = this;\n      $(tabEl)\n        .find('.data-table-init')\n        .each((tableEl) => {\n          app.dataTable.create({ el: tableEl });\n        });\n    },\n    pageBeforeRemove(page) {\n      const app = this;\n      page.$el.find('.data-table-init').each((tableEl) => {\n        app.dataTable.destroy(tableEl);\n      });\n    },\n    pageInit(page) {\n      const app = this;\n      page.$el.find('.data-table-init').each((tableEl) => {\n        app.dataTable.create({ el: tableEl });\n      });\n    },\n  },\n  vnode: {\n    'data-table-init': {\n      insert(vnode) {\n        const app = this;\n        const tableEl = vnode.elm;\n        app.dataTable.create({ el: tableEl });\n      },\n      destroy(vnode) {\n        const app = this;\n        const tableEl = vnode.elm;\n        app.dataTable.destroy(tableEl);\n      },\n    },\n  },\n};\n","import $ from '../../shared/dom7';\nimport { bindMethods, getTranslate, nextFrame } from '../../shared/utils';\n\nconst Fab = {\n  morphOpen(fabEl, targetEl) {\n    const app = this;\n    const $fabEl = $(fabEl);\n    const $targetEl = $(targetEl);\n    if ($targetEl.length === 0) return;\n\n    $targetEl.transition(0).addClass('fab-morph-target-visible');\n    const target = {\n      width: $targetEl[0].offsetWidth,\n      height: $targetEl[0].offsetHeight,\n      offset: $targetEl.offset(),\n      borderRadius: $targetEl.css('border-radius'),\n      zIndex: $targetEl.css('z-index'),\n    };\n    const fab = {\n      width: $fabEl[0].offsetWidth,\n      height: $fabEl[0].offsetHeight,\n      offset: $fabEl.offset(),\n      translateX: getTranslate($fabEl[0], 'x'),\n      translateY: getTranslate($fabEl[0], 'y'),\n    };\n\n    $fabEl[0].f7FabMorphData = {\n      $targetEl,\n      target,\n      fab,\n    };\n\n    const diffX =\n      fab.offset.left + fab.width / 2 - (target.offset.left + target.width / 2) - fab.translateX;\n    const diffY =\n      fab.offset.top + fab.height / 2 - (target.offset.top + target.height / 2) - fab.translateY;\n    const scaleX = target.width / fab.width;\n    const scaleY = target.height / fab.height;\n\n    let borderRadius = Math.ceil(parseInt(target.borderRadius, 10) / Math.max(scaleX, scaleY));\n    if (borderRadius > 0) borderRadius += 2;\n\n    $fabEl[0].f7FabMorphResizeHandler = function resizeHandler() {\n      $fabEl.transition(0).transform('');\n      $targetEl.transition(0);\n      target.width = $targetEl[0].offsetWidth;\n      target.height = $targetEl[0].offsetHeight;\n      target.offset = $targetEl.offset();\n      fab.offset = $fabEl.offset();\n\n      const diffXNew =\n        fab.offset.left + fab.width / 2 - (target.offset.left + target.width / 2) - fab.translateX;\n      const diffYNew =\n        fab.offset.top + fab.height / 2 - (target.offset.top + target.height / 2) - fab.translateY;\n      const scaleXNew = target.width / fab.width;\n      const scaleYNew = target.height / fab.height;\n\n      $fabEl.transform(\n        `translate3d(${-diffXNew}px, ${-diffYNew}px, 0) scale(${scaleXNew}, ${scaleYNew})`,\n      );\n    };\n\n    $targetEl.css('opacity', 0).transform(`scale(${1 / scaleX}, ${1 / scaleY})`);\n    $fabEl\n      .addClass('fab-opened')\n      .css('z-index', target.zIndex - 1)\n      .transform(`translate3d(${-diffX}px, ${-diffY}px, 0)`);\n    $fabEl.transitionEnd(() => {\n      $targetEl.transition('');\n      nextFrame(() => {\n        $targetEl.css('opacity', 1).transform('scale(1,1)');\n        $fabEl\n          .transform(`translate3d(${-diffX}px, ${-diffY}px, 0) scale(${scaleX}, ${scaleY})`)\n          .css('border-radius', `${borderRadius}px`)\n          .css('box-shadow', 'none')\n          .css('opacity', '0');\n      });\n      app.on('resize', $fabEl[0].f7FabMorphResizeHandler);\n      if ($targetEl.parents('.page-content').length > 0) {\n        $targetEl.parents('.page-content').on('scroll', $fabEl[0].f7FabMorphResizeHandler);\n      }\n    });\n  },\n  morphClose(fabEl) {\n    const app = this;\n    const $fabEl = $(fabEl);\n    const morphData = $fabEl[0].f7FabMorphData;\n    if (!morphData) return;\n    const { $targetEl, target, fab } = morphData;\n    if ($targetEl.length === 0) return;\n\n    const diffX =\n      fab.offset.left + fab.width / 2 - (target.offset.left + target.width / 2) - fab.translateX;\n    const diffY =\n      fab.offset.top + fab.height / 2 - (target.offset.top + target.height / 2) - fab.translateY;\n    const scaleX = target.width / fab.width;\n    const scaleY = target.height / fab.height;\n\n    app.off('resize', $fabEl[0].f7FabMorphResizeHandler);\n    if ($targetEl.parents('.page-content').length > 0) {\n      $targetEl.parents('.page-content').off('scroll', $fabEl[0].f7FabMorphResizeHandler);\n    }\n\n    $targetEl.css('opacity', 0).transform(`scale(${1 / scaleX}, ${1 / scaleY})`);\n    $fabEl\n      .transition('')\n      .css('box-shadow', '')\n      .css('border-radius', '')\n      .css('opacity', '1')\n      .transform(`translate3d(${-diffX}px, ${-diffY}px, 0)`);\n    $fabEl.transitionEnd(() => {\n      $fabEl.css('z-index', '').removeClass('fab-opened').transform('');\n      nextFrame(() => {\n        $fabEl.transitionEnd(() => {\n          $targetEl\n            .removeClass('fab-morph-target-visible')\n            .css('opacity', '')\n            .transform('')\n            .transition('');\n        });\n      });\n    });\n  },\n  open(fabEl, targetEl) {\n    const app = this;\n    const $fabEl = $(fabEl).eq(0);\n    const $buttonsEl = $fabEl.find('.fab-buttons');\n    if (!$fabEl.length) return;\n    if ($fabEl.hasClass('fab-opened')) return;\n    if (!$buttonsEl.length && !$fabEl.hasClass('fab-morph')) return;\n\n    if (app.fab.openedEl) {\n      if (app.fab.openedEl === $fabEl[0]) return;\n      app.fab.close(app.fab.openedEl);\n    }\n    app.fab.openedEl = $fabEl[0];\n    if ($fabEl.hasClass('fab-morph')) {\n      app.fab.morphOpen($fabEl, targetEl || $fabEl.attr('data-morph-to'));\n    } else {\n      $fabEl.addClass('fab-opened');\n    }\n    $fabEl.siblings('.fab-backdrop').addClass('backdrop-in');\n    $fabEl.trigger('fab:open');\n  },\n  close(fabEl = '.fab-opened') {\n    const app = this;\n    const $fabEl = $(fabEl).eq(0);\n    const $buttonsEl = $fabEl.find('.fab-buttons');\n    if (!$fabEl.length) return;\n    if (!$fabEl.hasClass('fab-opened')) return;\n    if (!$buttonsEl.length && !$fabEl.hasClass('fab-morph')) return;\n    app.fab.openedEl = null;\n    if ($fabEl.hasClass('fab-morph')) {\n      app.fab.morphClose($fabEl);\n    } else {\n      $fabEl.removeClass('fab-opened');\n    }\n    $fabEl.siblings('.fab-backdrop').removeClass('backdrop-in');\n    $fabEl.trigger('fab:close');\n  },\n  toggle(fabEl) {\n    const app = this;\n    const $fabEl = $(fabEl);\n    if (!$fabEl.hasClass('fab-opened')) app.fab.open(fabEl);\n    else app.fab.close(fabEl);\n  },\n};\n\nexport default {\n  name: 'fab',\n  create() {\n    const app = this;\n    bindMethods(app, {\n      fab: {\n        openedEl: null,\n        ...Fab,\n      },\n    });\n  },\n  clicks: {\n    '.fab > a': function open($clickedEl) {\n      const app = this;\n      app.fab.toggle($clickedEl.parents('.fab'));\n    },\n    '.fab-open': function open($clickedEl, data = {}) {\n      const app = this;\n      app.fab.open(data.fab);\n    },\n    '.fab-close': function close($clickedEl, data = {}) {\n      const app = this;\n      app.fab.close(data.fab);\n    },\n    '.fab-backdrop': function close() {\n      const app = this;\n      app.fab.close();\n    },\n  },\n};\n","/* eslint no-control-regex: \"off\" */\nconst defaultDiacriticsRemovalap = [\n  {\n    base: 'A',\n    letters:\n      '\\u0041\\u24B6\\uFF21\\u00C0\\u00C1\\u00C2\\u1EA6\\u1EA4\\u1EAA\\u1EA8\\u00C3\\u0100\\u0102\\u1EB0\\u1EAE\\u1EB4\\u1EB2\\u0226\\u01E0\\u00C4\\u01DE\\u1EA2\\u00C5\\u01FA\\u01CD\\u0200\\u0202\\u1EA0\\u1EAC\\u1EB6\\u1E00\\u0104\\u023A\\u2C6F',\n  },\n  { base: 'AA', letters: '\\uA732' },\n  { base: 'AE', letters: '\\u00C6\\u01FC\\u01E2' },\n  { base: 'AO', letters: '\\uA734' },\n  { base: 'AU', letters: '\\uA736' },\n  { base: 'AV', letters: '\\uA738\\uA73A' },\n  { base: 'AY', letters: '\\uA73C' },\n  { base: 'B', letters: '\\u0042\\u24B7\\uFF22\\u1E02\\u1E04\\u1E06\\u0243\\u0182\\u0181' },\n  {\n    base: 'C',\n    letters: '\\u0043\\u24B8\\uFF23\\u0106\\u0108\\u010A\\u010C\\u00C7\\u1E08\\u0187\\u023B\\uA73E',\n  },\n  {\n    base: 'D',\n    letters: '\\u0044\\u24B9\\uFF24\\u1E0A\\u010E\\u1E0C\\u1E10\\u1E12\\u1E0E\\u0110\\u018B\\u018A\\u0189\\uA779',\n  },\n  { base: 'DZ', letters: '\\u01F1\\u01C4' },\n  { base: 'Dz', letters: '\\u01F2\\u01C5' },\n  {\n    base: 'E',\n    letters:\n      '\\u0045\\u24BA\\uFF25\\u00C8\\u00C9\\u00CA\\u1EC0\\u1EBE\\u1EC4\\u1EC2\\u1EBC\\u0112\\u1E14\\u1E16\\u0114\\u0116\\u00CB\\u1EBA\\u011A\\u0204\\u0206\\u1EB8\\u1EC6\\u0228\\u1E1C\\u0118\\u1E18\\u1E1A\\u0190\\u018E',\n  },\n  { base: 'F', letters: '\\u0046\\u24BB\\uFF26\\u1E1E\\u0191\\uA77B' },\n  {\n    base: 'G',\n    letters:\n      '\\u0047\\u24BC\\uFF27\\u01F4\\u011C\\u1E20\\u011E\\u0120\\u01E6\\u0122\\u01E4\\u0193\\uA7A0\\uA77D\\uA77E',\n  },\n  {\n    base: 'H',\n    letters: '\\u0048\\u24BD\\uFF28\\u0124\\u1E22\\u1E26\\u021E\\u1E24\\u1E28\\u1E2A\\u0126\\u2C67\\u2C75\\uA78D',\n  },\n  {\n    base: 'I',\n    letters:\n      '\\u0049\\u24BE\\uFF29\\u00CC\\u00CD\\u00CE\\u0128\\u012A\\u012C\\u0130\\u00CF\\u1E2E\\u1EC8\\u01CF\\u0208\\u020A\\u1ECA\\u012E\\u1E2C\\u0197',\n  },\n  { base: 'J', letters: '\\u004A\\u24BF\\uFF2A\\u0134\\u0248' },\n  {\n    base: 'K',\n    letters: '\\u004B\\u24C0\\uFF2B\\u1E30\\u01E8\\u1E32\\u0136\\u1E34\\u0198\\u2C69\\uA740\\uA742\\uA744\\uA7A2',\n  },\n  {\n    base: 'L',\n    letters:\n      '\\u004C\\u24C1\\uFF2C\\u013F\\u0139\\u013D\\u1E36\\u1E38\\u013B\\u1E3C\\u1E3A\\u0141\\u023D\\u2C62\\u2C60\\uA748\\uA746\\uA780',\n  },\n  { base: 'LJ', letters: '\\u01C7' },\n  { base: 'Lj', letters: '\\u01C8' },\n  { base: 'M', letters: '\\u004D\\u24C2\\uFF2D\\u1E3E\\u1E40\\u1E42\\u2C6E\\u019C' },\n  {\n    base: 'N',\n    letters:\n      '\\u004E\\u24C3\\uFF2E\\u01F8\\u0143\\u00D1\\u1E44\\u0147\\u1E46\\u0145\\u1E4A\\u1E48\\u0220\\u019D\\uA790\\uA7A4',\n  },\n  { base: 'NJ', letters: '\\u01CA' },\n  { base: 'Nj', letters: '\\u01CB' },\n  {\n    base: 'O',\n    letters:\n      '\\u004F\\u24C4\\uFF2F\\u00D2\\u00D3\\u00D4\\u1ED2\\u1ED0\\u1ED6\\u1ED4\\u00D5\\u1E4C\\u022C\\u1E4E\\u014C\\u1E50\\u1E52\\u014E\\u022E\\u0230\\u00D6\\u022A\\u1ECE\\u0150\\u01D1\\u020C\\u020E\\u01A0\\u1EDC\\u1EDA\\u1EE0\\u1EDE\\u1EE2\\u1ECC\\u1ED8\\u01EA\\u01EC\\u00D8\\u01FE\\u0186\\u019F\\uA74A\\uA74C',\n  },\n  { base: 'OI', letters: '\\u01A2' },\n  { base: 'OO', letters: '\\uA74E' },\n  { base: 'OU', letters: '\\u0222' },\n  { base: 'OE', letters: '\\u008C\\u0152' },\n  { base: 'oe', letters: '\\u009C\\u0153' },\n  { base: 'P', letters: '\\u0050\\u24C5\\uFF30\\u1E54\\u1E56\\u01A4\\u2C63\\uA750\\uA752\\uA754' },\n  { base: 'Q', letters: '\\u0051\\u24C6\\uFF31\\uA756\\uA758\\u024A' },\n  {\n    base: 'R',\n    letters:\n      '\\u0052\\u24C7\\uFF32\\u0154\\u1E58\\u0158\\u0210\\u0212\\u1E5A\\u1E5C\\u0156\\u1E5E\\u024C\\u2C64\\uA75A\\uA7A6\\uA782',\n  },\n  {\n    base: 'S',\n    letters:\n      '\\u0053\\u24C8\\uFF33\\u1E9E\\u015A\\u1E64\\u015C\\u1E60\\u0160\\u1E66\\u1E62\\u1E68\\u0218\\u015E\\u2C7E\\uA7A8\\uA784',\n  },\n  {\n    base: 'T',\n    letters:\n      '\\u0054\\u24C9\\uFF34\\u1E6A\\u0164\\u1E6C\\u021A\\u0162\\u1E70\\u1E6E\\u0166\\u01AC\\u01AE\\u023E\\uA786',\n  },\n  { base: 'TZ', letters: '\\uA728' },\n  {\n    base: 'U',\n    letters:\n      '\\u0055\\u24CA\\uFF35\\u00D9\\u00DA\\u00DB\\u0168\\u1E78\\u016A\\u1E7A\\u016C\\u00DC\\u01DB\\u01D7\\u01D5\\u01D9\\u1EE6\\u016E\\u0170\\u01D3\\u0214\\u0216\\u01AF\\u1EEA\\u1EE8\\u1EEE\\u1EEC\\u1EF0\\u1EE4\\u1E72\\u0172\\u1E76\\u1E74\\u0244',\n  },\n  { base: 'V', letters: '\\u0056\\u24CB\\uFF36\\u1E7C\\u1E7E\\u01B2\\uA75E\\u0245' },\n  { base: 'VY', letters: '\\uA760' },\n  { base: 'W', letters: '\\u0057\\u24CC\\uFF37\\u1E80\\u1E82\\u0174\\u1E86\\u1E84\\u1E88\\u2C72' },\n  { base: 'X', letters: '\\u0058\\u24CD\\uFF38\\u1E8A\\u1E8C' },\n  {\n    base: 'Y',\n    letters:\n      '\\u0059\\u24CE\\uFF39\\u1EF2\\u00DD\\u0176\\u1EF8\\u0232\\u1E8E\\u0178\\u1EF6\\u1EF4\\u01B3\\u024E\\u1EFE',\n  },\n  {\n    base: 'Z',\n    letters: '\\u005A\\u24CF\\uFF3A\\u0179\\u1E90\\u017B\\u017D\\u1E92\\u1E94\\u01B5\\u0224\\u2C7F\\u2C6B\\uA762',\n  },\n  {\n    base: 'a',\n    letters:\n      '\\u0061\\u24D0\\uFF41\\u1E9A\\u00E0\\u00E1\\u00E2\\u1EA7\\u1EA5\\u1EAB\\u1EA9\\u00E3\\u0101\\u0103\\u1EB1\\u1EAF\\u1EB5\\u1EB3\\u0227\\u01E1\\u00E4\\u01DF\\u1EA3\\u00E5\\u01FB\\u01CE\\u0201\\u0203\\u1EA1\\u1EAD\\u1EB7\\u1E01\\u0105\\u2C65\\u0250',\n  },\n  { base: 'aa', letters: '\\uA733' },\n  { base: 'ae', letters: '\\u00E6\\u01FD\\u01E3' },\n  { base: 'ao', letters: '\\uA735' },\n  { base: 'au', letters: '\\uA737' },\n  { base: 'av', letters: '\\uA739\\uA73B' },\n  { base: 'ay', letters: '\\uA73D' },\n  { base: 'b', letters: '\\u0062\\u24D1\\uFF42\\u1E03\\u1E05\\u1E07\\u0180\\u0183\\u0253' },\n  {\n    base: 'c',\n    letters: '\\u0063\\u24D2\\uFF43\\u0107\\u0109\\u010B\\u010D\\u00E7\\u1E09\\u0188\\u023C\\uA73F\\u2184',\n  },\n  {\n    base: 'd',\n    letters: '\\u0064\\u24D3\\uFF44\\u1E0B\\u010F\\u1E0D\\u1E11\\u1E13\\u1E0F\\u0111\\u018C\\u0256\\u0257\\uA77A',\n  },\n  { base: 'dz', letters: '\\u01F3\\u01C6' },\n  {\n    base: 'e',\n    letters:\n      '\\u0065\\u24D4\\uFF45\\u00E8\\u00E9\\u00EA\\u1EC1\\u1EBF\\u1EC5\\u1EC3\\u1EBD\\u0113\\u1E15\\u1E17\\u0115\\u0117\\u00EB\\u1EBB\\u011B\\u0205\\u0207\\u1EB9\\u1EC7\\u0229\\u1E1D\\u0119\\u1E19\\u1E1B\\u0247\\u025B\\u01DD',\n  },\n  { base: 'f', letters: '\\u0066\\u24D5\\uFF46\\u1E1F\\u0192\\uA77C' },\n  {\n    base: 'g',\n    letters:\n      '\\u0067\\u24D6\\uFF47\\u01F5\\u011D\\u1E21\\u011F\\u0121\\u01E7\\u0123\\u01E5\\u0260\\uA7A1\\u1D79\\uA77F',\n  },\n  {\n    base: 'h',\n    letters:\n      '\\u0068\\u24D7\\uFF48\\u0125\\u1E23\\u1E27\\u021F\\u1E25\\u1E29\\u1E2B\\u1E96\\u0127\\u2C68\\u2C76\\u0265',\n  },\n  { base: 'hv', letters: '\\u0195' },\n  {\n    base: 'i',\n    letters:\n      '\\u0069\\u24D8\\uFF49\\u00EC\\u00ED\\u00EE\\u0129\\u012B\\u012D\\u00EF\\u1E2F\\u1EC9\\u01D0\\u0209\\u020B\\u1ECB\\u012F\\u1E2D\\u0268\\u0131',\n  },\n  { base: 'j', letters: '\\u006A\\u24D9\\uFF4A\\u0135\\u01F0\\u0249' },\n  {\n    base: 'k',\n    letters: '\\u006B\\u24DA\\uFF4B\\u1E31\\u01E9\\u1E33\\u0137\\u1E35\\u0199\\u2C6A\\uA741\\uA743\\uA745\\uA7A3',\n  },\n  {\n    base: 'l',\n    letters:\n      '\\u006C\\u24DB\\uFF4C\\u0140\\u013A\\u013E\\u1E37\\u1E39\\u013C\\u1E3D\\u1E3B\\u017F\\u0142\\u019A\\u026B\\u2C61\\uA749\\uA781\\uA747',\n  },\n  { base: 'lj', letters: '\\u01C9' },\n  { base: 'm', letters: '\\u006D\\u24DC\\uFF4D\\u1E3F\\u1E41\\u1E43\\u0271\\u026F' },\n  {\n    base: 'n',\n    letters:\n      '\\u006E\\u24DD\\uFF4E\\u01F9\\u0144\\u00F1\\u1E45\\u0148\\u1E47\\u0146\\u1E4B\\u1E49\\u019E\\u0272\\u0149\\uA791\\uA7A5',\n  },\n  { base: 'nj', letters: '\\u01CC' },\n  {\n    base: 'o',\n    letters:\n      '\\u006F\\u24DE\\uFF4F\\u00F2\\u00F3\\u00F4\\u1ED3\\u1ED1\\u1ED7\\u1ED5\\u00F5\\u1E4D\\u022D\\u1E4F\\u014D\\u1E51\\u1E53\\u014F\\u022F\\u0231\\u00F6\\u022B\\u1ECF\\u0151\\u01D2\\u020D\\u020F\\u01A1\\u1EDD\\u1EDB\\u1EE1\\u1EDF\\u1EE3\\u1ECD\\u1ED9\\u01EB\\u01ED\\u00F8\\u01FF\\u0254\\uA74B\\uA74D\\u0275',\n  },\n  { base: 'oi', letters: '\\u01A3' },\n  { base: 'ou', letters: '\\u0223' },\n  { base: 'oo', letters: '\\uA74F' },\n  { base: 'p', letters: '\\u0070\\u24DF\\uFF50\\u1E55\\u1E57\\u01A5\\u1D7D\\uA751\\uA753\\uA755' },\n  { base: 'q', letters: '\\u0071\\u24E0\\uFF51\\u024B\\uA757\\uA759' },\n  {\n    base: 'r',\n    letters:\n      '\\u0072\\u24E1\\uFF52\\u0155\\u1E59\\u0159\\u0211\\u0213\\u1E5B\\u1E5D\\u0157\\u1E5F\\u024D\\u027D\\uA75B\\uA7A7\\uA783',\n  },\n  {\n    base: 's',\n    letters:\n      '\\u0073\\u24E2\\uFF53\\u00DF\\u015B\\u1E65\\u015D\\u1E61\\u0161\\u1E67\\u1E63\\u1E69\\u0219\\u015F\\u023F\\uA7A9\\uA785\\u1E9B',\n  },\n  {\n    base: 't',\n    letters:\n      '\\u0074\\u24E3\\uFF54\\u1E6B\\u1E97\\u0165\\u1E6D\\u021B\\u0163\\u1E71\\u1E6F\\u0167\\u01AD\\u0288\\u2C66\\uA787',\n  },\n  { base: 'tz', letters: '\\uA729' },\n  {\n    base: 'u',\n    letters:\n      '\\u0075\\u24E4\\uFF55\\u00F9\\u00FA\\u00FB\\u0169\\u1E79\\u016B\\u1E7B\\u016D\\u00FC\\u01DC\\u01D8\\u01D6\\u01DA\\u1EE7\\u016F\\u0171\\u01D4\\u0215\\u0217\\u01B0\\u1EEB\\u1EE9\\u1EEF\\u1EED\\u1EF1\\u1EE5\\u1E73\\u0173\\u1E77\\u1E75\\u0289',\n  },\n  { base: 'v', letters: '\\u0076\\u24E5\\uFF56\\u1E7D\\u1E7F\\u028B\\uA75F\\u028C' },\n  { base: 'vy', letters: '\\uA761' },\n  { base: 'w', letters: '\\u0077\\u24E6\\uFF57\\u1E81\\u1E83\\u0175\\u1E87\\u1E85\\u1E98\\u1E89\\u2C73' },\n  { base: 'x', letters: '\\u0078\\u24E7\\uFF58\\u1E8B\\u1E8D' },\n  {\n    base: 'y',\n    letters:\n      '\\u0079\\u24E8\\uFF59\\u1EF3\\u00FD\\u0177\\u1EF9\\u0233\\u1E8F\\u00FF\\u1EF7\\u1E99\\u1EF5\\u01B4\\u024F\\u1EFF',\n  },\n  {\n    base: 'z',\n    letters: '\\u007A\\u24E9\\uFF5A\\u017A\\u1E91\\u017C\\u017E\\u1E93\\u1E95\\u01B6\\u0225\\u0240\\u2C6C\\uA763',\n  },\n];\n\nconst diacriticsMap = {};\nfor (let i = 0; i < defaultDiacriticsRemovalap.length; i += 1) {\n  const letters = defaultDiacriticsRemovalap[i].letters;\n  for (let j = 0; j < letters.length; j += 1) {\n    diacriticsMap[letters[j]] = defaultDiacriticsRemovalap[i].base;\n  }\n}\n\nfunction removeDiacritics(str) {\n  return str.replace(/[^\\u0000-\\u007E]/g, (a) => diacriticsMap[a] || a);\n}\n\nexport default removeDiacritics;\n","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom7';\nimport { extend, nextTick, deleteProps } from '../../shared/utils';\nimport FrameworkClass from '../../shared/class';\nimport { getDevice } from '../../shared/get-device';\nimport removeDiacritics from './remove-diacritics';\n\nclass Searchbar extends FrameworkClass {\n  constructor(app, params = {}) {\n    super(params, [app]);\n\n    const sb = this;\n\n    const defaults = {\n      el: undefined,\n      inputEl: undefined,\n      inputEvents: 'change input compositionend',\n      disableButton: true,\n      disableButtonEl: undefined,\n      backdropEl: undefined,\n      searchContainer: undefined, // container to search, HTMLElement or CSS selector\n      searchItem: 'li', // single item selector, CSS selector\n      searchIn: undefined, // where to search in item, CSS selector\n      searchGroup: '.list-group',\n      searchGroupTitle: '.item-divider, .list-group-title',\n      ignore: '.searchbar-ignore',\n      foundEl: '.searchbar-found',\n      notFoundEl: '.searchbar-not-found',\n      hideOnEnableEl: '.searchbar-hide-on-enable',\n      hideOnSearchEl: '.searchbar-hide-on-search',\n      backdrop: undefined,\n      removeDiacritics: true,\n      customSearch: false,\n      hideDividers: true,\n      hideGroups: true,\n      disableOnBackdropClick: true,\n      expandable: false,\n      inline: false,\n    };\n\n    // Extend defaults with modules params\n    sb.useModulesParams(defaults);\n\n    sb.params = extend(defaults, params);\n\n    const $el = $(sb.params.el);\n    if ($el.length === 0) return sb;\n\n    if ($el[0].f7Searchbar) return $el[0].f7Searchbar;\n\n    $el[0].f7Searchbar = sb;\n\n    let $pageEl;\n    const $navbarEl = $el.parents('.navbar');\n    if ($el.parents('.page').length > 0) {\n      $pageEl = $el.parents('.page');\n    } else if ($navbarEl.length > 0) {\n      $pageEl = $(app.navbar.getPageByEl($navbarEl[0]));\n      if (!$pageEl.length) {\n        const $currentPageEl = $el.parents('.view').find('.page-current');\n        if (\n          $currentPageEl[0] &&\n          $currentPageEl[0].f7Page &&\n          $currentPageEl[0].f7Page.navbarEl === $navbarEl[0]\n        ) {\n          $pageEl = $currentPageEl;\n        }\n      }\n    }\n\n    let $foundEl;\n    if (params.foundEl) {\n      $foundEl = $(params.foundEl);\n    } else if (typeof sb.params.foundEl === 'string' && $pageEl) {\n      $foundEl = $pageEl.find(sb.params.foundEl);\n    }\n\n    let $notFoundEl;\n    if (params.notFoundEl) {\n      $notFoundEl = $(params.notFoundEl);\n    } else if (typeof sb.params.notFoundEl === 'string' && $pageEl) {\n      $notFoundEl = $pageEl.find(sb.params.notFoundEl);\n    }\n\n    let $hideOnEnableEl;\n    if (params.hideOnEnableEl) {\n      $hideOnEnableEl = $(params.hideOnEnableEl);\n    } else if (typeof sb.params.hideOnEnableEl === 'string' && $pageEl) {\n      $hideOnEnableEl = $pageEl.find(sb.params.hideOnEnableEl);\n    }\n\n    let $hideOnSearchEl;\n    if (params.hideOnSearchEl) {\n      $hideOnSearchEl = $(params.hideOnSearchEl);\n    } else if (typeof sb.params.hideOnSearchEl === 'string' && $pageEl) {\n      $hideOnSearchEl = $pageEl.find(sb.params.hideOnSearchEl);\n    }\n\n    const expandable = sb.params.expandable || $el.hasClass('searchbar-expandable');\n    const inline = sb.params.inline || $el.hasClass('searchbar-inline');\n\n    if (typeof sb.params.backdrop === 'undefined') {\n      if (!inline) sb.params.backdrop = app.theme !== 'aurora';\n      else sb.params.backdrop = false;\n    }\n\n    let $backdropEl;\n    if (sb.params.backdrop) {\n      if (sb.params.backdropEl) {\n        $backdropEl = $(sb.params.backdropEl);\n      } else if ($pageEl && $pageEl.length > 0) {\n        $backdropEl = $pageEl.find('.searchbar-backdrop');\n      } else {\n        $backdropEl = $el.siblings('.searchbar-backdrop');\n      }\n      if ($backdropEl.length === 0) {\n        $backdropEl = $('<div class=\"searchbar-backdrop\"></div>');\n        if ($pageEl && $pageEl.length) {\n          if ($el.parents($pageEl).length > 0 && $navbarEl && $el.parents($navbarEl).length === 0) {\n            $backdropEl.insertBefore($el);\n          } else {\n            $backdropEl.insertBefore($pageEl.find('.page-content').eq(0));\n          }\n        } else {\n          $backdropEl.insertBefore($el);\n        }\n      }\n    }\n\n    let $searchContainer;\n    if (sb.params.searchContainer) {\n      $searchContainer = $(sb.params.searchContainer);\n    }\n\n    let $inputEl;\n    if (sb.params.inputEl) {\n      $inputEl = $(sb.params.inputEl);\n    } else {\n      $inputEl = $el.find('input[type=\"search\"]').eq(0);\n    }\n\n    let $disableButtonEl;\n    if (sb.params.disableButton) {\n      if (sb.params.disableButtonEl) {\n        $disableButtonEl = $(sb.params.disableButtonEl);\n      } else {\n        $disableButtonEl = $el.find('.searchbar-disable-button');\n      }\n    }\n\n    extend(sb, {\n      app,\n      view: app.views.get($el.parents('.view')),\n      $el,\n      el: $el[0],\n      $backdropEl,\n      backdropEl: $backdropEl && $backdropEl[0],\n      $searchContainer,\n      searchContainer: $searchContainer && $searchContainer[0],\n      $inputEl,\n      inputEl: $inputEl[0],\n      $disableButtonEl,\n      disableButtonEl: $disableButtonEl && $disableButtonEl[0],\n      disableButtonHasMargin: false,\n      $pageEl,\n      pageEl: $pageEl && $pageEl[0],\n      $navbarEl,\n      navbarEl: $navbarEl && $navbarEl[0],\n      $foundEl,\n      foundEl: $foundEl && $foundEl[0],\n      $notFoundEl,\n      notFoundEl: $notFoundEl && $notFoundEl[0],\n      $hideOnEnableEl,\n      hideOnEnableEl: $hideOnEnableEl && $hideOnEnableEl[0],\n      $hideOnSearchEl,\n      hideOnSearchEl: $hideOnSearchEl && $hideOnSearchEl[0],\n      previousQuery: '',\n      query: '',\n      isVirtualList: $searchContainer && $searchContainer.hasClass('virtual-list'),\n      virtualList: undefined,\n      enabled: false,\n      expandable,\n      inline,\n    });\n\n    // Events\n    function preventSubmit(e) {\n      e.preventDefault();\n    }\n    function onInputFocus(e) {\n      sb.enable(e);\n      sb.$el.addClass('searchbar-focused');\n    }\n    function onInputBlur() {\n      sb.$el.removeClass('searchbar-focused');\n      if (\n        app.theme === 'aurora' &&\n        (!$disableButtonEl || !$disableButtonEl.length || !sb.params.disableButton) &&\n        !sb.query\n      ) {\n        sb.disable();\n      }\n    }\n    function onInputChange() {\n      const value = sb.$inputEl.val().trim();\n      if (\n        (sb.$searchContainer &&\n          sb.$searchContainer.length > 0 &&\n          (sb.params.searchIn ||\n            sb.isVirtualList ||\n            sb.params.searchIn === sb.params.searchItem)) ||\n        sb.params.customSearch\n      ) {\n        sb.search(value, true);\n      }\n    }\n    function onInputClear(e, previousValue) {\n      sb.$el.trigger('searchbar:clear', previousValue);\n      sb.emit('local::clear searchbarClear', sb, previousValue);\n    }\n    function disableOnClick(e) {\n      sb.disable(e);\n    }\n    function onPageBeforeOut() {\n      if (!sb || (sb && !sb.$el)) return;\n      if (sb.enabled) {\n        sb.$el.removeClass('searchbar-enabled');\n        if (sb.expandable) {\n          sb.$el\n            .parents('.navbar')\n            .removeClass(\n              'with-searchbar-expandable-enabled with-searchbar-expandable-enabled-no-transition',\n            );\n        }\n      }\n    }\n    function onPageBeforeIn() {\n      if (!sb || (sb && !sb.$el)) return;\n      if (sb.enabled) {\n        sb.$el.addClass('searchbar-enabled');\n        if (sb.expandable) {\n          sb.$el.parents('.navbar').addClass('with-searchbar-expandable-enabled-no-transition');\n        }\n      }\n    }\n    sb.attachEvents = function attachEvents() {\n      $el.on('submit', preventSubmit);\n      if (sb.params.disableButton) {\n        sb.$disableButtonEl.on('click', disableOnClick);\n      }\n      if (sb.params.disableOnBackdropClick && sb.$backdropEl) {\n        sb.$backdropEl.on('click', disableOnClick);\n      }\n      if (sb.expandable && app.theme === 'ios' && sb.view && $navbarEl.length && sb.$pageEl) {\n        sb.$pageEl.on('page:beforeout', onPageBeforeOut);\n        sb.$pageEl.on('page:beforein', onPageBeforeIn);\n      }\n      sb.$inputEl.on('focus', onInputFocus);\n      sb.$inputEl.on('blur', onInputBlur);\n      sb.$inputEl.on(sb.params.inputEvents, onInputChange);\n      sb.$inputEl.on('input:clear', onInputClear);\n    };\n    sb.detachEvents = function detachEvents() {\n      $el.off('submit', preventSubmit);\n      if (sb.params.disableButton) {\n        sb.$disableButtonEl.off('click', disableOnClick);\n      }\n      if (sb.params.disableOnBackdropClick && sb.$backdropEl) {\n        sb.$backdropEl.off('click', disableOnClick);\n      }\n      if (sb.expandable && app.theme === 'ios' && sb.view && $navbarEl.length && sb.$pageEl) {\n        sb.$pageEl.off('page:beforeout', onPageBeforeOut);\n        sb.$pageEl.off('page:beforein', onPageBeforeIn);\n      }\n      sb.$inputEl.off('focus', onInputFocus);\n      sb.$inputEl.off('blur', onInputBlur);\n      sb.$inputEl.off(sb.params.inputEvents, onInputChange);\n      sb.$inputEl.off('input:clear', onInputClear);\n    };\n\n    // Install Modules\n    sb.useModules();\n\n    // Init\n    sb.init();\n\n    return sb;\n  }\n\n  clear(e) {\n    const sb = this;\n    if (!sb.query && e && $(e.target).hasClass('searchbar-clear')) {\n      sb.disable();\n      return sb;\n    }\n    const previousQuery = sb.value;\n    sb.$inputEl.val('').trigger('change').focus();\n    sb.$el.trigger('searchbar:clear', previousQuery);\n    sb.emit('local::clear searchbarClear', sb, previousQuery);\n    return sb;\n  }\n\n  setDisableButtonMargin() {\n    const sb = this;\n    if (sb.expandable) return;\n    const app = sb.app;\n    sb.$disableButtonEl.transition(0).show();\n    sb.$disableButtonEl.css(\n      `margin-${app.rtl ? 'left' : 'right'}`,\n      `${-sb.disableButtonEl.offsetWidth}px`,\n    );\n    /* eslint no-underscore-dangle: [\"error\", { \"allow\": [\"_clientLeft\"] }] */\n    sb._clientLeft = sb.$disableButtonEl[0].clientLeft;\n    sb.$disableButtonEl.transition('');\n    sb.disableButtonHasMargin = true;\n  }\n\n  enable(setFocus) {\n    const sb = this;\n    if (sb.enabled) return sb;\n    const app = sb.app;\n    const document = getDocument();\n    const device = getDevice();\n\n    sb.enabled = true;\n    function enable() {\n      if (\n        sb.$backdropEl &&\n        ((sb.$searchContainer && sb.$searchContainer.length) || sb.params.customSearch) &&\n        !sb.$el.hasClass('searchbar-enabled') &&\n        !sb.query\n      ) {\n        sb.backdropShow();\n      }\n      sb.$el.addClass('searchbar-enabled');\n      if (!sb.$disableButtonEl || (sb.$disableButtonEl && sb.$disableButtonEl.length === 0)) {\n        sb.$el.addClass('searchbar-enabled-no-disable-button');\n      }\n      if (\n        !sb.expandable &&\n        sb.$disableButtonEl &&\n        sb.$disableButtonEl.length > 0 &&\n        app.theme !== 'md'\n      ) {\n        if (!sb.disableButtonHasMargin) {\n          sb.setDisableButtonMargin();\n        }\n        sb.$disableButtonEl.css(`margin-${app.rtl ? 'left' : 'right'}`, '0px');\n      }\n      if (sb.expandable) {\n        const $navbarEl = sb.$el.parents('.navbar');\n        if ($navbarEl.hasClass('navbar-large') && sb.$pageEl) {\n          const $pageContentEl = sb.$pageEl.find('.page-content');\n          const $titleLargeEl = $navbarEl.find('.title-large');\n          $pageContentEl.addClass('with-searchbar-expandable-enabled');\n          if (\n            $navbarEl.hasClass('navbar-large') &&\n            $navbarEl.hasClass('navbar-large-collapsed') &&\n            $titleLargeEl.length &&\n            $pageContentEl.length\n          ) {\n            $pageContentEl.transition(0);\n            $pageContentEl[0].scrollTop -= $titleLargeEl[0].offsetHeight;\n            setTimeout(() => {\n              $pageContentEl.transition('');\n            }, 200);\n          }\n        }\n        if (app.theme === 'md' && $navbarEl.length) {\n          $navbarEl.addClass('with-searchbar-expandable-enabled');\n        } else {\n          $navbarEl.addClass('with-searchbar-expandable-enabled');\n          if ($navbarEl.hasClass('navbar-large')) {\n            $navbarEl.addClass('navbar-large-collapsed');\n          }\n        }\n      }\n      if (sb.$hideOnEnableEl) sb.$hideOnEnableEl.addClass('hidden-by-searchbar');\n      sb.$el.trigger('searchbar:enable');\n      sb.emit('local::enable searchbarEnable', sb);\n    }\n    let needsFocus = false;\n    if (setFocus === true) {\n      if (document.activeElement !== sb.inputEl) {\n        needsFocus = true;\n      }\n    }\n    const isIos = device.ios && app.theme === 'ios';\n    if (isIos) {\n      if (sb.expandable) {\n        if (needsFocus) sb.$inputEl.focus();\n        enable();\n      } else {\n        if (needsFocus) sb.$inputEl.focus();\n        if (setFocus && (setFocus.type === 'focus' || setFocus === true)) {\n          nextTick(() => {\n            enable();\n          }, 400);\n        } else {\n          enable();\n        }\n      }\n    } else {\n      if (needsFocus) sb.$inputEl.focus();\n      if (app.theme === 'md' && sb.expandable) {\n        sb.$el.parents('.page, .view, .navbar-inner, .navbar').scrollLeft(app.rtl ? 100 : 0);\n      }\n      enable();\n    }\n    return sb;\n  }\n\n  disable() {\n    const sb = this;\n    if (!sb.enabled) return sb;\n    const app = sb.app;\n    sb.$inputEl.val('').trigger('change');\n    sb.$el.removeClass('searchbar-enabled searchbar-focused searchbar-enabled-no-disable-button');\n    if (sb.expandable) {\n      const $navbarEl = sb.$el.parents('.navbar');\n      const $pageContentEl = sb.$pageEl && sb.$pageEl.find('.page-content');\n\n      if ($navbarEl.hasClass('navbar-large') && $pageContentEl.length) {\n        const $titleLargeEl = $navbarEl.find('.title-large');\n        sb.$el.transitionEnd(() => {\n          $pageContentEl.removeClass('with-searchbar-expandable-closing');\n        });\n        if (\n          $navbarEl.hasClass('navbar-large') &&\n          $navbarEl.hasClass('navbar-large-collapsed') &&\n          $titleLargeEl.length\n        ) {\n          const scrollTop = $pageContentEl[0].scrollTop;\n          const titleLargeHeight = $titleLargeEl[0].offsetHeight;\n          if (scrollTop > titleLargeHeight) {\n            $pageContentEl.transition(0);\n            $pageContentEl[0].scrollTop = scrollTop + titleLargeHeight;\n            setTimeout(() => {\n              $pageContentEl.transition('');\n            }, 200);\n          }\n        }\n        $pageContentEl\n          .removeClass('with-searchbar-expandable-enabled')\n          .addClass('with-searchbar-expandable-closing');\n      }\n      if (app.theme === 'md' && $navbarEl.length) {\n        $navbarEl\n          .removeClass(\n            'with-searchbar-expandable-enabled with-searchbar-expandable-enabled-no-transition',\n          )\n          .addClass('with-searchbar-expandable-closing');\n        sb.$el.transitionEnd(() => {\n          $navbarEl.removeClass('with-searchbar-expandable-closing');\n        });\n      } else {\n        $navbarEl\n          .removeClass(\n            'with-searchbar-expandable-enabled with-searchbar-expandable-enabled-no-transition',\n          )\n          .addClass('with-searchbar-expandable-closing');\n        sb.$el.transitionEnd(() => {\n          $navbarEl.removeClass('with-searchbar-expandable-closing');\n        });\n        if (sb.$pageEl) {\n          sb.$pageEl.find('.page-content').trigger('scroll');\n        }\n      }\n    }\n    if (\n      !sb.expandable &&\n      sb.$disableButtonEl &&\n      sb.$disableButtonEl.length > 0 &&\n      app.theme !== 'md'\n    ) {\n      sb.$disableButtonEl.css(\n        `margin-${app.rtl ? 'left' : 'right'}`,\n        `${-sb.disableButtonEl.offsetWidth}px`,\n      );\n    }\n    if (\n      sb.$backdropEl &&\n      ((sb.$searchContainer && sb.$searchContainer.length) || sb.params.customSearch)\n    ) {\n      sb.backdropHide();\n    }\n\n    sb.enabled = false;\n\n    sb.$inputEl.blur();\n\n    if (sb.$hideOnEnableEl) sb.$hideOnEnableEl.removeClass('hidden-by-searchbar');\n\n    sb.$el.trigger('searchbar:disable');\n    sb.emit('local::disable searchbarDisable', sb);\n    return sb;\n  }\n\n  toggle() {\n    const sb = this;\n    if (sb.enabled) sb.disable();\n    else sb.enable(true);\n    return sb;\n  }\n\n  backdropShow() {\n    const sb = this;\n    if (sb.$backdropEl) {\n      sb.$backdropEl.addClass('searchbar-backdrop-in');\n    }\n    return sb;\n  }\n\n  backdropHide() {\n    const sb = this;\n    if (sb.$backdropEl) {\n      sb.$backdropEl.removeClass('searchbar-backdrop-in');\n    }\n    return sb;\n  }\n\n  search(query, internal) {\n    const sb = this;\n    sb.previousQuery = sb.query || '';\n    if (query === sb.previousQuery) return sb;\n\n    if (!internal) {\n      if (!sb.enabled) {\n        sb.enable();\n      }\n      sb.$inputEl.val(query);\n      sb.$inputEl.trigger('input');\n    }\n    sb.query = query;\n    sb.value = query;\n\n    const { $searchContainer, $el, $foundEl, $notFoundEl, $hideOnSearchEl, isVirtualList } = sb;\n\n    // Hide on search element\n    if (query.length > 0 && $hideOnSearchEl) {\n      $hideOnSearchEl.addClass('hidden-by-searchbar');\n    } else if ($hideOnSearchEl) {\n      $hideOnSearchEl.removeClass('hidden-by-searchbar');\n    }\n    // Add active/inactive classes on overlay\n    if (\n      ($searchContainer && $searchContainer.length && $el.hasClass('searchbar-enabled')) ||\n      (sb.params.customSearch && $el.hasClass('searchbar-enabled'))\n    ) {\n      if (query.length === 0) {\n        sb.backdropShow();\n      } else {\n        sb.backdropHide();\n      }\n    }\n\n    if (sb.params.customSearch) {\n      $el.trigger('searchbar:search', { query, previousQuery: sb.previousQuery });\n      sb.emit('local::search searchbarSearch', sb, query, sb.previousQuery);\n      return sb;\n    }\n\n    let foundItems = [];\n    let vlQuery;\n    if (isVirtualList) {\n      sb.virtualList = $searchContainer[0].f7VirtualList;\n      if (query.trim() === '') {\n        sb.virtualList.resetFilter();\n        if ($notFoundEl) $notFoundEl.hide();\n        if ($foundEl) $foundEl.show();\n        $el.trigger('searchbar:search', { query, previousQuery: sb.previousQuery });\n        sb.emit('local::search searchbarSearch', sb, query, sb.previousQuery);\n        return sb;\n      }\n      vlQuery = sb.params.removeDiacritics ? removeDiacritics(query) : query;\n      if (sb.virtualList.params.searchAll) {\n        foundItems = sb.virtualList.params.searchAll(vlQuery, sb.virtualList.items) || [];\n      } else if (sb.virtualList.params.searchByItem) {\n        for (let i = 0; i < sb.virtualList.items.length; i += 1) {\n          if (sb.virtualList.params.searchByItem(vlQuery, sb.virtualList.items[i], i)) {\n            foundItems.push(i);\n          }\n        }\n      }\n    } else {\n      let values;\n      if (sb.params.removeDiacritics)\n        values = removeDiacritics(query.trim().toLowerCase()).split(' ');\n      else {\n        values = query.trim().toLowerCase().split(' ');\n      }\n      $searchContainer\n        .find(sb.params.searchItem)\n        .removeClass('hidden-by-searchbar')\n        .each((itemEl) => {\n          const $itemEl = $(itemEl);\n          let compareWithText = [];\n          let $searchIn = sb.params.searchIn ? $itemEl.find(sb.params.searchIn) : $itemEl;\n          if (sb.params.searchIn === sb.params.searchItem) {\n            $searchIn = $itemEl;\n          }\n          $searchIn.each((searchInEl) => {\n            let itemText = $(searchInEl).text().trim().toLowerCase();\n            if (sb.params.removeDiacritics) itemText = removeDiacritics(itemText);\n            compareWithText.push(itemText);\n          });\n          compareWithText = compareWithText.join(' ');\n          let wordsMatch = 0;\n          for (let i = 0; i < values.length; i += 1) {\n            if (compareWithText.indexOf(values[i]) >= 0) wordsMatch += 1;\n          }\n          if (wordsMatch !== values.length && !(sb.params.ignore && $itemEl.is(sb.params.ignore))) {\n            $itemEl.addClass('hidden-by-searchbar');\n          } else {\n            foundItems.push($itemEl[0]);\n          }\n        });\n\n      if (sb.params.hideDividers) {\n        $searchContainer.find(sb.params.searchGroupTitle).each((titleEl) => {\n          const $titleEl = $(titleEl);\n          const $nextElements = $titleEl.nextAll(sb.params.searchItem);\n          let hide = true;\n          for (let i = 0; i < $nextElements.length; i += 1) {\n            const $nextEl = $nextElements.eq(i);\n            if ($nextEl.is(sb.params.searchGroupTitle)) break;\n            if (!$nextEl.hasClass('hidden-by-searchbar')) {\n              hide = false;\n            }\n          }\n          const ignore = sb.params.ignore && $titleEl.is(sb.params.ignore);\n          if (hide && !ignore) $titleEl.addClass('hidden-by-searchbar');\n          else $titleEl.removeClass('hidden-by-searchbar');\n        });\n      }\n      if (sb.params.hideGroups) {\n        $searchContainer.find(sb.params.searchGroup).each((groupEl) => {\n          const $groupEl = $(groupEl);\n          const ignore = sb.params.ignore && $groupEl.is(sb.params.ignore);\n          // eslint-disable-next-line\n          const notHidden = $groupEl.find(sb.params.searchItem).filter((el) => {\n            return !$(el).hasClass('hidden-by-searchbar');\n          });\n          if (notHidden.length === 0 && !ignore) {\n            $groupEl.addClass('hidden-by-searchbar');\n          } else {\n            $groupEl.removeClass('hidden-by-searchbar');\n          }\n        });\n      }\n    }\n\n    if (foundItems.length === 0) {\n      if ($notFoundEl) $notFoundEl.show();\n      if ($foundEl) $foundEl.hide();\n    } else {\n      if ($notFoundEl) $notFoundEl.hide();\n      if ($foundEl) $foundEl.show();\n    }\n    if (isVirtualList && sb.virtualList) {\n      sb.virtualList.filterItems(foundItems);\n    }\n\n    $el.trigger('searchbar:search', { query, previousQuery: sb.previousQuery, foundItems });\n    sb.emit('local::search searchbarSearch', sb, query, sb.previousQuery, foundItems);\n\n    return sb;\n  }\n\n  init() {\n    const sb = this;\n    if (sb.expandable && sb.$el) sb.$el.addClass('searchbar-expandable');\n    if (sb.inline && sb.$el) sb.$el.addClass('searchbar-inline');\n    sb.attachEvents();\n  }\n\n  destroy() {\n    const sb = this;\n    sb.emit('local::beforeDestroy searchbarBeforeDestroy', sb);\n    sb.$el.trigger('searchbar:beforedestroy');\n    sb.detachEvents();\n    if (sb.$el[0]) {\n      sb.$el[0].f7Searchbar = null;\n      delete sb.$el[0].f7Searchbar;\n    }\n    deleteProps(sb);\n  }\n}\n\nexport default Searchbar;\n","import $ from '../../shared/dom7';\nimport { extend } from '../../shared/utils';\nimport Searchbar from './searchbar-class';\nimport ConstructorMethods from '../../shared/constructor-methods';\n\nexport default {\n  name: 'searchbar',\n  static: {\n    Searchbar,\n  },\n  create() {\n    const app = this;\n    app.searchbar = ConstructorMethods({\n      defaultSelector: '.searchbar',\n      constructor: Searchbar,\n      app,\n      domProp: 'f7Searchbar',\n      addMethods: 'clear enable disable toggle search'.split(' '),\n    });\n  },\n  on: {\n    tabMounted(tabEl) {\n      const app = this;\n      $(tabEl)\n        .find('.searchbar-init')\n        .each((searchbarEl) => {\n          const $searchbarEl = $(searchbarEl);\n          app.searchbar.create(extend($searchbarEl.dataset(), { el: searchbarEl }));\n        });\n    },\n    tabBeforeRemove(tabEl) {\n      $(tabEl)\n        .find('.searchbar-init')\n        .each((searchbarEl) => {\n          if (searchbarEl.f7Searchbar && searchbarEl.f7Searchbar.destroy) {\n            searchbarEl.f7Searchbar.destroy();\n          }\n        });\n    },\n    pageInit(page) {\n      const app = this;\n      page.$el.find('.searchbar-init').each((searchbarEl) => {\n        const $searchbarEl = $(searchbarEl);\n        app.searchbar.create(extend($searchbarEl.dataset(), { el: searchbarEl }));\n      });\n      if (\n        app.theme === 'ios' &&\n        page.view &&\n        page.view.router.dynamicNavbar &&\n        page.$navbarEl &&\n        page.$navbarEl.length > 0\n      ) {\n        page.$navbarEl.find('.searchbar-init').each((searchbarEl) => {\n          const $searchbarEl = $(searchbarEl);\n          app.searchbar.create(extend($searchbarEl.dataset(), { el: searchbarEl }));\n        });\n      }\n    },\n    pageBeforeRemove(page) {\n      const app = this;\n      page.$el.find('.searchbar-init').each((searchbarEl) => {\n        if (searchbarEl.f7Searchbar && searchbarEl.f7Searchbar.destroy) {\n          searchbarEl.f7Searchbar.destroy();\n        }\n      });\n      if (\n        app.theme === 'ios' &&\n        page.view &&\n        page.view.router.dynamicNavbar &&\n        page.$navbarEl &&\n        page.$navbarEl.length > 0\n      ) {\n        page.$navbarEl.find('.searchbar-init').each((searchbarEl) => {\n          if (searchbarEl.f7Searchbar && searchbarEl.f7Searchbar.destroy) {\n            searchbarEl.f7Searchbar.destroy();\n          }\n        });\n      }\n    },\n  },\n  clicks: {\n    '.searchbar-clear': function clear($clickedEl, data = {}) {\n      const app = this;\n      const sb = app.searchbar.get(data.searchbar);\n      if (sb) sb.clear();\n    },\n    '.searchbar-enable': function enable($clickedEl, data = {}) {\n      const app = this;\n      const sb = app.searchbar.get(data.searchbar);\n      if (sb) sb.enable(true);\n    },\n    '.searchbar-disable': function disable($clickedEl, data = {}) {\n      const app = this;\n      const sb = app.searchbar.get(data.searchbar);\n      if (sb) sb.disable();\n    },\n    '.searchbar-toggle': function toggle($clickedEl, data = {}) {\n      const app = this;\n      const sb = app.searchbar.get(data.searchbar);\n      if (sb) sb.toggle();\n    },\n  },\n  vnode: {\n    'searchbar-init': {\n      insert(vnode) {\n        const app = this;\n        const searchbarEl = vnode.elm;\n        const $searchbarEl = $(searchbarEl);\n        app.searchbar.create(extend($searchbarEl.dataset(), { el: searchbarEl }));\n      },\n      destroy(vnode) {\n        const searchbarEl = vnode.elm;\n        if (searchbarEl.f7Searchbar && searchbarEl.f7Searchbar.destroy) {\n          searchbarEl.f7Searchbar.destroy();\n        }\n      },\n    },\n  },\n};\n","import $ from '../../shared/dom7';\nimport { extend, deleteProps } from '../../shared/utils';\nimport Framework7Class from '../../shared/class';\n/** @jsx $jsx */\nimport $jsx from '../../shared/$jsx';\n\nclass Messages extends Framework7Class {\n  constructor(app, params = {}) {\n    super(params, [app]);\n\n    const m = this;\n\n    const defaults = {\n      autoLayout: true,\n      messages: [],\n      newMessagesFirst: false,\n      scrollMessages: true,\n      scrollMessagesOnEdge: true,\n      firstMessageRule: undefined,\n      lastMessageRule: undefined,\n      tailMessageRule: undefined,\n      sameNameMessageRule: undefined,\n      sameHeaderMessageRule: undefined,\n      sameFooterMessageRule: undefined,\n      sameAvatarMessageRule: undefined,\n      customClassMessageRule: undefined,\n      renderMessage: undefined,\n    };\n\n    // Extend defaults with modules params\n    m.useModulesParams(defaults);\n\n    m.params = extend(defaults, params);\n\n    const $el = $(params.el).eq(0);\n    if ($el.length === 0) return m;\n\n    if ($el[0].f7Messages) return $el[0].f7Messages;\n\n    $el[0].f7Messages = m;\n\n    const $pageContentEl = $el.closest('.page-content').eq(0);\n\n    extend(m, {\n      messages: m.params.messages,\n      $el,\n      el: $el[0],\n      $pageContentEl,\n      pageContentEl: $pageContentEl[0],\n    });\n    // Install Modules\n    m.useModules();\n\n    // Init\n    m.init();\n\n    return m;\n  }\n  // eslint-disable-next-line\n  getMessageData(messageEl) {\n    const $messageEl = $(messageEl);\n    const data = {\n      name: $messageEl.find('.message-name').html(),\n      header: $messageEl.find('.message-header').html(),\n      textHeader: $messageEl.find('.message-text-header').html(),\n      textFooter: $messageEl.find('.message-text-footer').html(),\n      footer: $messageEl.find('.message-footer').html(),\n      isTitle: $messageEl.hasClass('messages-title'),\n      type: $messageEl.hasClass('message-sent') ? 'sent' : 'received',\n      text: $messageEl.find('.message-text').html(),\n      image: $messageEl.find('.message-image').html(),\n      imageSrc: $messageEl.find('.message-image img').attr('src'),\n      typing: $messageEl.hasClass('message-typing'),\n    };\n    if (data.isTitle) {\n      data.text = $messageEl.html();\n    }\n    if (data.text && data.textHeader) {\n      data.text = data.text.replace(\n        `<div class=\"message-text-header\">${data.textHeader}</div>`,\n        '',\n      );\n    }\n    if (data.text && data.textFooter) {\n      data.text = data.text.replace(\n        `<div class=\"message-text-footer\">${data.textFooter}</div>`,\n        '',\n      );\n    }\n    let avatar = $messageEl.find('.message-avatar').css('background-image');\n    if (avatar === 'none' || avatar === '') avatar = undefined;\n    if (avatar && typeof avatar === 'string') {\n      avatar = avatar.replace('url(', '').replace(')', '').replace(/\"/g, '').replace(/'/g, '');\n    } else {\n      avatar = undefined;\n    }\n    data.avatar = avatar;\n\n    return data;\n  }\n\n  getMessagesData() {\n    const m = this;\n    const data = [];\n    m.$el.find('.message, .messages-title').each((messageEl) => {\n      data.push(m.getMessageData(messageEl));\n    });\n    return data;\n  }\n\n  renderMessage(messageToRender) {\n    const m = this;\n    const message = extend(\n      {\n        type: 'sent',\n        attrs: {},\n      },\n      messageToRender,\n    );\n    if (m.params.renderMessage) {\n      return m.params.renderMessage.call(m, message);\n    }\n    if (message.isTitle) {\n      return `<div class=\"messages-title\">${message.text}</div>`;\n    }\n    return (\n      <div\n        class={`message message-${message.type} ${message.isTyping ? 'message-typing' : ''} ${\n          message.cssClass || ''\n        }`}\n        {...message.attrs}\n      >\n        {message.avatar && (\n          <div class=\"message-avatar\" style={`background-image:url(${message.avatar})`}></div>\n        )}\n        <div class=\"message-content\">\n          {message.name && <div class=\"message-name\">{message.name}</div>}\n          {message.header && <div class=\"message-header\">{message.header}</div>}\n          <div class=\"message-bubble\">\n            {message.textHeader && <div class=\"message-text-header\">{message.textHeader}</div>}\n            {message.image && <div class=\"message-image\">{message.image}</div>}\n            {message.imageSrc && !message.image && (\n              <div class=\"message-image\">\n                <img src={message.imageSrc} />\n              </div>\n            )}\n            {(message.text || message.isTyping) && (\n              <div class=\"message-text\">\n                {message.text || ''}\n                {message.isTyping && (\n                  <div class=\"message-typing-indicator\">\n                    <div></div>\n                    <div></div>\n                    <div></div>\n                  </div>\n                )}\n              </div>\n            )}\n            {message.textFooter && <div class=\"message-text-footer\">{message.textFooter}</div>}\n          </div>\n          {message.footer && <div class=\"message-footer\">{message.footer}</div>}\n        </div>\n      </div>\n    );\n  }\n\n  renderMessages(\n    messagesToRender = this.messages,\n    method = this.params.newMessagesFirst ? 'prepend' : 'append',\n  ) {\n    const m = this;\n    const html = messagesToRender.map((message) => m.renderMessage(message)).join('');\n    m.$el[method](html);\n  }\n\n  isFirstMessage(...args) {\n    const m = this;\n    if (m.params.firstMessageRule) return m.params.firstMessageRule(...args);\n    return false;\n  }\n\n  isLastMessage(...args) {\n    const m = this;\n    if (m.params.lastMessageRule) return m.params.lastMessageRule(...args);\n    return false;\n  }\n\n  isTailMessage(...args) {\n    const m = this;\n    if (m.params.tailMessageRule) return m.params.tailMessageRule(...args);\n    return false;\n  }\n\n  isSameNameMessage(...args) {\n    const m = this;\n    if (m.params.sameNameMessageRule) return m.params.sameNameMessageRule(...args);\n    return false;\n  }\n\n  isSameHeaderMessage(...args) {\n    const m = this;\n    if (m.params.sameHeaderMessageRule) return m.params.sameHeaderMessageRule(...args);\n    return false;\n  }\n\n  isSameFooterMessage(...args) {\n    const m = this;\n    if (m.params.sameFooterMessageRule) return m.params.sameFooterMessageRule(...args);\n    return false;\n  }\n\n  isSameAvatarMessage(...args) {\n    const m = this;\n    if (m.params.sameAvatarMessageRule) return m.params.sameAvatarMessageRule(...args);\n    return false;\n  }\n\n  isCustomClassMessage(...args) {\n    const m = this;\n    if (m.params.customClassMessageRule) return m.params.customClassMessageRule(...args);\n    return undefined;\n  }\n\n  layout() {\n    const m = this;\n    m.$el.find('.message, .messages-title').each((messageEl, index) => {\n      const $messageEl = $(messageEl);\n      if (!m.messages) {\n        m.messages = m.getMessagesData();\n      }\n      const classes = [];\n      const message = m.messages[index];\n      const previousMessage = m.messages[index - 1];\n      const nextMessage = m.messages[index + 1];\n      if (m.isFirstMessage(message, previousMessage, nextMessage)) {\n        classes.push('message-first');\n      }\n      if (m.isLastMessage(message, previousMessage, nextMessage)) {\n        classes.push('message-last');\n      }\n      if (m.isTailMessage(message, previousMessage, nextMessage)) {\n        classes.push('message-tail');\n      }\n      if (m.isSameNameMessage(message, previousMessage, nextMessage)) {\n        classes.push('message-same-name');\n      }\n      if (m.isSameHeaderMessage(message, previousMessage, nextMessage)) {\n        classes.push('message-same-header');\n      }\n      if (m.isSameFooterMessage(message, previousMessage, nextMessage)) {\n        classes.push('message-same-footer');\n      }\n      if (m.isSameAvatarMessage(message, previousMessage, nextMessage)) {\n        classes.push('message-same-avatar');\n      }\n      let customMessageClasses = m.isCustomClassMessage(message, previousMessage, nextMessage);\n      if (customMessageClasses && customMessageClasses.length) {\n        if (typeof customMessageClasses === 'string') {\n          customMessageClasses = customMessageClasses.split(' ');\n        }\n        customMessageClasses.forEach((customClass) => {\n          classes.push(customClass);\n        });\n      }\n      $messageEl.removeClass(\n        'message-first message-last message-tail message-same-name message-same-header message-same-footer message-same-avatar',\n      );\n      classes.forEach((className) => {\n        $messageEl.addClass(className);\n      });\n    });\n  }\n\n  clear() {\n    const m = this;\n    m.messages = [];\n    m.$el.html('');\n  }\n\n  removeMessage(messageToRemove, layout = true) {\n    const m = this;\n    // Index or El\n    let index;\n    let $el;\n    if (typeof messageToRemove === 'number') {\n      index = messageToRemove;\n      $el = m.$el.find('.message, .messages-title').eq(index);\n    } else if (m.messages && m.messages.indexOf(messageToRemove) >= 0) {\n      index = m.messages.indexOf(messageToRemove);\n      $el = m.$el.children().eq(index);\n    } else {\n      $el = $(messageToRemove);\n      index = $el.index();\n    }\n    if ($el.length === 0) {\n      return m;\n    }\n    $el.remove();\n    m.messages.splice(index, 1);\n    if (m.params.autoLayout && layout) m.layout();\n    return m;\n  }\n\n  removeMessages(messagesToRemove, layout = true) {\n    const m = this;\n    if (Array.isArray(messagesToRemove)) {\n      const messagesToRemoveEls = [];\n      messagesToRemove.forEach((messageToRemoveIndex) => {\n        messagesToRemoveEls.push(m.$el.find('.message, .messages-title').eq(messageToRemoveIndex));\n      });\n      messagesToRemoveEls.forEach((messageToRemove) => {\n        m.removeMessage(messageToRemove, false);\n      });\n    } else {\n      $(messagesToRemove).each((messageToRemove) => {\n        m.removeMessage(messageToRemove, false);\n      });\n    }\n    if (m.params.autoLayout && layout) m.layout();\n    return m;\n  }\n\n  addMessage(...args) {\n    const m = this;\n    let messageToAdd;\n    let animate;\n    let method;\n    if (typeof args[1] === 'boolean') {\n      [messageToAdd, animate, method] = args;\n    } else {\n      [messageToAdd, method, animate] = args;\n    }\n    if (typeof animate === 'undefined') {\n      animate = true;\n    }\n    if (typeof method === 'undefined') {\n      method = m.params.newMessagesFirst ? 'prepend' : 'append';\n    }\n\n    return m.addMessages([messageToAdd], animate, method);\n  }\n\n  setScrollData() {\n    const m = this;\n    // Define scroll positions before new messages added\n    const scrollHeightBefore = m.pageContentEl.scrollHeight;\n    const heightBefore = m.pageContentEl.offsetHeight;\n    const scrollBefore = m.pageContentEl.scrollTop;\n    m.scrollData = {\n      scrollHeightBefore,\n      heightBefore,\n      scrollBefore,\n    };\n    return {\n      scrollHeightBefore,\n      heightBefore,\n      scrollBefore,\n    };\n  }\n\n  addMessages(...args) {\n    const m = this;\n    let messagesToAdd;\n    let animate;\n    let method;\n    if (typeof args[1] === 'boolean') {\n      [messagesToAdd, animate, method] = args;\n    } else {\n      [messagesToAdd, method, animate] = args;\n    }\n    if (typeof animate === 'undefined') {\n      animate = true;\n    }\n    if (typeof method === 'undefined') {\n      method = m.params.newMessagesFirst ? 'prepend' : 'append';\n    }\n\n    const { scrollHeightBefore, scrollBefore } = m.setScrollData();\n\n    // Add message to DOM and data\n    let messagesHTML = '';\n    const typingMessage = m.messages.filter((el) => el.isTyping)[0];\n    messagesToAdd.forEach((messageToAdd) => {\n      if (typingMessage) {\n        if (method === 'append') {\n          m.messages.splice(m.messages.indexOf(typingMessage), 0, messageToAdd);\n        } else {\n          m.messages.splice(m.messages.indexOf(typingMessage) + 1, 0, messageToAdd);\n        }\n      } else {\n        m.messages[method === 'append' ? 'push' : 'unshift'](messageToAdd);\n      }\n      messagesHTML += m.renderMessage(messageToAdd);\n    });\n    const $messagesEls = $(messagesHTML);\n    if (animate) {\n      if (method === 'append' && !m.params.newMessagesFirst) {\n        $messagesEls.addClass('message-appear-from-bottom');\n      }\n      if (method === 'prepend' && m.params.newMessagesFirst) {\n        $messagesEls.addClass('message-appear-from-top');\n      }\n    }\n    if (typingMessage) {\n      if (method === 'append') {\n        $messagesEls.insertBefore(m.$el.find('.message-typing'));\n      } else {\n        $messagesEls.insertAfter(m.$el.find('.message-typing'));\n      }\n    } else {\n      m.$el[method]($messagesEls);\n    }\n\n    // Layout\n    if (m.params.autoLayout) m.layout();\n\n    if (method === 'prepend' && !typingMessage) {\n      m.pageContentEl.scrollTop =\n        scrollBefore + (m.pageContentEl.scrollHeight - scrollHeightBefore);\n    }\n\n    if (\n      m.params.scrollMessages &&\n      ((method === 'append' && !m.params.newMessagesFirst) ||\n        (method === 'prepend' && m.params.newMessagesFirst && !typingMessage))\n    ) {\n      m.scrollWithEdgeCheck(animate);\n    }\n\n    return m;\n  }\n\n  showTyping(message = {}) {\n    const m = this;\n    const typingMessage = m.messages.filter((el) => el.isTyping)[0];\n    if (typingMessage) {\n      m.removeMessage(m.messages.indexOf(typingMessage));\n    }\n    m.addMessage(\n      extend(\n        {\n          type: 'received',\n          isTyping: true,\n        },\n        message,\n      ),\n    );\n    return m;\n  }\n\n  hideTyping() {\n    const m = this;\n    let typingMessageIndex;\n    let typingFound;\n    m.messages.forEach((message, index) => {\n      if (message.isTyping) typingMessageIndex = index;\n    });\n    if (typeof typingMessageIndex !== 'undefined') {\n      if (m.$el.find('.message').eq(typingMessageIndex).hasClass('message-typing')) {\n        typingFound = true;\n        m.removeMessage(typingMessageIndex);\n      }\n    }\n    if (!typingFound) {\n      const $typingMessageEl = m.$el.find('.message-typing');\n      if ($typingMessageEl.length) {\n        m.removeMessage($typingMessageEl);\n      }\n    }\n    return m;\n  }\n\n  scrollWithEdgeCheck(animate) {\n    const m = this;\n    const { scrollBefore, scrollHeightBefore, heightBefore } = m.scrollData;\n    if (m.params.scrollMessagesOnEdge) {\n      let onEdge = false;\n      if (m.params.newMessagesFirst && scrollBefore === 0) {\n        onEdge = true;\n      }\n      if (!m.params.newMessagesFirst && scrollBefore - (scrollHeightBefore - heightBefore) >= -10) {\n        onEdge = true;\n      }\n      if (onEdge) m.scroll(animate ? undefined : 0);\n    } else {\n      m.scroll(animate ? undefined : 0);\n    }\n  }\n\n  scroll(duration = 300, scrollTop) {\n    const m = this;\n    const currentScroll = m.pageContentEl.scrollTop;\n    let newScrollTop;\n    if (typeof scrollTop !== 'undefined') newScrollTop = scrollTop;\n    else {\n      newScrollTop = m.params.newMessagesFirst\n        ? 0\n        : m.pageContentEl.scrollHeight - m.pageContentEl.offsetHeight;\n      if (newScrollTop === currentScroll) return m;\n    }\n    m.$pageContentEl.scrollTop(newScrollTop, duration);\n    return m;\n  }\n\n  init() {\n    const m = this;\n    if (!m.messages || m.messages.length === 0) {\n      m.messages = m.getMessagesData();\n    }\n    if (m.params.messages && m.params.messages.length) {\n      m.renderMessages();\n    }\n    if (m.params.autoLayout) m.layout();\n    if (m.params.scrollMessages) m.scroll(0);\n  }\n\n  destroy() {\n    const m = this;\n    m.emit('local::beforeDestroy messagesBeforeDestroy', m);\n    m.$el.trigger('messages:beforedestroy');\n    if (m.$el[0]) {\n      m.$el[0].f7Messages = null;\n      delete m.$el[0].f7Messages;\n    }\n    deleteProps(m);\n  }\n}\n\nexport default Messages;\n","import $ from '../../shared/dom7';\nimport Messages from './messages-class';\nimport ConstructorMethods from '../../shared/constructor-methods';\n\nexport default {\n  name: 'messages',\n  static: {\n    Messages,\n  },\n  create() {\n    const app = this;\n    app.messages = ConstructorMethods({\n      defaultSelector: '.messages',\n      constructor: Messages,\n      app,\n      domProp: 'f7Messages',\n      addMethods:\n        'renderMessages layout scroll clear removeMessage removeMessages addMessage addMessages'.split(\n          ' ',\n        ),\n    });\n  },\n  on: {\n    tabBeforeRemove(tabEl) {\n      const app = this;\n      $(tabEl)\n        .find('.messages-init')\n        .each((messagesEl) => {\n          app.messages.destroy(messagesEl);\n        });\n    },\n    tabMounted(tabEl) {\n      const app = this;\n      $(tabEl)\n        .find('.messages-init')\n        .each((messagesEl) => {\n          app.messages.create({ el: messagesEl });\n        });\n    },\n    pageBeforeRemove(page) {\n      const app = this;\n      page.$el.find('.messages-init').each((messagesEl) => {\n        app.messages.destroy(messagesEl);\n      });\n    },\n    pageInit(page) {\n      const app = this;\n      page.$el.find('.messages-init').each((messagesEl) => {\n        app.messages.create({ el: messagesEl });\n      });\n    },\n  },\n  vnode: {\n    'messages-init': {\n      insert(vnode) {\n        const app = this;\n        const messagesEl = vnode.elm;\n        app.messages.create({ el: messagesEl });\n      },\n      destroy(vnode) {\n        const app = this;\n        const messagesEl = vnode.elm;\n        app.messages.destroy(messagesEl);\n      },\n    },\n  },\n};\n","import $ from '../../shared/dom7';\nimport { extend, deleteProps } from '../../shared/utils';\nimport Framework7Class from '../../shared/class';\n\nclass Messagebar extends Framework7Class {\n  constructor(app, params = {}) {\n    super(params, [app]);\n\n    const messagebar = this;\n\n    const defaults = {\n      top: false,\n      topOffset: 0,\n      bottomOffset: 0,\n      attachments: [],\n      renderAttachments: undefined,\n      renderAttachment: undefined,\n      maxHeight: null,\n      resizePage: true,\n    };\n\n    // Extend defaults with modules params\n    messagebar.useModulesParams(defaults);\n\n    messagebar.params = extend(defaults, params);\n\n    // El\n    const $el = $(messagebar.params.el);\n    if ($el.length === 0) return messagebar;\n\n    if ($el[0].f7Messagebar) return $el[0].f7Messagebar;\n\n    $el[0].f7Messagebar = messagebar;\n\n    // Page and PageContent\n    const $pageEl = $el.parents('.page').eq(0);\n    const $pageContentEl = $pageEl.find('.page-content').eq(0);\n\n    // Area\n    const $areaEl = $el.find('.messagebar-area');\n\n    // Textarea\n    let $textareaEl;\n    if (messagebar.params.textareaEl) {\n      $textareaEl = $(messagebar.params.textareaEl);\n    } else {\n      $textareaEl = $el.find('textarea');\n    }\n\n    // Attachments & Library\n    const $attachmentsEl = $el.find('.messagebar-attachments');\n    const $sheetEl = $el.find('.messagebar-sheet');\n\n    if (messagebar.params.top) {\n      $el.addClass('messagebar-top');\n    }\n\n    extend(messagebar, {\n      $el,\n      el: $el[0],\n      $areaEl,\n      areaEl: $areaEl[0],\n      $textareaEl,\n      textareaEl: $textareaEl[0],\n      $attachmentsEl,\n      attachmentsEl: $attachmentsEl[0],\n      attachmentsVisible: $attachmentsEl.hasClass('messagebar-attachments-visible'),\n      $sheetEl,\n      sheetEl: $sheetEl[0],\n      sheetVisible: $sheetEl.hasClass('messagebar-sheet-visible'),\n      $pageEl,\n      pageEl: $pageEl[0],\n      $pageContentEl,\n      pageContentEl: $pageContentEl,\n      top: $el.hasClass('messagebar-top') || messagebar.params.top,\n      attachments: [],\n    });\n\n    // Events\n    function onAppResize() {\n      if (messagebar.params.resizePage) {\n        messagebar.resizePage();\n      }\n    }\n    function onSubmit(e) {\n      e.preventDefault();\n    }\n    function onAttachmentClick(e) {\n      const index = $(this).index();\n      if ($(e.target).closest('.messagebar-attachment-delete').length) {\n        $(this).trigger('messagebar:attachmentdelete', index);\n        messagebar.emit(\n          'local::attachmentDelete messagebarAttachmentDelete',\n          messagebar,\n          this,\n          index,\n        );\n      } else {\n        $(this).trigger('messagebar:attachmentclick', index);\n        messagebar.emit(\n          'local::attachmentClick messagebarAttachmentClick',\n          messagebar,\n          this,\n          index,\n        );\n      }\n    }\n    function onTextareaChange() {\n      messagebar.checkEmptyState();\n      messagebar.$el.trigger('messagebar:change');\n      messagebar.emit('local::change messagebarChange', messagebar);\n    }\n    function onTextareaFocus() {\n      messagebar.sheetHide();\n      messagebar.$el.addClass('messagebar-focused');\n      messagebar.$el.trigger('messagebar:focus');\n      messagebar.emit('local::focus messagebarFocus', messagebar);\n    }\n    function onTextareaBlur() {\n      messagebar.$el.removeClass('messagebar-focused');\n      messagebar.$el.trigger('messagebar:blur');\n      messagebar.emit('local::blur messagebarBlur', messagebar);\n    }\n\n    messagebar.attachEvents = function attachEvents() {\n      $el.on('textarea:resize', onAppResize);\n      $el.on('submit', onSubmit);\n      $el.on('click', '.messagebar-attachment', onAttachmentClick);\n      $textareaEl.on('change input', onTextareaChange);\n      $textareaEl.on('focus', onTextareaFocus);\n      $textareaEl.on('blur', onTextareaBlur);\n      app.on('resize', onAppResize);\n    };\n    messagebar.detachEvents = function detachEvents() {\n      $el.off('textarea:resize', onAppResize);\n      $el.off('submit', onSubmit);\n      $el.off('click', '.messagebar-attachment', onAttachmentClick);\n      $textareaEl.off('change input', onTextareaChange);\n      $textareaEl.off('focus', onTextareaFocus);\n      $textareaEl.off('blur', onTextareaBlur);\n      app.off('resize', onAppResize);\n    };\n\n    // Install Modules\n    messagebar.useModules();\n\n    // Init\n    messagebar.init();\n\n    return messagebar;\n  }\n\n  focus() {\n    const messagebar = this;\n    messagebar.$textareaEl.focus();\n    return messagebar;\n  }\n\n  blur() {\n    const messagebar = this;\n    messagebar.$textareaEl.blur();\n    return messagebar;\n  }\n\n  clear() {\n    const messagebar = this;\n    messagebar.$textareaEl.val('').trigger('change');\n    return messagebar;\n  }\n\n  getValue() {\n    const messagebar = this;\n    return messagebar.$textareaEl.val().trim();\n  }\n\n  setValue(value) {\n    const messagebar = this;\n    messagebar.$textareaEl.val(value).trigger('change');\n    return messagebar;\n  }\n\n  setPlaceholder(placeholder) {\n    const messagebar = this;\n    messagebar.$textareaEl.attr('placeholder', placeholder);\n    return messagebar;\n  }\n\n  resizePage() {\n    const messagebar = this;\n    const {\n      params,\n      $el,\n      top,\n      $pageEl,\n      $pageContentEl,\n      $areaEl,\n      $textareaEl,\n      $sheetEl,\n      $attachmentsEl,\n    } = messagebar;\n    const elHeight = $el[0].offsetHeight;\n    let maxHeight = params.maxHeight;\n    if (top) {\n      /*\n      Disable at the moment\n      const requiredPaddingTop = elHeight + params.topOffset;\n      const currentPaddingTop = parseInt($pageContentEl.css('padding-top'), 10);\n      if (requiredPaddingTop !== currentPaddingTop) {\n        if (!maxHeight) {\n          maxHeight = $pageEl[0].offsetHeight - currentPaddingTop - $sheetEl.outerHeight() - $attachmentsEl.outerHeight() - parseInt($areaEl.css('margin-top'), 10) - parseInt($areaEl.css('margin-bottom'), 10);\n        }\n        $textareaEl.css('max-height', `${maxHeight}px`);\n        $pageContentEl.css('padding-top', `${requiredPaddingTop}px`);\n        $el.trigger('messagebar:resizePage');\n        messagebar.emit('local::resizepage messagebarResizePage');\n      }\n      */\n    } else {\n      const currentPaddingBottom = parseInt($pageContentEl.css('padding-bottom'), 10);\n      const requiredPaddingBottom = elHeight + params.bottomOffset;\n      if (requiredPaddingBottom !== currentPaddingBottom && $pageContentEl.length) {\n        const currentPaddingTop = parseInt($pageContentEl.css('padding-top'), 10);\n        const pageScrollHeight = $pageContentEl[0].scrollHeight;\n        const pageOffsetHeight = $pageContentEl[0].offsetHeight;\n        const pageScrollTop = $pageContentEl[0].scrollTop;\n        const scrollOnBottom = pageScrollTop === pageScrollHeight - pageOffsetHeight;\n        if (!maxHeight) {\n          maxHeight =\n            $pageEl[0].offsetHeight -\n            currentPaddingTop -\n            $sheetEl.outerHeight() -\n            $attachmentsEl.outerHeight() -\n            parseInt($areaEl.css('margin-top'), 10) -\n            parseInt($areaEl.css('margin-bottom'), 10);\n        }\n        $textareaEl.css('max-height', `${maxHeight}px`);\n        $pageContentEl.css('padding-bottom', `${requiredPaddingBottom}px`);\n        if (scrollOnBottom) {\n          $pageContentEl.scrollTop($pageContentEl[0].scrollHeight - pageOffsetHeight);\n        }\n        $el.trigger('messagebar:resizepage');\n        messagebar.emit('local::resizePage messagebarResizePage', messagebar);\n      }\n    }\n  }\n\n  checkEmptyState() {\n    const messagebar = this;\n    const { $el, $textareaEl } = messagebar;\n    const value = $textareaEl.val().trim();\n    if (value && value.length) {\n      $el.addClass('messagebar-with-value');\n    } else {\n      $el.removeClass('messagebar-with-value');\n    }\n  }\n\n  attachmentsCreate(innerHTML = '') {\n    const messagebar = this;\n    const $attachmentsEl = $(`<div class=\"messagebar-attachments\">${innerHTML}</div>`);\n    $attachmentsEl.insertBefore(messagebar.$textareaEl);\n    extend(messagebar, {\n      $attachmentsEl,\n      attachmentsEl: $attachmentsEl[0],\n    });\n    return messagebar;\n  }\n\n  attachmentsShow(innerHTML = '') {\n    const messagebar = this;\n    messagebar.$attachmentsEl = messagebar.$el.find('.messagebar-attachments');\n    if (messagebar.$attachmentsEl.length === 0) {\n      messagebar.attachmentsCreate(innerHTML);\n    }\n    messagebar.$el.addClass('messagebar-attachments-visible');\n    messagebar.attachmentsVisible = true;\n    if (messagebar.params.resizePage) {\n      messagebar.resizePage();\n    }\n    return messagebar;\n  }\n\n  attachmentsHide() {\n    const messagebar = this;\n    messagebar.$el.removeClass('messagebar-attachments-visible');\n    messagebar.attachmentsVisible = false;\n    if (messagebar.params.resizePage) {\n      messagebar.resizePage();\n    }\n    return messagebar;\n  }\n\n  attachmentsToggle() {\n    const messagebar = this;\n    if (messagebar.attachmentsVisible) {\n      messagebar.attachmentsHide();\n    } else {\n      messagebar.attachmentsShow();\n    }\n    return messagebar;\n  }\n\n  renderAttachment(attachment) {\n    const messagebar = this;\n    if (messagebar.params.renderAttachment) {\n      return messagebar.params.renderAttachment.call(messagebar, attachment);\n    }\n    return `\n      <div class=\"messagebar-attachment\">\n        <img src=\"${attachment}\">\n        <span class=\"messagebar-attachment-delete\"></span>\n      </div>\n    `;\n  }\n\n  renderAttachments() {\n    const messagebar = this;\n    let html;\n    if (messagebar.params.renderAttachments) {\n      html = messagebar.params.renderAttachments.call(messagebar, messagebar.attachments);\n    } else {\n      html = `${messagebar.attachments\n        .map((attachment) => messagebar.renderAttachment(attachment))\n        .join('')}`;\n    }\n    if (messagebar.$attachmentsEl.length === 0) {\n      messagebar.attachmentsCreate(html);\n    } else {\n      messagebar.$attachmentsEl.html(html);\n    }\n  }\n\n  sheetCreate(innerHTML = '') {\n    const messagebar = this;\n    const $sheetEl = $(`<div class=\"messagebar-sheet\">${innerHTML}</div>`);\n    messagebar.$el.append($sheetEl);\n    extend(messagebar, {\n      $sheetEl,\n      sheetEl: $sheetEl[0],\n    });\n    return messagebar;\n  }\n\n  sheetShow(innerHTML = '') {\n    const messagebar = this;\n    messagebar.$sheetEl = messagebar.$el.find('.messagebar-sheet');\n    if (messagebar.$sheetEl.length === 0) {\n      messagebar.sheetCreate(innerHTML);\n    }\n    messagebar.$el.addClass('messagebar-sheet-visible');\n    messagebar.sheetVisible = true;\n    if (messagebar.params.resizePage) {\n      messagebar.resizePage();\n    }\n    return messagebar;\n  }\n\n  sheetHide() {\n    const messagebar = this;\n    messagebar.$el.removeClass('messagebar-sheet-visible');\n    messagebar.sheetVisible = false;\n    if (messagebar.params.resizePage) {\n      messagebar.resizePage();\n    }\n    return messagebar;\n  }\n\n  sheetToggle() {\n    const messagebar = this;\n    if (messagebar.sheetVisible) {\n      messagebar.sheetHide();\n    } else {\n      messagebar.sheetShow();\n    }\n    return messagebar;\n  }\n\n  init() {\n    const messagebar = this;\n    messagebar.attachEvents();\n    messagebar.checkEmptyState();\n    return messagebar;\n  }\n\n  destroy() {\n    const messagebar = this;\n    messagebar.emit('local::beforeDestroy messagebarBeforeDestroy', messagebar);\n    messagebar.$el.trigger('messagebar:beforedestroy');\n    messagebar.detachEvents();\n    if (messagebar.$el[0]) {\n      messagebar.$el[0].f7Messagebar = null;\n      delete messagebar.$el[0].f7Messagebar;\n    }\n    deleteProps(messagebar);\n  }\n}\n\nexport default Messagebar;\n","import $ from '../../shared/dom7';\nimport { extend } from '../../shared/utils';\nimport Messagebar from './messagebar-class';\nimport ConstructorMethods from '../../shared/constructor-methods';\n\nexport default {\n  name: 'messagebar',\n  static: {\n    Messagebar,\n  },\n  create() {\n    const app = this;\n    app.messagebar = ConstructorMethods({\n      defaultSelector: '.messagebar',\n      constructor: Messagebar,\n      app,\n      domProp: 'f7Messagebar',\n      addMethods:\n        'clear getValue setValue setPlaceholder resizePage focus blur attachmentsCreate attachmentsShow attachmentsHide attachmentsToggle renderAttachments sheetCreate sheetShow sheetHide sheetToggle'.split(\n          ' ',\n        ),\n    });\n  },\n  on: {\n    tabBeforeRemove(tabEl) {\n      const app = this;\n      $(tabEl)\n        .find('.messagebar-init')\n        .each((messagebarEl) => {\n          app.messagebar.destroy(messagebarEl);\n        });\n    },\n    tabMounted(tabEl) {\n      const app = this;\n      $(tabEl)\n        .find('.messagebar-init')\n        .each((messagebarEl) => {\n          app.messagebar.create(extend({ el: messagebarEl }, $(messagebarEl).dataset()));\n        });\n    },\n    pageBeforeRemove(page) {\n      const app = this;\n      page.$el.find('.messagebar-init').each((messagebarEl) => {\n        app.messagebar.destroy(messagebarEl);\n      });\n    },\n    pageInit(page) {\n      const app = this;\n      page.$el.find('.messagebar-init').each((messagebarEl) => {\n        app.messagebar.create(extend({ el: messagebarEl }, $(messagebarEl).dataset()));\n      });\n    },\n  },\n  vnode: {\n    'messagebar-init': {\n      insert(vnode) {\n        const app = this;\n        const messagebarEl = vnode.elm;\n        app.messagebar.create(extend({ el: messagebarEl }, $(messagebarEl).dataset()));\n      },\n      destroy(vnode) {\n        const app = this;\n        const messagebarEl = vnode.elm;\n        app.messagebar.destroy(messagebarEl);\n      },\n    },\n  },\n};\n","import { $, addClass, removeClass, hasClass, toggleClass, attr, removeAttr, transform, transition, on, off, trigger, transitionEnd, outerWidth, outerHeight, styles, offset, css, each, html, text, is, index, eq, append, prepend, next, nextAll, prev, prevAll, parent, parents, closest, find, children, filter, remove } from 'dom7';\nvar Methods = {\n  addClass: addClass,\n  removeClass: removeClass,\n  hasClass: hasClass,\n  toggleClass: toggleClass,\n  attr: attr,\n  removeAttr: removeAttr,\n  transform: transform,\n  transition: transition,\n  on: on,\n  off: off,\n  trigger: trigger,\n  transitionEnd: transitionEnd,\n  outerWidth: outerWidth,\n  outerHeight: outerHeight,\n  styles: styles,\n  offset: offset,\n  css: css,\n  each: each,\n  html: html,\n  text: text,\n  is: is,\n  index: index,\n  eq: eq,\n  append: append,\n  prepend: prepend,\n  next: next,\n  nextAll: nextAll,\n  prev: prev,\n  prevAll: prevAll,\n  parent: parent,\n  parents: parents,\n  closest: closest,\n  find: find,\n  children: children,\n  filter: filter,\n  remove: remove\n};\nObject.keys(Methods).forEach(function (methodName) {\n  Object.defineProperty($.fn, methodName, {\n    value: Methods[methodName],\n    writable: true\n  });\n});\nexport default $;","import { getDocument, getWindow } from 'ssr-window';\n\nfunction deleteProps(obj) {\n  var object = obj;\n  Object.keys(object).forEach(function (key) {\n    try {\n      object[key] = null;\n    } catch (e) {// no getter for object\n    }\n\n    try {\n      delete object[key];\n    } catch (e) {// something got wrong\n    }\n  });\n}\n\nfunction nextTick(callback, delay) {\n  if (delay === void 0) {\n    delay = 0;\n  }\n\n  return setTimeout(callback, delay);\n}\n\nfunction now() {\n  return Date.now();\n}\n\nfunction getComputedStyle(el) {\n  var window = getWindow();\n  var style;\n\n  if (window.getComputedStyle) {\n    style = window.getComputedStyle(el, null);\n  }\n\n  if (!style && el.currentStyle) {\n    style = el.currentStyle;\n  }\n\n  if (!style) {\n    style = el.style;\n  }\n\n  return style;\n}\n\nfunction getTranslate(el, axis) {\n  if (axis === void 0) {\n    axis = 'x';\n  }\n\n  var window = getWindow();\n  var matrix;\n  var curTransform;\n  var transformMatrix;\n  var curStyle = getComputedStyle(el, null);\n\n  if (window.WebKitCSSMatrix) {\n    curTransform = curStyle.transform || curStyle.webkitTransform;\n\n    if (curTransform.split(',').length > 6) {\n      curTransform = curTransform.split(', ').map(function (a) {\n        return a.replace(',', '.');\n      }).join(', ');\n    } // Some old versions of Webkit choke when 'none' is passed; pass\n    // empty string instead in this case\n\n\n    transformMatrix = new window.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\n  } else {\n    transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\n    matrix = transformMatrix.toString().split(',');\n  }\n\n  if (axis === 'x') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m41; // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[12]); // Normal Browsers\n      else curTransform = parseFloat(matrix[4]);\n  }\n\n  if (axis === 'y') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m42; // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[13]); // Normal Browsers\n      else curTransform = parseFloat(matrix[5]);\n  }\n\n  return curTransform || 0;\n}\n\nfunction isObject(o) {\n  return typeof o === 'object' && o !== null && o.constructor && Object.prototype.toString.call(o).slice(8, -1) === 'Object';\n}\n\nfunction isNode(node) {\n  // eslint-disable-next-line\n  if (typeof window !== 'undefined' && typeof window.HTMLElement !== 'undefined') {\n    return node instanceof HTMLElement;\n  }\n\n  return node && (node.nodeType === 1 || node.nodeType === 11);\n}\n\nfunction extend() {\n  var to = Object(arguments.length <= 0 ? undefined : arguments[0]);\n  var noExtend = ['__proto__', 'constructor', 'prototype'];\n\n  for (var i = 1; i < arguments.length; i += 1) {\n    var nextSource = i < 0 || arguments.length <= i ? undefined : arguments[i];\n\n    if (nextSource !== undefined && nextSource !== null && !isNode(nextSource)) {\n      var keysArray = Object.keys(Object(nextSource)).filter(function (key) {\n        return noExtend.indexOf(key) < 0;\n      });\n\n      for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {\n        var nextKey = keysArray[nextIndex];\n        var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n\n        if (desc !== undefined && desc.enumerable) {\n          if (isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else if (!isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            to[nextKey] = {};\n\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n    }\n  }\n\n  return to;\n}\n\nfunction bindModuleMethods(instance, obj) {\n  Object.keys(obj).forEach(function (key) {\n    if (isObject(obj[key])) {\n      Object.keys(obj[key]).forEach(function (subKey) {\n        if (typeof obj[key][subKey] === 'function') {\n          obj[key][subKey] = obj[key][subKey].bind(instance);\n        }\n      });\n    }\n\n    instance[key] = obj[key];\n  });\n}\n\nfunction classesToSelector(classes) {\n  if (classes === void 0) {\n    classes = '';\n  }\n\n  return \".\" + classes.trim().replace(/([\\.:!\\/])/g, '\\\\$1') // eslint-disable-line\n  .replace(/ /g, '.');\n}\n\nfunction createElementIfNotDefined($container, params, createElements, checkProps) {\n  var document = getDocument();\n\n  if (createElements) {\n    Object.keys(checkProps).forEach(function (key) {\n      if (!params[key] && params.auto === true) {\n        var element = document.createElement('div');\n        element.className = checkProps[key];\n        $container.append(element);\n        params[key] = element;\n      }\n    });\n  }\n\n  return params;\n}\n\nexport { deleteProps, nextTick, now, getTranslate, isObject, extend, bindModuleMethods, getComputedStyle, classesToSelector, createElementIfNotDefined };","import { getWindow, getDocument } from 'ssr-window';\nvar support;\n\nfunction calcSupport() {\n  var window = getWindow();\n  var document = getDocument();\n  return {\n    touch: !!('ontouchstart' in window || window.DocumentTouch && document instanceof window.DocumentTouch),\n    pointerEvents: !!window.PointerEvent && 'maxTouchPoints' in window.navigator && window.navigator.maxTouchPoints >= 0,\n    observer: function checkObserver() {\n      return 'MutationObserver' in window || 'WebkitMutationObserver' in window;\n    }(),\n    passiveListener: function checkPassiveListener() {\n      var supportsPassive = false;\n\n      try {\n        var opts = Object.defineProperty({}, 'passive', {\n          // eslint-disable-next-line\n          get: function get() {\n            supportsPassive = true;\n          }\n        });\n        window.addEventListener('testPassiveListener', null, opts);\n      } catch (e) {// No support\n      }\n\n      return supportsPassive;\n    }(),\n    gestures: function checkGestures() {\n      return 'ongesturestart' in window;\n    }()\n  };\n}\n\nfunction getSupport() {\n  if (!support) {\n    support = calcSupport();\n  }\n\n  return support;\n}\n\nexport { getSupport };","import { getWindow } from 'ssr-window';\nimport { getSupport } from './get-support';\nvar device;\n\nfunction calcDevice(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      userAgent = _ref.userAgent;\n\n  var support = getSupport();\n  var window = getWindow();\n  var platform = window.navigator.platform;\n  var ua = userAgent || window.navigator.userAgent;\n  var device = {\n    ios: false,\n    android: false\n  };\n  var screenWidth = window.screen.width;\n  var screenHeight = window.screen.height;\n  var android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/); // eslint-disable-line\n\n  var ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n  var ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n  var iphone = !ipad && ua.match(/(iPhone\\sOS|iOS)\\s([\\d_]+)/);\n  var windows = platform === 'Win32';\n  var macos = platform === 'MacIntel'; // iPadOs 13 fix\n\n  var iPadScreens = ['1024x1366', '1366x1024', '834x1194', '1194x834', '834x1112', '1112x834', '768x1024', '1024x768', '820x1180', '1180x820', '810x1080', '1080x810'];\n\n  if (!ipad && macos && support.touch && iPadScreens.indexOf(screenWidth + \"x\" + screenHeight) >= 0) {\n    ipad = ua.match(/(Version)\\/([\\d.]+)/);\n    if (!ipad) ipad = [0, 1, '13_0_0'];\n    macos = false;\n  } // Android\n\n\n  if (android && !windows) {\n    device.os = 'android';\n    device.android = true;\n  }\n\n  if (ipad || iphone || ipod) {\n    device.os = 'ios';\n    device.ios = true;\n  } // Export object\n\n\n  return device;\n}\n\nfunction getDevice(overrides) {\n  if (overrides === void 0) {\n    overrides = {};\n  }\n\n  if (!device) {\n    device = calcDevice(overrides);\n  }\n\n  return device;\n}\n\nexport { getDevice };","import { getWindow } from 'ssr-window';\nvar browser;\n\nfunction calcBrowser() {\n  var window = getWindow();\n\n  function isSafari() {\n    var ua = window.navigator.userAgent.toLowerCase();\n    return ua.indexOf('safari') >= 0 && ua.indexOf('chrome') < 0 && ua.indexOf('android') < 0;\n  }\n\n  return {\n    isEdge: !!window.navigator.userAgent.match(/Edge/g),\n    isSafari: isSafari(),\n    isWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent)\n  };\n}\n\nfunction getBrowser() {\n  if (!browser) {\n    browser = calcBrowser();\n  }\n\n  return browser;\n}\n\nexport { getBrowser };","import { getWindow } from 'ssr-window';\nimport { extend } from '../../utils/utils';\n\nvar supportsResizeObserver = function supportsResizeObserver() {\n  var window = getWindow();\n  return typeof window.ResizeObserver !== 'undefined';\n};\n\nexport default {\n  name: 'resize',\n  create: function create() {\n    var swiper = this;\n    extend(swiper, {\n      resize: {\n        observer: null,\n        createObserver: function createObserver() {\n          if (!swiper || swiper.destroyed || !swiper.initialized) return;\n          swiper.resize.observer = new ResizeObserver(function (entries) {\n            var width = swiper.width,\n                height = swiper.height;\n            var newWidth = width;\n            var newHeight = height;\n            entries.forEach(function (_ref) {\n              var contentBoxSize = _ref.contentBoxSize,\n                  contentRect = _ref.contentRect,\n                  target = _ref.target;\n              if (target && target !== swiper.el) return;\n              newWidth = contentRect ? contentRect.width : (contentBoxSize[0] || contentBoxSize).inlineSize;\n              newHeight = contentRect ? contentRect.height : (contentBoxSize[0] || contentBoxSize).blockSize;\n            });\n\n            if (newWidth !== width || newHeight !== height) {\n              swiper.resize.resizeHandler();\n            }\n          });\n          swiper.resize.observer.observe(swiper.el);\n        },\n        removeObserver: function removeObserver() {\n          if (swiper.resize.observer && swiper.resize.observer.unobserve && swiper.el) {\n            swiper.resize.observer.unobserve(swiper.el);\n            swiper.resize.observer = null;\n          }\n        },\n        resizeHandler: function resizeHandler() {\n          if (!swiper || swiper.destroyed || !swiper.initialized) return;\n          swiper.emit('beforeResize');\n          swiper.emit('resize');\n        },\n        orientationChangeHandler: function orientationChangeHandler() {\n          if (!swiper || swiper.destroyed || !swiper.initialized) return;\n          swiper.emit('orientationchange');\n        }\n      }\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      var window = getWindow();\n\n      if (swiper.params.resizeObserver && supportsResizeObserver()) {\n        swiper.resize.createObserver();\n        return;\n      } // Emit resize\n\n\n      window.addEventListener('resize', swiper.resize.resizeHandler); // Emit orientationchange\n\n      window.addEventListener('orientationchange', swiper.resize.orientationChangeHandler);\n    },\n    destroy: function destroy(swiper) {\n      var window = getWindow();\n      swiper.resize.removeObserver();\n      window.removeEventListener('resize', swiper.resize.resizeHandler);\n      window.removeEventListener('orientationchange', swiper.resize.orientationChangeHandler);\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { getWindow } from 'ssr-window';\nimport { bindModuleMethods } from '../../utils/utils';\nvar Observer = {\n  attach: function attach(target, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var window = getWindow();\n    var swiper = this;\n    var ObserverFunc = window.MutationObserver || window.WebkitMutationObserver;\n    var observer = new ObserverFunc(function (mutations) {\n      // The observerUpdate event should only be triggered\n      // once despite the number of mutations.  Additional\n      // triggers are redundant and are very costly\n      if (mutations.length === 1) {\n        swiper.emit('observerUpdate', mutations[0]);\n        return;\n      }\n\n      var observerUpdate = function observerUpdate() {\n        swiper.emit('observerUpdate', mutations[0]);\n      };\n\n      if (window.requestAnimationFrame) {\n        window.requestAnimationFrame(observerUpdate);\n      } else {\n        window.setTimeout(observerUpdate, 0);\n      }\n    });\n    observer.observe(target, {\n      attributes: typeof options.attributes === 'undefined' ? true : options.attributes,\n      childList: typeof options.childList === 'undefined' ? true : options.childList,\n      characterData: typeof options.characterData === 'undefined' ? true : options.characterData\n    });\n    swiper.observer.observers.push(observer);\n  },\n  init: function init() {\n    var swiper = this;\n    if (!swiper.support.observer || !swiper.params.observer) return;\n\n    if (swiper.params.observeParents) {\n      var containerParents = swiper.$el.parents();\n\n      for (var i = 0; i < containerParents.length; i += 1) {\n        swiper.observer.attach(containerParents[i]);\n      }\n    } // Observe container\n\n\n    swiper.observer.attach(swiper.$el[0], {\n      childList: swiper.params.observeSlideChildren\n    }); // Observe wrapper\n\n    swiper.observer.attach(swiper.$wrapperEl[0], {\n      attributes: false\n    });\n  },\n  destroy: function destroy() {\n    var swiper = this;\n    swiper.observer.observers.forEach(function (observer) {\n      observer.disconnect();\n    });\n    swiper.observer.observers = [];\n  }\n};\nexport default {\n  name: 'observer',\n  params: {\n    observer: false,\n    observeParents: false,\n    observeSlideChildren: false\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      observer: _extends({}, Observer, {\n        observers: []\n      })\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      swiper.observer.init();\n    },\n    destroy: function destroy(swiper) {\n      swiper.observer.destroy();\n    }\n  }\n};","import { extend } from '../../utils/utils';\nexport default {\n  useParams: function useParams(instanceParams) {\n    var instance = this;\n    if (!instance.modules) return;\n    Object.keys(instance.modules).forEach(function (moduleName) {\n      var module = instance.modules[moduleName]; // Extend params\n\n      if (module.params) {\n        extend(instanceParams, module.params);\n      }\n    });\n  },\n  useModules: function useModules(modulesParams) {\n    if (modulesParams === void 0) {\n      modulesParams = {};\n    }\n\n    var instance = this;\n    if (!instance.modules) return;\n    Object.keys(instance.modules).forEach(function (moduleName) {\n      var module = instance.modules[moduleName];\n      var moduleParams = modulesParams[moduleName] || {}; // Add event listeners\n\n      if (module.on && instance.on) {\n        Object.keys(module.on).forEach(function (moduleEventName) {\n          instance.on(moduleEventName, module.on[moduleEventName]);\n        });\n      } // Module create callback\n\n\n      if (module.create) {\n        module.create.bind(instance)(moduleParams);\n      }\n    });\n  }\n};","/* eslint-disable no-underscore-dangle */\nexport default {\n  on: function on(events, handler, priority) {\n    var self = this;\n    if (typeof handler !== 'function') return self;\n    var method = priority ? 'unshift' : 'push';\n    events.split(' ').forEach(function (event) {\n      if (!self.eventsListeners[event]) self.eventsListeners[event] = [];\n      self.eventsListeners[event][method](handler);\n    });\n    return self;\n  },\n  once: function once(events, handler, priority) {\n    var self = this;\n    if (typeof handler !== 'function') return self;\n\n    function onceHandler() {\n      self.off(events, onceHandler);\n\n      if (onceHandler.__emitterProxy) {\n        delete onceHandler.__emitterProxy;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      handler.apply(self, args);\n    }\n\n    onceHandler.__emitterProxy = handler;\n    return self.on(events, onceHandler, priority);\n  },\n  onAny: function onAny(handler, priority) {\n    var self = this;\n    if (typeof handler !== 'function') return self;\n    var method = priority ? 'unshift' : 'push';\n\n    if (self.eventsAnyListeners.indexOf(handler) < 0) {\n      self.eventsAnyListeners[method](handler);\n    }\n\n    return self;\n  },\n  offAny: function offAny(handler) {\n    var self = this;\n    if (!self.eventsAnyListeners) return self;\n    var index = self.eventsAnyListeners.indexOf(handler);\n\n    if (index >= 0) {\n      self.eventsAnyListeners.splice(index, 1);\n    }\n\n    return self;\n  },\n  off: function off(events, handler) {\n    var self = this;\n    if (!self.eventsListeners) return self;\n    events.split(' ').forEach(function (event) {\n      if (typeof handler === 'undefined') {\n        self.eventsListeners[event] = [];\n      } else if (self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach(function (eventHandler, index) {\n          if (eventHandler === handler || eventHandler.__emitterProxy && eventHandler.__emitterProxy === handler) {\n            self.eventsListeners[event].splice(index, 1);\n          }\n        });\n      }\n    });\n    return self;\n  },\n  emit: function emit() {\n    var self = this;\n    if (!self.eventsListeners) return self;\n    var events;\n    var data;\n    var context;\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    if (typeof args[0] === 'string' || Array.isArray(args[0])) {\n      events = args[0];\n      data = args.slice(1, args.length);\n      context = self;\n    } else {\n      events = args[0].events;\n      data = args[0].data;\n      context = args[0].context || self;\n    }\n\n    data.unshift(context);\n    var eventsArray = Array.isArray(events) ? events : events.split(' ');\n    eventsArray.forEach(function (event) {\n      if (self.eventsAnyListeners && self.eventsAnyListeners.length) {\n        self.eventsAnyListeners.forEach(function (eventHandler) {\n          eventHandler.apply(context, [event].concat(data));\n        });\n      }\n\n      if (self.eventsListeners && self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach(function (eventHandler) {\n          eventHandler.apply(context, data);\n        });\n      }\n    });\n    return self;\n  }\n};","import { extend } from '../../../utils/utils';\nexport default function updateSize() {\n  var swiper = this;\n  var width;\n  var height;\n  var $el = swiper.$el;\n\n  if (typeof swiper.params.width !== 'undefined' && swiper.params.width !== null) {\n    width = swiper.params.width;\n  } else {\n    width = $el[0].clientWidth;\n  }\n\n  if (typeof swiper.params.height !== 'undefined' && swiper.params.height !== null) {\n    height = swiper.params.height;\n  } else {\n    height = $el[0].clientHeight;\n  }\n\n  if (width === 0 && swiper.isHorizontal() || height === 0 && swiper.isVertical()) {\n    return;\n  } // Subtract paddings\n\n\n  width = width - parseInt($el.css('padding-left') || 0, 10) - parseInt($el.css('padding-right') || 0, 10);\n  height = height - parseInt($el.css('padding-top') || 0, 10) - parseInt($el.css('padding-bottom') || 0, 10);\n  if (Number.isNaN(width)) width = 0;\n  if (Number.isNaN(height)) height = 0;\n  extend(swiper, {\n    width: width,\n    height: height,\n    size: swiper.isHorizontal() ? width : height\n  });\n}","import { extend } from '../../../utils/utils';\nexport default function updateSlides() {\n  var swiper = this;\n\n  function getDirectionLabel(property) {\n    if (swiper.isHorizontal()) {\n      return property;\n    } // prettier-ignore\n\n\n    return {\n      'width': 'height',\n      'margin-top': 'margin-left',\n      'margin-bottom ': 'margin-right',\n      'margin-left': 'margin-top',\n      'margin-right': 'margin-bottom',\n      'padding-left': 'padding-top',\n      'padding-right': 'padding-bottom',\n      'marginRight': 'marginBottom'\n    }[property];\n  }\n\n  function getDirectionPropertyValue(node, label) {\n    return parseFloat(node.getPropertyValue(getDirectionLabel(label)) || 0);\n  }\n\n  var params = swiper.params;\n  var $wrapperEl = swiper.$wrapperEl,\n      swiperSize = swiper.size,\n      rtl = swiper.rtlTranslate,\n      wrongRTL = swiper.wrongRTL;\n  var isVirtual = swiper.virtual && params.virtual.enabled;\n  var previousSlidesLength = isVirtual ? swiper.virtual.slides.length : swiper.slides.length;\n  var slides = $wrapperEl.children(\".\" + swiper.params.slideClass);\n  var slidesLength = isVirtual ? swiper.virtual.slides.length : slides.length;\n  var snapGrid = [];\n  var slidesGrid = [];\n  var slidesSizesGrid = [];\n  var offsetBefore = params.slidesOffsetBefore;\n\n  if (typeof offsetBefore === 'function') {\n    offsetBefore = params.slidesOffsetBefore.call(swiper);\n  }\n\n  var offsetAfter = params.slidesOffsetAfter;\n\n  if (typeof offsetAfter === 'function') {\n    offsetAfter = params.slidesOffsetAfter.call(swiper);\n  }\n\n  var previousSnapGridLength = swiper.snapGrid.length;\n  var previousSlidesGridLength = swiper.slidesGrid.length;\n  var spaceBetween = params.spaceBetween;\n  var slidePosition = -offsetBefore;\n  var prevSlideSize = 0;\n  var index = 0;\n\n  if (typeof swiperSize === 'undefined') {\n    return;\n  }\n\n  if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {\n    spaceBetween = parseFloat(spaceBetween.replace('%', '')) / 100 * swiperSize;\n  }\n\n  swiper.virtualSize = -spaceBetween; // reset margins\n\n  if (rtl) slides.css({\n    marginLeft: '',\n    marginBottom: '',\n    marginTop: ''\n  });else slides.css({\n    marginRight: '',\n    marginBottom: '',\n    marginTop: ''\n  });\n  var slidesNumberEvenToRows;\n\n  if (params.slidesPerColumn > 1) {\n    if (Math.floor(slidesLength / params.slidesPerColumn) === slidesLength / swiper.params.slidesPerColumn) {\n      slidesNumberEvenToRows = slidesLength;\n    } else {\n      slidesNumberEvenToRows = Math.ceil(slidesLength / params.slidesPerColumn) * params.slidesPerColumn;\n    }\n\n    if (params.slidesPerView !== 'auto' && params.slidesPerColumnFill === 'row') {\n      slidesNumberEvenToRows = Math.max(slidesNumberEvenToRows, params.slidesPerView * params.slidesPerColumn);\n    }\n  } // Calc slides\n\n\n  var slideSize;\n  var slidesPerColumn = params.slidesPerColumn;\n  var slidesPerRow = slidesNumberEvenToRows / slidesPerColumn;\n  var numFullColumns = Math.floor(slidesLength / params.slidesPerColumn);\n\n  for (var i = 0; i < slidesLength; i += 1) {\n    slideSize = 0;\n    var slide = slides.eq(i);\n\n    if (params.slidesPerColumn > 1) {\n      // Set slides order\n      var newSlideOrderIndex = void 0;\n      var column = void 0;\n      var row = void 0;\n\n      if (params.slidesPerColumnFill === 'row' && params.slidesPerGroup > 1) {\n        var groupIndex = Math.floor(i / (params.slidesPerGroup * params.slidesPerColumn));\n        var slideIndexInGroup = i - params.slidesPerColumn * params.slidesPerGroup * groupIndex;\n        var columnsInGroup = groupIndex === 0 ? params.slidesPerGroup : Math.min(Math.ceil((slidesLength - groupIndex * slidesPerColumn * params.slidesPerGroup) / slidesPerColumn), params.slidesPerGroup);\n        row = Math.floor(slideIndexInGroup / columnsInGroup);\n        column = slideIndexInGroup - row * columnsInGroup + groupIndex * params.slidesPerGroup;\n        newSlideOrderIndex = column + row * slidesNumberEvenToRows / slidesPerColumn;\n        slide.css({\n          '-webkit-box-ordinal-group': newSlideOrderIndex,\n          '-moz-box-ordinal-group': newSlideOrderIndex,\n          '-ms-flex-order': newSlideOrderIndex,\n          '-webkit-order': newSlideOrderIndex,\n          order: newSlideOrderIndex\n        });\n      } else if (params.slidesPerColumnFill === 'column') {\n        column = Math.floor(i / slidesPerColumn);\n        row = i - column * slidesPerColumn;\n\n        if (column > numFullColumns || column === numFullColumns && row === slidesPerColumn - 1) {\n          row += 1;\n\n          if (row >= slidesPerColumn) {\n            row = 0;\n            column += 1;\n          }\n        }\n      } else {\n        row = Math.floor(i / slidesPerRow);\n        column = i - row * slidesPerRow;\n      }\n\n      slide.css(getDirectionLabel('margin-top'), row !== 0 ? params.spaceBetween && params.spaceBetween + \"px\" : '');\n    }\n\n    if (slide.css('display') === 'none') continue; // eslint-disable-line\n\n    if (params.slidesPerView === 'auto') {\n      var slideStyles = getComputedStyle(slide[0]);\n      var currentTransform = slide[0].style.transform;\n      var currentWebKitTransform = slide[0].style.webkitTransform;\n\n      if (currentTransform) {\n        slide[0].style.transform = 'none';\n      }\n\n      if (currentWebKitTransform) {\n        slide[0].style.webkitTransform = 'none';\n      }\n\n      if (params.roundLengths) {\n        slideSize = swiper.isHorizontal() ? slide.outerWidth(true) : slide.outerHeight(true);\n      } else {\n        // eslint-disable-next-line\n        var width = getDirectionPropertyValue(slideStyles, 'width');\n        var paddingLeft = getDirectionPropertyValue(slideStyles, 'padding-left');\n        var paddingRight = getDirectionPropertyValue(slideStyles, 'padding-right');\n        var marginLeft = getDirectionPropertyValue(slideStyles, 'margin-left');\n        var marginRight = getDirectionPropertyValue(slideStyles, 'margin-right');\n        var boxSizing = slideStyles.getPropertyValue('box-sizing');\n\n        if (boxSizing && boxSizing === 'border-box') {\n          slideSize = width + marginLeft + marginRight;\n        } else {\n          var _slide$ = slide[0],\n              clientWidth = _slide$.clientWidth,\n              offsetWidth = _slide$.offsetWidth;\n          slideSize = width + paddingLeft + paddingRight + marginLeft + marginRight + (offsetWidth - clientWidth);\n        }\n      }\n\n      if (currentTransform) {\n        slide[0].style.transform = currentTransform;\n      }\n\n      if (currentWebKitTransform) {\n        slide[0].style.webkitTransform = currentWebKitTransform;\n      }\n\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n    } else {\n      slideSize = (swiperSize - (params.slidesPerView - 1) * spaceBetween) / params.slidesPerView;\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n\n      if (slides[i]) {\n        slides[i].style[getDirectionLabel('width')] = slideSize + \"px\";\n      }\n    }\n\n    if (slides[i]) {\n      slides[i].swiperSlideSize = slideSize;\n    }\n\n    slidesSizesGrid.push(slideSize);\n\n    if (params.centeredSlides) {\n      slidePosition = slidePosition + slideSize / 2 + prevSlideSize / 2 + spaceBetween;\n      if (prevSlideSize === 0 && i !== 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (i === 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (Math.abs(slidePosition) < 1 / 1000) slidePosition = 0;\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if (index % params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n    } else {\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if ((index - Math.min(swiper.params.slidesPerGroupSkip, index)) % swiper.params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n      slidePosition = slidePosition + slideSize + spaceBetween;\n    }\n\n    swiper.virtualSize += slideSize + spaceBetween;\n    prevSlideSize = slideSize;\n    index += 1;\n  }\n\n  swiper.virtualSize = Math.max(swiper.virtualSize, swiperSize) + offsetAfter;\n  var newSlidesGrid;\n\n  if (rtl && wrongRTL && (params.effect === 'slide' || params.effect === 'coverflow')) {\n    $wrapperEl.css({\n      width: swiper.virtualSize + params.spaceBetween + \"px\"\n    });\n  }\n\n  if (params.setWrapperSize) {\n    var _$wrapperEl$css;\n\n    $wrapperEl.css((_$wrapperEl$css = {}, _$wrapperEl$css[getDirectionLabel('width')] = swiper.virtualSize + params.spaceBetween + \"px\", _$wrapperEl$css));\n  }\n\n  if (params.slidesPerColumn > 1) {\n    var _$wrapperEl$css2;\n\n    swiper.virtualSize = (slideSize + params.spaceBetween) * slidesNumberEvenToRows;\n    swiper.virtualSize = Math.ceil(swiper.virtualSize / params.slidesPerColumn) - params.spaceBetween;\n    $wrapperEl.css((_$wrapperEl$css2 = {}, _$wrapperEl$css2[getDirectionLabel('width')] = swiper.virtualSize + params.spaceBetween + \"px\", _$wrapperEl$css2));\n\n    if (params.centeredSlides) {\n      newSlidesGrid = [];\n\n      for (var _i = 0; _i < snapGrid.length; _i += 1) {\n        var slidesGridItem = snapGrid[_i];\n        if (params.roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n        if (snapGrid[_i] < swiper.virtualSize + snapGrid[0]) newSlidesGrid.push(slidesGridItem);\n      }\n\n      snapGrid = newSlidesGrid;\n    }\n  } // Remove last grid elements depending on width\n\n\n  if (!params.centeredSlides) {\n    newSlidesGrid = [];\n\n    for (var _i2 = 0; _i2 < snapGrid.length; _i2 += 1) {\n      var _slidesGridItem = snapGrid[_i2];\n      if (params.roundLengths) _slidesGridItem = Math.floor(_slidesGridItem);\n\n      if (snapGrid[_i2] <= swiper.virtualSize - swiperSize) {\n        newSlidesGrid.push(_slidesGridItem);\n      }\n    }\n\n    snapGrid = newSlidesGrid;\n\n    if (Math.floor(swiper.virtualSize - swiperSize) - Math.floor(snapGrid[snapGrid.length - 1]) > 1) {\n      snapGrid.push(swiper.virtualSize - swiperSize);\n    }\n  }\n\n  if (snapGrid.length === 0) snapGrid = [0];\n\n  if (params.spaceBetween !== 0) {\n    var _slides$filter$css;\n\n    var key = swiper.isHorizontal() && rtl ? 'marginLeft' : getDirectionLabel('marginRight');\n    slides.filter(function (_, slideIndex) {\n      if (!params.cssMode) return true;\n\n      if (slideIndex === slides.length - 1) {\n        return false;\n      }\n\n      return true;\n    }).css((_slides$filter$css = {}, _slides$filter$css[key] = spaceBetween + \"px\", _slides$filter$css));\n  }\n\n  if (params.centeredSlides && params.centeredSlidesBounds) {\n    var allSlidesSize = 0;\n    slidesSizesGrid.forEach(function (slideSizeValue) {\n      allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n    });\n    allSlidesSize -= params.spaceBetween;\n    var maxSnap = allSlidesSize - swiperSize;\n    snapGrid = snapGrid.map(function (snap) {\n      if (snap < 0) return -offsetBefore;\n      if (snap > maxSnap) return maxSnap + offsetAfter;\n      return snap;\n    });\n  }\n\n  if (params.centerInsufficientSlides) {\n    var _allSlidesSize = 0;\n    slidesSizesGrid.forEach(function (slideSizeValue) {\n      _allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n    });\n    _allSlidesSize -= params.spaceBetween;\n\n    if (_allSlidesSize < swiperSize) {\n      var allSlidesOffset = (swiperSize - _allSlidesSize) / 2;\n      snapGrid.forEach(function (snap, snapIndex) {\n        snapGrid[snapIndex] = snap - allSlidesOffset;\n      });\n      slidesGrid.forEach(function (snap, snapIndex) {\n        slidesGrid[snapIndex] = snap + allSlidesOffset;\n      });\n    }\n  }\n\n  extend(swiper, {\n    slides: slides,\n    snapGrid: snapGrid,\n    slidesGrid: slidesGrid,\n    slidesSizesGrid: slidesSizesGrid\n  });\n\n  if (slidesLength !== previousSlidesLength) {\n    swiper.emit('slidesLengthChange');\n  }\n\n  if (snapGrid.length !== previousSnapGridLength) {\n    if (swiper.params.watchOverflow) swiper.checkOverflow();\n    swiper.emit('snapGridLengthChange');\n  }\n\n  if (slidesGrid.length !== previousSlidesGridLength) {\n    swiper.emit('slidesGridLengthChange');\n  }\n\n  if (params.watchSlidesProgress || params.watchSlidesVisibility) {\n    swiper.updateSlidesOffset();\n  }\n}","export default function updateAutoHeight(speed) {\n  var swiper = this;\n  var activeSlides = [];\n  var isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n  var newHeight = 0;\n  var i;\n\n  if (typeof speed === 'number') {\n    swiper.setTransition(speed);\n  } else if (speed === true) {\n    swiper.setTransition(swiper.params.speed);\n  }\n\n  var getSlideByIndex = function getSlideByIndex(index) {\n    if (isVirtual) {\n      return swiper.slides.filter(function (el) {\n        return parseInt(el.getAttribute('data-swiper-slide-index'), 10) === index;\n      })[0];\n    }\n\n    return swiper.slides.eq(index)[0];\n  }; // Find slides currently in view\n\n\n  if (swiper.params.slidesPerView !== 'auto' && swiper.params.slidesPerView > 1) {\n    if (swiper.params.centeredSlides) {\n      swiper.visibleSlides.each(function (slide) {\n        activeSlides.push(slide);\n      });\n    } else {\n      for (i = 0; i < Math.ceil(swiper.params.slidesPerView); i += 1) {\n        var index = swiper.activeIndex + i;\n        if (index > swiper.slides.length && !isVirtual) break;\n        activeSlides.push(getSlideByIndex(index));\n      }\n    }\n  } else {\n    activeSlides.push(getSlideByIndex(swiper.activeIndex));\n  } // Find new height from highest slide in view\n\n\n  for (i = 0; i < activeSlides.length; i += 1) {\n    if (typeof activeSlides[i] !== 'undefined') {\n      var height = activeSlides[i].offsetHeight;\n      newHeight = height > newHeight ? height : newHeight;\n    }\n  } // Update Height\n\n\n  if (newHeight) swiper.$wrapperEl.css('height', newHeight + \"px\");\n}","export default function updateSlidesOffset() {\n  var swiper = this;\n  var slides = swiper.slides;\n\n  for (var i = 0; i < slides.length; i += 1) {\n    slides[i].swiperSlideOffset = swiper.isHorizontal() ? slides[i].offsetLeft : slides[i].offsetTop;\n  }\n}","import $ from '../../../utils/dom';\nexport default function updateSlidesProgress(translate) {\n  if (translate === void 0) {\n    translate = this && this.translate || 0;\n  }\n\n  var swiper = this;\n  var params = swiper.params;\n  var slides = swiper.slides,\n      rtl = swiper.rtlTranslate;\n  if (slides.length === 0) return;\n  if (typeof slides[0].swiperSlideOffset === 'undefined') swiper.updateSlidesOffset();\n  var offsetCenter = -translate;\n  if (rtl) offsetCenter = translate; // Visible Slides\n\n  slides.removeClass(params.slideVisibleClass);\n  swiper.visibleSlidesIndexes = [];\n  swiper.visibleSlides = [];\n\n  for (var i = 0; i < slides.length; i += 1) {\n    var slide = slides[i];\n    var slideProgress = (offsetCenter + (params.centeredSlides ? swiper.minTranslate() : 0) - slide.swiperSlideOffset) / (slide.swiperSlideSize + params.spaceBetween);\n\n    if (params.watchSlidesVisibility || params.centeredSlides && params.autoHeight) {\n      var slideBefore = -(offsetCenter - slide.swiperSlideOffset);\n      var slideAfter = slideBefore + swiper.slidesSizesGrid[i];\n      var isVisible = slideBefore >= 0 && slideBefore < swiper.size - 1 || slideAfter > 1 && slideAfter <= swiper.size || slideBefore <= 0 && slideAfter >= swiper.size;\n\n      if (isVisible) {\n        swiper.visibleSlides.push(slide);\n        swiper.visibleSlidesIndexes.push(i);\n        slides.eq(i).addClass(params.slideVisibleClass);\n      }\n    }\n\n    slide.progress = rtl ? -slideProgress : slideProgress;\n  }\n\n  swiper.visibleSlides = $(swiper.visibleSlides);\n}","import { extend } from '../../../utils/utils';\nexport default function updateProgress(translate) {\n  var swiper = this;\n\n  if (typeof translate === 'undefined') {\n    var multiplier = swiper.rtlTranslate ? -1 : 1; // eslint-disable-next-line\n\n    translate = swiper && swiper.translate && swiper.translate * multiplier || 0;\n  }\n\n  var params = swiper.params;\n  var translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n  var progress = swiper.progress,\n      isBeginning = swiper.isBeginning,\n      isEnd = swiper.isEnd;\n  var wasBeginning = isBeginning;\n  var wasEnd = isEnd;\n\n  if (translatesDiff === 0) {\n    progress = 0;\n    isBeginning = true;\n    isEnd = true;\n  } else {\n    progress = (translate - swiper.minTranslate()) / translatesDiff;\n    isBeginning = progress <= 0;\n    isEnd = progress >= 1;\n  }\n\n  extend(swiper, {\n    progress: progress,\n    isBeginning: isBeginning,\n    isEnd: isEnd\n  });\n  if (params.watchSlidesProgress || params.watchSlidesVisibility || params.centeredSlides && params.autoHeight) swiper.updateSlidesProgress(translate);\n\n  if (isBeginning && !wasBeginning) {\n    swiper.emit('reachBeginning toEdge');\n  }\n\n  if (isEnd && !wasEnd) {\n    swiper.emit('reachEnd toEdge');\n  }\n\n  if (wasBeginning && !isBeginning || wasEnd && !isEnd) {\n    swiper.emit('fromEdge');\n  }\n\n  swiper.emit('progress', progress);\n}","export default function updateSlidesClasses() {\n  var swiper = this;\n  var slides = swiper.slides,\n      params = swiper.params,\n      $wrapperEl = swiper.$wrapperEl,\n      activeIndex = swiper.activeIndex,\n      realIndex = swiper.realIndex;\n  var isVirtual = swiper.virtual && params.virtual.enabled;\n  slides.removeClass(params.slideActiveClass + \" \" + params.slideNextClass + \" \" + params.slidePrevClass + \" \" + params.slideDuplicateActiveClass + \" \" + params.slideDuplicateNextClass + \" \" + params.slideDuplicatePrevClass);\n  var activeSlide;\n\n  if (isVirtual) {\n    activeSlide = swiper.$wrapperEl.find(\".\" + params.slideClass + \"[data-swiper-slide-index=\\\"\" + activeIndex + \"\\\"]\");\n  } else {\n    activeSlide = slides.eq(activeIndex);\n  } // Active classes\n\n\n  activeSlide.addClass(params.slideActiveClass);\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (activeSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(\".\" + params.slideClass + \":not(.\" + params.slideDuplicateClass + \")[data-swiper-slide-index=\\\"\" + realIndex + \"\\\"]\").addClass(params.slideDuplicateActiveClass);\n    } else {\n      $wrapperEl.children(\".\" + params.slideClass + \".\" + params.slideDuplicateClass + \"[data-swiper-slide-index=\\\"\" + realIndex + \"\\\"]\").addClass(params.slideDuplicateActiveClass);\n    }\n  } // Next Slide\n\n\n  var nextSlide = activeSlide.nextAll(\".\" + params.slideClass).eq(0).addClass(params.slideNextClass);\n\n  if (params.loop && nextSlide.length === 0) {\n    nextSlide = slides.eq(0);\n    nextSlide.addClass(params.slideNextClass);\n  } // Prev Slide\n\n\n  var prevSlide = activeSlide.prevAll(\".\" + params.slideClass).eq(0).addClass(params.slidePrevClass);\n\n  if (params.loop && prevSlide.length === 0) {\n    prevSlide = slides.eq(-1);\n    prevSlide.addClass(params.slidePrevClass);\n  }\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (nextSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(\".\" + params.slideClass + \":not(.\" + params.slideDuplicateClass + \")[data-swiper-slide-index=\\\"\" + nextSlide.attr('data-swiper-slide-index') + \"\\\"]\").addClass(params.slideDuplicateNextClass);\n    } else {\n      $wrapperEl.children(\".\" + params.slideClass + \".\" + params.slideDuplicateClass + \"[data-swiper-slide-index=\\\"\" + nextSlide.attr('data-swiper-slide-index') + \"\\\"]\").addClass(params.slideDuplicateNextClass);\n    }\n\n    if (prevSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(\".\" + params.slideClass + \":not(.\" + params.slideDuplicateClass + \")[data-swiper-slide-index=\\\"\" + prevSlide.attr('data-swiper-slide-index') + \"\\\"]\").addClass(params.slideDuplicatePrevClass);\n    } else {\n      $wrapperEl.children(\".\" + params.slideClass + \".\" + params.slideDuplicateClass + \"[data-swiper-slide-index=\\\"\" + prevSlide.attr('data-swiper-slide-index') + \"\\\"]\").addClass(params.slideDuplicatePrevClass);\n    }\n  }\n\n  swiper.emitSlidesClasses();\n}","import { extend } from '../../../utils/utils';\nexport default function updateActiveIndex(newActiveIndex) {\n  var swiper = this;\n  var translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n  var slidesGrid = swiper.slidesGrid,\n      snapGrid = swiper.snapGrid,\n      params = swiper.params,\n      previousIndex = swiper.activeIndex,\n      previousRealIndex = swiper.realIndex,\n      previousSnapIndex = swiper.snapIndex;\n  var activeIndex = newActiveIndex;\n  var snapIndex;\n\n  if (typeof activeIndex === 'undefined') {\n    for (var i = 0; i < slidesGrid.length; i += 1) {\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1] - (slidesGrid[i + 1] - slidesGrid[i]) / 2) {\n          activeIndex = i;\n        } else if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1]) {\n          activeIndex = i + 1;\n        }\n      } else if (translate >= slidesGrid[i]) {\n        activeIndex = i;\n      }\n    } // Normalize slideIndex\n\n\n    if (params.normalizeSlideIndex) {\n      if (activeIndex < 0 || typeof activeIndex === 'undefined') activeIndex = 0;\n    }\n  }\n\n  if (snapGrid.indexOf(translate) >= 0) {\n    snapIndex = snapGrid.indexOf(translate);\n  } else {\n    var skip = Math.min(params.slidesPerGroupSkip, activeIndex);\n    snapIndex = skip + Math.floor((activeIndex - skip) / params.slidesPerGroup);\n  }\n\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n  if (activeIndex === previousIndex) {\n    if (snapIndex !== previousSnapIndex) {\n      swiper.snapIndex = snapIndex;\n      swiper.emit('snapIndexChange');\n    }\n\n    return;\n  } // Get real index\n\n\n  var realIndex = parseInt(swiper.slides.eq(activeIndex).attr('data-swiper-slide-index') || activeIndex, 10);\n  extend(swiper, {\n    snapIndex: snapIndex,\n    realIndex: realIndex,\n    previousIndex: previousIndex,\n    activeIndex: activeIndex\n  });\n  swiper.emit('activeIndexChange');\n  swiper.emit('snapIndexChange');\n\n  if (previousRealIndex !== realIndex) {\n    swiper.emit('realIndexChange');\n  }\n\n  if (swiper.initialized || swiper.params.runCallbacksOnInit) {\n    swiper.emit('slideChange');\n  }\n}","import $ from '../../../utils/dom';\nexport default function updateClickedSlide(e) {\n  var swiper = this;\n  var params = swiper.params;\n  var slide = $(e.target).closest(\".\" + params.slideClass)[0];\n  var slideFound = false;\n  var slideIndex;\n\n  if (slide) {\n    for (var i = 0; i < swiper.slides.length; i += 1) {\n      if (swiper.slides[i] === slide) {\n        slideFound = true;\n        slideIndex = i;\n        break;\n      }\n    }\n  }\n\n  if (slide && slideFound) {\n    swiper.clickedSlide = slide;\n\n    if (swiper.virtual && swiper.params.virtual.enabled) {\n      swiper.clickedIndex = parseInt($(slide).attr('data-swiper-slide-index'), 10);\n    } else {\n      swiper.clickedIndex = slideIndex;\n    }\n  } else {\n    swiper.clickedSlide = undefined;\n    swiper.clickedIndex = undefined;\n    return;\n  }\n\n  if (params.slideToClickedSlide && swiper.clickedIndex !== undefined && swiper.clickedIndex !== swiper.activeIndex) {\n    swiper.slideToClickedSlide();\n  }\n}","import updateSize from './updateSize';\nimport updateSlides from './updateSlides';\nimport updateAutoHeight from './updateAutoHeight';\nimport updateSlidesOffset from './updateSlidesOffset';\nimport updateSlidesProgress from './updateSlidesProgress';\nimport updateProgress from './updateProgress';\nimport updateSlidesClasses from './updateSlidesClasses';\nimport updateActiveIndex from './updateActiveIndex';\nimport updateClickedSlide from './updateClickedSlide';\nexport default {\n  updateSize: updateSize,\n  updateSlides: updateSlides,\n  updateAutoHeight: updateAutoHeight,\n  updateSlidesOffset: updateSlidesOffset,\n  updateSlidesProgress: updateSlidesProgress,\n  updateProgress: updateProgress,\n  updateSlidesClasses: updateSlidesClasses,\n  updateActiveIndex: updateActiveIndex,\n  updateClickedSlide: updateClickedSlide\n};","import { getTranslate } from '../../../utils/utils';\nexport default function getSwiperTranslate(axis) {\n  if (axis === void 0) {\n    axis = this.isHorizontal() ? 'x' : 'y';\n  }\n\n  var swiper = this;\n  var params = swiper.params,\n      rtl = swiper.rtlTranslate,\n      translate = swiper.translate,\n      $wrapperEl = swiper.$wrapperEl;\n\n  if (params.virtualTranslate) {\n    return rtl ? -translate : translate;\n  }\n\n  if (params.cssMode) {\n    return translate;\n  }\n\n  var currentTranslate = getTranslate($wrapperEl[0], axis);\n  if (rtl) currentTranslate = -currentTranslate;\n  return currentTranslate || 0;\n}","export default function setTranslate(translate, byController) {\n  var swiper = this;\n  var rtl = swiper.rtlTranslate,\n      params = swiper.params,\n      $wrapperEl = swiper.$wrapperEl,\n      wrapperEl = swiper.wrapperEl,\n      progress = swiper.progress;\n  var x = 0;\n  var y = 0;\n  var z = 0;\n\n  if (swiper.isHorizontal()) {\n    x = rtl ? -translate : translate;\n  } else {\n    y = translate;\n  }\n\n  if (params.roundLengths) {\n    x = Math.floor(x);\n    y = Math.floor(y);\n  }\n\n  if (params.cssMode) {\n    wrapperEl[swiper.isHorizontal() ? 'scrollLeft' : 'scrollTop'] = swiper.isHorizontal() ? -x : -y;\n  } else if (!params.virtualTranslate) {\n    $wrapperEl.transform(\"translate3d(\" + x + \"px, \" + y + \"px, \" + z + \"px)\");\n  }\n\n  swiper.previousTranslate = swiper.translate;\n  swiper.translate = swiper.isHorizontal() ? x : y; // Check if we need to update progress\n\n  var newProgress;\n  var translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (translate - swiper.minTranslate()) / translatesDiff;\n  }\n\n  if (newProgress !== progress) {\n    swiper.updateProgress(translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, byController);\n}","export default function minTranslate() {\n  return -this.snapGrid[0];\n}","export default function maxTranslate() {\n  return -this.snapGrid[this.snapGrid.length - 1];\n}","export default function translateTo(translate, speed, runCallbacks, translateBounds, internal) {\n  if (translate === void 0) {\n    translate = 0;\n  }\n\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  if (translateBounds === void 0) {\n    translateBounds = true;\n  }\n\n  var swiper = this;\n  var params = swiper.params,\n      wrapperEl = swiper.wrapperEl;\n\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return false;\n  }\n\n  var minTranslate = swiper.minTranslate();\n  var maxTranslate = swiper.maxTranslate();\n  var newTranslate;\n  if (translateBounds && translate > minTranslate) newTranslate = minTranslate;else if (translateBounds && translate < maxTranslate) newTranslate = maxTranslate;else newTranslate = translate; // Update progress\n\n  swiper.updateProgress(newTranslate);\n\n  if (params.cssMode) {\n    var isH = swiper.isHorizontal();\n\n    if (speed === 0) {\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = -newTranslate;\n    } else {\n      // eslint-disable-next-line\n      if (wrapperEl.scrollTo) {\n        var _wrapperEl$scrollTo;\n\n        wrapperEl.scrollTo((_wrapperEl$scrollTo = {}, _wrapperEl$scrollTo[isH ? 'left' : 'top'] = -newTranslate, _wrapperEl$scrollTo.behavior = 'smooth', _wrapperEl$scrollTo));\n      } else {\n        wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = -newTranslate;\n      }\n    }\n\n    return true;\n  }\n\n  if (speed === 0) {\n    swiper.setTransition(0);\n    swiper.setTranslate(newTranslate);\n\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionEnd');\n    }\n  } else {\n    swiper.setTransition(speed);\n    swiper.setTranslate(newTranslate);\n\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionStart');\n    }\n\n    if (!swiper.animating) {\n      swiper.animating = true;\n\n      if (!swiper.onTranslateToWrapperTransitionEnd) {\n        swiper.onTranslateToWrapperTransitionEnd = function transitionEnd(e) {\n          if (!swiper || swiper.destroyed) return;\n          if (e.target !== this) return;\n          swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.onTranslateToWrapperTransitionEnd = null;\n          delete swiper.onTranslateToWrapperTransitionEnd;\n\n          if (runCallbacks) {\n            swiper.emit('transitionEnd');\n          }\n        };\n      }\n\n      swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n      swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n    }\n  }\n\n  return true;\n}","import getTranslate from './getTranslate';\nimport setTranslate from './setTranslate';\nimport minTranslate from './minTranslate';\nimport maxTranslate from './maxTranslate';\nimport translateTo from './translateTo';\nexport default {\n  getTranslate: getTranslate,\n  setTranslate: setTranslate,\n  minTranslate: minTranslate,\n  maxTranslate: maxTranslate,\n  translateTo: translateTo\n};","export default function setTransition(duration, byController) {\n  var swiper = this;\n\n  if (!swiper.params.cssMode) {\n    swiper.$wrapperEl.transition(duration);\n  }\n\n  swiper.emit('setTransition', duration, byController);\n}","export default function transitionStart(runCallbacks, direction) {\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  var swiper = this;\n  var activeIndex = swiper.activeIndex,\n      params = swiper.params,\n      previousIndex = swiper.previousIndex;\n  if (params.cssMode) return;\n\n  if (params.autoHeight) {\n    swiper.updateAutoHeight();\n  }\n\n  var dir = direction;\n\n  if (!dir) {\n    if (activeIndex > previousIndex) dir = 'next';else if (activeIndex < previousIndex) dir = 'prev';else dir = 'reset';\n  }\n\n  swiper.emit('transitionStart');\n\n  if (runCallbacks && activeIndex !== previousIndex) {\n    if (dir === 'reset') {\n      swiper.emit('slideResetTransitionStart');\n      return;\n    }\n\n    swiper.emit('slideChangeTransitionStart');\n\n    if (dir === 'next') {\n      swiper.emit('slideNextTransitionStart');\n    } else {\n      swiper.emit('slidePrevTransitionStart');\n    }\n  }\n}","export default function transitionEnd(runCallbacks, direction) {\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  var swiper = this;\n  var activeIndex = swiper.activeIndex,\n      previousIndex = swiper.previousIndex,\n      params = swiper.params;\n  swiper.animating = false;\n  if (params.cssMode) return;\n  swiper.setTransition(0);\n  var dir = direction;\n\n  if (!dir) {\n    if (activeIndex > previousIndex) dir = 'next';else if (activeIndex < previousIndex) dir = 'prev';else dir = 'reset';\n  }\n\n  swiper.emit('transitionEnd');\n\n  if (runCallbacks && activeIndex !== previousIndex) {\n    if (dir === 'reset') {\n      swiper.emit('slideResetTransitionEnd');\n      return;\n    }\n\n    swiper.emit('slideChangeTransitionEnd');\n\n    if (dir === 'next') {\n      swiper.emit('slideNextTransitionEnd');\n    } else {\n      swiper.emit('slidePrevTransitionEnd');\n    }\n  }\n}","import setTransition from './setTransition';\nimport transitionStart from './transitionStart';\nimport transitionEnd from './transitionEnd';\nexport default {\n  setTransition: setTransition,\n  transitionStart: transitionStart,\n  transitionEnd: transitionEnd\n};","export default function slideTo(index, speed, runCallbacks, internal, initial) {\n  if (index === void 0) {\n    index = 0;\n  }\n\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  if (typeof index !== 'number' && typeof index !== 'string') {\n    throw new Error(\"The 'index' argument cannot have type other than 'number' or 'string'. [\" + typeof index + \"] given.\");\n  }\n\n  if (typeof index === 'string') {\n    /**\n     * The `index` argument converted from `string` to `number`.\n     * @type {number}\n     */\n    var indexAsNumber = parseInt(index, 10);\n    /**\n     * Determines whether the `index` argument is a valid `number`\n     * after being converted from the `string` type.\n     * @type {boolean}\n     */\n\n    var isValidNumber = isFinite(indexAsNumber);\n\n    if (!isValidNumber) {\n      throw new Error(\"The passed-in 'index' (string) couldn't be converted to 'number'. [\" + index + \"] given.\");\n    } // Knowing that the converted `index` is a valid number,\n    // we can update the original argument's value.\n\n\n    index = indexAsNumber;\n  }\n\n  var swiper = this;\n  var slideIndex = index;\n  if (slideIndex < 0) slideIndex = 0;\n  var params = swiper.params,\n      snapGrid = swiper.snapGrid,\n      slidesGrid = swiper.slidesGrid,\n      previousIndex = swiper.previousIndex,\n      activeIndex = swiper.activeIndex,\n      rtl = swiper.rtlTranslate,\n      wrapperEl = swiper.wrapperEl,\n      enabled = swiper.enabled;\n\n  if (swiper.animating && params.preventInteractionOnTransition || !enabled && !internal && !initial) {\n    return false;\n  }\n\n  var skip = Math.min(swiper.params.slidesPerGroupSkip, slideIndex);\n  var snapIndex = skip + Math.floor((slideIndex - skip) / swiper.params.slidesPerGroup);\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n  if ((activeIndex || params.initialSlide || 0) === (previousIndex || 0) && runCallbacks) {\n    swiper.emit('beforeSlideChangeStart');\n  }\n\n  var translate = -snapGrid[snapIndex]; // Update progress\n\n  swiper.updateProgress(translate); // Normalize slideIndex\n\n  if (params.normalizeSlideIndex) {\n    for (var i = 0; i < slidesGrid.length; i += 1) {\n      var normalizedTranslate = -Math.floor(translate * 100);\n      var normalizedGird = Math.floor(slidesGrid[i] * 100);\n      var normalizedGridNext = Math.floor(slidesGrid[i + 1] * 100);\n\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (normalizedTranslate >= normalizedGird && normalizedTranslate < normalizedGridNext - (normalizedGridNext - normalizedGird) / 2) {\n          slideIndex = i;\n        } else if (normalizedTranslate >= normalizedGird && normalizedTranslate < normalizedGridNext) {\n          slideIndex = i + 1;\n        }\n      } else if (normalizedTranslate >= normalizedGird) {\n        slideIndex = i;\n      }\n    }\n  } // Directions locks\n\n\n  if (swiper.initialized && slideIndex !== activeIndex) {\n    if (!swiper.allowSlideNext && translate < swiper.translate && translate < swiper.minTranslate()) {\n      return false;\n    }\n\n    if (!swiper.allowSlidePrev && translate > swiper.translate && translate > swiper.maxTranslate()) {\n      if ((activeIndex || 0) !== slideIndex) return false;\n    }\n  }\n\n  var direction;\n  if (slideIndex > activeIndex) direction = 'next';else if (slideIndex < activeIndex) direction = 'prev';else direction = 'reset'; // Update Index\n\n  if (rtl && -translate === swiper.translate || !rtl && translate === swiper.translate) {\n    swiper.updateActiveIndex(slideIndex); // Update Height\n\n    if (params.autoHeight) {\n      swiper.updateAutoHeight();\n    }\n\n    swiper.updateSlidesClasses();\n\n    if (params.effect !== 'slide') {\n      swiper.setTranslate(translate);\n    }\n\n    if (direction !== 'reset') {\n      swiper.transitionStart(runCallbacks, direction);\n      swiper.transitionEnd(runCallbacks, direction);\n    }\n\n    return false;\n  }\n\n  if (params.cssMode) {\n    var isH = swiper.isHorizontal();\n    var t = -translate;\n\n    if (rtl) {\n      t = wrapperEl.scrollWidth - wrapperEl.offsetWidth - t;\n    }\n\n    if (speed === 0) {\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = t;\n    } else {\n      // eslint-disable-next-line\n      if (wrapperEl.scrollTo) {\n        var _wrapperEl$scrollTo;\n\n        wrapperEl.scrollTo((_wrapperEl$scrollTo = {}, _wrapperEl$scrollTo[isH ? 'left' : 'top'] = t, _wrapperEl$scrollTo.behavior = 'smooth', _wrapperEl$scrollTo));\n      } else {\n        wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = t;\n      }\n    }\n\n    return true;\n  }\n\n  if (speed === 0) {\n    swiper.setTransition(0);\n    swiper.setTranslate(translate);\n    swiper.updateActiveIndex(slideIndex);\n    swiper.updateSlidesClasses();\n    swiper.emit('beforeTransitionStart', speed, internal);\n    swiper.transitionStart(runCallbacks, direction);\n    swiper.transitionEnd(runCallbacks, direction);\n  } else {\n    swiper.setTransition(speed);\n    swiper.setTranslate(translate);\n    swiper.updateActiveIndex(slideIndex);\n    swiper.updateSlidesClasses();\n    swiper.emit('beforeTransitionStart', speed, internal);\n    swiper.transitionStart(runCallbacks, direction);\n\n    if (!swiper.animating) {\n      swiper.animating = true;\n\n      if (!swiper.onSlideToWrapperTransitionEnd) {\n        swiper.onSlideToWrapperTransitionEnd = function transitionEnd(e) {\n          if (!swiper || swiper.destroyed) return;\n          if (e.target !== this) return;\n          swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n          swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n          swiper.onSlideToWrapperTransitionEnd = null;\n          delete swiper.onSlideToWrapperTransitionEnd;\n          swiper.transitionEnd(runCallbacks, direction);\n        };\n      }\n\n      swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n      swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n    }\n  }\n\n  return true;\n}","export default function slideToLoop(index, speed, runCallbacks, internal) {\n  if (index === void 0) {\n    index = 0;\n  }\n\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  var swiper = this;\n  var newIndex = index;\n\n  if (swiper.params.loop) {\n    newIndex += swiper.loopedSlides;\n  }\n\n  return swiper.slideTo(newIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideNext(speed, runCallbacks, internal) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  var swiper = this;\n  var params = swiper.params,\n      animating = swiper.animating,\n      enabled = swiper.enabled;\n  if (!enabled) return swiper;\n  var increment = swiper.activeIndex < params.slidesPerGroupSkip ? 1 : params.slidesPerGroup;\n\n  if (params.loop) {\n    if (animating && params.loopPreventsSlide) return false;\n    swiper.loopFix(); // eslint-disable-next-line\n\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n  }\n\n  return swiper.slideTo(swiper.activeIndex + increment, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slidePrev(speed, runCallbacks, internal) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  var swiper = this;\n  var params = swiper.params,\n      animating = swiper.animating,\n      snapGrid = swiper.snapGrid,\n      slidesGrid = swiper.slidesGrid,\n      rtlTranslate = swiper.rtlTranslate,\n      enabled = swiper.enabled;\n  if (!enabled) return swiper;\n\n  if (params.loop) {\n    if (animating && params.loopPreventsSlide) return false;\n    swiper.loopFix(); // eslint-disable-next-line\n\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n  }\n\n  var translate = rtlTranslate ? swiper.translate : -swiper.translate;\n\n  function normalize(val) {\n    if (val < 0) return -Math.floor(Math.abs(val));\n    return Math.floor(val);\n  }\n\n  var normalizedTranslate = normalize(translate);\n  var normalizedSnapGrid = snapGrid.map(function (val) {\n    return normalize(val);\n  });\n  var prevSnap = snapGrid[normalizedSnapGrid.indexOf(normalizedTranslate) - 1];\n\n  if (typeof prevSnap === 'undefined' && params.cssMode) {\n    snapGrid.forEach(function (snap) {\n      if (!prevSnap && normalizedTranslate >= snap) prevSnap = snap;\n    });\n  }\n\n  var prevIndex;\n\n  if (typeof prevSnap !== 'undefined') {\n    prevIndex = slidesGrid.indexOf(prevSnap);\n    if (prevIndex < 0) prevIndex = swiper.activeIndex - 1;\n  }\n\n  return swiper.slideTo(prevIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideReset(speed, runCallbacks, internal) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  var swiper = this;\n  return swiper.slideTo(swiper.activeIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideToClosest(speed, runCallbacks, internal, threshold) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  if (threshold === void 0) {\n    threshold = 0.5;\n  }\n\n  var swiper = this;\n  var index = swiper.activeIndex;\n  var skip = Math.min(swiper.params.slidesPerGroupSkip, index);\n  var snapIndex = skip + Math.floor((index - skip) / swiper.params.slidesPerGroup);\n  var translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n\n  if (translate >= swiper.snapGrid[snapIndex]) {\n    // The current translate is on or after the current snap index, so the choice\n    // is between the current index and the one after it.\n    var currentSnap = swiper.snapGrid[snapIndex];\n    var nextSnap = swiper.snapGrid[snapIndex + 1];\n\n    if (translate - currentSnap > (nextSnap - currentSnap) * threshold) {\n      index += swiper.params.slidesPerGroup;\n    }\n  } else {\n    // The current translate is before the current snap index, so the choice\n    // is between the current index and the one before it.\n    var prevSnap = swiper.snapGrid[snapIndex - 1];\n    var _currentSnap = swiper.snapGrid[snapIndex];\n\n    if (translate - prevSnap <= (_currentSnap - prevSnap) * threshold) {\n      index -= swiper.params.slidesPerGroup;\n    }\n  }\n\n  index = Math.max(index, 0);\n  index = Math.min(index, swiper.slidesGrid.length - 1);\n  return swiper.slideTo(index, speed, runCallbacks, internal);\n}","import $ from '../../../utils/dom';\nimport { nextTick } from '../../../utils/utils';\nexport default function slideToClickedSlide() {\n  var swiper = this;\n  var params = swiper.params,\n      $wrapperEl = swiper.$wrapperEl;\n  var slidesPerView = params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : params.slidesPerView;\n  var slideToIndex = swiper.clickedIndex;\n  var realIndex;\n\n  if (params.loop) {\n    if (swiper.animating) return;\n    realIndex = parseInt($(swiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n\n    if (params.centeredSlides) {\n      if (slideToIndex < swiper.loopedSlides - slidesPerView / 2 || slideToIndex > swiper.slides.length - swiper.loopedSlides + slidesPerView / 2) {\n        swiper.loopFix();\n        slideToIndex = $wrapperEl.children(\".\" + params.slideClass + \"[data-swiper-slide-index=\\\"\" + realIndex + \"\\\"]:not(.\" + params.slideDuplicateClass + \")\").eq(0).index();\n        nextTick(function () {\n          swiper.slideTo(slideToIndex);\n        });\n      } else {\n        swiper.slideTo(slideToIndex);\n      }\n    } else if (slideToIndex > swiper.slides.length - slidesPerView) {\n      swiper.loopFix();\n      slideToIndex = $wrapperEl.children(\".\" + params.slideClass + \"[data-swiper-slide-index=\\\"\" + realIndex + \"\\\"]:not(.\" + params.slideDuplicateClass + \")\").eq(0).index();\n      nextTick(function () {\n        swiper.slideTo(slideToIndex);\n      });\n    } else {\n      swiper.slideTo(slideToIndex);\n    }\n  } else {\n    swiper.slideTo(slideToIndex);\n  }\n}","import slideTo from './slideTo';\nimport slideToLoop from './slideToLoop';\nimport slideNext from './slideNext';\nimport slidePrev from './slidePrev';\nimport slideReset from './slideReset';\nimport slideToClosest from './slideToClosest';\nimport slideToClickedSlide from './slideToClickedSlide';\nexport default {\n  slideTo: slideTo,\n  slideToLoop: slideToLoop,\n  slideNext: slideNext,\n  slidePrev: slidePrev,\n  slideReset: slideReset,\n  slideToClosest: slideToClosest,\n  slideToClickedSlide: slideToClickedSlide\n};","import { getDocument } from 'ssr-window';\nimport $ from '../../../utils/dom';\nexport default function loopCreate() {\n  var swiper = this;\n  var document = getDocument();\n  var params = swiper.params,\n      $wrapperEl = swiper.$wrapperEl; // Remove duplicated slides\n\n  $wrapperEl.children(\".\" + params.slideClass + \".\" + params.slideDuplicateClass).remove();\n  var slides = $wrapperEl.children(\".\" + params.slideClass);\n\n  if (params.loopFillGroupWithBlank) {\n    var blankSlidesNum = params.slidesPerGroup - slides.length % params.slidesPerGroup;\n\n    if (blankSlidesNum !== params.slidesPerGroup) {\n      for (var i = 0; i < blankSlidesNum; i += 1) {\n        var blankNode = $(document.createElement('div')).addClass(params.slideClass + \" \" + params.slideBlankClass);\n        $wrapperEl.append(blankNode);\n      }\n\n      slides = $wrapperEl.children(\".\" + params.slideClass);\n    }\n  }\n\n  if (params.slidesPerView === 'auto' && !params.loopedSlides) params.loopedSlides = slides.length;\n  swiper.loopedSlides = Math.ceil(parseFloat(params.loopedSlides || params.slidesPerView, 10));\n  swiper.loopedSlides += params.loopAdditionalSlides;\n\n  if (swiper.loopedSlides > slides.length) {\n    swiper.loopedSlides = slides.length;\n  }\n\n  var prependSlides = [];\n  var appendSlides = [];\n  slides.each(function (el, index) {\n    var slide = $(el);\n\n    if (index < swiper.loopedSlides) {\n      appendSlides.push(el);\n    }\n\n    if (index < slides.length && index >= slides.length - swiper.loopedSlides) {\n      prependSlides.push(el);\n    }\n\n    slide.attr('data-swiper-slide-index', index);\n  });\n\n  for (var _i = 0; _i < appendSlides.length; _i += 1) {\n    $wrapperEl.append($(appendSlides[_i].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n\n  for (var _i2 = prependSlides.length - 1; _i2 >= 0; _i2 -= 1) {\n    $wrapperEl.prepend($(prependSlides[_i2].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n}","export default function loopFix() {\n  var swiper = this;\n  swiper.emit('beforeLoopFix');\n  var activeIndex = swiper.activeIndex,\n      slides = swiper.slides,\n      loopedSlides = swiper.loopedSlides,\n      allowSlidePrev = swiper.allowSlidePrev,\n      allowSlideNext = swiper.allowSlideNext,\n      snapGrid = swiper.snapGrid,\n      rtl = swiper.rtlTranslate;\n  var newIndex;\n  swiper.allowSlidePrev = true;\n  swiper.allowSlideNext = true;\n  var snapTranslate = -snapGrid[activeIndex];\n  var diff = snapTranslate - swiper.getTranslate(); // Fix For Negative Oversliding\n\n  if (activeIndex < loopedSlides) {\n    newIndex = slides.length - loopedSlides * 3 + activeIndex;\n    newIndex += loopedSlides;\n    var slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n    if (slideChanged && diff !== 0) {\n      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n    }\n  } else if (activeIndex >= slides.length - loopedSlides) {\n    // Fix For Positive Oversliding\n    newIndex = -slides.length + activeIndex + loopedSlides;\n    newIndex += loopedSlides;\n\n    var _slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n    if (_slideChanged && diff !== 0) {\n      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n    }\n  }\n\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n  swiper.emit('loopFix');\n}","export default function loopDestroy() {\n  var swiper = this;\n  var $wrapperEl = swiper.$wrapperEl,\n      params = swiper.params,\n      slides = swiper.slides;\n  $wrapperEl.children(\".\" + params.slideClass + \".\" + params.slideDuplicateClass + \",.\" + params.slideClass + \".\" + params.slideBlankClass).remove();\n  slides.removeAttr('data-swiper-slide-index');\n}","import loopCreate from './loopCreate';\nimport loopFix from './loopFix';\nimport loopDestroy from './loopDestroy';\nexport default {\n  loopCreate: loopCreate,\n  loopFix: loopFix,\n  loopDestroy: loopDestroy\n};","export default function setGrabCursor(moving) {\n  var swiper = this;\n  if (swiper.support.touch || !swiper.params.simulateTouch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) return;\n  var el = swiper.el;\n  el.style.cursor = 'move';\n  el.style.cursor = moving ? '-webkit-grabbing' : '-webkit-grab';\n  el.style.cursor = moving ? '-moz-grabbin' : '-moz-grab';\n  el.style.cursor = moving ? 'grabbing' : 'grab';\n}","export default function unsetGrabCursor() {\n  var swiper = this;\n\n  if (swiper.support.touch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) {\n    return;\n  }\n\n  swiper.el.style.cursor = '';\n}","import setGrabCursor from './setGrabCursor';\nimport unsetGrabCursor from './unsetGrabCursor';\nexport default {\n  setGrabCursor: setGrabCursor,\n  unsetGrabCursor: unsetGrabCursor\n};","export default function appendSlide(slides) {\n  var swiper = this;\n  var $wrapperEl = swiper.$wrapperEl,\n      params = swiper.params;\n\n  if (params.loop) {\n    swiper.loopDestroy();\n  }\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (var i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.append(slides[i]);\n    }\n  } else {\n    $wrapperEl.append(slides);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!(params.observer && swiper.support.observer)) {\n    swiper.update();\n  }\n}","export default function prependSlide(slides) {\n  var swiper = this;\n  var params = swiper.params,\n      $wrapperEl = swiper.$wrapperEl,\n      activeIndex = swiper.activeIndex;\n\n  if (params.loop) {\n    swiper.loopDestroy();\n  }\n\n  var newActiveIndex = activeIndex + 1;\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (var i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.prepend(slides[i]);\n    }\n\n    newActiveIndex = activeIndex + slides.length;\n  } else {\n    $wrapperEl.prepend(slides);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!(params.observer && swiper.support.observer)) {\n    swiper.update();\n  }\n\n  swiper.slideTo(newActiveIndex, 0, false);\n}","export default function addSlide(index, slides) {\n  var swiper = this;\n  var $wrapperEl = swiper.$wrapperEl,\n      params = swiper.params,\n      activeIndex = swiper.activeIndex;\n  var activeIndexBuffer = activeIndex;\n\n  if (params.loop) {\n    activeIndexBuffer -= swiper.loopedSlides;\n    swiper.loopDestroy();\n    swiper.slides = $wrapperEl.children(\".\" + params.slideClass);\n  }\n\n  var baseLength = swiper.slides.length;\n\n  if (index <= 0) {\n    swiper.prependSlide(slides);\n    return;\n  }\n\n  if (index >= baseLength) {\n    swiper.appendSlide(slides);\n    return;\n  }\n\n  var newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + 1 : activeIndexBuffer;\n  var slidesBuffer = [];\n\n  for (var i = baseLength - 1; i >= index; i -= 1) {\n    var currentSlide = swiper.slides.eq(i);\n    currentSlide.remove();\n    slidesBuffer.unshift(currentSlide);\n  }\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (var _i = 0; _i < slides.length; _i += 1) {\n      if (slides[_i]) $wrapperEl.append(slides[_i]);\n    }\n\n    newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + slides.length : activeIndexBuffer;\n  } else {\n    $wrapperEl.append(slides);\n  }\n\n  for (var _i2 = 0; _i2 < slidesBuffer.length; _i2 += 1) {\n    $wrapperEl.append(slidesBuffer[_i2]);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!(params.observer && swiper.support.observer)) {\n    swiper.update();\n  }\n\n  if (params.loop) {\n    swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n  } else {\n    swiper.slideTo(newActiveIndex, 0, false);\n  }\n}","export default function removeSlide(slidesIndexes) {\n  var swiper = this;\n  var params = swiper.params,\n      $wrapperEl = swiper.$wrapperEl,\n      activeIndex = swiper.activeIndex;\n  var activeIndexBuffer = activeIndex;\n\n  if (params.loop) {\n    activeIndexBuffer -= swiper.loopedSlides;\n    swiper.loopDestroy();\n    swiper.slides = $wrapperEl.children(\".\" + params.slideClass);\n  }\n\n  var newActiveIndex = activeIndexBuffer;\n  var indexToRemove;\n\n  if (typeof slidesIndexes === 'object' && 'length' in slidesIndexes) {\n    for (var i = 0; i < slidesIndexes.length; i += 1) {\n      indexToRemove = slidesIndexes[i];\n      if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n      if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n    }\n\n    newActiveIndex = Math.max(newActiveIndex, 0);\n  } else {\n    indexToRemove = slidesIndexes;\n    if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n    if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n    newActiveIndex = Math.max(newActiveIndex, 0);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!(params.observer && swiper.support.observer)) {\n    swiper.update();\n  }\n\n  if (params.loop) {\n    swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n  } else {\n    swiper.slideTo(newActiveIndex, 0, false);\n  }\n}","export default function removeAllSlides() {\n  var swiper = this;\n  var slidesIndexes = [];\n\n  for (var i = 0; i < swiper.slides.length; i += 1) {\n    slidesIndexes.push(i);\n  }\n\n  swiper.removeSlide(slidesIndexes);\n}","import appendSlide from './appendSlide';\nimport prependSlide from './prependSlide';\nimport addSlide from './addSlide';\nimport removeSlide from './removeSlide';\nimport removeAllSlides from './removeAllSlides';\nexport default {\n  appendSlide: appendSlide,\n  prependSlide: prependSlide,\n  addSlide: addSlide,\n  removeSlide: removeSlide,\n  removeAllSlides: removeAllSlides\n};","import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../../utils/dom';\nimport { extend, now } from '../../../utils/utils'; // Modified from https://stackoverflow.com/questions/54520554/custom-element-getrootnode-closest-function-crossing-multiple-parent-shadowd\n\nfunction closestElement(selector, base) {\n  if (base === void 0) {\n    base = this;\n  }\n\n  function __closestFrom(el) {\n    if (!el || el === getDocument() || el === getWindow()) return null;\n    if (el.assignedSlot) el = el.assignedSlot;\n    var found = el.closest(selector);\n    return found || __closestFrom(el.getRootNode().host);\n  }\n\n  return __closestFrom(base);\n}\n\nexport default function onTouchStart(event) {\n  var swiper = this;\n  var document = getDocument();\n  var window = getWindow();\n  var data = swiper.touchEventsData;\n  var params = swiper.params,\n      touches = swiper.touches,\n      enabled = swiper.enabled;\n  if (!enabled) return;\n\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return;\n  }\n\n  var e = event;\n  if (e.originalEvent) e = e.originalEvent;\n  var $targetEl = $(e.target);\n\n  if (params.touchEventsTarget === 'wrapper') {\n    if (!$targetEl.closest(swiper.wrapperEl).length) return;\n  }\n\n  data.isTouchEvent = e.type === 'touchstart';\n  if (!data.isTouchEvent && 'which' in e && e.which === 3) return;\n  if (!data.isTouchEvent && 'button' in e && e.button > 0) return;\n  if (data.isTouched && data.isMoved) return; // change target el for shadow root component\n\n  var swipingClassHasValue = !!params.noSwipingClass && params.noSwipingClass !== '';\n\n  if (swipingClassHasValue && e.target && e.target.shadowRoot && event.path && event.path[0]) {\n    $targetEl = $(event.path[0]);\n  }\n\n  var noSwipingSelector = params.noSwipingSelector ? params.noSwipingSelector : \".\" + params.noSwipingClass;\n  var isTargetShadow = !!(e.target && e.target.shadowRoot); // use closestElement for shadow root element to get the actual closest for nested shadow root element\n\n  if (params.noSwiping && (isTargetShadow ? closestElement(noSwipingSelector, e.target) : $targetEl.closest(noSwipingSelector)[0])) {\n    swiper.allowClick = true;\n    return;\n  }\n\n  if (params.swipeHandler) {\n    if (!$targetEl.closest(params.swipeHandler)[0]) return;\n  }\n\n  touches.currentX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n  touches.currentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  var startX = touches.currentX;\n  var startY = touches.currentY; // Do NOT start if iOS edge swipe is detected. Otherwise iOS app cannot swipe-to-go-back anymore\n\n  var edgeSwipeDetection = params.edgeSwipeDetection || params.iOSEdgeSwipeDetection;\n  var edgeSwipeThreshold = params.edgeSwipeThreshold || params.iOSEdgeSwipeThreshold;\n\n  if (edgeSwipeDetection && (startX <= edgeSwipeThreshold || startX >= window.innerWidth - edgeSwipeThreshold)) {\n    if (edgeSwipeDetection === 'prevent') {\n      event.preventDefault();\n    } else {\n      return;\n    }\n  }\n\n  extend(data, {\n    isTouched: true,\n    isMoved: false,\n    allowTouchCallbacks: true,\n    isScrolling: undefined,\n    startMoving: undefined\n  });\n  touches.startX = startX;\n  touches.startY = startY;\n  data.touchStartTime = now();\n  swiper.allowClick = true;\n  swiper.updateSize();\n  swiper.swipeDirection = undefined;\n  if (params.threshold > 0) data.allowThresholdMove = false;\n\n  if (e.type !== 'touchstart') {\n    var preventDefault = true;\n    if ($targetEl.is(data.focusableElements)) preventDefault = false;\n\n    if (document.activeElement && $(document.activeElement).is(data.focusableElements) && document.activeElement !== $targetEl[0]) {\n      document.activeElement.blur();\n    }\n\n    var shouldPreventDefault = preventDefault && swiper.allowTouchMove && params.touchStartPreventDefault;\n\n    if ((params.touchStartForcePreventDefault || shouldPreventDefault) && !$targetEl[0].isContentEditable) {\n      e.preventDefault();\n    }\n  }\n\n  swiper.emit('touchStart', e);\n}","import { getDocument } from 'ssr-window';\nimport $ from '../../../utils/dom';\nimport { extend, now } from '../../../utils/utils';\nexport default function onTouchMove(event) {\n  var document = getDocument();\n  var swiper = this;\n  var data = swiper.touchEventsData;\n  var params = swiper.params,\n      touches = swiper.touches,\n      rtl = swiper.rtlTranslate,\n      enabled = swiper.enabled;\n  if (!enabled) return;\n  var e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (!data.isTouched) {\n    if (data.startMoving && data.isScrolling) {\n      swiper.emit('touchMoveOpposite', e);\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && e.type !== 'touchmove') return;\n  var targetTouch = e.type === 'touchmove' && e.targetTouches && (e.targetTouches[0] || e.changedTouches[0]);\n  var pageX = e.type === 'touchmove' ? targetTouch.pageX : e.pageX;\n  var pageY = e.type === 'touchmove' ? targetTouch.pageY : e.pageY;\n\n  if (e.preventedByNestedSwiper) {\n    touches.startX = pageX;\n    touches.startY = pageY;\n    return;\n  }\n\n  if (!swiper.allowTouchMove) {\n    // isMoved = true;\n    swiper.allowClick = false;\n\n    if (data.isTouched) {\n      extend(touches, {\n        startX: pageX,\n        startY: pageY,\n        currentX: pageX,\n        currentY: pageY\n      });\n      data.touchStartTime = now();\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && params.touchReleaseOnEdges && !params.loop) {\n    if (swiper.isVertical()) {\n      // Vertical\n      if (pageY < touches.startY && swiper.translate <= swiper.maxTranslate() || pageY > touches.startY && swiper.translate >= swiper.minTranslate()) {\n        data.isTouched = false;\n        data.isMoved = false;\n        return;\n      }\n    } else if (pageX < touches.startX && swiper.translate <= swiper.maxTranslate() || pageX > touches.startX && swiper.translate >= swiper.minTranslate()) {\n      return;\n    }\n  }\n\n  if (data.isTouchEvent && document.activeElement) {\n    if (e.target === document.activeElement && $(e.target).is(data.focusableElements)) {\n      data.isMoved = true;\n      swiper.allowClick = false;\n      return;\n    }\n  }\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchMove', e);\n  }\n\n  if (e.targetTouches && e.targetTouches.length > 1) return;\n  touches.currentX = pageX;\n  touches.currentY = pageY;\n  var diffX = touches.currentX - touches.startX;\n  var diffY = touches.currentY - touches.startY;\n  if (swiper.params.threshold && Math.sqrt(Math.pow(diffX, 2) + Math.pow(diffY, 2)) < swiper.params.threshold) return;\n\n  if (typeof data.isScrolling === 'undefined') {\n    var touchAngle;\n\n    if (swiper.isHorizontal() && touches.currentY === touches.startY || swiper.isVertical() && touches.currentX === touches.startX) {\n      data.isScrolling = false;\n    } else {\n      // eslint-disable-next-line\n      if (diffX * diffX + diffY * diffY >= 25) {\n        touchAngle = Math.atan2(Math.abs(diffY), Math.abs(diffX)) * 180 / Math.PI;\n        data.isScrolling = swiper.isHorizontal() ? touchAngle > params.touchAngle : 90 - touchAngle > params.touchAngle;\n      }\n    }\n  }\n\n  if (data.isScrolling) {\n    swiper.emit('touchMoveOpposite', e);\n  }\n\n  if (typeof data.startMoving === 'undefined') {\n    if (touches.currentX !== touches.startX || touches.currentY !== touches.startY) {\n      data.startMoving = true;\n    }\n  }\n\n  if (data.isScrolling) {\n    data.isTouched = false;\n    return;\n  }\n\n  if (!data.startMoving) {\n    return;\n  }\n\n  swiper.allowClick = false;\n\n  if (!params.cssMode && e.cancelable) {\n    e.preventDefault();\n  }\n\n  if (params.touchMoveStopPropagation && !params.nested) {\n    e.stopPropagation();\n  }\n\n  if (!data.isMoved) {\n    if (params.loop) {\n      swiper.loopFix();\n    }\n\n    data.startTranslate = swiper.getTranslate();\n    swiper.setTransition(0);\n\n    if (swiper.animating) {\n      swiper.$wrapperEl.trigger('webkitTransitionEnd transitionend');\n    }\n\n    data.allowMomentumBounce = false; // Grab Cursor\n\n    if (params.grabCursor && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n      swiper.setGrabCursor(true);\n    }\n\n    swiper.emit('sliderFirstMove', e);\n  }\n\n  swiper.emit('sliderMove', e);\n  data.isMoved = true;\n  var diff = swiper.isHorizontal() ? diffX : diffY;\n  touches.diff = diff;\n  diff *= params.touchRatio;\n  if (rtl) diff = -diff;\n  swiper.swipeDirection = diff > 0 ? 'prev' : 'next';\n  data.currentTranslate = diff + data.startTranslate;\n  var disableParentSwiper = true;\n  var resistanceRatio = params.resistanceRatio;\n\n  if (params.touchReleaseOnEdges) {\n    resistanceRatio = 0;\n  }\n\n  if (diff > 0 && data.currentTranslate > swiper.minTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.minTranslate() - 1 + Math.pow(-swiper.minTranslate() + data.startTranslate + diff, resistanceRatio);\n  } else if (diff < 0 && data.currentTranslate < swiper.maxTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.maxTranslate() + 1 - Math.pow(swiper.maxTranslate() - data.startTranslate - diff, resistanceRatio);\n  }\n\n  if (disableParentSwiper) {\n    e.preventedByNestedSwiper = true;\n  } // Directions locks\n\n\n  if (!swiper.allowSlideNext && swiper.swipeDirection === 'next' && data.currentTranslate < data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && swiper.swipeDirection === 'prev' && data.currentTranslate > data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && !swiper.allowSlideNext) {\n    data.currentTranslate = data.startTranslate;\n  } // Threshold\n\n\n  if (params.threshold > 0) {\n    if (Math.abs(diff) > params.threshold || data.allowThresholdMove) {\n      if (!data.allowThresholdMove) {\n        data.allowThresholdMove = true;\n        touches.startX = touches.currentX;\n        touches.startY = touches.currentY;\n        data.currentTranslate = data.startTranslate;\n        touches.diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches.startY;\n        return;\n      }\n    } else {\n      data.currentTranslate = data.startTranslate;\n      return;\n    }\n  }\n\n  if (!params.followFinger || params.cssMode) return; // Update active index in free mode\n\n  if (params.freeMode || params.watchSlidesProgress || params.watchSlidesVisibility) {\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  if (params.freeMode) {\n    // Velocity\n    if (data.velocities.length === 0) {\n      data.velocities.push({\n        position: touches[swiper.isHorizontal() ? 'startX' : 'startY'],\n        time: data.touchStartTime\n      });\n    }\n\n    data.velocities.push({\n      position: touches[swiper.isHorizontal() ? 'currentX' : 'currentY'],\n      time: now()\n    });\n  } // Update progress\n\n\n  swiper.updateProgress(data.currentTranslate); // Update translate\n\n  swiper.setTranslate(data.currentTranslate);\n}","import { now, nextTick } from '../../../utils/utils';\nexport default function onTouchEnd(event) {\n  var swiper = this;\n  var data = swiper.touchEventsData;\n  var params = swiper.params,\n      touches = swiper.touches,\n      rtl = swiper.rtlTranslate,\n      $wrapperEl = swiper.$wrapperEl,\n      slidesGrid = swiper.slidesGrid,\n      snapGrid = swiper.snapGrid,\n      enabled = swiper.enabled;\n  if (!enabled) return;\n  var e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchEnd', e);\n  }\n\n  data.allowTouchCallbacks = false;\n\n  if (!data.isTouched) {\n    if (data.isMoved && params.grabCursor) {\n      swiper.setGrabCursor(false);\n    }\n\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  } // Return Grab Cursor\n\n\n  if (params.grabCursor && data.isMoved && data.isTouched && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n    swiper.setGrabCursor(false);\n  } // Time diff\n\n\n  var touchEndTime = now();\n  var timeDiff = touchEndTime - data.touchStartTime; // Tap, doubleTap, Click\n\n  if (swiper.allowClick) {\n    swiper.updateClickedSlide(e);\n    swiper.emit('tap click', e);\n\n    if (timeDiff < 300 && touchEndTime - data.lastClickTime < 300) {\n      swiper.emit('doubleTap doubleClick', e);\n    }\n  }\n\n  data.lastClickTime = now();\n  nextTick(function () {\n    if (!swiper.destroyed) swiper.allowClick = true;\n  });\n\n  if (!data.isTouched || !data.isMoved || !swiper.swipeDirection || touches.diff === 0 || data.currentTranslate === data.startTranslate) {\n    data.isTouched = false;\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  }\n\n  data.isTouched = false;\n  data.isMoved = false;\n  data.startMoving = false;\n  var currentPos;\n\n  if (params.followFinger) {\n    currentPos = rtl ? swiper.translate : -swiper.translate;\n  } else {\n    currentPos = -data.currentTranslate;\n  }\n\n  if (params.cssMode) {\n    return;\n  }\n\n  if (params.freeMode) {\n    if (currentPos < -swiper.minTranslate()) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    if (currentPos > -swiper.maxTranslate()) {\n      if (swiper.slides.length < snapGrid.length) {\n        swiper.slideTo(snapGrid.length - 1);\n      } else {\n        swiper.slideTo(swiper.slides.length - 1);\n      }\n\n      return;\n    }\n\n    if (params.freeModeMomentum) {\n      if (data.velocities.length > 1) {\n        var lastMoveEvent = data.velocities.pop();\n        var velocityEvent = data.velocities.pop();\n        var distance = lastMoveEvent.position - velocityEvent.position;\n        var time = lastMoveEvent.time - velocityEvent.time;\n        swiper.velocity = distance / time;\n        swiper.velocity /= 2;\n\n        if (Math.abs(swiper.velocity) < params.freeModeMinimumVelocity) {\n          swiper.velocity = 0;\n        } // this implies that the user stopped moving a finger then released.\n        // There would be no events with distance zero, so the last event is stale.\n\n\n        if (time > 150 || now() - lastMoveEvent.time > 300) {\n          swiper.velocity = 0;\n        }\n      } else {\n        swiper.velocity = 0;\n      }\n\n      swiper.velocity *= params.freeModeMomentumVelocityRatio;\n      data.velocities.length = 0;\n      var momentumDuration = 1000 * params.freeModeMomentumRatio;\n      var momentumDistance = swiper.velocity * momentumDuration;\n      var newPosition = swiper.translate + momentumDistance;\n      if (rtl) newPosition = -newPosition;\n      var doBounce = false;\n      var afterBouncePosition;\n      var bounceAmount = Math.abs(swiper.velocity) * 20 * params.freeModeMomentumBounceRatio;\n      var needsLoopFix;\n\n      if (newPosition < swiper.maxTranslate()) {\n        if (params.freeModeMomentumBounce) {\n          if (newPosition + swiper.maxTranslate() < -bounceAmount) {\n            newPosition = swiper.maxTranslate() - bounceAmount;\n          }\n\n          afterBouncePosition = swiper.maxTranslate();\n          doBounce = true;\n          data.allowMomentumBounce = true;\n        } else {\n          newPosition = swiper.maxTranslate();\n        }\n\n        if (params.loop && params.centeredSlides) needsLoopFix = true;\n      } else if (newPosition > swiper.minTranslate()) {\n        if (params.freeModeMomentumBounce) {\n          if (newPosition - swiper.minTranslate() > bounceAmount) {\n            newPosition = swiper.minTranslate() + bounceAmount;\n          }\n\n          afterBouncePosition = swiper.minTranslate();\n          doBounce = true;\n          data.allowMomentumBounce = true;\n        } else {\n          newPosition = swiper.minTranslate();\n        }\n\n        if (params.loop && params.centeredSlides) needsLoopFix = true;\n      } else if (params.freeModeSticky) {\n        var nextSlide;\n\n        for (var j = 0; j < snapGrid.length; j += 1) {\n          if (snapGrid[j] > -newPosition) {\n            nextSlide = j;\n            break;\n          }\n        }\n\n        if (Math.abs(snapGrid[nextSlide] - newPosition) < Math.abs(snapGrid[nextSlide - 1] - newPosition) || swiper.swipeDirection === 'next') {\n          newPosition = snapGrid[nextSlide];\n        } else {\n          newPosition = snapGrid[nextSlide - 1];\n        }\n\n        newPosition = -newPosition;\n      }\n\n      if (needsLoopFix) {\n        swiper.once('transitionEnd', function () {\n          swiper.loopFix();\n        });\n      } // Fix duration\n\n\n      if (swiper.velocity !== 0) {\n        if (rtl) {\n          momentumDuration = Math.abs((-newPosition - swiper.translate) / swiper.velocity);\n        } else {\n          momentumDuration = Math.abs((newPosition - swiper.translate) / swiper.velocity);\n        }\n\n        if (params.freeModeSticky) {\n          // If freeModeSticky is active and the user ends a swipe with a slow-velocity\n          // event, then durations can be 20+ seconds to slide one (or zero!) slides.\n          // It's easy to see this when simulating touch with mouse events. To fix this,\n          // limit single-slide swipes to the default slide duration. This also has the\n          // nice side effect of matching slide speed if the user stopped moving before\n          // lifting finger or mouse vs. moving slowly before lifting the finger/mouse.\n          // For faster swipes, also apply limits (albeit higher ones).\n          var moveDistance = Math.abs((rtl ? -newPosition : newPosition) - swiper.translate);\n          var currentSlideSize = swiper.slidesSizesGrid[swiper.activeIndex];\n\n          if (moveDistance < currentSlideSize) {\n            momentumDuration = params.speed;\n          } else if (moveDistance < 2 * currentSlideSize) {\n            momentumDuration = params.speed * 1.5;\n          } else {\n            momentumDuration = params.speed * 2.5;\n          }\n        }\n      } else if (params.freeModeSticky) {\n        swiper.slideToClosest();\n        return;\n      }\n\n      if (params.freeModeMomentumBounce && doBounce) {\n        swiper.updateProgress(afterBouncePosition);\n        swiper.setTransition(momentumDuration);\n        swiper.setTranslate(newPosition);\n        swiper.transitionStart(true, swiper.swipeDirection);\n        swiper.animating = true;\n        $wrapperEl.transitionEnd(function () {\n          if (!swiper || swiper.destroyed || !data.allowMomentumBounce) return;\n          swiper.emit('momentumBounce');\n          swiper.setTransition(params.speed);\n          setTimeout(function () {\n            swiper.setTranslate(afterBouncePosition);\n            $wrapperEl.transitionEnd(function () {\n              if (!swiper || swiper.destroyed) return;\n              swiper.transitionEnd();\n            });\n          }, 0);\n        });\n      } else if (swiper.velocity) {\n        swiper.updateProgress(newPosition);\n        swiper.setTransition(momentumDuration);\n        swiper.setTranslate(newPosition);\n        swiper.transitionStart(true, swiper.swipeDirection);\n\n        if (!swiper.animating) {\n          swiper.animating = true;\n          $wrapperEl.transitionEnd(function () {\n            if (!swiper || swiper.destroyed) return;\n            swiper.transitionEnd();\n          });\n        }\n      } else {\n        swiper.emit('_freeModeNoMomentumRelease');\n        swiper.updateProgress(newPosition);\n      }\n\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    } else if (params.freeModeSticky) {\n      swiper.slideToClosest();\n      return;\n    } else if (params.freeMode) {\n      swiper.emit('_freeModeNoMomentumRelease');\n    }\n\n    if (!params.freeModeMomentum || timeDiff >= params.longSwipesMs) {\n      swiper.updateProgress();\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n\n    return;\n  } // Find current slide\n\n\n  var stopIndex = 0;\n  var groupSize = swiper.slidesSizesGrid[0];\n\n  for (var i = 0; i < slidesGrid.length; i += i < params.slidesPerGroupSkip ? 1 : params.slidesPerGroup) {\n    var _increment = i < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n    if (typeof slidesGrid[i + _increment] !== 'undefined') {\n      if (currentPos >= slidesGrid[i] && currentPos < slidesGrid[i + _increment]) {\n        stopIndex = i;\n        groupSize = slidesGrid[i + _increment] - slidesGrid[i];\n      }\n    } else if (currentPos >= slidesGrid[i]) {\n      stopIndex = i;\n      groupSize = slidesGrid[slidesGrid.length - 1] - slidesGrid[slidesGrid.length - 2];\n    }\n  } // Find current slide size\n\n\n  var ratio = (currentPos - slidesGrid[stopIndex]) / groupSize;\n  var increment = stopIndex < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n  if (timeDiff > params.longSwipesMs) {\n    // Long touches\n    if (!params.longSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    if (swiper.swipeDirection === 'next') {\n      if (ratio >= params.longSwipesRatio) swiper.slideTo(stopIndex + increment);else swiper.slideTo(stopIndex);\n    }\n\n    if (swiper.swipeDirection === 'prev') {\n      if (ratio > 1 - params.longSwipesRatio) swiper.slideTo(stopIndex + increment);else swiper.slideTo(stopIndex);\n    }\n  } else {\n    // Short swipes\n    if (!params.shortSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    var isNavButtonTarget = swiper.navigation && (e.target === swiper.navigation.nextEl || e.target === swiper.navigation.prevEl);\n\n    if (!isNavButtonTarget) {\n      if (swiper.swipeDirection === 'next') {\n        swiper.slideTo(stopIndex + increment);\n      }\n\n      if (swiper.swipeDirection === 'prev') {\n        swiper.slideTo(stopIndex);\n      }\n    } else if (e.target === swiper.navigation.nextEl) {\n      swiper.slideTo(stopIndex + increment);\n    } else {\n      swiper.slideTo(stopIndex);\n    }\n  }\n}","export default function onResize() {\n  var swiper = this;\n  var params = swiper.params,\n      el = swiper.el;\n  if (el && el.offsetWidth === 0) return; // Breakpoints\n\n  if (params.breakpoints) {\n    swiper.setBreakpoint();\n  } // Save locks\n\n\n  var allowSlideNext = swiper.allowSlideNext,\n      allowSlidePrev = swiper.allowSlidePrev,\n      snapGrid = swiper.snapGrid; // Disable locks on resize\n\n  swiper.allowSlideNext = true;\n  swiper.allowSlidePrev = true;\n  swiper.updateSize();\n  swiper.updateSlides();\n  swiper.updateSlidesClasses();\n\n  if ((params.slidesPerView === 'auto' || params.slidesPerView > 1) && swiper.isEnd && !swiper.isBeginning && !swiper.params.centeredSlides) {\n    swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n  } else {\n    swiper.slideTo(swiper.activeIndex, 0, false, true);\n  }\n\n  if (swiper.autoplay && swiper.autoplay.running && swiper.autoplay.paused) {\n    swiper.autoplay.run();\n  } // Return locks after resize\n\n\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n\n  if (swiper.params.watchOverflow && snapGrid !== swiper.snapGrid) {\n    swiper.checkOverflow();\n  }\n}","export default function onClick(e) {\n  var swiper = this;\n  if (!swiper.enabled) return;\n\n  if (!swiper.allowClick) {\n    if (swiper.params.preventClicks) e.preventDefault();\n\n    if (swiper.params.preventClicksPropagation && swiper.animating) {\n      e.stopPropagation();\n      e.stopImmediatePropagation();\n    }\n  }\n}","export default function onScroll() {\n  var swiper = this;\n  var wrapperEl = swiper.wrapperEl,\n      rtlTranslate = swiper.rtlTranslate,\n      enabled = swiper.enabled;\n  if (!enabled) return;\n  swiper.previousTranslate = swiper.translate;\n\n  if (swiper.isHorizontal()) {\n    if (rtlTranslate) {\n      swiper.translate = wrapperEl.scrollWidth - wrapperEl.offsetWidth - wrapperEl.scrollLeft;\n    } else {\n      swiper.translate = -wrapperEl.scrollLeft;\n    }\n  } else {\n    swiper.translate = -wrapperEl.scrollTop;\n  } // eslint-disable-next-line\n\n\n  if (swiper.translate === -0) swiper.translate = 0;\n  swiper.updateActiveIndex();\n  swiper.updateSlidesClasses();\n  var newProgress;\n  var translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (swiper.translate - swiper.minTranslate()) / translatesDiff;\n  }\n\n  if (newProgress !== swiper.progress) {\n    swiper.updateProgress(rtlTranslate ? -swiper.translate : swiper.translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, false);\n}","import { getDocument } from 'ssr-window';\nimport onTouchStart from './onTouchStart';\nimport onTouchMove from './onTouchMove';\nimport onTouchEnd from './onTouchEnd';\nimport onResize from './onResize';\nimport onClick from './onClick';\nimport onScroll from './onScroll';\nvar dummyEventAttached = false;\n\nfunction dummyEventListener() {}\n\nfunction attachEvents() {\n  var swiper = this;\n  var document = getDocument();\n  var params = swiper.params,\n      touchEvents = swiper.touchEvents,\n      el = swiper.el,\n      wrapperEl = swiper.wrapperEl,\n      device = swiper.device,\n      support = swiper.support;\n  swiper.onTouchStart = onTouchStart.bind(swiper);\n  swiper.onTouchMove = onTouchMove.bind(swiper);\n  swiper.onTouchEnd = onTouchEnd.bind(swiper);\n\n  if (params.cssMode) {\n    swiper.onScroll = onScroll.bind(swiper);\n  }\n\n  swiper.onClick = onClick.bind(swiper);\n  var capture = !!params.nested; // Touch Events\n\n  if (!support.touch && support.pointerEvents) {\n    el.addEventListener(touchEvents.start, swiper.onTouchStart, false);\n    document.addEventListener(touchEvents.move, swiper.onTouchMove, capture);\n    document.addEventListener(touchEvents.end, swiper.onTouchEnd, false);\n  } else {\n    if (support.touch) {\n      var passiveListener = touchEvents.start === 'touchstart' && support.passiveListener && params.passiveListeners ? {\n        passive: true,\n        capture: false\n      } : false;\n      el.addEventListener(touchEvents.start, swiper.onTouchStart, passiveListener);\n      el.addEventListener(touchEvents.move, swiper.onTouchMove, support.passiveListener ? {\n        passive: false,\n        capture: capture\n      } : capture);\n      el.addEventListener(touchEvents.end, swiper.onTouchEnd, passiveListener);\n\n      if (touchEvents.cancel) {\n        el.addEventListener(touchEvents.cancel, swiper.onTouchEnd, passiveListener);\n      }\n\n      if (!dummyEventAttached) {\n        document.addEventListener('touchstart', dummyEventListener);\n        dummyEventAttached = true;\n      }\n    }\n\n    if (params.simulateTouch && !device.ios && !device.android || params.simulateTouch && !support.touch && device.ios) {\n      el.addEventListener('mousedown', swiper.onTouchStart, false);\n      document.addEventListener('mousemove', swiper.onTouchMove, capture);\n      document.addEventListener('mouseup', swiper.onTouchEnd, false);\n    }\n  } // Prevent Links Clicks\n\n\n  if (params.preventClicks || params.preventClicksPropagation) {\n    el.addEventListener('click', swiper.onClick, true);\n  }\n\n  if (params.cssMode) {\n    wrapperEl.addEventListener('scroll', swiper.onScroll);\n  } // Resize handler\n\n\n  if (params.updateOnWindowResize) {\n    swiper.on(device.ios || device.android ? 'resize orientationchange observerUpdate' : 'resize observerUpdate', onResize, true);\n  } else {\n    swiper.on('observerUpdate', onResize, true);\n  }\n}\n\nfunction detachEvents() {\n  var swiper = this;\n  var document = getDocument();\n  var params = swiper.params,\n      touchEvents = swiper.touchEvents,\n      el = swiper.el,\n      wrapperEl = swiper.wrapperEl,\n      device = swiper.device,\n      support = swiper.support;\n  var capture = !!params.nested; // Touch Events\n\n  if (!support.touch && support.pointerEvents) {\n    el.removeEventListener(touchEvents.start, swiper.onTouchStart, false);\n    document.removeEventListener(touchEvents.move, swiper.onTouchMove, capture);\n    document.removeEventListener(touchEvents.end, swiper.onTouchEnd, false);\n  } else {\n    if (support.touch) {\n      var passiveListener = touchEvents.start === 'onTouchStart' && support.passiveListener && params.passiveListeners ? {\n        passive: true,\n        capture: false\n      } : false;\n      el.removeEventListener(touchEvents.start, swiper.onTouchStart, passiveListener);\n      el.removeEventListener(touchEvents.move, swiper.onTouchMove, capture);\n      el.removeEventListener(touchEvents.end, swiper.onTouchEnd, passiveListener);\n\n      if (touchEvents.cancel) {\n        el.removeEventListener(touchEvents.cancel, swiper.onTouchEnd, passiveListener);\n      }\n    }\n\n    if (params.simulateTouch && !device.ios && !device.android || params.simulateTouch && !support.touch && device.ios) {\n      el.removeEventListener('mousedown', swiper.onTouchStart, false);\n      document.removeEventListener('mousemove', swiper.onTouchMove, capture);\n      document.removeEventListener('mouseup', swiper.onTouchEnd, false);\n    }\n  } // Prevent Links Clicks\n\n\n  if (params.preventClicks || params.preventClicksPropagation) {\n    el.removeEventListener('click', swiper.onClick, true);\n  }\n\n  if (params.cssMode) {\n    wrapperEl.removeEventListener('scroll', swiper.onScroll);\n  } // Resize handler\n\n\n  swiper.off(device.ios || device.android ? 'resize orientationchange observerUpdate' : 'resize observerUpdate', onResize);\n}\n\nexport default {\n  attachEvents: attachEvents,\n  detachEvents: detachEvents\n};","import { extend } from '../../../utils/utils';\nexport default function setBreakpoint() {\n  var swiper = this;\n  var activeIndex = swiper.activeIndex,\n      initialized = swiper.initialized,\n      _swiper$loopedSlides = swiper.loopedSlides,\n      loopedSlides = _swiper$loopedSlides === void 0 ? 0 : _swiper$loopedSlides,\n      params = swiper.params,\n      $el = swiper.$el;\n  var breakpoints = params.breakpoints;\n  if (!breakpoints || breakpoints && Object.keys(breakpoints).length === 0) return; // Get breakpoint for window width and update parameters\n\n  var breakpoint = swiper.getBreakpoint(breakpoints, swiper.params.breakpointsBase, swiper.el);\n  if (!breakpoint || swiper.currentBreakpoint === breakpoint) return;\n  var breakpointOnlyParams = breakpoint in breakpoints ? breakpoints[breakpoint] : undefined;\n\n  if (breakpointOnlyParams) {\n    ['slidesPerView', 'spaceBetween', 'slidesPerGroup', 'slidesPerGroupSkip', 'slidesPerColumn'].forEach(function (param) {\n      var paramValue = breakpointOnlyParams[param];\n      if (typeof paramValue === 'undefined') return;\n\n      if (param === 'slidesPerView' && (paramValue === 'AUTO' || paramValue === 'auto')) {\n        breakpointOnlyParams[param] = 'auto';\n      } else if (param === 'slidesPerView') {\n        breakpointOnlyParams[param] = parseFloat(paramValue);\n      } else {\n        breakpointOnlyParams[param] = parseInt(paramValue, 10);\n      }\n    });\n  }\n\n  var breakpointParams = breakpointOnlyParams || swiper.originalParams;\n  var wasMultiRow = params.slidesPerColumn > 1;\n  var isMultiRow = breakpointParams.slidesPerColumn > 1;\n  var wasEnabled = params.enabled;\n\n  if (wasMultiRow && !isMultiRow) {\n    $el.removeClass(params.containerModifierClass + \"multirow \" + params.containerModifierClass + \"multirow-column\");\n    swiper.emitContainerClasses();\n  } else if (!wasMultiRow && isMultiRow) {\n    $el.addClass(params.containerModifierClass + \"multirow\");\n\n    if (breakpointParams.slidesPerColumnFill && breakpointParams.slidesPerColumnFill === 'column' || !breakpointParams.slidesPerColumnFill && params.slidesPerColumnFill === 'column') {\n      $el.addClass(params.containerModifierClass + \"multirow-column\");\n    }\n\n    swiper.emitContainerClasses();\n  }\n\n  var directionChanged = breakpointParams.direction && breakpointParams.direction !== params.direction;\n  var needsReLoop = params.loop && (breakpointParams.slidesPerView !== params.slidesPerView || directionChanged);\n\n  if (directionChanged && initialized) {\n    swiper.changeDirection();\n  }\n\n  extend(swiper.params, breakpointParams);\n  var isEnabled = swiper.params.enabled;\n  extend(swiper, {\n    allowTouchMove: swiper.params.allowTouchMove,\n    allowSlideNext: swiper.params.allowSlideNext,\n    allowSlidePrev: swiper.params.allowSlidePrev\n  });\n\n  if (wasEnabled && !isEnabled) {\n    swiper.disable();\n  } else if (!wasEnabled && isEnabled) {\n    swiper.enable();\n  }\n\n  swiper.currentBreakpoint = breakpoint;\n  swiper.emit('_beforeBreakpoint', breakpointParams);\n\n  if (needsReLoop && initialized) {\n    swiper.loopDestroy();\n    swiper.loopCreate();\n    swiper.updateSlides();\n    swiper.slideTo(activeIndex - loopedSlides + swiper.loopedSlides, 0, false);\n  }\n\n  swiper.emit('breakpoint', breakpointParams);\n}","import { getWindow } from 'ssr-window';\nexport default function getBreakpoint(breakpoints, base, containerEl) {\n  if (base === void 0) {\n    base = 'window';\n  }\n\n  if (!breakpoints || base === 'container' && !containerEl) return undefined;\n  var breakpoint = false;\n  var window = getWindow();\n  var currentHeight = base === 'window' ? window.innerHeight : containerEl.clientHeight;\n  var points = Object.keys(breakpoints).map(function (point) {\n    if (typeof point === 'string' && point.indexOf('@') === 0) {\n      var minRatio = parseFloat(point.substr(1));\n      var value = currentHeight * minRatio;\n      return {\n        value: value,\n        point: point\n      };\n    }\n\n    return {\n      value: point,\n      point: point\n    };\n  });\n  points.sort(function (a, b) {\n    return parseInt(a.value, 10) - parseInt(b.value, 10);\n  });\n\n  for (var i = 0; i < points.length; i += 1) {\n    var _points$i = points[i],\n        point = _points$i.point,\n        value = _points$i.value;\n\n    if (base === 'window') {\n      if (window.matchMedia(\"(min-width: \" + value + \"px)\").matches) {\n        breakpoint = point;\n      }\n    } else if (value <= containerEl.clientWidth) {\n      breakpoint = point;\n    }\n  }\n\n  return breakpoint || 'max';\n}","import setBreakpoint from './setBreakpoint';\nimport getBreakpoint from './getBreakpoint';\nexport default {\n  setBreakpoint: setBreakpoint,\n  getBreakpoint: getBreakpoint\n};","function prepareClasses(entries, prefix) {\n  var resultClasses = [];\n  entries.forEach(function (item) {\n    if (typeof item === 'object') {\n      Object.keys(item).forEach(function (classNames) {\n        if (item[classNames]) {\n          resultClasses.push(prefix + classNames);\n        }\n      });\n    } else if (typeof item === 'string') {\n      resultClasses.push(prefix + item);\n    }\n  });\n  return resultClasses;\n}\n\nexport default function addClasses() {\n  var swiper = this;\n  var classNames = swiper.classNames,\n      params = swiper.params,\n      rtl = swiper.rtl,\n      $el = swiper.$el,\n      device = swiper.device,\n      support = swiper.support; // prettier-ignore\n\n  var suffixes = prepareClasses(['initialized', params.direction, {\n    'pointer-events': support.pointerEvents && !support.touch\n  }, {\n    'free-mode': params.freeMode\n  }, {\n    'autoheight': params.autoHeight\n  }, {\n    'rtl': rtl\n  }, {\n    'multirow': params.slidesPerColumn > 1\n  }, {\n    'multirow-column': params.slidesPerColumn > 1 && params.slidesPerColumnFill === 'column'\n  }, {\n    'android': device.android\n  }, {\n    'ios': device.ios\n  }, {\n    'css-mode': params.cssMode\n  }], params.containerModifierClass);\n  classNames.push.apply(classNames, suffixes);\n  $el.addClass([].concat(classNames).join(' '));\n  swiper.emitContainerClasses();\n}","export default function removeClasses() {\n  var swiper = this;\n  var $el = swiper.$el,\n      classNames = swiper.classNames;\n  $el.removeClass(classNames.join(' '));\n  swiper.emitContainerClasses();\n}","import addClasses from './addClasses';\nimport removeClasses from './removeClasses';\nexport default {\n  addClasses: addClasses,\n  removeClasses: removeClasses\n};","import { getWindow } from 'ssr-window';\nimport $ from '../../../utils/dom';\nexport default function loadImage(imageEl, src, srcset, sizes, checkForComplete, callback) {\n  var window = getWindow();\n  var image;\n\n  function onReady() {\n    if (callback) callback();\n  }\n\n  var isPicture = $(imageEl).parent('picture')[0];\n\n  if (!isPicture && (!imageEl.complete || !checkForComplete)) {\n    if (src) {\n      image = new window.Image();\n      image.onload = onReady;\n      image.onerror = onReady;\n\n      if (sizes) {\n        image.sizes = sizes;\n      }\n\n      if (srcset) {\n        image.srcset = srcset;\n      }\n\n      if (src) {\n        image.src = src;\n      }\n    } else {\n      onReady();\n    }\n  } else {\n    // image already loaded...\n    onReady();\n  }\n}","export default function preloadImages() {\n  var swiper = this;\n  swiper.imagesToLoad = swiper.$el.find('img');\n\n  function onReady() {\n    if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper.destroyed) return;\n    if (swiper.imagesLoaded !== undefined) swiper.imagesLoaded += 1;\n\n    if (swiper.imagesLoaded === swiper.imagesToLoad.length) {\n      if (swiper.params.updateOnImagesReady) swiper.update();\n      swiper.emit('imagesReady');\n    }\n  }\n\n  for (var i = 0; i < swiper.imagesToLoad.length; i += 1) {\n    var imageEl = swiper.imagesToLoad[i];\n    swiper.loadImage(imageEl, imageEl.currentSrc || imageEl.getAttribute('src'), imageEl.srcset || imageEl.getAttribute('srcset'), imageEl.sizes || imageEl.getAttribute('sizes'), true, onReady);\n  }\n}","import loadImage from './loadImage';\nimport preloadImages from './preloadImages';\nexport default {\n  loadImage: loadImage,\n  preloadImages: preloadImages\n};","function checkOverflow() {\n  var swiper = this;\n  var params = swiper.params;\n  var wasLocked = swiper.isLocked;\n  var lastSlidePosition = swiper.slides.length > 0 && params.slidesOffsetBefore + params.spaceBetween * (swiper.slides.length - 1) + swiper.slides[0].offsetWidth * swiper.slides.length;\n\n  if (params.slidesOffsetBefore && params.slidesOffsetAfter && lastSlidePosition) {\n    swiper.isLocked = lastSlidePosition <= swiper.size;\n  } else {\n    swiper.isLocked = swiper.snapGrid.length === 1;\n  }\n\n  swiper.allowSlideNext = !swiper.isLocked;\n  swiper.allowSlidePrev = !swiper.isLocked; // events\n\n  if (wasLocked !== swiper.isLocked) swiper.emit(swiper.isLocked ? 'lock' : 'unlock');\n\n  if (wasLocked && wasLocked !== swiper.isLocked) {\n    swiper.isEnd = false;\n    if (swiper.navigation) swiper.navigation.update();\n  }\n}\n\nexport default {\n  checkOverflow: checkOverflow\n};","export default {\n  init: true,\n  direction: 'horizontal',\n  touchEventsTarget: 'container',\n  initialSlide: 0,\n  speed: 300,\n  cssMode: false,\n  updateOnWindowResize: true,\n  resizeObserver: false,\n  nested: false,\n  createElements: false,\n  enabled: true,\n  focusableElements: 'input, select, option, textarea, button, video, label',\n  // Overrides\n  width: null,\n  height: null,\n  //\n  preventInteractionOnTransition: false,\n  // ssr\n  userAgent: null,\n  url: null,\n  // To support iOS's swipe-to-go-back gesture (when being used in-app).\n  edgeSwipeDetection: false,\n  edgeSwipeThreshold: 20,\n  // Free mode\n  freeMode: false,\n  freeModeMomentum: true,\n  freeModeMomentumRatio: 1,\n  freeModeMomentumBounce: true,\n  freeModeMomentumBounceRatio: 1,\n  freeModeMomentumVelocityRatio: 1,\n  freeModeSticky: false,\n  freeModeMinimumVelocity: 0.02,\n  // Autoheight\n  autoHeight: false,\n  // Set wrapper width\n  setWrapperSize: false,\n  // Virtual Translate\n  virtualTranslate: false,\n  // Effects\n  effect: 'slide',\n  // 'slide' or 'fade' or 'cube' or 'coverflow' or 'flip'\n  // Breakpoints\n  breakpoints: undefined,\n  breakpointsBase: 'window',\n  // Slides grid\n  spaceBetween: 0,\n  slidesPerView: 1,\n  slidesPerColumn: 1,\n  slidesPerColumnFill: 'column',\n  slidesPerGroup: 1,\n  slidesPerGroupSkip: 0,\n  centeredSlides: false,\n  centeredSlidesBounds: false,\n  slidesOffsetBefore: 0,\n  // in px\n  slidesOffsetAfter: 0,\n  // in px\n  normalizeSlideIndex: true,\n  centerInsufficientSlides: false,\n  // Disable swiper and hide navigation when container not overflow\n  watchOverflow: false,\n  // Round length\n  roundLengths: false,\n  // Touches\n  touchRatio: 1,\n  touchAngle: 45,\n  simulateTouch: true,\n  shortSwipes: true,\n  longSwipes: true,\n  longSwipesRatio: 0.5,\n  longSwipesMs: 300,\n  followFinger: true,\n  allowTouchMove: true,\n  threshold: 0,\n  touchMoveStopPropagation: false,\n  touchStartPreventDefault: true,\n  touchStartForcePreventDefault: false,\n  touchReleaseOnEdges: false,\n  // Unique Navigation Elements\n  uniqueNavElements: true,\n  // Resistance\n  resistance: true,\n  resistanceRatio: 0.85,\n  // Progress\n  watchSlidesProgress: false,\n  watchSlidesVisibility: false,\n  // Cursor\n  grabCursor: false,\n  // Clicks\n  preventClicks: true,\n  preventClicksPropagation: true,\n  slideToClickedSlide: false,\n  // Images\n  preloadImages: true,\n  updateOnImagesReady: true,\n  // loop\n  loop: false,\n  loopAdditionalSlides: 0,\n  loopedSlides: null,\n  loopFillGroupWithBlank: false,\n  loopPreventsSlide: true,\n  // Swiping/no swiping\n  allowSlidePrev: true,\n  allowSlideNext: true,\n  swipeHandler: null,\n  // '.swipe-handler',\n  noSwiping: true,\n  noSwipingClass: 'swiper-no-swiping',\n  noSwipingSelector: null,\n  // Passive Listeners\n  passiveListeners: true,\n  // NS\n  containerModifierClass: 'swiper-container-',\n  // NEW\n  slideClass: 'swiper-slide',\n  slideBlankClass: 'swiper-slide-invisible-blank',\n  slideActiveClass: 'swiper-slide-active',\n  slideDuplicateActiveClass: 'swiper-slide-duplicate-active',\n  slideVisibleClass: 'swiper-slide-visible',\n  slideDuplicateClass: 'swiper-slide-duplicate',\n  slideNextClass: 'swiper-slide-next',\n  slideDuplicateNextClass: 'swiper-slide-duplicate-next',\n  slidePrevClass: 'swiper-slide-prev',\n  slideDuplicatePrevClass: 'swiper-slide-duplicate-prev',\n  wrapperClass: 'swiper-wrapper',\n  // Callbacks\n  runCallbacksOnInit: true,\n  // Internals\n  _emitClasses: false\n};","function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/* eslint no-param-reassign: \"off\" */\nimport { getDocument } from 'ssr-window';\nimport $ from '../../utils/dom';\nimport { extend, now, deleteProps } from '../../utils/utils';\nimport { getSupport } from '../../utils/get-support';\nimport { getDevice } from '../../utils/get-device';\nimport { getBrowser } from '../../utils/get-browser';\nimport Resize from '../../modules/resize/resize';\nimport Observer from '../../modules/observer/observer';\nimport modular from './modular';\nimport eventsEmitter from './events-emitter';\nimport update from './update/index';\nimport translate from './translate/index';\nimport transition from './transition/index';\nimport slide from './slide/index';\nimport loop from './loop/index';\nimport grabCursor from './grab-cursor/index';\nimport manipulation from './manipulation/index';\nimport events from './events/index';\nimport breakpoints from './breakpoints/index';\nimport classes from './classes/index';\nimport images from './images/index';\nimport checkOverflow from './check-overflow/index';\nimport defaults from './defaults';\nvar prototypes = {\n  modular: modular,\n  eventsEmitter: eventsEmitter,\n  update: update,\n  translate: translate,\n  transition: transition,\n  slide: slide,\n  loop: loop,\n  grabCursor: grabCursor,\n  manipulation: manipulation,\n  events: events,\n  breakpoints: breakpoints,\n  checkOverflow: checkOverflow,\n  classes: classes,\n  images: images\n};\nvar extendedDefaults = {};\n\nvar Swiper = /*#__PURE__*/function () {\n  function Swiper() {\n    var el;\n    var params;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (args.length === 1 && args[0].constructor && Object.prototype.toString.call(args[0]).slice(8, -1) === 'Object') {\n      params = args[0];\n    } else {\n      el = args[0];\n      params = args[1];\n    }\n\n    if (!params) params = {};\n    params = extend({}, params);\n    if (el && !params.el) params.el = el;\n\n    if (params.el && $(params.el).length > 1) {\n      var swipers = [];\n      $(params.el).each(function (containerEl) {\n        var newParams = extend({}, params, {\n          el: containerEl\n        });\n        swipers.push(new Swiper(newParams));\n      });\n      return swipers;\n    } // Swiper Instance\n\n\n    var swiper = this;\n    swiper.__swiper__ = true;\n    swiper.support = getSupport();\n    swiper.device = getDevice({\n      userAgent: params.userAgent\n    });\n    swiper.browser = getBrowser();\n    swiper.eventsListeners = {};\n    swiper.eventsAnyListeners = [];\n\n    if (typeof swiper.modules === 'undefined') {\n      swiper.modules = {};\n    }\n\n    Object.keys(swiper.modules).forEach(function (moduleName) {\n      var module = swiper.modules[moduleName];\n\n      if (module.params) {\n        var moduleParamName = Object.keys(module.params)[0];\n        var moduleParams = module.params[moduleParamName];\n        if (typeof moduleParams !== 'object' || moduleParams === null) return;\n\n        if (['navigation', 'pagination', 'scrollbar'].indexOf(moduleParamName) >= 0 && params[moduleParamName] === true) {\n          params[moduleParamName] = {\n            auto: true\n          };\n        }\n\n        if (!(moduleParamName in params && 'enabled' in moduleParams)) return;\n\n        if (params[moduleParamName] === true) {\n          params[moduleParamName] = {\n            enabled: true\n          };\n        }\n\n        if (typeof params[moduleParamName] === 'object' && !('enabled' in params[moduleParamName])) {\n          params[moduleParamName].enabled = true;\n        }\n\n        if (!params[moduleParamName]) params[moduleParamName] = {\n          enabled: false\n        };\n      }\n    }); // Extend defaults with modules params\n\n    var swiperParams = extend({}, defaults);\n    swiper.useParams(swiperParams); // Extend defaults with passed params\n\n    swiper.params = extend({}, swiperParams, extendedDefaults, params);\n    swiper.originalParams = extend({}, swiper.params);\n    swiper.passedParams = extend({}, params); // add event listeners\n\n    if (swiper.params && swiper.params.on) {\n      Object.keys(swiper.params.on).forEach(function (eventName) {\n        swiper.on(eventName, swiper.params.on[eventName]);\n      });\n    }\n\n    if (swiper.params && swiper.params.onAny) {\n      swiper.onAny(swiper.params.onAny);\n    } // Save Dom lib\n\n\n    swiper.$ = $; // Extend Swiper\n\n    extend(swiper, {\n      enabled: swiper.params.enabled,\n      el: el,\n      // Classes\n      classNames: [],\n      // Slides\n      slides: $(),\n      slidesGrid: [],\n      snapGrid: [],\n      slidesSizesGrid: [],\n      // isDirection\n      isHorizontal: function isHorizontal() {\n        return swiper.params.direction === 'horizontal';\n      },\n      isVertical: function isVertical() {\n        return swiper.params.direction === 'vertical';\n      },\n      // Indexes\n      activeIndex: 0,\n      realIndex: 0,\n      //\n      isBeginning: true,\n      isEnd: false,\n      // Props\n      translate: 0,\n      previousTranslate: 0,\n      progress: 0,\n      velocity: 0,\n      animating: false,\n      // Locks\n      allowSlideNext: swiper.params.allowSlideNext,\n      allowSlidePrev: swiper.params.allowSlidePrev,\n      // Touch Events\n      touchEvents: function touchEvents() {\n        var touch = ['touchstart', 'touchmove', 'touchend', 'touchcancel'];\n        var desktop = ['mousedown', 'mousemove', 'mouseup'];\n\n        if (swiper.support.pointerEvents) {\n          desktop = ['pointerdown', 'pointermove', 'pointerup'];\n        }\n\n        swiper.touchEventsTouch = {\n          start: touch[0],\n          move: touch[1],\n          end: touch[2],\n          cancel: touch[3]\n        };\n        swiper.touchEventsDesktop = {\n          start: desktop[0],\n          move: desktop[1],\n          end: desktop[2]\n        };\n        return swiper.support.touch || !swiper.params.simulateTouch ? swiper.touchEventsTouch : swiper.touchEventsDesktop;\n      }(),\n      touchEventsData: {\n        isTouched: undefined,\n        isMoved: undefined,\n        allowTouchCallbacks: undefined,\n        touchStartTime: undefined,\n        isScrolling: undefined,\n        currentTranslate: undefined,\n        startTranslate: undefined,\n        allowThresholdMove: undefined,\n        // Form elements to match\n        focusableElements: swiper.params.focusableElements,\n        // Last click time\n        lastClickTime: now(),\n        clickTimeout: undefined,\n        // Velocities\n        velocities: [],\n        allowMomentumBounce: undefined,\n        isTouchEvent: undefined,\n        startMoving: undefined\n      },\n      // Clicks\n      allowClick: true,\n      // Touches\n      allowTouchMove: swiper.params.allowTouchMove,\n      touches: {\n        startX: 0,\n        startY: 0,\n        currentX: 0,\n        currentY: 0,\n        diff: 0\n      },\n      // Images\n      imagesToLoad: [],\n      imagesLoaded: 0\n    }); // Install Modules\n\n    swiper.useModules();\n    swiper.emit('_swiper'); // Init\n\n    if (swiper.params.init) {\n      swiper.init();\n    } // Return app instance\n\n\n    return swiper;\n  }\n\n  var _proto = Swiper.prototype;\n\n  _proto.enable = function enable() {\n    var swiper = this;\n    if (swiper.enabled) return;\n    swiper.enabled = true;\n\n    if (swiper.params.grabCursor) {\n      swiper.setGrabCursor();\n    }\n\n    swiper.emit('enable');\n  };\n\n  _proto.disable = function disable() {\n    var swiper = this;\n    if (!swiper.enabled) return;\n    swiper.enabled = false;\n\n    if (swiper.params.grabCursor) {\n      swiper.unsetGrabCursor();\n    }\n\n    swiper.emit('disable');\n  };\n\n  _proto.setProgress = function setProgress(progress, speed) {\n    var swiper = this;\n    progress = Math.min(Math.max(progress, 0), 1);\n    var min = swiper.minTranslate();\n    var max = swiper.maxTranslate();\n    var current = (max - min) * progress + min;\n    swiper.translateTo(current, typeof speed === 'undefined' ? 0 : speed);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  };\n\n  _proto.emitContainerClasses = function emitContainerClasses() {\n    var swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    var classes = swiper.el.className.split(' ').filter(function (className) {\n      return className.indexOf('swiper-container') === 0 || className.indexOf(swiper.params.containerModifierClass) === 0;\n    });\n    swiper.emit('_containerClasses', classes.join(' '));\n  };\n\n  _proto.getSlideClasses = function getSlideClasses(slideEl) {\n    var swiper = this;\n    return slideEl.className.split(' ').filter(function (className) {\n      return className.indexOf('swiper-slide') === 0 || className.indexOf(swiper.params.slideClass) === 0;\n    }).join(' ');\n  };\n\n  _proto.emitSlidesClasses = function emitSlidesClasses() {\n    var swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    var updates = [];\n    swiper.slides.each(function (slideEl) {\n      var classNames = swiper.getSlideClasses(slideEl);\n      updates.push({\n        slideEl: slideEl,\n        classNames: classNames\n      });\n      swiper.emit('_slideClass', slideEl, classNames);\n    });\n    swiper.emit('_slideClasses', updates);\n  };\n\n  _proto.slidesPerViewDynamic = function slidesPerViewDynamic() {\n    var swiper = this;\n    var params = swiper.params,\n        slides = swiper.slides,\n        slidesGrid = swiper.slidesGrid,\n        swiperSize = swiper.size,\n        activeIndex = swiper.activeIndex;\n    var spv = 1;\n\n    if (params.centeredSlides) {\n      var slideSize = slides[activeIndex].swiperSlideSize;\n      var breakLoop;\n\n      for (var i = activeIndex + 1; i < slides.length; i += 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n\n      for (var _i = activeIndex - 1; _i >= 0; _i -= 1) {\n        if (slides[_i] && !breakLoop) {\n          slideSize += slides[_i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n    } else {\n      for (var _i2 = activeIndex + 1; _i2 < slides.length; _i2 += 1) {\n        if (slidesGrid[_i2] - slidesGrid[activeIndex] < swiperSize) {\n          spv += 1;\n        }\n      }\n    }\n\n    return spv;\n  };\n\n  _proto.update = function update() {\n    var swiper = this;\n    if (!swiper || swiper.destroyed) return;\n    var snapGrid = swiper.snapGrid,\n        params = swiper.params; // Breakpoints\n\n    if (params.breakpoints) {\n      swiper.setBreakpoint();\n    }\n\n    swiper.updateSize();\n    swiper.updateSlides();\n    swiper.updateProgress();\n    swiper.updateSlidesClasses();\n\n    function setTranslate() {\n      var translateValue = swiper.rtlTranslate ? swiper.translate * -1 : swiper.translate;\n      var newTranslate = Math.min(Math.max(translateValue, swiper.maxTranslate()), swiper.minTranslate());\n      swiper.setTranslate(newTranslate);\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n\n    var translated;\n\n    if (swiper.params.freeMode) {\n      setTranslate();\n\n      if (swiper.params.autoHeight) {\n        swiper.updateAutoHeight();\n      }\n    } else {\n      if ((swiper.params.slidesPerView === 'auto' || swiper.params.slidesPerView > 1) && swiper.isEnd && !swiper.params.centeredSlides) {\n        translated = swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n      } else {\n        translated = swiper.slideTo(swiper.activeIndex, 0, false, true);\n      }\n\n      if (!translated) {\n        setTranslate();\n      }\n    }\n\n    if (params.watchOverflow && snapGrid !== swiper.snapGrid) {\n      swiper.checkOverflow();\n    }\n\n    swiper.emit('update');\n  };\n\n  _proto.changeDirection = function changeDirection(newDirection, needUpdate) {\n    if (needUpdate === void 0) {\n      needUpdate = true;\n    }\n\n    var swiper = this;\n    var currentDirection = swiper.params.direction;\n\n    if (!newDirection) {\n      // eslint-disable-next-line\n      newDirection = currentDirection === 'horizontal' ? 'vertical' : 'horizontal';\n    }\n\n    if (newDirection === currentDirection || newDirection !== 'horizontal' && newDirection !== 'vertical') {\n      return swiper;\n    }\n\n    swiper.$el.removeClass(\"\" + swiper.params.containerModifierClass + currentDirection).addClass(\"\" + swiper.params.containerModifierClass + newDirection);\n    swiper.emitContainerClasses();\n    swiper.params.direction = newDirection;\n    swiper.slides.each(function (slideEl) {\n      if (newDirection === 'vertical') {\n        slideEl.style.width = '';\n      } else {\n        slideEl.style.height = '';\n      }\n    });\n    swiper.emit('changeDirection');\n    if (needUpdate) swiper.update();\n    return swiper;\n  };\n\n  _proto.mount = function mount(el) {\n    var swiper = this;\n    if (swiper.mounted) return true; // Find el\n\n    var $el = $(el || swiper.params.el);\n    el = $el[0];\n\n    if (!el) {\n      return false;\n    }\n\n    el.swiper = swiper;\n\n    var getWrapperSelector = function getWrapperSelector() {\n      return \".\" + (swiper.params.wrapperClass || '').trim().split(' ').join('.');\n    };\n\n    var getWrapper = function getWrapper() {\n      if (el && el.shadowRoot && el.shadowRoot.querySelector) {\n        var res = $(el.shadowRoot.querySelector(getWrapperSelector())); // Children needs to return slot items\n\n        res.children = function (options) {\n          return $el.children(options);\n        };\n\n        return res;\n      }\n\n      return $el.children(getWrapperSelector());\n    }; // Find Wrapper\n\n\n    var $wrapperEl = getWrapper();\n\n    if ($wrapperEl.length === 0 && swiper.params.createElements) {\n      var document = getDocument();\n      var wrapper = document.createElement('div');\n      $wrapperEl = $(wrapper);\n      wrapper.className = swiper.params.wrapperClass;\n      $el.append(wrapper);\n      $el.children(\".\" + swiper.params.slideClass).each(function (slideEl) {\n        $wrapperEl.append(slideEl);\n      });\n    }\n\n    extend(swiper, {\n      $el: $el,\n      el: el,\n      $wrapperEl: $wrapperEl,\n      wrapperEl: $wrapperEl[0],\n      mounted: true,\n      // RTL\n      rtl: el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl',\n      rtlTranslate: swiper.params.direction === 'horizontal' && (el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl'),\n      wrongRTL: $wrapperEl.css('display') === '-webkit-box'\n    });\n    return true;\n  };\n\n  _proto.init = function init(el) {\n    var swiper = this;\n    if (swiper.initialized) return swiper;\n    var mounted = swiper.mount(el);\n    if (mounted === false) return swiper;\n    swiper.emit('beforeInit'); // Set breakpoint\n\n    if (swiper.params.breakpoints) {\n      swiper.setBreakpoint();\n    } // Add Classes\n\n\n    swiper.addClasses(); // Create loop\n\n    if (swiper.params.loop) {\n      swiper.loopCreate();\n    } // Update size\n\n\n    swiper.updateSize(); // Update slides\n\n    swiper.updateSlides();\n\n    if (swiper.params.watchOverflow) {\n      swiper.checkOverflow();\n    } // Set Grab Cursor\n\n\n    if (swiper.params.grabCursor && swiper.enabled) {\n      swiper.setGrabCursor();\n    }\n\n    if (swiper.params.preloadImages) {\n      swiper.preloadImages();\n    } // Slide To Initial Slide\n\n\n    if (swiper.params.loop) {\n      swiper.slideTo(swiper.params.initialSlide + swiper.loopedSlides, 0, swiper.params.runCallbacksOnInit, false, true);\n    } else {\n      swiper.slideTo(swiper.params.initialSlide, 0, swiper.params.runCallbacksOnInit, false, true);\n    } // Attach events\n\n\n    swiper.attachEvents(); // Init Flag\n\n    swiper.initialized = true; // Emit\n\n    swiper.emit('init');\n    swiper.emit('afterInit');\n    return swiper;\n  };\n\n  _proto.destroy = function destroy(deleteInstance, cleanStyles) {\n    if (deleteInstance === void 0) {\n      deleteInstance = true;\n    }\n\n    if (cleanStyles === void 0) {\n      cleanStyles = true;\n    }\n\n    var swiper = this;\n    var params = swiper.params,\n        $el = swiper.$el,\n        $wrapperEl = swiper.$wrapperEl,\n        slides = swiper.slides;\n\n    if (typeof swiper.params === 'undefined' || swiper.destroyed) {\n      return null;\n    }\n\n    swiper.emit('beforeDestroy'); // Init Flag\n\n    swiper.initialized = false; // Detach events\n\n    swiper.detachEvents(); // Destroy loop\n\n    if (params.loop) {\n      swiper.loopDestroy();\n    } // Cleanup styles\n\n\n    if (cleanStyles) {\n      swiper.removeClasses();\n      $el.removeAttr('style');\n      $wrapperEl.removeAttr('style');\n\n      if (slides && slides.length) {\n        slides.removeClass([params.slideVisibleClass, params.slideActiveClass, params.slideNextClass, params.slidePrevClass].join(' ')).removeAttr('style').removeAttr('data-swiper-slide-index');\n      }\n    }\n\n    swiper.emit('destroy'); // Detach emitter events\n\n    Object.keys(swiper.eventsListeners).forEach(function (eventName) {\n      swiper.off(eventName);\n    });\n\n    if (deleteInstance !== false) {\n      swiper.$el[0].swiper = null;\n      deleteProps(swiper);\n    }\n\n    swiper.destroyed = true;\n    return null;\n  };\n\n  Swiper.extendDefaults = function extendDefaults(newDefaults) {\n    extend(extendedDefaults, newDefaults);\n  };\n\n  Swiper.installModule = function installModule(module) {\n    if (!Swiper.prototype.modules) Swiper.prototype.modules = {};\n    var name = module.name || Object.keys(Swiper.prototype.modules).length + \"_\" + now();\n    Swiper.prototype.modules[name] = module;\n  };\n\n  Swiper.use = function use(module) {\n    if (Array.isArray(module)) {\n      module.forEach(function (m) {\n        return Swiper.installModule(m);\n      });\n      return Swiper;\n    }\n\n    Swiper.installModule(module);\n    return Swiper;\n  };\n\n  _createClass(Swiper, null, [{\n    key: \"extendedDefaults\",\n    get: function get() {\n      return extendedDefaults;\n    }\n  }, {\n    key: \"defaults\",\n    get: function get() {\n      return defaults;\n    }\n  }]);\n\n  return Swiper;\n}();\n\nObject.keys(prototypes).forEach(function (prototypeGroup) {\n  Object.keys(prototypes[prototypeGroup]).forEach(function (protoMethod) {\n    Swiper.prototype[protoMethod] = prototypes[prototypeGroup][protoMethod];\n  });\n});\nSwiper.use([Resize, Observer]);\nexport default Swiper;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport $ from '../../utils/dom';\nimport { extend, bindModuleMethods } from '../../utils/utils';\nvar Virtual = {\n  update: function update(force) {\n    var swiper = this;\n    var _swiper$params = swiper.params,\n        slidesPerView = _swiper$params.slidesPerView,\n        slidesPerGroup = _swiper$params.slidesPerGroup,\n        centeredSlides = _swiper$params.centeredSlides;\n    var _swiper$params$virtua = swiper.params.virtual,\n        addSlidesBefore = _swiper$params$virtua.addSlidesBefore,\n        addSlidesAfter = _swiper$params$virtua.addSlidesAfter;\n    var _swiper$virtual = swiper.virtual,\n        previousFrom = _swiper$virtual.from,\n        previousTo = _swiper$virtual.to,\n        slides = _swiper$virtual.slides,\n        previousSlidesGrid = _swiper$virtual.slidesGrid,\n        renderSlide = _swiper$virtual.renderSlide,\n        previousOffset = _swiper$virtual.offset;\n    swiper.updateActiveIndex();\n    var activeIndex = swiper.activeIndex || 0;\n    var offsetProp;\n    if (swiper.rtlTranslate) offsetProp = 'right';else offsetProp = swiper.isHorizontal() ? 'left' : 'top';\n    var slidesAfter;\n    var slidesBefore;\n\n    if (centeredSlides) {\n      slidesAfter = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesAfter;\n      slidesBefore = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesBefore;\n    } else {\n      slidesAfter = slidesPerView + (slidesPerGroup - 1) + addSlidesAfter;\n      slidesBefore = slidesPerGroup + addSlidesBefore;\n    }\n\n    var from = Math.max((activeIndex || 0) - slidesBefore, 0);\n    var to = Math.min((activeIndex || 0) + slidesAfter, slides.length - 1);\n    var offset = (swiper.slidesGrid[from] || 0) - (swiper.slidesGrid[0] || 0);\n    extend(swiper.virtual, {\n      from: from,\n      to: to,\n      offset: offset,\n      slidesGrid: swiper.slidesGrid\n    });\n\n    function onRendered() {\n      swiper.updateSlides();\n      swiper.updateProgress();\n      swiper.updateSlidesClasses();\n\n      if (swiper.lazy && swiper.params.lazy.enabled) {\n        swiper.lazy.load();\n      }\n    }\n\n    if (previousFrom === from && previousTo === to && !force) {\n      if (swiper.slidesGrid !== previousSlidesGrid && offset !== previousOffset) {\n        swiper.slides.css(offsetProp, offset + \"px\");\n      }\n\n      swiper.updateProgress();\n      return;\n    }\n\n    if (swiper.params.virtual.renderExternal) {\n      swiper.params.virtual.renderExternal.call(swiper, {\n        offset: offset,\n        from: from,\n        to: to,\n        slides: function getSlides() {\n          var slidesToRender = [];\n\n          for (var i = from; i <= to; i += 1) {\n            slidesToRender.push(slides[i]);\n          }\n\n          return slidesToRender;\n        }()\n      });\n\n      if (swiper.params.virtual.renderExternalUpdate) {\n        onRendered();\n      }\n\n      return;\n    }\n\n    var prependIndexes = [];\n    var appendIndexes = [];\n\n    if (force) {\n      swiper.$wrapperEl.find(\".\" + swiper.params.slideClass).remove();\n    } else {\n      for (var i = previousFrom; i <= previousTo; i += 1) {\n        if (i < from || i > to) {\n          swiper.$wrapperEl.find(\".\" + swiper.params.slideClass + \"[data-swiper-slide-index=\\\"\" + i + \"\\\"]\").remove();\n        }\n      }\n    }\n\n    for (var _i = 0; _i < slides.length; _i += 1) {\n      if (_i >= from && _i <= to) {\n        if (typeof previousTo === 'undefined' || force) {\n          appendIndexes.push(_i);\n        } else {\n          if (_i > previousTo) appendIndexes.push(_i);\n          if (_i < previousFrom) prependIndexes.push(_i);\n        }\n      }\n    }\n\n    appendIndexes.forEach(function (index) {\n      swiper.$wrapperEl.append(renderSlide(slides[index], index));\n    });\n    prependIndexes.sort(function (a, b) {\n      return b - a;\n    }).forEach(function (index) {\n      swiper.$wrapperEl.prepend(renderSlide(slides[index], index));\n    });\n    swiper.$wrapperEl.children('.swiper-slide').css(offsetProp, offset + \"px\");\n    onRendered();\n  },\n  renderSlide: function renderSlide(slide, index) {\n    var swiper = this;\n    var params = swiper.params.virtual;\n\n    if (params.cache && swiper.virtual.cache[index]) {\n      return swiper.virtual.cache[index];\n    }\n\n    var $slideEl = params.renderSlide ? $(params.renderSlide.call(swiper, slide, index)) : $(\"<div class=\\\"\" + swiper.params.slideClass + \"\\\" data-swiper-slide-index=\\\"\" + index + \"\\\">\" + slide + \"</div>\");\n    if (!$slideEl.attr('data-swiper-slide-index')) $slideEl.attr('data-swiper-slide-index', index);\n    if (params.cache) swiper.virtual.cache[index] = $slideEl;\n    return $slideEl;\n  },\n  appendSlide: function appendSlide(slides) {\n    var swiper = this;\n\n    if (typeof slides === 'object' && 'length' in slides) {\n      for (var i = 0; i < slides.length; i += 1) {\n        if (slides[i]) swiper.virtual.slides.push(slides[i]);\n      }\n    } else {\n      swiper.virtual.slides.push(slides);\n    }\n\n    swiper.virtual.update(true);\n  },\n  prependSlide: function prependSlide(slides) {\n    var swiper = this;\n    var activeIndex = swiper.activeIndex;\n    var newActiveIndex = activeIndex + 1;\n    var numberOfNewSlides = 1;\n\n    if (Array.isArray(slides)) {\n      for (var i = 0; i < slides.length; i += 1) {\n        if (slides[i]) swiper.virtual.slides.unshift(slides[i]);\n      }\n\n      newActiveIndex = activeIndex + slides.length;\n      numberOfNewSlides = slides.length;\n    } else {\n      swiper.virtual.slides.unshift(slides);\n    }\n\n    if (swiper.params.virtual.cache) {\n      var cache = swiper.virtual.cache;\n      var newCache = {};\n      Object.keys(cache).forEach(function (cachedIndex) {\n        var $cachedEl = cache[cachedIndex];\n        var cachedElIndex = $cachedEl.attr('data-swiper-slide-index');\n\n        if (cachedElIndex) {\n          $cachedEl.attr('data-swiper-slide-index', parseInt(cachedElIndex, 10) + 1);\n        }\n\n        newCache[parseInt(cachedIndex, 10) + numberOfNewSlides] = $cachedEl;\n      });\n      swiper.virtual.cache = newCache;\n    }\n\n    swiper.virtual.update(true);\n    swiper.slideTo(newActiveIndex, 0);\n  },\n  removeSlide: function removeSlide(slidesIndexes) {\n    var swiper = this;\n    if (typeof slidesIndexes === 'undefined' || slidesIndexes === null) return;\n    var activeIndex = swiper.activeIndex;\n\n    if (Array.isArray(slidesIndexes)) {\n      for (var i = slidesIndexes.length - 1; i >= 0; i -= 1) {\n        swiper.virtual.slides.splice(slidesIndexes[i], 1);\n\n        if (swiper.params.virtual.cache) {\n          delete swiper.virtual.cache[slidesIndexes[i]];\n        }\n\n        if (slidesIndexes[i] < activeIndex) activeIndex -= 1;\n        activeIndex = Math.max(activeIndex, 0);\n      }\n    } else {\n      swiper.virtual.slides.splice(slidesIndexes, 1);\n\n      if (swiper.params.virtual.cache) {\n        delete swiper.virtual.cache[slidesIndexes];\n      }\n\n      if (slidesIndexes < activeIndex) activeIndex -= 1;\n      activeIndex = Math.max(activeIndex, 0);\n    }\n\n    swiper.virtual.update(true);\n    swiper.slideTo(activeIndex, 0);\n  },\n  removeAllSlides: function removeAllSlides() {\n    var swiper = this;\n    swiper.virtual.slides = [];\n\n    if (swiper.params.virtual.cache) {\n      swiper.virtual.cache = {};\n    }\n\n    swiper.virtual.update(true);\n    swiper.slideTo(0, 0);\n  }\n};\nexport default {\n  name: 'virtual',\n  params: {\n    virtual: {\n      enabled: false,\n      slides: [],\n      cache: true,\n      renderSlide: null,\n      renderExternal: null,\n      renderExternalUpdate: true,\n      addSlidesBefore: 0,\n      addSlidesAfter: 0\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      virtual: _extends({}, Virtual, {\n        slides: swiper.params.virtual.slides,\n        cache: {}\n      })\n    });\n  },\n  on: {\n    beforeInit: function beforeInit(swiper) {\n      if (!swiper.params.virtual.enabled) return;\n      swiper.classNames.push(swiper.params.containerModifierClass + \"virtual\");\n      var overwriteParams = {\n        watchSlidesProgress: true\n      };\n      extend(swiper.params, overwriteParams);\n      extend(swiper.originalParams, overwriteParams);\n\n      if (!swiper.params.initialSlide) {\n        swiper.virtual.update();\n      }\n    },\n    setTranslate: function setTranslate(swiper) {\n      if (!swiper.params.virtual.enabled) return;\n      swiper.virtual.update();\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/* eslint-disable consistent-return */\nimport { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../utils/dom';\nimport { bindModuleMethods } from '../../utils/utils';\nvar Keyboard = {\n  handle: function handle(event) {\n    var swiper = this;\n    if (!swiper.enabled) return;\n    var window = getWindow();\n    var document = getDocument();\n    var rtl = swiper.rtlTranslate;\n    var e = event;\n    if (e.originalEvent) e = e.originalEvent; // jquery fix\n\n    var kc = e.keyCode || e.charCode;\n    var pageUpDown = swiper.params.keyboard.pageUpDown;\n    var isPageUp = pageUpDown && kc === 33;\n    var isPageDown = pageUpDown && kc === 34;\n    var isArrowLeft = kc === 37;\n    var isArrowRight = kc === 39;\n    var isArrowUp = kc === 38;\n    var isArrowDown = kc === 40; // Directions locks\n\n    if (!swiper.allowSlideNext && (swiper.isHorizontal() && isArrowRight || swiper.isVertical() && isArrowDown || isPageDown)) {\n      return false;\n    }\n\n    if (!swiper.allowSlidePrev && (swiper.isHorizontal() && isArrowLeft || swiper.isVertical() && isArrowUp || isPageUp)) {\n      return false;\n    }\n\n    if (e.shiftKey || e.altKey || e.ctrlKey || e.metaKey) {\n      return undefined;\n    }\n\n    if (document.activeElement && document.activeElement.nodeName && (document.activeElement.nodeName.toLowerCase() === 'input' || document.activeElement.nodeName.toLowerCase() === 'textarea')) {\n      return undefined;\n    }\n\n    if (swiper.params.keyboard.onlyInViewport && (isPageUp || isPageDown || isArrowLeft || isArrowRight || isArrowUp || isArrowDown)) {\n      var inView = false; // Check that swiper should be inside of visible area of window\n\n      if (swiper.$el.parents(\".\" + swiper.params.slideClass).length > 0 && swiper.$el.parents(\".\" + swiper.params.slideActiveClass).length === 0) {\n        return undefined;\n      }\n\n      var $el = swiper.$el;\n      var swiperWidth = $el[0].clientWidth;\n      var swiperHeight = $el[0].clientHeight;\n      var windowWidth = window.innerWidth;\n      var windowHeight = window.innerHeight;\n      var swiperOffset = swiper.$el.offset();\n      if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n      var swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiperWidth, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiperHeight], [swiperOffset.left + swiperWidth, swiperOffset.top + swiperHeight]];\n\n      for (var i = 0; i < swiperCoord.length; i += 1) {\n        var point = swiperCoord[i];\n\n        if (point[0] >= 0 && point[0] <= windowWidth && point[1] >= 0 && point[1] <= windowHeight) {\n          if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n\n          inView = true;\n        }\n      }\n\n      if (!inView) return undefined;\n    }\n\n    if (swiper.isHorizontal()) {\n      if (isPageUp || isPageDown || isArrowLeft || isArrowRight) {\n        if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      }\n\n      if ((isPageDown || isArrowRight) && !rtl || (isPageUp || isArrowLeft) && rtl) swiper.slideNext();\n      if ((isPageUp || isArrowLeft) && !rtl || (isPageDown || isArrowRight) && rtl) swiper.slidePrev();\n    } else {\n      if (isPageUp || isPageDown || isArrowUp || isArrowDown) {\n        if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      }\n\n      if (isPageDown || isArrowDown) swiper.slideNext();\n      if (isPageUp || isArrowUp) swiper.slidePrev();\n    }\n\n    swiper.emit('keyPress', kc);\n    return undefined;\n  },\n  enable: function enable() {\n    var swiper = this;\n    var document = getDocument();\n    if (swiper.keyboard.enabled) return;\n    $(document).on('keydown', swiper.keyboard.handle);\n    swiper.keyboard.enabled = true;\n  },\n  disable: function disable() {\n    var swiper = this;\n    var document = getDocument();\n    if (!swiper.keyboard.enabled) return;\n    $(document).off('keydown', swiper.keyboard.handle);\n    swiper.keyboard.enabled = false;\n  }\n};\nexport default {\n  name: 'keyboard',\n  params: {\n    keyboard: {\n      enabled: false,\n      onlyInViewport: true,\n      pageUpDown: true\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      keyboard: _extends({\n        enabled: false\n      }, Keyboard)\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      if (swiper.params.keyboard.enabled) {\n        swiper.keyboard.enable();\n      }\n    },\n    destroy: function destroy(swiper) {\n      if (swiper.keyboard.enabled) {\n        swiper.keyboard.disable();\n      }\n    }\n  }\n};","/* eslint-disable consistent-return */\nimport { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../utils/dom';\nimport { now, nextTick, bindModuleMethods } from '../../utils/utils';\n\nfunction isEventSupported() {\n  var document = getDocument();\n  var eventName = 'onwheel';\n  var isSupported = (eventName in document);\n\n  if (!isSupported) {\n    var element = document.createElement('div');\n    element.setAttribute(eventName, 'return;');\n    isSupported = typeof element[eventName] === 'function';\n  }\n\n  if (!isSupported && document.implementation && document.implementation.hasFeature && // always returns true in newer browsers as per the standard.\n  // @see http://dom.spec.whatwg.org/#dom-domimplementation-hasfeature\n  document.implementation.hasFeature('', '') !== true) {\n    // This is the only way to test support for the `wheel` event in IE9+.\n    isSupported = document.implementation.hasFeature('Events.wheel', '3.0');\n  }\n\n  return isSupported;\n}\n\nvar Mousewheel = {\n  lastScrollTime: now(),\n  lastEventBeforeSnap: undefined,\n  recentWheelEvents: [],\n  event: function event() {\n    var window = getWindow();\n    if (window.navigator.userAgent.indexOf('firefox') > -1) return 'DOMMouseScroll';\n    return isEventSupported() ? 'wheel' : 'mousewheel';\n  },\n  normalize: function normalize(e) {\n    // Reasonable defaults\n    var PIXEL_STEP = 10;\n    var LINE_HEIGHT = 40;\n    var PAGE_HEIGHT = 800;\n    var sX = 0;\n    var sY = 0; // spinX, spinY\n\n    var pX = 0;\n    var pY = 0; // pixelX, pixelY\n    // Legacy\n\n    if ('detail' in e) {\n      sY = e.detail;\n    }\n\n    if ('wheelDelta' in e) {\n      sY = -e.wheelDelta / 120;\n    }\n\n    if ('wheelDeltaY' in e) {\n      sY = -e.wheelDeltaY / 120;\n    }\n\n    if ('wheelDeltaX' in e) {\n      sX = -e.wheelDeltaX / 120;\n    } // side scrolling on FF with DOMMouseScroll\n\n\n    if ('axis' in e && e.axis === e.HORIZONTAL_AXIS) {\n      sX = sY;\n      sY = 0;\n    }\n\n    pX = sX * PIXEL_STEP;\n    pY = sY * PIXEL_STEP;\n\n    if ('deltaY' in e) {\n      pY = e.deltaY;\n    }\n\n    if ('deltaX' in e) {\n      pX = e.deltaX;\n    }\n\n    if (e.shiftKey && !pX) {\n      // if user scrolls with shift he wants horizontal scroll\n      pX = pY;\n      pY = 0;\n    }\n\n    if ((pX || pY) && e.deltaMode) {\n      if (e.deltaMode === 1) {\n        // delta in LINE units\n        pX *= LINE_HEIGHT;\n        pY *= LINE_HEIGHT;\n      } else {\n        // delta in PAGE units\n        pX *= PAGE_HEIGHT;\n        pY *= PAGE_HEIGHT;\n      }\n    } // Fall-back if spin cannot be determined\n\n\n    if (pX && !sX) {\n      sX = pX < 1 ? -1 : 1;\n    }\n\n    if (pY && !sY) {\n      sY = pY < 1 ? -1 : 1;\n    }\n\n    return {\n      spinX: sX,\n      spinY: sY,\n      pixelX: pX,\n      pixelY: pY\n    };\n  },\n  handleMouseEnter: function handleMouseEnter() {\n    var swiper = this;\n    if (!swiper.enabled) return;\n    swiper.mouseEntered = true;\n  },\n  handleMouseLeave: function handleMouseLeave() {\n    var swiper = this;\n    if (!swiper.enabled) return;\n    swiper.mouseEntered = false;\n  },\n  handle: function handle(event) {\n    var e = event;\n    var disableParentSwiper = true;\n    var swiper = this;\n    if (!swiper.enabled) return;\n    var params = swiper.params.mousewheel;\n\n    if (swiper.params.cssMode) {\n      e.preventDefault();\n    }\n\n    var target = swiper.$el;\n\n    if (swiper.params.mousewheel.eventsTarget !== 'container') {\n      target = $(swiper.params.mousewheel.eventsTarget);\n    }\n\n    if (!swiper.mouseEntered && !target[0].contains(e.target) && !params.releaseOnEdges) return true;\n    if (e.originalEvent) e = e.originalEvent; // jquery fix\n\n    var delta = 0;\n    var rtlFactor = swiper.rtlTranslate ? -1 : 1;\n    var data = Mousewheel.normalize(e);\n\n    if (params.forceToAxis) {\n      if (swiper.isHorizontal()) {\n        if (Math.abs(data.pixelX) > Math.abs(data.pixelY)) delta = -data.pixelX * rtlFactor;else return true;\n      } else if (Math.abs(data.pixelY) > Math.abs(data.pixelX)) delta = -data.pixelY;else return true;\n    } else {\n      delta = Math.abs(data.pixelX) > Math.abs(data.pixelY) ? -data.pixelX * rtlFactor : -data.pixelY;\n    }\n\n    if (delta === 0) return true;\n    if (params.invert) delta = -delta; // Get the scroll positions\n\n    var positions = swiper.getTranslate() + delta * params.sensitivity;\n    if (positions >= swiper.minTranslate()) positions = swiper.minTranslate();\n    if (positions <= swiper.maxTranslate()) positions = swiper.maxTranslate(); // When loop is true:\n    //     the disableParentSwiper will be true.\n    // When loop is false:\n    //     if the scroll positions is not on edge,\n    //     then the disableParentSwiper will be true.\n    //     if the scroll on edge positions,\n    //     then the disableParentSwiper will be false.\n\n    disableParentSwiper = swiper.params.loop ? true : !(positions === swiper.minTranslate() || positions === swiper.maxTranslate());\n    if (disableParentSwiper && swiper.params.nested) e.stopPropagation();\n\n    if (!swiper.params.freeMode) {\n      // Register the new event in a variable which stores the relevant data\n      var newEvent = {\n        time: now(),\n        delta: Math.abs(delta),\n        direction: Math.sign(delta),\n        raw: event\n      }; // Keep the most recent events\n\n      var recentWheelEvents = swiper.mousewheel.recentWheelEvents;\n\n      if (recentWheelEvents.length >= 2) {\n        recentWheelEvents.shift(); // only store the last N events\n      }\n\n      var prevEvent = recentWheelEvents.length ? recentWheelEvents[recentWheelEvents.length - 1] : undefined;\n      recentWheelEvents.push(newEvent); // If there is at least one previous recorded event:\n      //   If direction has changed or\n      //   if the scroll is quicker than the previous one:\n      //     Animate the slider.\n      // Else (this is the first time the wheel is moved):\n      //     Animate the slider.\n\n      if (prevEvent) {\n        if (newEvent.direction !== prevEvent.direction || newEvent.delta > prevEvent.delta || newEvent.time > prevEvent.time + 150) {\n          swiper.mousewheel.animateSlider(newEvent);\n        }\n      } else {\n        swiper.mousewheel.animateSlider(newEvent);\n      } // If it's time to release the scroll:\n      //   Return now so you don't hit the preventDefault.\n\n\n      if (swiper.mousewheel.releaseScroll(newEvent)) {\n        return true;\n      }\n    } else {\n      // Freemode or scrollContainer:\n      // If we recently snapped after a momentum scroll, then ignore wheel events\n      // to give time for the deceleration to finish. Stop ignoring after 500 msecs\n      // or if it's a new scroll (larger delta or inverse sign as last event before\n      // an end-of-momentum snap).\n      var _newEvent = {\n        time: now(),\n        delta: Math.abs(delta),\n        direction: Math.sign(delta)\n      };\n      var lastEventBeforeSnap = swiper.mousewheel.lastEventBeforeSnap;\n      var ignoreWheelEvents = lastEventBeforeSnap && _newEvent.time < lastEventBeforeSnap.time + 500 && _newEvent.delta <= lastEventBeforeSnap.delta && _newEvent.direction === lastEventBeforeSnap.direction;\n\n      if (!ignoreWheelEvents) {\n        swiper.mousewheel.lastEventBeforeSnap = undefined;\n\n        if (swiper.params.loop) {\n          swiper.loopFix();\n        }\n\n        var position = swiper.getTranslate() + delta * params.sensitivity;\n        var wasBeginning = swiper.isBeginning;\n        var wasEnd = swiper.isEnd;\n        if (position >= swiper.minTranslate()) position = swiper.minTranslate();\n        if (position <= swiper.maxTranslate()) position = swiper.maxTranslate();\n        swiper.setTransition(0);\n        swiper.setTranslate(position);\n        swiper.updateProgress();\n        swiper.updateActiveIndex();\n        swiper.updateSlidesClasses();\n\n        if (!wasBeginning && swiper.isBeginning || !wasEnd && swiper.isEnd) {\n          swiper.updateSlidesClasses();\n        }\n\n        if (swiper.params.freeModeSticky) {\n          // When wheel scrolling starts with sticky (aka snap) enabled, then detect\n          // the end of a momentum scroll by storing recent (N=15?) wheel events.\n          // 1. do all N events have decreasing or same (absolute value) delta?\n          // 2. did all N events arrive in the last M (M=500?) msecs?\n          // 3. does the earliest event have an (absolute value) delta that's\n          //    at least P (P=1?) larger than the most recent event's delta?\n          // 4. does the latest event have a delta that's smaller than Q (Q=6?) pixels?\n          // If 1-4 are \"yes\" then we're near the end of a momentum scroll deceleration.\n          // Snap immediately and ignore remaining wheel events in this scroll.\n          // See comment above for \"remaining wheel events in this scroll\" determination.\n          // If 1-4 aren't satisfied, then wait to snap until 500ms after the last event.\n          clearTimeout(swiper.mousewheel.timeout);\n          swiper.mousewheel.timeout = undefined;\n          var _recentWheelEvents = swiper.mousewheel.recentWheelEvents;\n\n          if (_recentWheelEvents.length >= 15) {\n            _recentWheelEvents.shift(); // only store the last N events\n\n          }\n\n          var _prevEvent = _recentWheelEvents.length ? _recentWheelEvents[_recentWheelEvents.length - 1] : undefined;\n\n          var firstEvent = _recentWheelEvents[0];\n\n          _recentWheelEvents.push(_newEvent);\n\n          if (_prevEvent && (_newEvent.delta > _prevEvent.delta || _newEvent.direction !== _prevEvent.direction)) {\n            // Increasing or reverse-sign delta means the user started scrolling again. Clear the wheel event log.\n            _recentWheelEvents.splice(0);\n          } else if (_recentWheelEvents.length >= 15 && _newEvent.time - firstEvent.time < 500 && firstEvent.delta - _newEvent.delta >= 1 && _newEvent.delta <= 6) {\n            // We're at the end of the deceleration of a momentum scroll, so there's no need\n            // to wait for more events. Snap ASAP on the next tick.\n            // Also, because there's some remaining momentum we'll bias the snap in the\n            // direction of the ongoing scroll because it's better UX for the scroll to snap\n            // in the same direction as the scroll instead of reversing to snap.  Therefore,\n            // if it's already scrolled more than 20% in the current direction, keep going.\n            var snapToThreshold = delta > 0 ? 0.8 : 0.2;\n            swiper.mousewheel.lastEventBeforeSnap = _newEvent;\n\n            _recentWheelEvents.splice(0);\n\n            swiper.mousewheel.timeout = nextTick(function () {\n              swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);\n            }, 0); // no delay; move on next tick\n          }\n\n          if (!swiper.mousewheel.timeout) {\n            // if we get here, then we haven't detected the end of a momentum scroll, so\n            // we'll consider a scroll \"complete\" when there haven't been any wheel events\n            // for 500ms.\n            swiper.mousewheel.timeout = nextTick(function () {\n              var snapToThreshold = 0.5;\n              swiper.mousewheel.lastEventBeforeSnap = _newEvent;\n\n              _recentWheelEvents.splice(0);\n\n              swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);\n            }, 500);\n          }\n        } // Emit event\n\n\n        if (!ignoreWheelEvents) swiper.emit('scroll', e); // Stop autoplay\n\n        if (swiper.params.autoplay && swiper.params.autoplayDisableOnInteraction) swiper.autoplay.stop(); // Return page scroll on edge positions\n\n        if (position === swiper.minTranslate() || position === swiper.maxTranslate()) return true;\n      }\n    }\n\n    if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n    return false;\n  },\n  animateSlider: function animateSlider(newEvent) {\n    var swiper = this;\n    var window = getWindow();\n\n    if (this.params.mousewheel.thresholdDelta && newEvent.delta < this.params.mousewheel.thresholdDelta) {\n      // Prevent if delta of wheel scroll delta is below configured threshold\n      return false;\n    }\n\n    if (this.params.mousewheel.thresholdTime && now() - swiper.mousewheel.lastScrollTime < this.params.mousewheel.thresholdTime) {\n      // Prevent if time between scrolls is below configured threshold\n      return false;\n    } // If the movement is NOT big enough and\n    // if the last time the user scrolled was too close to the current one (avoid continuously triggering the slider):\n    //   Don't go any further (avoid insignificant scroll movement).\n\n\n    if (newEvent.delta >= 6 && now() - swiper.mousewheel.lastScrollTime < 60) {\n      // Return false as a default\n      return true;\n    } // If user is scrolling towards the end:\n    //   If the slider hasn't hit the latest slide or\n    //   if the slider is a loop and\n    //   if the slider isn't moving right now:\n    //     Go to next slide and\n    //     emit a scroll event.\n    // Else (the user is scrolling towards the beginning) and\n    // if the slider hasn't hit the first slide or\n    // if the slider is a loop and\n    // if the slider isn't moving right now:\n    //   Go to prev slide and\n    //   emit a scroll event.\n\n\n    if (newEvent.direction < 0) {\n      if ((!swiper.isEnd || swiper.params.loop) && !swiper.animating) {\n        swiper.slideNext();\n        swiper.emit('scroll', newEvent.raw);\n      }\n    } else if ((!swiper.isBeginning || swiper.params.loop) && !swiper.animating) {\n      swiper.slidePrev();\n      swiper.emit('scroll', newEvent.raw);\n    } // If you got here is because an animation has been triggered so store the current time\n\n\n    swiper.mousewheel.lastScrollTime = new window.Date().getTime(); // Return false as a default\n\n    return false;\n  },\n  releaseScroll: function releaseScroll(newEvent) {\n    var swiper = this;\n    var params = swiper.params.mousewheel;\n\n    if (newEvent.direction < 0) {\n      if (swiper.isEnd && !swiper.params.loop && params.releaseOnEdges) {\n        // Return true to animate scroll on edges\n        return true;\n      }\n    } else if (swiper.isBeginning && !swiper.params.loop && params.releaseOnEdges) {\n      // Return true to animate scroll on edges\n      return true;\n    }\n\n    return false;\n  },\n  enable: function enable() {\n    var swiper = this;\n    var event = Mousewheel.event();\n\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.removeEventListener(event, swiper.mousewheel.handle);\n      return true;\n    }\n\n    if (!event) return false;\n    if (swiper.mousewheel.enabled) return false;\n    var target = swiper.$el;\n\n    if (swiper.params.mousewheel.eventsTarget !== 'container') {\n      target = $(swiper.params.mousewheel.eventsTarget);\n    }\n\n    target.on('mouseenter', swiper.mousewheel.handleMouseEnter);\n    target.on('mouseleave', swiper.mousewheel.handleMouseLeave);\n    target.on(event, swiper.mousewheel.handle);\n    swiper.mousewheel.enabled = true;\n    return true;\n  },\n  disable: function disable() {\n    var swiper = this;\n    var event = Mousewheel.event();\n\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.addEventListener(event, swiper.mousewheel.handle);\n      return true;\n    }\n\n    if (!event) return false;\n    if (!swiper.mousewheel.enabled) return false;\n    var target = swiper.$el;\n\n    if (swiper.params.mousewheel.eventsTarget !== 'container') {\n      target = $(swiper.params.mousewheel.eventsTarget);\n    }\n\n    target.off(event, swiper.mousewheel.handle);\n    swiper.mousewheel.enabled = false;\n    return true;\n  }\n};\nexport default {\n  name: 'mousewheel',\n  params: {\n    mousewheel: {\n      enabled: false,\n      releaseOnEdges: false,\n      invert: false,\n      forceToAxis: false,\n      sensitivity: 1,\n      eventsTarget: 'container',\n      thresholdDelta: null,\n      thresholdTime: null\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      mousewheel: {\n        enabled: false,\n        lastScrollTime: now(),\n        lastEventBeforeSnap: undefined,\n        recentWheelEvents: [],\n        enable: Mousewheel.enable,\n        disable: Mousewheel.disable,\n        handle: Mousewheel.handle,\n        handleMouseEnter: Mousewheel.handleMouseEnter,\n        handleMouseLeave: Mousewheel.handleMouseLeave,\n        animateSlider: Mousewheel.animateSlider,\n        releaseScroll: Mousewheel.releaseScroll\n      }\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      if (!swiper.params.mousewheel.enabled && swiper.params.cssMode) {\n        swiper.mousewheel.disable();\n      }\n\n      if (swiper.params.mousewheel.enabled) swiper.mousewheel.enable();\n    },\n    destroy: function destroy(swiper) {\n      if (swiper.params.cssMode) {\n        swiper.mousewheel.enable();\n      }\n\n      if (swiper.mousewheel.enabled) swiper.mousewheel.disable();\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport $ from '../../utils/dom';\nimport { extend, bindModuleMethods, createElementIfNotDefined } from '../../utils/utils';\nvar Navigation = {\n  toggleEl: function toggleEl($el, disabled) {\n    $el[disabled ? 'addClass' : 'removeClass'](this.params.navigation.disabledClass);\n    if ($el[0] && $el[0].tagName === 'BUTTON') $el[0].disabled = disabled;\n  },\n  update: function update() {\n    // Update Navigation Buttons\n    var swiper = this;\n    var params = swiper.params.navigation;\n    var toggleEl = swiper.navigation.toggleEl;\n    if (swiper.params.loop) return;\n    var _swiper$navigation = swiper.navigation,\n        $nextEl = _swiper$navigation.$nextEl,\n        $prevEl = _swiper$navigation.$prevEl;\n\n    if ($prevEl && $prevEl.length > 0) {\n      if (swiper.isBeginning) {\n        toggleEl($prevEl, true);\n      } else {\n        toggleEl($prevEl, false);\n      }\n\n      if (swiper.params.watchOverflow && swiper.enabled) {\n        $prevEl[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n      }\n    }\n\n    if ($nextEl && $nextEl.length > 0) {\n      if (swiper.isEnd) {\n        toggleEl($nextEl, true);\n      } else {\n        toggleEl($nextEl, false);\n      }\n\n      if (swiper.params.watchOverflow && swiper.enabled) {\n        $nextEl[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n      }\n    }\n  },\n  onPrevClick: function onPrevClick(e) {\n    var swiper = this;\n    e.preventDefault();\n    if (swiper.isBeginning && !swiper.params.loop) return;\n    swiper.slidePrev();\n  },\n  onNextClick: function onNextClick(e) {\n    var swiper = this;\n    e.preventDefault();\n    if (swiper.isEnd && !swiper.params.loop) return;\n    swiper.slideNext();\n  },\n  init: function init() {\n    var swiper = this;\n    var params = swiper.params.navigation;\n    swiper.params.navigation = createElementIfNotDefined(swiper.$el, swiper.params.navigation, swiper.params.createElements, {\n      nextEl: 'swiper-button-next',\n      prevEl: 'swiper-button-prev'\n    });\n    if (!(params.nextEl || params.prevEl)) return;\n    var $nextEl;\n    var $prevEl;\n\n    if (params.nextEl) {\n      $nextEl = $(params.nextEl);\n\n      if (swiper.params.uniqueNavElements && typeof params.nextEl === 'string' && $nextEl.length > 1 && swiper.$el.find(params.nextEl).length === 1) {\n        $nextEl = swiper.$el.find(params.nextEl);\n      }\n    }\n\n    if (params.prevEl) {\n      $prevEl = $(params.prevEl);\n\n      if (swiper.params.uniqueNavElements && typeof params.prevEl === 'string' && $prevEl.length > 1 && swiper.$el.find(params.prevEl).length === 1) {\n        $prevEl = swiper.$el.find(params.prevEl);\n      }\n    }\n\n    if ($nextEl && $nextEl.length > 0) {\n      $nextEl.on('click', swiper.navigation.onNextClick);\n    }\n\n    if ($prevEl && $prevEl.length > 0) {\n      $prevEl.on('click', swiper.navigation.onPrevClick);\n    }\n\n    extend(swiper.navigation, {\n      $nextEl: $nextEl,\n      nextEl: $nextEl && $nextEl[0],\n      $prevEl: $prevEl,\n      prevEl: $prevEl && $prevEl[0]\n    });\n\n    if (!swiper.enabled) {\n      if ($nextEl) $nextEl.addClass(params.lockClass);\n      if ($prevEl) $prevEl.addClass(params.lockClass);\n    }\n  },\n  destroy: function destroy() {\n    var swiper = this;\n    var _swiper$navigation2 = swiper.navigation,\n        $nextEl = _swiper$navigation2.$nextEl,\n        $prevEl = _swiper$navigation2.$prevEl;\n\n    if ($nextEl && $nextEl.length) {\n      $nextEl.off('click', swiper.navigation.onNextClick);\n      $nextEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n\n    if ($prevEl && $prevEl.length) {\n      $prevEl.off('click', swiper.navigation.onPrevClick);\n      $prevEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n  }\n};\nexport default {\n  name: 'navigation',\n  params: {\n    navigation: {\n      nextEl: null,\n      prevEl: null,\n      hideOnClick: false,\n      disabledClass: 'swiper-button-disabled',\n      hiddenClass: 'swiper-button-hidden',\n      lockClass: 'swiper-button-lock'\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      navigation: _extends({}, Navigation)\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      swiper.navigation.init();\n      swiper.navigation.update();\n    },\n    toEdge: function toEdge(swiper) {\n      swiper.navigation.update();\n    },\n    fromEdge: function fromEdge(swiper) {\n      swiper.navigation.update();\n    },\n    destroy: function destroy(swiper) {\n      swiper.navigation.destroy();\n    },\n    'enable disable': function enableDisable(swiper) {\n      var _swiper$navigation3 = swiper.navigation,\n          $nextEl = _swiper$navigation3.$nextEl,\n          $prevEl = _swiper$navigation3.$prevEl;\n\n      if ($nextEl) {\n        $nextEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n      }\n\n      if ($prevEl) {\n        $prevEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n      }\n    },\n    click: function click(swiper, e) {\n      var _swiper$navigation4 = swiper.navigation,\n          $nextEl = _swiper$navigation4.$nextEl,\n          $prevEl = _swiper$navigation4.$prevEl;\n      var targetEl = e.target;\n\n      if (swiper.params.navigation.hideOnClick && !$(targetEl).is($prevEl) && !$(targetEl).is($nextEl)) {\n        if (swiper.pagination && swiper.params.pagination && swiper.params.pagination.clickable && (swiper.pagination.el === targetEl || swiper.pagination.el.contains(targetEl))) return;\n        var isHidden;\n\n        if ($nextEl) {\n          isHidden = $nextEl.hasClass(swiper.params.navigation.hiddenClass);\n        } else if ($prevEl) {\n          isHidden = $prevEl.hasClass(swiper.params.navigation.hiddenClass);\n        }\n\n        if (isHidden === true) {\n          swiper.emit('navigationShow');\n        } else {\n          swiper.emit('navigationHide');\n        }\n\n        if ($nextEl) {\n          $nextEl.toggleClass(swiper.params.navigation.hiddenClass);\n        }\n\n        if ($prevEl) {\n          $prevEl.toggleClass(swiper.params.navigation.hiddenClass);\n        }\n      }\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport $ from '../../utils/dom';\nimport { extend, bindModuleMethods, classesToSelector, createElementIfNotDefined } from '../../utils/utils';\nvar Pagination = {\n  update: function update() {\n    // Render || Update Pagination bullets/items\n    var swiper = this;\n    var rtl = swiper.rtl;\n    var params = swiper.params.pagination;\n    if (!params.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0) return;\n    var slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n    var $el = swiper.pagination.$el; // Current/Total\n\n    var current;\n    var total = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n    if (swiper.params.loop) {\n      current = Math.ceil((swiper.activeIndex - swiper.loopedSlides) / swiper.params.slidesPerGroup);\n\n      if (current > slidesLength - 1 - swiper.loopedSlides * 2) {\n        current -= slidesLength - swiper.loopedSlides * 2;\n      }\n\n      if (current > total - 1) current -= total;\n      if (current < 0 && swiper.params.paginationType !== 'bullets') current = total + current;\n    } else if (typeof swiper.snapIndex !== 'undefined') {\n      current = swiper.snapIndex;\n    } else {\n      current = swiper.activeIndex || 0;\n    } // Types\n\n\n    if (params.type === 'bullets' && swiper.pagination.bullets && swiper.pagination.bullets.length > 0) {\n      var bullets = swiper.pagination.bullets;\n      var firstIndex;\n      var lastIndex;\n      var midIndex;\n\n      if (params.dynamicBullets) {\n        swiper.pagination.bulletSize = bullets.eq(0)[swiper.isHorizontal() ? 'outerWidth' : 'outerHeight'](true);\n        $el.css(swiper.isHorizontal() ? 'width' : 'height', swiper.pagination.bulletSize * (params.dynamicMainBullets + 4) + \"px\");\n\n        if (params.dynamicMainBullets > 1 && swiper.previousIndex !== undefined) {\n          swiper.pagination.dynamicBulletIndex += current - swiper.previousIndex;\n\n          if (swiper.pagination.dynamicBulletIndex > params.dynamicMainBullets - 1) {\n            swiper.pagination.dynamicBulletIndex = params.dynamicMainBullets - 1;\n          } else if (swiper.pagination.dynamicBulletIndex < 0) {\n            swiper.pagination.dynamicBulletIndex = 0;\n          }\n        }\n\n        firstIndex = current - swiper.pagination.dynamicBulletIndex;\n        lastIndex = firstIndex + (Math.min(bullets.length, params.dynamicMainBullets) - 1);\n        midIndex = (lastIndex + firstIndex) / 2;\n      }\n\n      bullets.removeClass(params.bulletActiveClass + \" \" + params.bulletActiveClass + \"-next \" + params.bulletActiveClass + \"-next-next \" + params.bulletActiveClass + \"-prev \" + params.bulletActiveClass + \"-prev-prev \" + params.bulletActiveClass + \"-main\");\n\n      if ($el.length > 1) {\n        bullets.each(function (bullet) {\n          var $bullet = $(bullet);\n          var bulletIndex = $bullet.index();\n\n          if (bulletIndex === current) {\n            $bullet.addClass(params.bulletActiveClass);\n          }\n\n          if (params.dynamicBullets) {\n            if (bulletIndex >= firstIndex && bulletIndex <= lastIndex) {\n              $bullet.addClass(params.bulletActiveClass + \"-main\");\n            }\n\n            if (bulletIndex === firstIndex) {\n              $bullet.prev().addClass(params.bulletActiveClass + \"-prev\").prev().addClass(params.bulletActiveClass + \"-prev-prev\");\n            }\n\n            if (bulletIndex === lastIndex) {\n              $bullet.next().addClass(params.bulletActiveClass + \"-next\").next().addClass(params.bulletActiveClass + \"-next-next\");\n            }\n          }\n        });\n      } else {\n        var $bullet = bullets.eq(current);\n        var bulletIndex = $bullet.index();\n        $bullet.addClass(params.bulletActiveClass);\n\n        if (params.dynamicBullets) {\n          var $firstDisplayedBullet = bullets.eq(firstIndex);\n          var $lastDisplayedBullet = bullets.eq(lastIndex);\n\n          for (var i = firstIndex; i <= lastIndex; i += 1) {\n            bullets.eq(i).addClass(params.bulletActiveClass + \"-main\");\n          }\n\n          if (swiper.params.loop) {\n            if (bulletIndex >= bullets.length - params.dynamicMainBullets) {\n              for (var _i = params.dynamicMainBullets; _i >= 0; _i -= 1) {\n                bullets.eq(bullets.length - _i).addClass(params.bulletActiveClass + \"-main\");\n              }\n\n              bullets.eq(bullets.length - params.dynamicMainBullets - 1).addClass(params.bulletActiveClass + \"-prev\");\n            } else {\n              $firstDisplayedBullet.prev().addClass(params.bulletActiveClass + \"-prev\").prev().addClass(params.bulletActiveClass + \"-prev-prev\");\n              $lastDisplayedBullet.next().addClass(params.bulletActiveClass + \"-next\").next().addClass(params.bulletActiveClass + \"-next-next\");\n            }\n          } else {\n            $firstDisplayedBullet.prev().addClass(params.bulletActiveClass + \"-prev\").prev().addClass(params.bulletActiveClass + \"-prev-prev\");\n            $lastDisplayedBullet.next().addClass(params.bulletActiveClass + \"-next\").next().addClass(params.bulletActiveClass + \"-next-next\");\n          }\n        }\n      }\n\n      if (params.dynamicBullets) {\n        var dynamicBulletsLength = Math.min(bullets.length, params.dynamicMainBullets + 4);\n        var bulletsOffset = (swiper.pagination.bulletSize * dynamicBulletsLength - swiper.pagination.bulletSize) / 2 - midIndex * swiper.pagination.bulletSize;\n        var offsetProp = rtl ? 'right' : 'left';\n        bullets.css(swiper.isHorizontal() ? offsetProp : 'top', bulletsOffset + \"px\");\n      }\n    }\n\n    if (params.type === 'fraction') {\n      $el.find(classesToSelector(params.currentClass)).text(params.formatFractionCurrent(current + 1));\n      $el.find(classesToSelector(params.totalClass)).text(params.formatFractionTotal(total));\n    }\n\n    if (params.type === 'progressbar') {\n      var progressbarDirection;\n\n      if (params.progressbarOpposite) {\n        progressbarDirection = swiper.isHorizontal() ? 'vertical' : 'horizontal';\n      } else {\n        progressbarDirection = swiper.isHorizontal() ? 'horizontal' : 'vertical';\n      }\n\n      var scale = (current + 1) / total;\n      var scaleX = 1;\n      var scaleY = 1;\n\n      if (progressbarDirection === 'horizontal') {\n        scaleX = scale;\n      } else {\n        scaleY = scale;\n      }\n\n      $el.find(classesToSelector(params.progressbarFillClass)).transform(\"translate3d(0,0,0) scaleX(\" + scaleX + \") scaleY(\" + scaleY + \")\").transition(swiper.params.speed);\n    }\n\n    if (params.type === 'custom' && params.renderCustom) {\n      $el.html(params.renderCustom(swiper, current + 1, total));\n      swiper.emit('paginationRender', $el[0]);\n    } else {\n      swiper.emit('paginationUpdate', $el[0]);\n    }\n\n    if (swiper.params.watchOverflow && swiper.enabled) {\n      $el[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n    }\n  },\n  render: function render() {\n    // Render Container\n    var swiper = this;\n    var params = swiper.params.pagination;\n    if (!params.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0) return;\n    var slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n    var $el = swiper.pagination.$el;\n    var paginationHTML = '';\n\n    if (params.type === 'bullets') {\n      var numberOfBullets = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n      if (swiper.params.freeMode && !swiper.params.loop && numberOfBullets > slidesLength) {\n        numberOfBullets = slidesLength;\n      }\n\n      for (var i = 0; i < numberOfBullets; i += 1) {\n        if (params.renderBullet) {\n          paginationHTML += params.renderBullet.call(swiper, i, params.bulletClass);\n        } else {\n          paginationHTML += \"<\" + params.bulletElement + \" class=\\\"\" + params.bulletClass + \"\\\"></\" + params.bulletElement + \">\";\n        }\n      }\n\n      $el.html(paginationHTML);\n      swiper.pagination.bullets = $el.find(classesToSelector(params.bulletClass));\n    }\n\n    if (params.type === 'fraction') {\n      if (params.renderFraction) {\n        paginationHTML = params.renderFraction.call(swiper, params.currentClass, params.totalClass);\n      } else {\n        paginationHTML = \"<span class=\\\"\" + params.currentClass + \"\\\"></span>\" + ' / ' + (\"<span class=\\\"\" + params.totalClass + \"\\\"></span>\");\n      }\n\n      $el.html(paginationHTML);\n    }\n\n    if (params.type === 'progressbar') {\n      if (params.renderProgressbar) {\n        paginationHTML = params.renderProgressbar.call(swiper, params.progressbarFillClass);\n      } else {\n        paginationHTML = \"<span class=\\\"\" + params.progressbarFillClass + \"\\\"></span>\";\n      }\n\n      $el.html(paginationHTML);\n    }\n\n    if (params.type !== 'custom') {\n      swiper.emit('paginationRender', swiper.pagination.$el[0]);\n    }\n  },\n  init: function init() {\n    var swiper = this;\n    swiper.params.pagination = createElementIfNotDefined(swiper.$el, swiper.params.pagination, swiper.params.createElements, {\n      el: 'swiper-pagination'\n    });\n    var params = swiper.params.pagination;\n    if (!params.el) return;\n    var $el = $(params.el);\n    if ($el.length === 0) return;\n\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1) {\n      $el = swiper.$el.find(params.el);\n    }\n\n    if (params.type === 'bullets' && params.clickable) {\n      $el.addClass(params.clickableClass);\n    }\n\n    $el.addClass(params.modifierClass + params.type);\n\n    if (params.type === 'bullets' && params.dynamicBullets) {\n      $el.addClass(\"\" + params.modifierClass + params.type + \"-dynamic\");\n      swiper.pagination.dynamicBulletIndex = 0;\n\n      if (params.dynamicMainBullets < 1) {\n        params.dynamicMainBullets = 1;\n      }\n    }\n\n    if (params.type === 'progressbar' && params.progressbarOpposite) {\n      $el.addClass(params.progressbarOppositeClass);\n    }\n\n    if (params.clickable) {\n      $el.on('click', classesToSelector(params.bulletClass), function onClick(e) {\n        e.preventDefault();\n        var index = $(this).index() * swiper.params.slidesPerGroup;\n        if (swiper.params.loop) index += swiper.loopedSlides;\n        swiper.slideTo(index);\n      });\n    }\n\n    extend(swiper.pagination, {\n      $el: $el,\n      el: $el[0]\n    });\n\n    if (!swiper.enabled) {\n      $el.addClass(params.lockClass);\n    }\n  },\n  destroy: function destroy() {\n    var swiper = this;\n    var params = swiper.params.pagination;\n    if (!params.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0) return;\n    var $el = swiper.pagination.$el;\n    $el.removeClass(params.hiddenClass);\n    $el.removeClass(params.modifierClass + params.type);\n    if (swiper.pagination.bullets) swiper.pagination.bullets.removeClass(params.bulletActiveClass);\n\n    if (params.clickable) {\n      $el.off('click', classesToSelector(params.bulletClass));\n    }\n  }\n};\nexport default {\n  name: 'pagination',\n  params: {\n    pagination: {\n      el: null,\n      bulletElement: 'span',\n      clickable: false,\n      hideOnClick: false,\n      renderBullet: null,\n      renderProgressbar: null,\n      renderFraction: null,\n      renderCustom: null,\n      progressbarOpposite: false,\n      type: 'bullets',\n      // 'bullets' or 'progressbar' or 'fraction' or 'custom'\n      dynamicBullets: false,\n      dynamicMainBullets: 1,\n      formatFractionCurrent: function formatFractionCurrent(number) {\n        return number;\n      },\n      formatFractionTotal: function formatFractionTotal(number) {\n        return number;\n      },\n      bulletClass: 'swiper-pagination-bullet',\n      bulletActiveClass: 'swiper-pagination-bullet-active',\n      modifierClass: 'swiper-pagination-',\n      // NEW\n      currentClass: 'swiper-pagination-current',\n      totalClass: 'swiper-pagination-total',\n      hiddenClass: 'swiper-pagination-hidden',\n      progressbarFillClass: 'swiper-pagination-progressbar-fill',\n      progressbarOppositeClass: 'swiper-pagination-progressbar-opposite',\n      clickableClass: 'swiper-pagination-clickable',\n      // NEW\n      lockClass: 'swiper-pagination-lock'\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      pagination: _extends({\n        dynamicBulletIndex: 0\n      }, Pagination)\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      swiper.pagination.init();\n      swiper.pagination.render();\n      swiper.pagination.update();\n    },\n    activeIndexChange: function activeIndexChange(swiper) {\n      if (swiper.params.loop) {\n        swiper.pagination.update();\n      } else if (typeof swiper.snapIndex === 'undefined') {\n        swiper.pagination.update();\n      }\n    },\n    snapIndexChange: function snapIndexChange(swiper) {\n      if (!swiper.params.loop) {\n        swiper.pagination.update();\n      }\n    },\n    slidesLengthChange: function slidesLengthChange(swiper) {\n      if (swiper.params.loop) {\n        swiper.pagination.render();\n        swiper.pagination.update();\n      }\n    },\n    snapGridLengthChange: function snapGridLengthChange(swiper) {\n      if (!swiper.params.loop) {\n        swiper.pagination.render();\n        swiper.pagination.update();\n      }\n    },\n    destroy: function destroy(swiper) {\n      swiper.pagination.destroy();\n    },\n    'enable disable': function enableDisable(swiper) {\n      var $el = swiper.pagination.$el;\n\n      if ($el) {\n        $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.pagination.lockClass);\n      }\n    },\n    click: function click(swiper, e) {\n      var targetEl = e.target;\n\n      if (swiper.params.pagination.el && swiper.params.pagination.hideOnClick && swiper.pagination.$el.length > 0 && !$(targetEl).hasClass(swiper.params.pagination.bulletClass)) {\n        if (swiper.navigation && (swiper.navigation.nextEl && targetEl === swiper.navigation.nextEl || swiper.navigation.prevEl && targetEl === swiper.navigation.prevEl)) return;\n        var isHidden = swiper.pagination.$el.hasClass(swiper.params.pagination.hiddenClass);\n\n        if (isHidden === true) {\n          swiper.emit('paginationShow');\n        } else {\n          swiper.emit('paginationHide');\n        }\n\n        swiper.pagination.$el.toggleClass(swiper.params.pagination.hiddenClass);\n      }\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { getDocument } from 'ssr-window';\nimport $ from '../../utils/dom';\nimport { extend, nextTick, bindModuleMethods, createElementIfNotDefined } from '../../utils/utils';\nvar Scrollbar = {\n  setTranslate: function setTranslate() {\n    var swiper = this;\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    var scrollbar = swiper.scrollbar,\n        rtl = swiper.rtlTranslate,\n        progress = swiper.progress;\n    var dragSize = scrollbar.dragSize,\n        trackSize = scrollbar.trackSize,\n        $dragEl = scrollbar.$dragEl,\n        $el = scrollbar.$el;\n    var params = swiper.params.scrollbar;\n    var newSize = dragSize;\n    var newPos = (trackSize - dragSize) * progress;\n\n    if (rtl) {\n      newPos = -newPos;\n\n      if (newPos > 0) {\n        newSize = dragSize - newPos;\n        newPos = 0;\n      } else if (-newPos + dragSize > trackSize) {\n        newSize = trackSize + newPos;\n      }\n    } else if (newPos < 0) {\n      newSize = dragSize + newPos;\n      newPos = 0;\n    } else if (newPos + dragSize > trackSize) {\n      newSize = trackSize - newPos;\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl.transform(\"translate3d(\" + newPos + \"px, 0, 0)\");\n      $dragEl[0].style.width = newSize + \"px\";\n    } else {\n      $dragEl.transform(\"translate3d(0px, \" + newPos + \"px, 0)\");\n      $dragEl[0].style.height = newSize + \"px\";\n    }\n\n    if (params.hide) {\n      clearTimeout(swiper.scrollbar.timeout);\n      $el[0].style.opacity = 1;\n      swiper.scrollbar.timeout = setTimeout(function () {\n        $el[0].style.opacity = 0;\n        $el.transition(400);\n      }, 1000);\n    }\n  },\n  setTransition: function setTransition(duration) {\n    var swiper = this;\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    swiper.scrollbar.$dragEl.transition(duration);\n  },\n  updateSize: function updateSize() {\n    var swiper = this;\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    var scrollbar = swiper.scrollbar;\n    var $dragEl = scrollbar.$dragEl,\n        $el = scrollbar.$el;\n    $dragEl[0].style.width = '';\n    $dragEl[0].style.height = '';\n    var trackSize = swiper.isHorizontal() ? $el[0].offsetWidth : $el[0].offsetHeight;\n    var divider = swiper.size / swiper.virtualSize;\n    var moveDivider = divider * (trackSize / swiper.size);\n    var dragSize;\n\n    if (swiper.params.scrollbar.dragSize === 'auto') {\n      dragSize = trackSize * divider;\n    } else {\n      dragSize = parseInt(swiper.params.scrollbar.dragSize, 10);\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl[0].style.width = dragSize + \"px\";\n    } else {\n      $dragEl[0].style.height = dragSize + \"px\";\n    }\n\n    if (divider >= 1) {\n      $el[0].style.display = 'none';\n    } else {\n      $el[0].style.display = '';\n    }\n\n    if (swiper.params.scrollbar.hide) {\n      $el[0].style.opacity = 0;\n    }\n\n    extend(scrollbar, {\n      trackSize: trackSize,\n      divider: divider,\n      moveDivider: moveDivider,\n      dragSize: dragSize\n    });\n\n    if (swiper.params.watchOverflow && swiper.enabled) {\n      scrollbar.$el[swiper.isLocked ? 'addClass' : 'removeClass'](swiper.params.scrollbar.lockClass);\n    }\n  },\n  getPointerPosition: function getPointerPosition(e) {\n    var swiper = this;\n\n    if (swiper.isHorizontal()) {\n      return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientX : e.clientX;\n    }\n\n    return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientY : e.clientY;\n  },\n  setDragPosition: function setDragPosition(e) {\n    var swiper = this;\n    var scrollbar = swiper.scrollbar,\n        rtl = swiper.rtlTranslate;\n    var $el = scrollbar.$el,\n        dragSize = scrollbar.dragSize,\n        trackSize = scrollbar.trackSize,\n        dragStartPos = scrollbar.dragStartPos;\n    var positionRatio;\n    positionRatio = (scrollbar.getPointerPosition(e) - $el.offset()[swiper.isHorizontal() ? 'left' : 'top'] - (dragStartPos !== null ? dragStartPos : dragSize / 2)) / (trackSize - dragSize);\n    positionRatio = Math.max(Math.min(positionRatio, 1), 0);\n\n    if (rtl) {\n      positionRatio = 1 - positionRatio;\n    }\n\n    var position = swiper.minTranslate() + (swiper.maxTranslate() - swiper.minTranslate()) * positionRatio;\n    swiper.updateProgress(position);\n    swiper.setTranslate(position);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  },\n  onDragStart: function onDragStart(e) {\n    var swiper = this;\n    var params = swiper.params.scrollbar;\n    var scrollbar = swiper.scrollbar,\n        $wrapperEl = swiper.$wrapperEl;\n    var $el = scrollbar.$el,\n        $dragEl = scrollbar.$dragEl;\n    swiper.scrollbar.isTouched = true;\n    swiper.scrollbar.dragStartPos = e.target === $dragEl[0] || e.target === $dragEl ? scrollbar.getPointerPosition(e) - e.target.getBoundingClientRect()[swiper.isHorizontal() ? 'left' : 'top'] : null;\n    e.preventDefault();\n    e.stopPropagation();\n    $wrapperEl.transition(100);\n    $dragEl.transition(100);\n    scrollbar.setDragPosition(e);\n    clearTimeout(swiper.scrollbar.dragTimeout);\n    $el.transition(0);\n\n    if (params.hide) {\n      $el.css('opacity', 1);\n    }\n\n    if (swiper.params.cssMode) {\n      swiper.$wrapperEl.css('scroll-snap-type', 'none');\n    }\n\n    swiper.emit('scrollbarDragStart', e);\n  },\n  onDragMove: function onDragMove(e) {\n    var swiper = this;\n    var scrollbar = swiper.scrollbar,\n        $wrapperEl = swiper.$wrapperEl;\n    var $el = scrollbar.$el,\n        $dragEl = scrollbar.$dragEl;\n    if (!swiper.scrollbar.isTouched) return;\n    if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n    scrollbar.setDragPosition(e);\n    $wrapperEl.transition(0);\n    $el.transition(0);\n    $dragEl.transition(0);\n    swiper.emit('scrollbarDragMove', e);\n  },\n  onDragEnd: function onDragEnd(e) {\n    var swiper = this;\n    var params = swiper.params.scrollbar;\n    var scrollbar = swiper.scrollbar,\n        $wrapperEl = swiper.$wrapperEl;\n    var $el = scrollbar.$el;\n    if (!swiper.scrollbar.isTouched) return;\n    swiper.scrollbar.isTouched = false;\n\n    if (swiper.params.cssMode) {\n      swiper.$wrapperEl.css('scroll-snap-type', '');\n      $wrapperEl.transition('');\n    }\n\n    if (params.hide) {\n      clearTimeout(swiper.scrollbar.dragTimeout);\n      swiper.scrollbar.dragTimeout = nextTick(function () {\n        $el.css('opacity', 0);\n        $el.transition(400);\n      }, 1000);\n    }\n\n    swiper.emit('scrollbarDragEnd', e);\n\n    if (params.snapOnRelease) {\n      swiper.slideToClosest();\n    }\n  },\n  enableDraggable: function enableDraggable() {\n    var swiper = this;\n    if (!swiper.params.scrollbar.el) return;\n    var document = getDocument();\n    var scrollbar = swiper.scrollbar,\n        touchEventsTouch = swiper.touchEventsTouch,\n        touchEventsDesktop = swiper.touchEventsDesktop,\n        params = swiper.params,\n        support = swiper.support;\n    var $el = scrollbar.$el;\n    var target = $el[0];\n    var activeListener = support.passiveListener && params.passiveListeners ? {\n      passive: false,\n      capture: false\n    } : false;\n    var passiveListener = support.passiveListener && params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    if (!target) return;\n\n    if (!support.touch) {\n      target.addEventListener(touchEventsDesktop.start, swiper.scrollbar.onDragStart, activeListener);\n      document.addEventListener(touchEventsDesktop.move, swiper.scrollbar.onDragMove, activeListener);\n      document.addEventListener(touchEventsDesktop.end, swiper.scrollbar.onDragEnd, passiveListener);\n    } else {\n      target.addEventListener(touchEventsTouch.start, swiper.scrollbar.onDragStart, activeListener);\n      target.addEventListener(touchEventsTouch.move, swiper.scrollbar.onDragMove, activeListener);\n      target.addEventListener(touchEventsTouch.end, swiper.scrollbar.onDragEnd, passiveListener);\n    }\n  },\n  disableDraggable: function disableDraggable() {\n    var swiper = this;\n    if (!swiper.params.scrollbar.el) return;\n    var document = getDocument();\n    var scrollbar = swiper.scrollbar,\n        touchEventsTouch = swiper.touchEventsTouch,\n        touchEventsDesktop = swiper.touchEventsDesktop,\n        params = swiper.params,\n        support = swiper.support;\n    var $el = scrollbar.$el;\n    var target = $el[0];\n    var activeListener = support.passiveListener && params.passiveListeners ? {\n      passive: false,\n      capture: false\n    } : false;\n    var passiveListener = support.passiveListener && params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    if (!target) return;\n\n    if (!support.touch) {\n      target.removeEventListener(touchEventsDesktop.start, swiper.scrollbar.onDragStart, activeListener);\n      document.removeEventListener(touchEventsDesktop.move, swiper.scrollbar.onDragMove, activeListener);\n      document.removeEventListener(touchEventsDesktop.end, swiper.scrollbar.onDragEnd, passiveListener);\n    } else {\n      target.removeEventListener(touchEventsTouch.start, swiper.scrollbar.onDragStart, activeListener);\n      target.removeEventListener(touchEventsTouch.move, swiper.scrollbar.onDragMove, activeListener);\n      target.removeEventListener(touchEventsTouch.end, swiper.scrollbar.onDragEnd, passiveListener);\n    }\n  },\n  init: function init() {\n    var swiper = this;\n    var scrollbar = swiper.scrollbar,\n        $swiperEl = swiper.$el;\n    swiper.params.scrollbar = createElementIfNotDefined($swiperEl, swiper.params.scrollbar, swiper.params.createElements, {\n      el: 'swiper-scrollbar'\n    });\n    var params = swiper.params.scrollbar;\n    if (!params.el) return;\n    var $el = $(params.el);\n\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1 && $swiperEl.find(params.el).length === 1) {\n      $el = $swiperEl.find(params.el);\n    }\n\n    var $dragEl = $el.find(\".\" + swiper.params.scrollbar.dragClass);\n\n    if ($dragEl.length === 0) {\n      $dragEl = $(\"<div class=\\\"\" + swiper.params.scrollbar.dragClass + \"\\\"></div>\");\n      $el.append($dragEl);\n    }\n\n    extend(scrollbar, {\n      $el: $el,\n      el: $el[0],\n      $dragEl: $dragEl,\n      dragEl: $dragEl[0]\n    });\n\n    if (params.draggable) {\n      scrollbar.enableDraggable();\n    }\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n    }\n  },\n  destroy: function destroy() {\n    var swiper = this;\n    swiper.scrollbar.disableDraggable();\n  }\n};\nexport default {\n  name: 'scrollbar',\n  params: {\n    scrollbar: {\n      el: null,\n      dragSize: 'auto',\n      hide: false,\n      draggable: false,\n      snapOnRelease: true,\n      lockClass: 'swiper-scrollbar-lock',\n      dragClass: 'swiper-scrollbar-drag'\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      scrollbar: _extends({\n        isTouched: false,\n        timeout: null,\n        dragTimeout: null\n      }, Scrollbar)\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      swiper.scrollbar.init();\n      swiper.scrollbar.updateSize();\n      swiper.scrollbar.setTranslate();\n    },\n    update: function update(swiper) {\n      swiper.scrollbar.updateSize();\n    },\n    resize: function resize(swiper) {\n      swiper.scrollbar.updateSize();\n    },\n    observerUpdate: function observerUpdate(swiper) {\n      swiper.scrollbar.updateSize();\n    },\n    setTranslate: function setTranslate(swiper) {\n      swiper.scrollbar.setTranslate();\n    },\n    setTransition: function setTransition(swiper, duration) {\n      swiper.scrollbar.setTransition(duration);\n    },\n    'enable disable': function enableDisable(swiper) {\n      var $el = swiper.scrollbar.$el;\n\n      if ($el) {\n        $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n      }\n    },\n    destroy: function destroy(swiper) {\n      swiper.scrollbar.destroy();\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport $ from '../../utils/dom';\nimport { bindModuleMethods } from '../../utils/utils';\nvar Parallax = {\n  setTransform: function setTransform(el, progress) {\n    var swiper = this;\n    var rtl = swiper.rtl;\n    var $el = $(el);\n    var rtlFactor = rtl ? -1 : 1;\n    var p = $el.attr('data-swiper-parallax') || '0';\n    var x = $el.attr('data-swiper-parallax-x');\n    var y = $el.attr('data-swiper-parallax-y');\n    var scale = $el.attr('data-swiper-parallax-scale');\n    var opacity = $el.attr('data-swiper-parallax-opacity');\n\n    if (x || y) {\n      x = x || '0';\n      y = y || '0';\n    } else if (swiper.isHorizontal()) {\n      x = p;\n      y = '0';\n    } else {\n      y = p;\n      x = '0';\n    }\n\n    if (x.indexOf('%') >= 0) {\n      x = parseInt(x, 10) * progress * rtlFactor + \"%\";\n    } else {\n      x = x * progress * rtlFactor + \"px\";\n    }\n\n    if (y.indexOf('%') >= 0) {\n      y = parseInt(y, 10) * progress + \"%\";\n    } else {\n      y = y * progress + \"px\";\n    }\n\n    if (typeof opacity !== 'undefined' && opacity !== null) {\n      var currentOpacity = opacity - (opacity - 1) * (1 - Math.abs(progress));\n      $el[0].style.opacity = currentOpacity;\n    }\n\n    if (typeof scale === 'undefined' || scale === null) {\n      $el.transform(\"translate3d(\" + x + \", \" + y + \", 0px)\");\n    } else {\n      var currentScale = scale - (scale - 1) * (1 - Math.abs(progress));\n      $el.transform(\"translate3d(\" + x + \", \" + y + \", 0px) scale(\" + currentScale + \")\");\n    }\n  },\n  setTranslate: function setTranslate() {\n    var swiper = this;\n    var $el = swiper.$el,\n        slides = swiper.slides,\n        progress = swiper.progress,\n        snapGrid = swiper.snapGrid;\n    $el.children('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(function (el) {\n      swiper.parallax.setTransform(el, progress);\n    });\n    slides.each(function (slideEl, slideIndex) {\n      var slideProgress = slideEl.progress;\n\n      if (swiper.params.slidesPerGroup > 1 && swiper.params.slidesPerView !== 'auto') {\n        slideProgress += Math.ceil(slideIndex / 2) - progress * (snapGrid.length - 1);\n      }\n\n      slideProgress = Math.min(Math.max(slideProgress, -1), 1);\n      $(slideEl).find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(function (el) {\n        swiper.parallax.setTransform(el, slideProgress);\n      });\n    });\n  },\n  setTransition: function setTransition(duration) {\n    if (duration === void 0) {\n      duration = this.params.speed;\n    }\n\n    var swiper = this;\n    var $el = swiper.$el;\n    $el.find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(function (parallaxEl) {\n      var $parallaxEl = $(parallaxEl);\n      var parallaxDuration = parseInt($parallaxEl.attr('data-swiper-parallax-duration'), 10) || duration;\n      if (duration === 0) parallaxDuration = 0;\n      $parallaxEl.transition(parallaxDuration);\n    });\n  }\n};\nexport default {\n  name: 'parallax',\n  params: {\n    parallax: {\n      enabled: false\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      parallax: _extends({}, Parallax)\n    });\n  },\n  on: {\n    beforeInit: function beforeInit(swiper) {\n      if (!swiper.params.parallax.enabled) return;\n      swiper.params.watchSlidesProgress = true;\n      swiper.originalParams.watchSlidesProgress = true;\n    },\n    init: function init(swiper) {\n      if (!swiper.params.parallax.enabled) return;\n      swiper.parallax.setTranslate();\n    },\n    setTranslate: function setTranslate(swiper) {\n      if (!swiper.params.parallax.enabled) return;\n      swiper.parallax.setTranslate();\n    },\n    setTransition: function setTransition(swiper, duration) {\n      if (!swiper.params.parallax.enabled) return;\n      swiper.parallax.setTransition(duration);\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { getWindow } from 'ssr-window';\nimport $ from '../../utils/dom';\nimport { bindModuleMethods, getTranslate } from '../../utils/utils';\nvar Zoom = {\n  // Calc Scale From Multi-touches\n  getDistanceBetweenTouches: function getDistanceBetweenTouches(e) {\n    if (e.targetTouches.length < 2) return 1;\n    var x1 = e.targetTouches[0].pageX;\n    var y1 = e.targetTouches[0].pageY;\n    var x2 = e.targetTouches[1].pageX;\n    var y2 = e.targetTouches[1].pageY;\n    var distance = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n    return distance;\n  },\n  // Events\n  onGestureStart: function onGestureStart(e) {\n    var swiper = this;\n    var support = swiper.support;\n    var params = swiper.params.zoom;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture;\n    zoom.fakeGestureTouched = false;\n    zoom.fakeGestureMoved = false;\n\n    if (!support.gestures) {\n      if (e.type !== 'touchstart' || e.type === 'touchstart' && e.targetTouches.length < 2) {\n        return;\n      }\n\n      zoom.fakeGestureTouched = true;\n      gesture.scaleStart = Zoom.getDistanceBetweenTouches(e);\n    }\n\n    if (!gesture.$slideEl || !gesture.$slideEl.length) {\n      gesture.$slideEl = $(e.target).closest(\".\" + swiper.params.slideClass);\n      if (gesture.$slideEl.length === 0) gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n      gesture.$imageEl = gesture.$slideEl.find('img, svg, canvas, picture, .swiper-zoom-target');\n      gesture.$imageWrapEl = gesture.$imageEl.parent(\".\" + params.containerClass);\n      gesture.maxRatio = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n      if (gesture.$imageWrapEl.length === 0) {\n        gesture.$imageEl = undefined;\n        return;\n      }\n    }\n\n    if (gesture.$imageEl) {\n      gesture.$imageEl.transition(0);\n    }\n\n    swiper.zoom.isScaling = true;\n  },\n  onGestureChange: function onGestureChange(e) {\n    var swiper = this;\n    var support = swiper.support;\n    var params = swiper.params.zoom;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture;\n\n    if (!support.gestures) {\n      if (e.type !== 'touchmove' || e.type === 'touchmove' && e.targetTouches.length < 2) {\n        return;\n      }\n\n      zoom.fakeGestureMoved = true;\n      gesture.scaleMove = Zoom.getDistanceBetweenTouches(e);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) {\n      if (e.type === 'gesturechange') zoom.onGestureStart(e);\n      return;\n    }\n\n    if (support.gestures) {\n      zoom.scale = e.scale * zoom.currentScale;\n    } else {\n      zoom.scale = gesture.scaleMove / gesture.scaleStart * zoom.currentScale;\n    }\n\n    if (zoom.scale > gesture.maxRatio) {\n      zoom.scale = gesture.maxRatio - 1 + Math.pow(zoom.scale - gesture.maxRatio + 1, 0.5);\n    }\n\n    if (zoom.scale < params.minRatio) {\n      zoom.scale = params.minRatio + 1 - Math.pow(params.minRatio - zoom.scale + 1, 0.5);\n    }\n\n    gesture.$imageEl.transform(\"translate3d(0,0,0) scale(\" + zoom.scale + \")\");\n  },\n  onGestureEnd: function onGestureEnd(e) {\n    var swiper = this;\n    var device = swiper.device;\n    var support = swiper.support;\n    var params = swiper.params.zoom;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture;\n\n    if (!support.gestures) {\n      if (!zoom.fakeGestureTouched || !zoom.fakeGestureMoved) {\n        return;\n      }\n\n      if (e.type !== 'touchend' || e.type === 'touchend' && e.changedTouches.length < 2 && !device.android) {\n        return;\n      }\n\n      zoom.fakeGestureTouched = false;\n      zoom.fakeGestureMoved = false;\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    zoom.scale = Math.max(Math.min(zoom.scale, gesture.maxRatio), params.minRatio);\n    gesture.$imageEl.transition(swiper.params.speed).transform(\"translate3d(0,0,0) scale(\" + zoom.scale + \")\");\n    zoom.currentScale = zoom.scale;\n    zoom.isScaling = false;\n    if (zoom.scale === 1) gesture.$slideEl = undefined;\n  },\n  onTouchStart: function onTouchStart(e) {\n    var swiper = this;\n    var device = swiper.device;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture,\n        image = zoom.image;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    if (image.isTouched) return;\n    if (device.android && e.cancelable) e.preventDefault();\n    image.isTouched = true;\n    image.touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  },\n  onTouchMove: function onTouchMove(e) {\n    var swiper = this;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture,\n        image = zoom.image,\n        velocity = zoom.velocity;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    swiper.allowClick = false;\n    if (!image.isTouched || !gesture.$slideEl) return;\n\n    if (!image.isMoved) {\n      image.width = gesture.$imageEl[0].offsetWidth;\n      image.height = gesture.$imageEl[0].offsetHeight;\n      image.startX = getTranslate(gesture.$imageWrapEl[0], 'x') || 0;\n      image.startY = getTranslate(gesture.$imageWrapEl[0], 'y') || 0;\n      gesture.slideWidth = gesture.$slideEl[0].offsetWidth;\n      gesture.slideHeight = gesture.$slideEl[0].offsetHeight;\n      gesture.$imageWrapEl.transition(0);\n    } // Define if we need image drag\n\n\n    var scaledWidth = image.width * zoom.scale;\n    var scaledHeight = image.height * zoom.scale;\n    if (scaledWidth < gesture.slideWidth && scaledHeight < gesture.slideHeight) return;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.touchesCurrent.x = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesCurrent.y = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\n    if (!image.isMoved && !zoom.isScaling) {\n      if (swiper.isHorizontal() && (Math.floor(image.minX) === Math.floor(image.startX) && image.touchesCurrent.x < image.touchesStart.x || Math.floor(image.maxX) === Math.floor(image.startX) && image.touchesCurrent.x > image.touchesStart.x)) {\n        image.isTouched = false;\n        return;\n      }\n\n      if (!swiper.isHorizontal() && (Math.floor(image.minY) === Math.floor(image.startY) && image.touchesCurrent.y < image.touchesStart.y || Math.floor(image.maxY) === Math.floor(image.startY) && image.touchesCurrent.y > image.touchesStart.y)) {\n        image.isTouched = false;\n        return;\n      }\n    }\n\n    if (e.cancelable) {\n      e.preventDefault();\n    }\n\n    e.stopPropagation();\n    image.isMoved = true;\n    image.currentX = image.touchesCurrent.x - image.touchesStart.x + image.startX;\n    image.currentY = image.touchesCurrent.y - image.touchesStart.y + image.startY;\n\n    if (image.currentX < image.minX) {\n      image.currentX = image.minX + 1 - Math.pow(image.minX - image.currentX + 1, 0.8);\n    }\n\n    if (image.currentX > image.maxX) {\n      image.currentX = image.maxX - 1 + Math.pow(image.currentX - image.maxX + 1, 0.8);\n    }\n\n    if (image.currentY < image.minY) {\n      image.currentY = image.minY + 1 - Math.pow(image.minY - image.currentY + 1, 0.8);\n    }\n\n    if (image.currentY > image.maxY) {\n      image.currentY = image.maxY - 1 + Math.pow(image.currentY - image.maxY + 1, 0.8);\n    } // Velocity\n\n\n    if (!velocity.prevPositionX) velocity.prevPositionX = image.touchesCurrent.x;\n    if (!velocity.prevPositionY) velocity.prevPositionY = image.touchesCurrent.y;\n    if (!velocity.prevTime) velocity.prevTime = Date.now();\n    velocity.x = (image.touchesCurrent.x - velocity.prevPositionX) / (Date.now() - velocity.prevTime) / 2;\n    velocity.y = (image.touchesCurrent.y - velocity.prevPositionY) / (Date.now() - velocity.prevTime) / 2;\n    if (Math.abs(image.touchesCurrent.x - velocity.prevPositionX) < 2) velocity.x = 0;\n    if (Math.abs(image.touchesCurrent.y - velocity.prevPositionY) < 2) velocity.y = 0;\n    velocity.prevPositionX = image.touchesCurrent.x;\n    velocity.prevPositionY = image.touchesCurrent.y;\n    velocity.prevTime = Date.now();\n    gesture.$imageWrapEl.transform(\"translate3d(\" + image.currentX + \"px, \" + image.currentY + \"px,0)\");\n  },\n  onTouchEnd: function onTouchEnd() {\n    var swiper = this;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture,\n        image = zoom.image,\n        velocity = zoom.velocity;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n\n    if (!image.isTouched || !image.isMoved) {\n      image.isTouched = false;\n      image.isMoved = false;\n      return;\n    }\n\n    image.isTouched = false;\n    image.isMoved = false;\n    var momentumDurationX = 300;\n    var momentumDurationY = 300;\n    var momentumDistanceX = velocity.x * momentumDurationX;\n    var newPositionX = image.currentX + momentumDistanceX;\n    var momentumDistanceY = velocity.y * momentumDurationY;\n    var newPositionY = image.currentY + momentumDistanceY; // Fix duration\n\n    if (velocity.x !== 0) momentumDurationX = Math.abs((newPositionX - image.currentX) / velocity.x);\n    if (velocity.y !== 0) momentumDurationY = Math.abs((newPositionY - image.currentY) / velocity.y);\n    var momentumDuration = Math.max(momentumDurationX, momentumDurationY);\n    image.currentX = newPositionX;\n    image.currentY = newPositionY; // Define if we need image drag\n\n    var scaledWidth = image.width * zoom.scale;\n    var scaledHeight = image.height * zoom.scale;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.currentX = Math.max(Math.min(image.currentX, image.maxX), image.minX);\n    image.currentY = Math.max(Math.min(image.currentY, image.maxY), image.minY);\n    gesture.$imageWrapEl.transition(momentumDuration).transform(\"translate3d(\" + image.currentX + \"px, \" + image.currentY + \"px,0)\");\n  },\n  onTransitionEnd: function onTransitionEnd() {\n    var swiper = this;\n    var zoom = swiper.zoom;\n    var gesture = zoom.gesture;\n\n    if (gesture.$slideEl && swiper.previousIndex !== swiper.activeIndex) {\n      if (gesture.$imageEl) {\n        gesture.$imageEl.transform('translate3d(0,0,0) scale(1)');\n      }\n\n      if (gesture.$imageWrapEl) {\n        gesture.$imageWrapEl.transform('translate3d(0,0,0)');\n      }\n\n      zoom.scale = 1;\n      zoom.currentScale = 1;\n      gesture.$slideEl = undefined;\n      gesture.$imageEl = undefined;\n      gesture.$imageWrapEl = undefined;\n    }\n  },\n  // Toggle Zoom\n  toggle: function toggle(e) {\n    var swiper = this;\n    var zoom = swiper.zoom;\n\n    if (zoom.scale && zoom.scale !== 1) {\n      // Zoom Out\n      zoom.out();\n    } else {\n      // Zoom In\n      zoom.in(e);\n    }\n  },\n  in: function _in(e) {\n    var swiper = this;\n    var window = getWindow();\n    var zoom = swiper.zoom;\n    var params = swiper.params.zoom;\n    var gesture = zoom.gesture,\n        image = zoom.image;\n\n    if (!gesture.$slideEl) {\n      if (e && e.target) {\n        gesture.$slideEl = $(e.target).closest(\".\" + swiper.params.slideClass);\n      }\n\n      if (!gesture.$slideEl) {\n        if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n          gesture.$slideEl = swiper.$wrapperEl.children(\".\" + swiper.params.slideActiveClass);\n        } else {\n          gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n        }\n      }\n\n      gesture.$imageEl = gesture.$slideEl.find('img, svg, canvas, picture, .swiper-zoom-target');\n      gesture.$imageWrapEl = gesture.$imageEl.parent(\".\" + params.containerClass);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n    gesture.$slideEl.addClass(\"\" + params.zoomedSlideClass);\n    var touchX;\n    var touchY;\n    var offsetX;\n    var offsetY;\n    var diffX;\n    var diffY;\n    var translateX;\n    var translateY;\n    var imageWidth;\n    var imageHeight;\n    var scaledWidth;\n    var scaledHeight;\n    var translateMinX;\n    var translateMinY;\n    var translateMaxX;\n    var translateMaxY;\n    var slideWidth;\n    var slideHeight;\n\n    if (typeof image.touchesStart.x === 'undefined' && e) {\n      touchX = e.type === 'touchend' ? e.changedTouches[0].pageX : e.pageX;\n      touchY = e.type === 'touchend' ? e.changedTouches[0].pageY : e.pageY;\n    } else {\n      touchX = image.touchesStart.x;\n      touchY = image.touchesStart.y;\n    }\n\n    zoom.scale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n    zoom.currentScale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n    if (e) {\n      slideWidth = gesture.$slideEl[0].offsetWidth;\n      slideHeight = gesture.$slideEl[0].offsetHeight;\n      offsetX = gesture.$slideEl.offset().left + window.scrollX;\n      offsetY = gesture.$slideEl.offset().top + window.scrollY;\n      diffX = offsetX + slideWidth / 2 - touchX;\n      diffY = offsetY + slideHeight / 2 - touchY;\n      imageWidth = gesture.$imageEl[0].offsetWidth;\n      imageHeight = gesture.$imageEl[0].offsetHeight;\n      scaledWidth = imageWidth * zoom.scale;\n      scaledHeight = imageHeight * zoom.scale;\n      translateMinX = Math.min(slideWidth / 2 - scaledWidth / 2, 0);\n      translateMinY = Math.min(slideHeight / 2 - scaledHeight / 2, 0);\n      translateMaxX = -translateMinX;\n      translateMaxY = -translateMinY;\n      translateX = diffX * zoom.scale;\n      translateY = diffY * zoom.scale;\n\n      if (translateX < translateMinX) {\n        translateX = translateMinX;\n      }\n\n      if (translateX > translateMaxX) {\n        translateX = translateMaxX;\n      }\n\n      if (translateY < translateMinY) {\n        translateY = translateMinY;\n      }\n\n      if (translateY > translateMaxY) {\n        translateY = translateMaxY;\n      }\n    } else {\n      translateX = 0;\n      translateY = 0;\n    }\n\n    gesture.$imageWrapEl.transition(300).transform(\"translate3d(\" + translateX + \"px, \" + translateY + \"px,0)\");\n    gesture.$imageEl.transition(300).transform(\"translate3d(0,0,0) scale(\" + zoom.scale + \")\");\n  },\n  out: function out() {\n    var swiper = this;\n    var zoom = swiper.zoom;\n    var params = swiper.params.zoom;\n    var gesture = zoom.gesture;\n\n    if (!gesture.$slideEl) {\n      if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n        gesture.$slideEl = swiper.$wrapperEl.children(\".\" + swiper.params.slideActiveClass);\n      } else {\n        gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n      }\n\n      gesture.$imageEl = gesture.$slideEl.find('img, svg, canvas, picture, .swiper-zoom-target');\n      gesture.$imageWrapEl = gesture.$imageEl.parent(\".\" + params.containerClass);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n    zoom.scale = 1;\n    zoom.currentScale = 1;\n    gesture.$imageWrapEl.transition(300).transform('translate3d(0,0,0)');\n    gesture.$imageEl.transition(300).transform('translate3d(0,0,0) scale(1)');\n    gesture.$slideEl.removeClass(\"\" + params.zoomedSlideClass);\n    gesture.$slideEl = undefined;\n  },\n  toggleGestures: function toggleGestures(method) {\n    var swiper = this;\n    var zoom = swiper.zoom;\n    var selector = zoom.slideSelector,\n        passive = zoom.passiveListener;\n    swiper.$wrapperEl[method]('gesturestart', selector, zoom.onGestureStart, passive);\n    swiper.$wrapperEl[method]('gesturechange', selector, zoom.onGestureChange, passive);\n    swiper.$wrapperEl[method]('gestureend', selector, zoom.onGestureEnd, passive);\n  },\n  enableGestures: function enableGestures() {\n    if (this.zoom.gesturesEnabled) return;\n    this.zoom.gesturesEnabled = true;\n    this.zoom.toggleGestures('on');\n  },\n  disableGestures: function disableGestures() {\n    if (!this.zoom.gesturesEnabled) return;\n    this.zoom.gesturesEnabled = false;\n    this.zoom.toggleGestures('off');\n  },\n  // Attach/Detach Events\n  enable: function enable() {\n    var swiper = this;\n    var support = swiper.support;\n    var zoom = swiper.zoom;\n    if (zoom.enabled) return;\n    zoom.enabled = true;\n    var passiveListener = swiper.touchEvents.start === 'touchstart' && support.passiveListener && swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    var activeListenerWithCapture = support.passiveListener ? {\n      passive: false,\n      capture: true\n    } : true;\n    var slideSelector = \".\" + swiper.params.slideClass;\n    swiper.zoom.passiveListener = passiveListener;\n    swiper.zoom.slideSelector = slideSelector; // Scale image\n\n    if (support.gestures) {\n      swiper.$wrapperEl.on(swiper.touchEvents.start, swiper.zoom.enableGestures, passiveListener);\n      swiper.$wrapperEl.on(swiper.touchEvents.end, swiper.zoom.disableGestures, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      swiper.$wrapperEl.on(swiper.touchEvents.start, slideSelector, zoom.onGestureStart, passiveListener);\n      swiper.$wrapperEl.on(swiper.touchEvents.move, slideSelector, zoom.onGestureChange, activeListenerWithCapture);\n      swiper.$wrapperEl.on(swiper.touchEvents.end, slideSelector, zoom.onGestureEnd, passiveListener);\n\n      if (swiper.touchEvents.cancel) {\n        swiper.$wrapperEl.on(swiper.touchEvents.cancel, slideSelector, zoom.onGestureEnd, passiveListener);\n      }\n    } // Move image\n\n\n    swiper.$wrapperEl.on(swiper.touchEvents.move, \".\" + swiper.params.zoom.containerClass, zoom.onTouchMove, activeListenerWithCapture);\n  },\n  disable: function disable() {\n    var swiper = this;\n    var zoom = swiper.zoom;\n    if (!zoom.enabled) return;\n    var support = swiper.support;\n    swiper.zoom.enabled = false;\n    var passiveListener = swiper.touchEvents.start === 'touchstart' && support.passiveListener && swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    var activeListenerWithCapture = support.passiveListener ? {\n      passive: false,\n      capture: true\n    } : true;\n    var slideSelector = \".\" + swiper.params.slideClass; // Scale image\n\n    if (support.gestures) {\n      swiper.$wrapperEl.off(swiper.touchEvents.start, swiper.zoom.enableGestures, passiveListener);\n      swiper.$wrapperEl.off(swiper.touchEvents.end, swiper.zoom.disableGestures, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      swiper.$wrapperEl.off(swiper.touchEvents.start, slideSelector, zoom.onGestureStart, passiveListener);\n      swiper.$wrapperEl.off(swiper.touchEvents.move, slideSelector, zoom.onGestureChange, activeListenerWithCapture);\n      swiper.$wrapperEl.off(swiper.touchEvents.end, slideSelector, zoom.onGestureEnd, passiveListener);\n\n      if (swiper.touchEvents.cancel) {\n        swiper.$wrapperEl.off(swiper.touchEvents.cancel, slideSelector, zoom.onGestureEnd, passiveListener);\n      }\n    } // Move image\n\n\n    swiper.$wrapperEl.off(swiper.touchEvents.move, \".\" + swiper.params.zoom.containerClass, zoom.onTouchMove, activeListenerWithCapture);\n  }\n};\nexport default {\n  name: 'zoom',\n  params: {\n    zoom: {\n      enabled: false,\n      maxRatio: 3,\n      minRatio: 1,\n      toggle: true,\n      containerClass: 'swiper-zoom-container',\n      zoomedSlideClass: 'swiper-slide-zoomed'\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      zoom: _extends({\n        enabled: false,\n        scale: 1,\n        currentScale: 1,\n        isScaling: false,\n        gesture: {\n          $slideEl: undefined,\n          slideWidth: undefined,\n          slideHeight: undefined,\n          $imageEl: undefined,\n          $imageWrapEl: undefined,\n          maxRatio: 3\n        },\n        image: {\n          isTouched: undefined,\n          isMoved: undefined,\n          currentX: undefined,\n          currentY: undefined,\n          minX: undefined,\n          minY: undefined,\n          maxX: undefined,\n          maxY: undefined,\n          width: undefined,\n          height: undefined,\n          startX: undefined,\n          startY: undefined,\n          touchesStart: {},\n          touchesCurrent: {}\n        },\n        velocity: {\n          x: undefined,\n          y: undefined,\n          prevPositionX: undefined,\n          prevPositionY: undefined,\n          prevTime: undefined\n        }\n      }, Zoom)\n    });\n    var scale = 1;\n    Object.defineProperty(swiper.zoom, 'scale', {\n      get: function get() {\n        return scale;\n      },\n      set: function set(value) {\n        if (scale !== value) {\n          var imageEl = swiper.zoom.gesture.$imageEl ? swiper.zoom.gesture.$imageEl[0] : undefined;\n          var slideEl = swiper.zoom.gesture.$slideEl ? swiper.zoom.gesture.$slideEl[0] : undefined;\n          swiper.emit('zoomChange', value, imageEl, slideEl);\n        }\n\n        scale = value;\n      }\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      if (swiper.params.zoom.enabled) {\n        swiper.zoom.enable();\n      }\n    },\n    destroy: function destroy(swiper) {\n      swiper.zoom.disable();\n    },\n    touchStart: function touchStart(swiper, e) {\n      if (!swiper.zoom.enabled) return;\n      swiper.zoom.onTouchStart(e);\n    },\n    touchEnd: function touchEnd(swiper, e) {\n      if (!swiper.zoom.enabled) return;\n      swiper.zoom.onTouchEnd(e);\n    },\n    doubleTap: function doubleTap(swiper, e) {\n      if (!swiper.animating && swiper.params.zoom.enabled && swiper.zoom.enabled && swiper.params.zoom.toggle) {\n        swiper.zoom.toggle(e);\n      }\n    },\n    transitionEnd: function transitionEnd(swiper) {\n      if (swiper.zoom.enabled && swiper.params.zoom.enabled) {\n        swiper.zoom.onTransitionEnd();\n      }\n    },\n    slideChange: function slideChange(swiper) {\n      if (swiper.zoom.enabled && swiper.params.zoom.enabled && swiper.params.cssMode) {\n        swiper.zoom.onTransitionEnd();\n      }\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { getWindow } from 'ssr-window';\nimport $ from '../../utils/dom';\nimport { bindModuleMethods } from '../../utils/utils';\nvar Lazy = {\n  loadInSlide: function loadInSlide(index, loadInDuplicate) {\n    if (loadInDuplicate === void 0) {\n      loadInDuplicate = true;\n    }\n\n    var swiper = this;\n    var params = swiper.params.lazy;\n    if (typeof index === 'undefined') return;\n    if (swiper.slides.length === 0) return;\n    var isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n    var $slideEl = isVirtual ? swiper.$wrapperEl.children(\".\" + swiper.params.slideClass + \"[data-swiper-slide-index=\\\"\" + index + \"\\\"]\") : swiper.slides.eq(index);\n    var $images = $slideEl.find(\".\" + params.elementClass + \":not(.\" + params.loadedClass + \"):not(.\" + params.loadingClass + \")\");\n\n    if ($slideEl.hasClass(params.elementClass) && !$slideEl.hasClass(params.loadedClass) && !$slideEl.hasClass(params.loadingClass)) {\n      $images.push($slideEl[0]);\n    }\n\n    if ($images.length === 0) return;\n    $images.each(function (imageEl) {\n      var $imageEl = $(imageEl);\n      $imageEl.addClass(params.loadingClass);\n      var background = $imageEl.attr('data-background');\n      var src = $imageEl.attr('data-src');\n      var srcset = $imageEl.attr('data-srcset');\n      var sizes = $imageEl.attr('data-sizes');\n      var $pictureEl = $imageEl.parent('picture');\n      swiper.loadImage($imageEl[0], src || background, srcset, sizes, false, function () {\n        if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper && !swiper.params || swiper.destroyed) return;\n\n        if (background) {\n          $imageEl.css('background-image', \"url(\\\"\" + background + \"\\\")\");\n          $imageEl.removeAttr('data-background');\n        } else {\n          if (srcset) {\n            $imageEl.attr('srcset', srcset);\n            $imageEl.removeAttr('data-srcset');\n          }\n\n          if (sizes) {\n            $imageEl.attr('sizes', sizes);\n            $imageEl.removeAttr('data-sizes');\n          }\n\n          if ($pictureEl.length) {\n            $pictureEl.children('source').each(function (sourceEl) {\n              var $source = $(sourceEl);\n\n              if ($source.attr('data-srcset')) {\n                $source.attr('srcset', $source.attr('data-srcset'));\n                $source.removeAttr('data-srcset');\n              }\n            });\n          }\n\n          if (src) {\n            $imageEl.attr('src', src);\n            $imageEl.removeAttr('data-src');\n          }\n        }\n\n        $imageEl.addClass(params.loadedClass).removeClass(params.loadingClass);\n        $slideEl.find(\".\" + params.preloaderClass).remove();\n\n        if (swiper.params.loop && loadInDuplicate) {\n          var slideOriginalIndex = $slideEl.attr('data-swiper-slide-index');\n\n          if ($slideEl.hasClass(swiper.params.slideDuplicateClass)) {\n            var originalSlide = swiper.$wrapperEl.children(\"[data-swiper-slide-index=\\\"\" + slideOriginalIndex + \"\\\"]:not(.\" + swiper.params.slideDuplicateClass + \")\");\n            swiper.lazy.loadInSlide(originalSlide.index(), false);\n          } else {\n            var duplicatedSlide = swiper.$wrapperEl.children(\".\" + swiper.params.slideDuplicateClass + \"[data-swiper-slide-index=\\\"\" + slideOriginalIndex + \"\\\"]\");\n            swiper.lazy.loadInSlide(duplicatedSlide.index(), false);\n          }\n        }\n\n        swiper.emit('lazyImageReady', $slideEl[0], $imageEl[0]);\n\n        if (swiper.params.autoHeight) {\n          swiper.updateAutoHeight();\n        }\n      });\n      swiper.emit('lazyImageLoad', $slideEl[0], $imageEl[0]);\n    });\n  },\n  load: function load() {\n    var swiper = this;\n    var $wrapperEl = swiper.$wrapperEl,\n        swiperParams = swiper.params,\n        slides = swiper.slides,\n        activeIndex = swiper.activeIndex;\n    var isVirtual = swiper.virtual && swiperParams.virtual.enabled;\n    var params = swiperParams.lazy;\n    var slidesPerView = swiperParams.slidesPerView;\n\n    if (slidesPerView === 'auto') {\n      slidesPerView = 0;\n    }\n\n    function slideExist(index) {\n      if (isVirtual) {\n        if ($wrapperEl.children(\".\" + swiperParams.slideClass + \"[data-swiper-slide-index=\\\"\" + index + \"\\\"]\").length) {\n          return true;\n        }\n      } else if (slides[index]) return true;\n\n      return false;\n    }\n\n    function slideIndex(slideEl) {\n      if (isVirtual) {\n        return $(slideEl).attr('data-swiper-slide-index');\n      }\n\n      return $(slideEl).index();\n    }\n\n    if (!swiper.lazy.initialImageLoaded) swiper.lazy.initialImageLoaded = true;\n\n    if (swiper.params.watchSlidesVisibility) {\n      $wrapperEl.children(\".\" + swiperParams.slideVisibleClass).each(function (slideEl) {\n        var index = isVirtual ? $(slideEl).attr('data-swiper-slide-index') : $(slideEl).index();\n        swiper.lazy.loadInSlide(index);\n      });\n    } else if (slidesPerView > 1) {\n      for (var i = activeIndex; i < activeIndex + slidesPerView; i += 1) {\n        if (slideExist(i)) swiper.lazy.loadInSlide(i);\n      }\n    } else {\n      swiper.lazy.loadInSlide(activeIndex);\n    }\n\n    if (params.loadPrevNext) {\n      if (slidesPerView > 1 || params.loadPrevNextAmount && params.loadPrevNextAmount > 1) {\n        var amount = params.loadPrevNextAmount;\n        var spv = slidesPerView;\n        var maxIndex = Math.min(activeIndex + spv + Math.max(amount, spv), slides.length);\n        var minIndex = Math.max(activeIndex - Math.max(spv, amount), 0); // Next Slides\n\n        for (var _i = activeIndex + slidesPerView; _i < maxIndex; _i += 1) {\n          if (slideExist(_i)) swiper.lazy.loadInSlide(_i);\n        } // Prev Slides\n\n\n        for (var _i2 = minIndex; _i2 < activeIndex; _i2 += 1) {\n          if (slideExist(_i2)) swiper.lazy.loadInSlide(_i2);\n        }\n      } else {\n        var nextSlide = $wrapperEl.children(\".\" + swiperParams.slideNextClass);\n        if (nextSlide.length > 0) swiper.lazy.loadInSlide(slideIndex(nextSlide));\n        var prevSlide = $wrapperEl.children(\".\" + swiperParams.slidePrevClass);\n        if (prevSlide.length > 0) swiper.lazy.loadInSlide(slideIndex(prevSlide));\n      }\n    }\n  },\n  checkInViewOnLoad: function checkInViewOnLoad() {\n    var window = getWindow();\n    var swiper = this;\n    if (!swiper || swiper.destroyed) return;\n    var $scrollElement = swiper.params.lazy.scrollingElement ? $(swiper.params.lazy.scrollingElement) : $(window);\n    var isWindow = $scrollElement[0] === window;\n    var scrollElementWidth = isWindow ? window.innerWidth : $scrollElement[0].offsetWidth;\n    var scrollElementHeight = isWindow ? window.innerHeight : $scrollElement[0].offsetHeight;\n    var swiperOffset = swiper.$el.offset();\n    var rtl = swiper.rtlTranslate;\n    var inView = false;\n    if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n    var swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiper.width, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiper.height], [swiperOffset.left + swiper.width, swiperOffset.top + swiper.height]];\n\n    for (var i = 0; i < swiperCoord.length; i += 1) {\n      var point = swiperCoord[i];\n\n      if (point[0] >= 0 && point[0] <= scrollElementWidth && point[1] >= 0 && point[1] <= scrollElementHeight) {\n        if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n\n        inView = true;\n      }\n    }\n\n    var passiveListener = swiper.touchEvents.start === 'touchstart' && swiper.support.passiveListener && swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n\n    if (inView) {\n      swiper.lazy.load();\n      $scrollElement.off('scroll', swiper.lazy.checkInViewOnLoad, passiveListener);\n    } else if (!swiper.lazy.scrollHandlerAttached) {\n      swiper.lazy.scrollHandlerAttached = true;\n      $scrollElement.on('scroll', swiper.lazy.checkInViewOnLoad, passiveListener);\n    }\n  }\n};\nexport default {\n  name: 'lazy',\n  params: {\n    lazy: {\n      checkInView: false,\n      enabled: false,\n      loadPrevNext: false,\n      loadPrevNextAmount: 1,\n      loadOnTransitionStart: false,\n      scrollingElement: '',\n      elementClass: 'swiper-lazy',\n      loadingClass: 'swiper-lazy-loading',\n      loadedClass: 'swiper-lazy-loaded',\n      preloaderClass: 'swiper-lazy-preloader'\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      lazy: _extends({\n        initialImageLoaded: false\n      }, Lazy)\n    });\n  },\n  on: {\n    beforeInit: function beforeInit(swiper) {\n      if (swiper.params.lazy.enabled && swiper.params.preloadImages) {\n        swiper.params.preloadImages = false;\n      }\n    },\n    init: function init(swiper) {\n      if (swiper.params.lazy.enabled && !swiper.params.loop && swiper.params.initialSlide === 0) {\n        if (swiper.params.lazy.checkInView) {\n          swiper.lazy.checkInViewOnLoad();\n        } else {\n          swiper.lazy.load();\n        }\n      }\n    },\n    scroll: function scroll(swiper) {\n      if (swiper.params.freeMode && !swiper.params.freeModeSticky) {\n        swiper.lazy.load();\n      }\n    },\n    'scrollbarDragMove resize _freeModeNoMomentumRelease': function lazyLoad(swiper) {\n      if (swiper.params.lazy.enabled) {\n        swiper.lazy.load();\n      }\n    },\n    transitionStart: function transitionStart(swiper) {\n      if (swiper.params.lazy.enabled) {\n        if (swiper.params.lazy.loadOnTransitionStart || !swiper.params.lazy.loadOnTransitionStart && !swiper.lazy.initialImageLoaded) {\n          swiper.lazy.load();\n        }\n      }\n    },\n    transitionEnd: function transitionEnd(swiper) {\n      if (swiper.params.lazy.enabled && !swiper.params.lazy.loadOnTransitionStart) {\n        swiper.lazy.load();\n      }\n    },\n    slideChange: function slideChange(swiper) {\n      var _swiper$params = swiper.params,\n          lazy = _swiper$params.lazy,\n          cssMode = _swiper$params.cssMode,\n          watchSlidesVisibility = _swiper$params.watchSlidesVisibility,\n          watchSlidesProgress = _swiper$params.watchSlidesProgress,\n          touchReleaseOnEdges = _swiper$params.touchReleaseOnEdges,\n          resistanceRatio = _swiper$params.resistanceRatio;\n\n      if (lazy.enabled && (cssMode || (watchSlidesVisibility || watchSlidesProgress) && (touchReleaseOnEdges || resistanceRatio === 0))) {\n        swiper.lazy.load();\n      }\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/* eslint no-bitwise: [\"error\", { \"allow\": [\">>\"] }] */\nimport { nextTick, bindModuleMethods } from '../../utils/utils';\nvar Controller = {\n  LinearSpline: function LinearSpline(x, y) {\n    var binarySearch = function search() {\n      var maxIndex;\n      var minIndex;\n      var guess;\n      return function (array, val) {\n        minIndex = -1;\n        maxIndex = array.length;\n\n        while (maxIndex - minIndex > 1) {\n          guess = maxIndex + minIndex >> 1;\n\n          if (array[guess] <= val) {\n            minIndex = guess;\n          } else {\n            maxIndex = guess;\n          }\n        }\n\n        return maxIndex;\n      };\n    }();\n\n    this.x = x;\n    this.y = y;\n    this.lastIndex = x.length - 1; // Given an x value (x2), return the expected y2 value:\n    // (x1,y1) is the known point before given value,\n    // (x3,y3) is the known point after given value.\n\n    var i1;\n    var i3;\n\n    this.interpolate = function interpolate(x2) {\n      if (!x2) return 0; // Get the indexes of x1 and x3 (the array indexes before and after given x2):\n\n      i3 = binarySearch(this.x, x2);\n      i1 = i3 - 1; // We have our indexes i1 & i3, so we can calculate already:\n      // y2 := ((x2x1)  (y3y1))  (x3x1) + y1\n\n      return (x2 - this.x[i1]) * (this.y[i3] - this.y[i1]) / (this.x[i3] - this.x[i1]) + this.y[i1];\n    };\n\n    return this;\n  },\n  // xxx: for now i will just save one spline function to to\n  getInterpolateFunction: function getInterpolateFunction(c) {\n    var swiper = this;\n\n    if (!swiper.controller.spline) {\n      swiper.controller.spline = swiper.params.loop ? new Controller.LinearSpline(swiper.slidesGrid, c.slidesGrid) : new Controller.LinearSpline(swiper.snapGrid, c.snapGrid);\n    }\n  },\n  setTranslate: function setTranslate(_setTranslate, byController) {\n    var swiper = this;\n    var controlled = swiper.controller.control;\n    var multiplier;\n    var controlledTranslate;\n    var Swiper = swiper.constructor;\n\n    function setControlledTranslate(c) {\n      // this will create an Interpolate function based on the snapGrids\n      // x is the Grid of the scrolled scroller and y will be the controlled scroller\n      // it makes sense to create this only once and recall it for the interpolation\n      // the function does a lot of value caching for performance\n      var translate = swiper.rtlTranslate ? -swiper.translate : swiper.translate;\n\n      if (swiper.params.controller.by === 'slide') {\n        swiper.controller.getInterpolateFunction(c); // i am not sure why the values have to be multiplicated this way, tried to invert the snapGrid\n        // but it did not work out\n\n        controlledTranslate = -swiper.controller.spline.interpolate(-translate);\n      }\n\n      if (!controlledTranslate || swiper.params.controller.by === 'container') {\n        multiplier = (c.maxTranslate() - c.minTranslate()) / (swiper.maxTranslate() - swiper.minTranslate());\n        controlledTranslate = (translate - swiper.minTranslate()) * multiplier + c.minTranslate();\n      }\n\n      if (swiper.params.controller.inverse) {\n        controlledTranslate = c.maxTranslate() - controlledTranslate;\n      }\n\n      c.updateProgress(controlledTranslate);\n      c.setTranslate(controlledTranslate, swiper);\n      c.updateActiveIndex();\n      c.updateSlidesClasses();\n    }\n\n    if (Array.isArray(controlled)) {\n      for (var i = 0; i < controlled.length; i += 1) {\n        if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n          setControlledTranslate(controlled[i]);\n        }\n      }\n    } else if (controlled instanceof Swiper && byController !== controlled) {\n      setControlledTranslate(controlled);\n    }\n  },\n  setTransition: function setTransition(duration, byController) {\n    var swiper = this;\n    var Swiper = swiper.constructor;\n    var controlled = swiper.controller.control;\n    var i;\n\n    function setControlledTransition(c) {\n      c.setTransition(duration, swiper);\n\n      if (duration !== 0) {\n        c.transitionStart();\n\n        if (c.params.autoHeight) {\n          nextTick(function () {\n            c.updateAutoHeight();\n          });\n        }\n\n        c.$wrapperEl.transitionEnd(function () {\n          if (!controlled) return;\n\n          if (c.params.loop && swiper.params.controller.by === 'slide') {\n            c.loopFix();\n          }\n\n          c.transitionEnd();\n        });\n      }\n    }\n\n    if (Array.isArray(controlled)) {\n      for (i = 0; i < controlled.length; i += 1) {\n        if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n          setControlledTransition(controlled[i]);\n        }\n      }\n    } else if (controlled instanceof Swiper && byController !== controlled) {\n      setControlledTransition(controlled);\n    }\n  }\n};\nexport default {\n  name: 'controller',\n  params: {\n    controller: {\n      control: undefined,\n      inverse: false,\n      by: 'slide' // or 'container'\n\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      controller: _extends({\n        control: swiper.params.controller.control\n      }, Controller)\n    });\n  },\n  on: {\n    update: function update(swiper) {\n      if (!swiper.controller.control) return;\n\n      if (swiper.controller.spline) {\n        swiper.controller.spline = undefined;\n        delete swiper.controller.spline;\n      }\n    },\n    resize: function resize(swiper) {\n      if (!swiper.controller.control) return;\n\n      if (swiper.controller.spline) {\n        swiper.controller.spline = undefined;\n        delete swiper.controller.spline;\n      }\n    },\n    observerUpdate: function observerUpdate(swiper) {\n      if (!swiper.controller.control) return;\n\n      if (swiper.controller.spline) {\n        swiper.controller.spline = undefined;\n        delete swiper.controller.spline;\n      }\n    },\n    setTranslate: function setTranslate(swiper, translate, byController) {\n      if (!swiper.controller.control) return;\n      swiper.controller.setTranslate(translate, byController);\n    },\n    setTransition: function setTransition(swiper, duration, byController) {\n      if (!swiper.controller.control) return;\n      swiper.controller.setTransition(duration, byController);\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport $ from '../../utils/dom';\nimport { bindModuleMethods, classesToSelector } from '../../utils/utils';\nvar A11y = {\n  getRandomNumber: function getRandomNumber(size) {\n    if (size === void 0) {\n      size = 16;\n    }\n\n    var randomChar = function randomChar() {\n      return Math.round(16 * Math.random()).toString(16);\n    };\n\n    return 'x'.repeat(size).replace(/x/g, randomChar);\n  },\n  makeElFocusable: function makeElFocusable($el) {\n    $el.attr('tabIndex', '0');\n    return $el;\n  },\n  makeElNotFocusable: function makeElNotFocusable($el) {\n    $el.attr('tabIndex', '-1');\n    return $el;\n  },\n  addElRole: function addElRole($el, role) {\n    $el.attr('role', role);\n    return $el;\n  },\n  addElRoleDescription: function addElRoleDescription($el, description) {\n    $el.attr('aria-roledescription', description);\n    return $el;\n  },\n  addElControls: function addElControls($el, controls) {\n    $el.attr('aria-controls', controls);\n    return $el;\n  },\n  addElLabel: function addElLabel($el, label) {\n    $el.attr('aria-label', label);\n    return $el;\n  },\n  addElId: function addElId($el, id) {\n    $el.attr('id', id);\n    return $el;\n  },\n  addElLive: function addElLive($el, live) {\n    $el.attr('aria-live', live);\n    return $el;\n  },\n  disableEl: function disableEl($el) {\n    $el.attr('aria-disabled', true);\n    return $el;\n  },\n  enableEl: function enableEl($el) {\n    $el.attr('aria-disabled', false);\n    return $el;\n  },\n  onEnterOrSpaceKey: function onEnterOrSpaceKey(e) {\n    if (e.keyCode !== 13 && e.keyCode !== 32) return;\n    var swiper = this;\n    var params = swiper.params.a11y;\n    var $targetEl = $(e.target);\n\n    if (swiper.navigation && swiper.navigation.$nextEl && $targetEl.is(swiper.navigation.$nextEl)) {\n      if (!(swiper.isEnd && !swiper.params.loop)) {\n        swiper.slideNext();\n      }\n\n      if (swiper.isEnd) {\n        swiper.a11y.notify(params.lastSlideMessage);\n      } else {\n        swiper.a11y.notify(params.nextSlideMessage);\n      }\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl && $targetEl.is(swiper.navigation.$prevEl)) {\n      if (!(swiper.isBeginning && !swiper.params.loop)) {\n        swiper.slidePrev();\n      }\n\n      if (swiper.isBeginning) {\n        swiper.a11y.notify(params.firstSlideMessage);\n      } else {\n        swiper.a11y.notify(params.prevSlideMessage);\n      }\n    }\n\n    if (swiper.pagination && $targetEl.is(classesToSelector(swiper.params.pagination.bulletClass))) {\n      $targetEl[0].click();\n    }\n  },\n  notify: function notify(message) {\n    var swiper = this;\n    var notification = swiper.a11y.liveRegion;\n    if (notification.length === 0) return;\n    notification.html('');\n    notification.html(message);\n  },\n  updateNavigation: function updateNavigation() {\n    var swiper = this;\n    if (swiper.params.loop || !swiper.navigation) return;\n    var _swiper$navigation = swiper.navigation,\n        $nextEl = _swiper$navigation.$nextEl,\n        $prevEl = _swiper$navigation.$prevEl;\n\n    if ($prevEl && $prevEl.length > 0) {\n      if (swiper.isBeginning) {\n        swiper.a11y.disableEl($prevEl);\n        swiper.a11y.makeElNotFocusable($prevEl);\n      } else {\n        swiper.a11y.enableEl($prevEl);\n        swiper.a11y.makeElFocusable($prevEl);\n      }\n    }\n\n    if ($nextEl && $nextEl.length > 0) {\n      if (swiper.isEnd) {\n        swiper.a11y.disableEl($nextEl);\n        swiper.a11y.makeElNotFocusable($nextEl);\n      } else {\n        swiper.a11y.enableEl($nextEl);\n        swiper.a11y.makeElFocusable($nextEl);\n      }\n    }\n  },\n  updatePagination: function updatePagination() {\n    var swiper = this;\n    var params = swiper.params.a11y;\n\n    if (swiper.pagination && swiper.params.pagination.clickable && swiper.pagination.bullets && swiper.pagination.bullets.length) {\n      swiper.pagination.bullets.each(function (bulletEl) {\n        var $bulletEl = $(bulletEl);\n        swiper.a11y.makeElFocusable($bulletEl);\n\n        if (!swiper.params.pagination.renderBullet) {\n          swiper.a11y.addElRole($bulletEl, 'button');\n          swiper.a11y.addElLabel($bulletEl, params.paginationBulletMessage.replace(/\\{\\{index\\}\\}/, $bulletEl.index() + 1));\n        }\n      });\n    }\n  },\n  init: function init() {\n    var swiper = this;\n    var params = swiper.params.a11y;\n    swiper.$el.append(swiper.a11y.liveRegion); // Container\n\n    var $containerEl = swiper.$el;\n\n    if (params.containerRoleDescriptionMessage) {\n      swiper.a11y.addElRoleDescription($containerEl, params.containerRoleDescriptionMessage);\n    }\n\n    if (params.containerMessage) {\n      swiper.a11y.addElLabel($containerEl, params.containerMessage);\n    } // Wrapper\n\n\n    var $wrapperEl = swiper.$wrapperEl;\n    var wrapperId = $wrapperEl.attr('id') || \"swiper-wrapper-\" + swiper.a11y.getRandomNumber(16);\n    var live = swiper.params.autoplay && swiper.params.autoplay.enabled ? 'off' : 'polite';\n    swiper.a11y.addElId($wrapperEl, wrapperId);\n    swiper.a11y.addElLive($wrapperEl, live); // Slide\n\n    if (params.itemRoleDescriptionMessage) {\n      swiper.a11y.addElRoleDescription($(swiper.slides), params.itemRoleDescriptionMessage);\n    }\n\n    swiper.a11y.addElRole($(swiper.slides), params.slideRole);\n    var slidesLength = swiper.params.loop ? swiper.slides.filter(function (el) {\n      return !el.classList.contains(swiper.params.slideDuplicateClass);\n    }).length : swiper.slides.length;\n    swiper.slides.each(function (slideEl, index) {\n      var $slideEl = $(slideEl);\n      var slideIndex = swiper.params.loop ? parseInt($slideEl.attr('data-swiper-slide-index'), 10) : index;\n      var ariaLabelMessage = params.slideLabelMessage.replace(/\\{\\{index\\}\\}/, slideIndex + 1).replace(/\\{\\{slidesLength\\}\\}/, slidesLength);\n      swiper.a11y.addElLabel($slideEl, ariaLabelMessage);\n    }); // Navigation\n\n    var $nextEl;\n    var $prevEl;\n\n    if (swiper.navigation && swiper.navigation.$nextEl) {\n      $nextEl = swiper.navigation.$nextEl;\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl) {\n      $prevEl = swiper.navigation.$prevEl;\n    }\n\n    if ($nextEl && $nextEl.length) {\n      swiper.a11y.makeElFocusable($nextEl);\n\n      if ($nextEl[0].tagName !== 'BUTTON') {\n        swiper.a11y.addElRole($nextEl, 'button');\n        $nextEl.on('keydown', swiper.a11y.onEnterOrSpaceKey);\n      }\n\n      swiper.a11y.addElLabel($nextEl, params.nextSlideMessage);\n      swiper.a11y.addElControls($nextEl, wrapperId);\n    }\n\n    if ($prevEl && $prevEl.length) {\n      swiper.a11y.makeElFocusable($prevEl);\n\n      if ($prevEl[0].tagName !== 'BUTTON') {\n        swiper.a11y.addElRole($prevEl, 'button');\n        $prevEl.on('keydown', swiper.a11y.onEnterOrSpaceKey);\n      }\n\n      swiper.a11y.addElLabel($prevEl, params.prevSlideMessage);\n      swiper.a11y.addElControls($prevEl, wrapperId);\n    } // Pagination\n\n\n    if (swiper.pagination && swiper.params.pagination.clickable && swiper.pagination.bullets && swiper.pagination.bullets.length) {\n      swiper.pagination.$el.on('keydown', classesToSelector(swiper.params.pagination.bulletClass), swiper.a11y.onEnterOrSpaceKey);\n    }\n  },\n  destroy: function destroy() {\n    var swiper = this;\n    if (swiper.a11y.liveRegion && swiper.a11y.liveRegion.length > 0) swiper.a11y.liveRegion.remove();\n    var $nextEl;\n    var $prevEl;\n\n    if (swiper.navigation && swiper.navigation.$nextEl) {\n      $nextEl = swiper.navigation.$nextEl;\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl) {\n      $prevEl = swiper.navigation.$prevEl;\n    }\n\n    if ($nextEl) {\n      $nextEl.off('keydown', swiper.a11y.onEnterOrSpaceKey);\n    }\n\n    if ($prevEl) {\n      $prevEl.off('keydown', swiper.a11y.onEnterOrSpaceKey);\n    } // Pagination\n\n\n    if (swiper.pagination && swiper.params.pagination.clickable && swiper.pagination.bullets && swiper.pagination.bullets.length) {\n      swiper.pagination.$el.off('keydown', classesToSelector(swiper.params.pagination.bulletClass), swiper.a11y.onEnterOrSpaceKey);\n    }\n  }\n};\nexport default {\n  name: 'a11y',\n  params: {\n    a11y: {\n      enabled: true,\n      notificationClass: 'swiper-notification',\n      prevSlideMessage: 'Previous slide',\n      nextSlideMessage: 'Next slide',\n      firstSlideMessage: 'This is the first slide',\n      lastSlideMessage: 'This is the last slide',\n      paginationBulletMessage: 'Go to slide {{index}}',\n      slideLabelMessage: '{{index}} / {{slidesLength}}',\n      containerMessage: null,\n      containerRoleDescriptionMessage: null,\n      itemRoleDescriptionMessage: null,\n      slideRole: 'group'\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      a11y: _extends({}, A11y, {\n        liveRegion: $(\"<span class=\\\"\" + swiper.params.a11y.notificationClass + \"\\\" aria-live=\\\"assertive\\\" aria-atomic=\\\"true\\\"></span>\")\n      })\n    });\n  },\n  on: {\n    afterInit: function afterInit(swiper) {\n      if (!swiper.params.a11y.enabled) return;\n      swiper.a11y.init();\n      swiper.a11y.updateNavigation();\n    },\n    toEdge: function toEdge(swiper) {\n      if (!swiper.params.a11y.enabled) return;\n      swiper.a11y.updateNavigation();\n    },\n    fromEdge: function fromEdge(swiper) {\n      if (!swiper.params.a11y.enabled) return;\n      swiper.a11y.updateNavigation();\n    },\n    paginationUpdate: function paginationUpdate(swiper) {\n      if (!swiper.params.a11y.enabled) return;\n      swiper.a11y.updatePagination();\n    },\n    destroy: function destroy(swiper) {\n      if (!swiper.params.a11y.enabled) return;\n      swiper.a11y.destroy();\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { getWindow } from 'ssr-window';\nimport { bindModuleMethods } from '../../utils/utils';\nvar History = {\n  init: function init() {\n    var swiper = this;\n    var window = getWindow();\n    if (!swiper.params.history) return;\n\n    if (!window.history || !window.history.pushState) {\n      swiper.params.history.enabled = false;\n      swiper.params.hashNavigation.enabled = true;\n      return;\n    }\n\n    var history = swiper.history;\n    history.initialized = true;\n    history.paths = History.getPathValues(swiper.params.url);\n    if (!history.paths.key && !history.paths.value) return;\n    history.scrollToSlide(0, history.paths.value, swiper.params.runCallbacksOnInit);\n\n    if (!swiper.params.history.replaceState) {\n      window.addEventListener('popstate', swiper.history.setHistoryPopState);\n    }\n  },\n  destroy: function destroy() {\n    var swiper = this;\n    var window = getWindow();\n\n    if (!swiper.params.history.replaceState) {\n      window.removeEventListener('popstate', swiper.history.setHistoryPopState);\n    }\n  },\n  setHistoryPopState: function setHistoryPopState() {\n    var swiper = this;\n    swiper.history.paths = History.getPathValues(swiper.params.url);\n    swiper.history.scrollToSlide(swiper.params.speed, swiper.history.paths.value, false);\n  },\n  getPathValues: function getPathValues(urlOverride) {\n    var window = getWindow();\n    var location;\n\n    if (urlOverride) {\n      location = new URL(urlOverride);\n    } else {\n      location = window.location;\n    }\n\n    var pathArray = location.pathname.slice(1).split('/').filter(function (part) {\n      return part !== '';\n    });\n    var total = pathArray.length;\n    var key = pathArray[total - 2];\n    var value = pathArray[total - 1];\n    return {\n      key: key,\n      value: value\n    };\n  },\n  setHistory: function setHistory(key, index) {\n    var swiper = this;\n    var window = getWindow();\n    if (!swiper.history.initialized || !swiper.params.history.enabled) return;\n    var location;\n\n    if (swiper.params.url) {\n      location = new URL(swiper.params.url);\n    } else {\n      location = window.location;\n    }\n\n    var slide = swiper.slides.eq(index);\n    var value = History.slugify(slide.attr('data-history'));\n\n    if (swiper.params.history.root.length > 0) {\n      var root = swiper.params.history.root;\n      if (root[root.length - 1] === '/') root = root.slice(0, root.length - 1);\n      value = root + \"/\" + key + \"/\" + value;\n    } else if (!location.pathname.includes(key)) {\n      value = key + \"/\" + value;\n    }\n\n    var currentState = window.history.state;\n\n    if (currentState && currentState.value === value) {\n      return;\n    }\n\n    if (swiper.params.history.replaceState) {\n      window.history.replaceState({\n        value: value\n      }, null, value);\n    } else {\n      window.history.pushState({\n        value: value\n      }, null, value);\n    }\n  },\n  slugify: function slugify(text) {\n    return text.toString().replace(/\\s+/g, '-').replace(/[^\\w-]+/g, '').replace(/--+/g, '-').replace(/^-+/, '').replace(/-+$/, '');\n  },\n  scrollToSlide: function scrollToSlide(speed, value, runCallbacks) {\n    var swiper = this;\n\n    if (value) {\n      for (var i = 0, length = swiper.slides.length; i < length; i += 1) {\n        var slide = swiper.slides.eq(i);\n        var slideHistory = History.slugify(slide.attr('data-history'));\n\n        if (slideHistory === value && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n          var index = slide.index();\n          swiper.slideTo(index, speed, runCallbacks);\n        }\n      }\n    } else {\n      swiper.slideTo(0, speed, runCallbacks);\n    }\n  }\n};\nexport default {\n  name: 'history',\n  params: {\n    history: {\n      enabled: false,\n      root: '',\n      replaceState: false,\n      key: 'slides'\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      history: _extends({}, History)\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      if (swiper.params.history.enabled) {\n        swiper.history.init();\n      }\n    },\n    destroy: function destroy(swiper) {\n      if (swiper.params.history.enabled) {\n        swiper.history.destroy();\n      }\n    },\n    'transitionEnd _freeModeNoMomentumRelease': function transitionEnd_freeModeNoMomentumRelease(swiper) {\n      if (swiper.history.initialized) {\n        swiper.history.setHistory(swiper.params.history.key, swiper.activeIndex);\n      }\n    },\n    slideChange: function slideChange(swiper) {\n      if (swiper.history.initialized && swiper.params.cssMode) {\n        swiper.history.setHistory(swiper.params.history.key, swiper.activeIndex);\n      }\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../utils/dom';\nimport { bindModuleMethods } from '../../utils/utils';\nvar HashNavigation = {\n  onHashChange: function onHashChange() {\n    var swiper = this;\n    var document = getDocument();\n    swiper.emit('hashChange');\n    var newHash = document.location.hash.replace('#', '');\n    var activeSlideHash = swiper.slides.eq(swiper.activeIndex).attr('data-hash');\n\n    if (newHash !== activeSlideHash) {\n      var newIndex = swiper.$wrapperEl.children(\".\" + swiper.params.slideClass + \"[data-hash=\\\"\" + newHash + \"\\\"]\").index();\n      if (typeof newIndex === 'undefined') return;\n      swiper.slideTo(newIndex);\n    }\n  },\n  setHash: function setHash() {\n    var swiper = this;\n    var window = getWindow();\n    var document = getDocument();\n    if (!swiper.hashNavigation.initialized || !swiper.params.hashNavigation.enabled) return;\n\n    if (swiper.params.hashNavigation.replaceState && window.history && window.history.replaceState) {\n      window.history.replaceState(null, null, \"#\" + swiper.slides.eq(swiper.activeIndex).attr('data-hash') || '');\n      swiper.emit('hashSet');\n    } else {\n      var slide = swiper.slides.eq(swiper.activeIndex);\n      var hash = slide.attr('data-hash') || slide.attr('data-history');\n      document.location.hash = hash || '';\n      swiper.emit('hashSet');\n    }\n  },\n  init: function init() {\n    var swiper = this;\n    var document = getDocument();\n    var window = getWindow();\n    if (!swiper.params.hashNavigation.enabled || swiper.params.history && swiper.params.history.enabled) return;\n    swiper.hashNavigation.initialized = true;\n    var hash = document.location.hash.replace('#', '');\n\n    if (hash) {\n      var speed = 0;\n\n      for (var i = 0, length = swiper.slides.length; i < length; i += 1) {\n        var slide = swiper.slides.eq(i);\n        var slideHash = slide.attr('data-hash') || slide.attr('data-history');\n\n        if (slideHash === hash && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n          var index = slide.index();\n          swiper.slideTo(index, speed, swiper.params.runCallbacksOnInit, true);\n        }\n      }\n    }\n\n    if (swiper.params.hashNavigation.watchState) {\n      $(window).on('hashchange', swiper.hashNavigation.onHashChange);\n    }\n  },\n  destroy: function destroy() {\n    var swiper = this;\n    var window = getWindow();\n\n    if (swiper.params.hashNavigation.watchState) {\n      $(window).off('hashchange', swiper.hashNavigation.onHashChange);\n    }\n  }\n};\nexport default {\n  name: 'hash-navigation',\n  params: {\n    hashNavigation: {\n      enabled: false,\n      replaceState: false,\n      watchState: false\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      hashNavigation: _extends({\n        initialized: false\n      }, HashNavigation)\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      if (swiper.params.hashNavigation.enabled) {\n        swiper.hashNavigation.init();\n      }\n    },\n    destroy: function destroy(swiper) {\n      if (swiper.params.hashNavigation.enabled) {\n        swiper.hashNavigation.destroy();\n      }\n    },\n    'transitionEnd _freeModeNoMomentumRelease': function transitionEnd_freeModeNoMomentumRelease(swiper) {\n      if (swiper.hashNavigation.initialized) {\n        swiper.hashNavigation.setHash();\n      }\n    },\n    slideChange: function slideChange(swiper) {\n      if (swiper.hashNavigation.initialized && swiper.params.cssMode) {\n        swiper.hashNavigation.setHash();\n      }\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/* eslint no-underscore-dangle: \"off\" */\nimport { getDocument } from 'ssr-window';\nimport { nextTick, bindModuleMethods } from '../../utils/utils';\nvar Autoplay = {\n  run: function run() {\n    var swiper = this;\n    var $activeSlideEl = swiper.slides.eq(swiper.activeIndex);\n    var delay = swiper.params.autoplay.delay;\n\n    if ($activeSlideEl.attr('data-swiper-autoplay')) {\n      delay = $activeSlideEl.attr('data-swiper-autoplay') || swiper.params.autoplay.delay;\n    }\n\n    clearTimeout(swiper.autoplay.timeout);\n    swiper.autoplay.timeout = nextTick(function () {\n      var autoplayResult;\n\n      if (swiper.params.autoplay.reverseDirection) {\n        if (swiper.params.loop) {\n          swiper.loopFix();\n          autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n          swiper.emit('autoplay');\n        } else if (!swiper.isBeginning) {\n          autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n          swiper.emit('autoplay');\n        } else if (!swiper.params.autoplay.stopOnLastSlide) {\n          autoplayResult = swiper.slideTo(swiper.slides.length - 1, swiper.params.speed, true, true);\n          swiper.emit('autoplay');\n        } else {\n          swiper.autoplay.stop();\n        }\n      } else if (swiper.params.loop) {\n        swiper.loopFix();\n        autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n        swiper.emit('autoplay');\n      } else if (!swiper.isEnd) {\n        autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n        swiper.emit('autoplay');\n      } else if (!swiper.params.autoplay.stopOnLastSlide) {\n        autoplayResult = swiper.slideTo(0, swiper.params.speed, true, true);\n        swiper.emit('autoplay');\n      } else {\n        swiper.autoplay.stop();\n      }\n\n      if (swiper.params.cssMode && swiper.autoplay.running) swiper.autoplay.run();else if (autoplayResult === false) {\n        swiper.autoplay.run();\n      }\n    }, delay);\n  },\n  start: function start() {\n    var swiper = this;\n    if (typeof swiper.autoplay.timeout !== 'undefined') return false;\n    if (swiper.autoplay.running) return false;\n    swiper.autoplay.running = true;\n    swiper.emit('autoplayStart');\n    swiper.autoplay.run();\n    return true;\n  },\n  stop: function stop() {\n    var swiper = this;\n    if (!swiper.autoplay.running) return false;\n    if (typeof swiper.autoplay.timeout === 'undefined') return false;\n\n    if (swiper.autoplay.timeout) {\n      clearTimeout(swiper.autoplay.timeout);\n      swiper.autoplay.timeout = undefined;\n    }\n\n    swiper.autoplay.running = false;\n    swiper.emit('autoplayStop');\n    return true;\n  },\n  pause: function pause(speed) {\n    var swiper = this;\n    if (!swiper.autoplay.running) return;\n    if (swiper.autoplay.paused) return;\n    if (swiper.autoplay.timeout) clearTimeout(swiper.autoplay.timeout);\n    swiper.autoplay.paused = true;\n\n    if (speed === 0 || !swiper.params.autoplay.waitForTransition) {\n      swiper.autoplay.paused = false;\n      swiper.autoplay.run();\n    } else {\n      ['transitionend', 'webkitTransitionEnd'].forEach(function (event) {\n        swiper.$wrapperEl[0].addEventListener(event, swiper.autoplay.onTransitionEnd);\n      });\n    }\n  },\n  onVisibilityChange: function onVisibilityChange() {\n    var swiper = this;\n    var document = getDocument();\n\n    if (document.visibilityState === 'hidden' && swiper.autoplay.running) {\n      swiper.autoplay.pause();\n    }\n\n    if (document.visibilityState === 'visible' && swiper.autoplay.paused) {\n      swiper.autoplay.run();\n      swiper.autoplay.paused = false;\n    }\n  },\n  onTransitionEnd: function onTransitionEnd(e) {\n    var swiper = this;\n    if (!swiper || swiper.destroyed || !swiper.$wrapperEl) return;\n    if (e.target !== swiper.$wrapperEl[0]) return;\n    ['transitionend', 'webkitTransitionEnd'].forEach(function (event) {\n      swiper.$wrapperEl[0].removeEventListener(event, swiper.autoplay.onTransitionEnd);\n    });\n    swiper.autoplay.paused = false;\n\n    if (!swiper.autoplay.running) {\n      swiper.autoplay.stop();\n    } else {\n      swiper.autoplay.run();\n    }\n  },\n  onMouseEnter: function onMouseEnter() {\n    var swiper = this;\n\n    if (swiper.params.autoplay.disableOnInteraction) {\n      swiper.autoplay.stop();\n    } else {\n      swiper.autoplay.pause();\n    }\n\n    ['transitionend', 'webkitTransitionEnd'].forEach(function (event) {\n      swiper.$wrapperEl[0].removeEventListener(event, swiper.autoplay.onTransitionEnd);\n    });\n  },\n  onMouseLeave: function onMouseLeave() {\n    var swiper = this;\n\n    if (swiper.params.autoplay.disableOnInteraction) {\n      return;\n    }\n\n    swiper.autoplay.paused = false;\n    swiper.autoplay.run();\n  },\n  attachMouseEvents: function attachMouseEvents() {\n    var swiper = this;\n\n    if (swiper.params.autoplay.pauseOnMouseEnter) {\n      swiper.$el.on('mouseenter', swiper.autoplay.onMouseEnter);\n      swiper.$el.on('mouseleave', swiper.autoplay.onMouseLeave);\n    }\n  },\n  detachMouseEvents: function detachMouseEvents() {\n    var swiper = this;\n    swiper.$el.off('mouseenter', swiper.autoplay.onMouseEnter);\n    swiper.$el.off('mouseleave', swiper.autoplay.onMouseLeave);\n  }\n};\nexport default {\n  name: 'autoplay',\n  params: {\n    autoplay: {\n      enabled: false,\n      delay: 3000,\n      waitForTransition: true,\n      disableOnInteraction: true,\n      stopOnLastSlide: false,\n      reverseDirection: false,\n      pauseOnMouseEnter: false\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      autoplay: _extends({}, Autoplay, {\n        running: false,\n        paused: false\n      })\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      if (swiper.params.autoplay.enabled) {\n        swiper.autoplay.start();\n        var document = getDocument();\n        document.addEventListener('visibilitychange', swiper.autoplay.onVisibilityChange);\n        swiper.autoplay.attachMouseEvents();\n      }\n    },\n    beforeTransitionStart: function beforeTransitionStart(swiper, speed, internal) {\n      if (swiper.autoplay.running) {\n        if (internal || !swiper.params.autoplay.disableOnInteraction) {\n          swiper.autoplay.pause(speed);\n        } else {\n          swiper.autoplay.stop();\n        }\n      }\n    },\n    sliderFirstMove: function sliderFirstMove(swiper) {\n      if (swiper.autoplay.running) {\n        if (swiper.params.autoplay.disableOnInteraction) {\n          swiper.autoplay.stop();\n        } else {\n          swiper.autoplay.pause();\n        }\n      }\n    },\n    touchEnd: function touchEnd(swiper) {\n      if (swiper.params.cssMode && swiper.autoplay.paused && !swiper.params.autoplay.disableOnInteraction) {\n        swiper.autoplay.run();\n      }\n    },\n    destroy: function destroy(swiper) {\n      swiper.autoplay.detachMouseEvents();\n\n      if (swiper.autoplay.running) {\n        swiper.autoplay.stop();\n      }\n\n      var document = getDocument();\n      document.removeEventListener('visibilitychange', swiper.autoplay.onVisibilityChange);\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { extend, bindModuleMethods } from '../../utils/utils';\nvar Fade = {\n  setTranslate: function setTranslate() {\n    var swiper = this;\n    var slides = swiper.slides;\n\n    for (var i = 0; i < slides.length; i += 1) {\n      var $slideEl = swiper.slides.eq(i);\n      var offset = $slideEl[0].swiperSlideOffset;\n      var tx = -offset;\n      if (!swiper.params.virtualTranslate) tx -= swiper.translate;\n      var ty = 0;\n\n      if (!swiper.isHorizontal()) {\n        ty = tx;\n        tx = 0;\n      }\n\n      var slideOpacity = swiper.params.fadeEffect.crossFade ? Math.max(1 - Math.abs($slideEl[0].progress), 0) : 1 + Math.min(Math.max($slideEl[0].progress, -1), 0);\n      $slideEl.css({\n        opacity: slideOpacity\n      }).transform(\"translate3d(\" + tx + \"px, \" + ty + \"px, 0px)\");\n    }\n  },\n  setTransition: function setTransition(duration) {\n    var swiper = this;\n    var slides = swiper.slides,\n        $wrapperEl = swiper.$wrapperEl;\n    slides.transition(duration);\n\n    if (swiper.params.virtualTranslate && duration !== 0) {\n      var eventTriggered = false;\n      slides.transitionEnd(function () {\n        if (eventTriggered) return;\n        if (!swiper || swiper.destroyed) return;\n        eventTriggered = true;\n        swiper.animating = false;\n        var triggerEvents = ['webkitTransitionEnd', 'transitionend'];\n\n        for (var i = 0; i < triggerEvents.length; i += 1) {\n          $wrapperEl.trigger(triggerEvents[i]);\n        }\n      });\n    }\n  }\n};\nexport default {\n  name: 'effect-fade',\n  params: {\n    fadeEffect: {\n      crossFade: false\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      fadeEffect: _extends({}, Fade)\n    });\n  },\n  on: {\n    beforeInit: function beforeInit(swiper) {\n      if (swiper.params.effect !== 'fade') return;\n      swiper.classNames.push(swiper.params.containerModifierClass + \"fade\");\n      var overwriteParams = {\n        slidesPerView: 1,\n        slidesPerColumn: 1,\n        slidesPerGroup: 1,\n        watchSlidesProgress: true,\n        spaceBetween: 0,\n        virtualTranslate: true\n      };\n      extend(swiper.params, overwriteParams);\n      extend(swiper.originalParams, overwriteParams);\n    },\n    setTranslate: function setTranslate(swiper) {\n      if (swiper.params.effect !== 'fade') return;\n      swiper.fadeEffect.setTranslate();\n    },\n    setTransition: function setTransition(swiper, duration) {\n      if (swiper.params.effect !== 'fade') return;\n      swiper.fadeEffect.setTransition(duration);\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport $ from '../../utils/dom';\nimport { extend, bindModuleMethods } from '../../utils/utils';\nvar Cube = {\n  setTranslate: function setTranslate() {\n    var swiper = this;\n    var $el = swiper.$el,\n        $wrapperEl = swiper.$wrapperEl,\n        slides = swiper.slides,\n        swiperWidth = swiper.width,\n        swiperHeight = swiper.height,\n        rtl = swiper.rtlTranslate,\n        swiperSize = swiper.size,\n        browser = swiper.browser;\n    var params = swiper.params.cubeEffect;\n    var isHorizontal = swiper.isHorizontal();\n    var isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n    var wrapperRotate = 0;\n    var $cubeShadowEl;\n\n    if (params.shadow) {\n      if (isHorizontal) {\n        $cubeShadowEl = $wrapperEl.find('.swiper-cube-shadow');\n\n        if ($cubeShadowEl.length === 0) {\n          $cubeShadowEl = $('<div class=\"swiper-cube-shadow\"></div>');\n          $wrapperEl.append($cubeShadowEl);\n        }\n\n        $cubeShadowEl.css({\n          height: swiperWidth + \"px\"\n        });\n      } else {\n        $cubeShadowEl = $el.find('.swiper-cube-shadow');\n\n        if ($cubeShadowEl.length === 0) {\n          $cubeShadowEl = $('<div class=\"swiper-cube-shadow\"></div>');\n          $el.append($cubeShadowEl);\n        }\n      }\n    }\n\n    for (var i = 0; i < slides.length; i += 1) {\n      var $slideEl = slides.eq(i);\n      var slideIndex = i;\n\n      if (isVirtual) {\n        slideIndex = parseInt($slideEl.attr('data-swiper-slide-index'), 10);\n      }\n\n      var slideAngle = slideIndex * 90;\n      var round = Math.floor(slideAngle / 360);\n\n      if (rtl) {\n        slideAngle = -slideAngle;\n        round = Math.floor(-slideAngle / 360);\n      }\n\n      var progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n      var tx = 0;\n      var ty = 0;\n      var tz = 0;\n\n      if (slideIndex % 4 === 0) {\n        tx = -round * 4 * swiperSize;\n        tz = 0;\n      } else if ((slideIndex - 1) % 4 === 0) {\n        tx = 0;\n        tz = -round * 4 * swiperSize;\n      } else if ((slideIndex - 2) % 4 === 0) {\n        tx = swiperSize + round * 4 * swiperSize;\n        tz = swiperSize;\n      } else if ((slideIndex - 3) % 4 === 0) {\n        tx = -swiperSize;\n        tz = 3 * swiperSize + swiperSize * 4 * round;\n      }\n\n      if (rtl) {\n        tx = -tx;\n      }\n\n      if (!isHorizontal) {\n        ty = tx;\n        tx = 0;\n      }\n\n      var transform = \"rotateX(\" + (isHorizontal ? 0 : -slideAngle) + \"deg) rotateY(\" + (isHorizontal ? slideAngle : 0) + \"deg) translate3d(\" + tx + \"px, \" + ty + \"px, \" + tz + \"px)\";\n\n      if (progress <= 1 && progress > -1) {\n        wrapperRotate = slideIndex * 90 + progress * 90;\n        if (rtl) wrapperRotate = -slideIndex * 90 - progress * 90;\n      }\n\n      $slideEl.transform(transform);\n\n      if (params.slideShadows) {\n        // Set shadows\n        var shadowBefore = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n        var shadowAfter = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n        if (shadowBefore.length === 0) {\n          shadowBefore = $(\"<div class=\\\"swiper-slide-shadow-\" + (isHorizontal ? 'left' : 'top') + \"\\\"></div>\");\n          $slideEl.append(shadowBefore);\n        }\n\n        if (shadowAfter.length === 0) {\n          shadowAfter = $(\"<div class=\\\"swiper-slide-shadow-\" + (isHorizontal ? 'right' : 'bottom') + \"\\\"></div>\");\n          $slideEl.append(shadowAfter);\n        }\n\n        if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n        if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n      }\n    }\n\n    $wrapperEl.css({\n      '-webkit-transform-origin': \"50% 50% -\" + swiperSize / 2 + \"px\",\n      '-moz-transform-origin': \"50% 50% -\" + swiperSize / 2 + \"px\",\n      '-ms-transform-origin': \"50% 50% -\" + swiperSize / 2 + \"px\",\n      'transform-origin': \"50% 50% -\" + swiperSize / 2 + \"px\"\n    });\n\n    if (params.shadow) {\n      if (isHorizontal) {\n        $cubeShadowEl.transform(\"translate3d(0px, \" + (swiperWidth / 2 + params.shadowOffset) + \"px, \" + -swiperWidth / 2 + \"px) rotateX(90deg) rotateZ(0deg) scale(\" + params.shadowScale + \")\");\n      } else {\n        var shadowAngle = Math.abs(wrapperRotate) - Math.floor(Math.abs(wrapperRotate) / 90) * 90;\n        var multiplier = 1.5 - (Math.sin(shadowAngle * 2 * Math.PI / 360) / 2 + Math.cos(shadowAngle * 2 * Math.PI / 360) / 2);\n        var scale1 = params.shadowScale;\n        var scale2 = params.shadowScale / multiplier;\n        var offset = params.shadowOffset;\n        $cubeShadowEl.transform(\"scale3d(\" + scale1 + \", 1, \" + scale2 + \") translate3d(0px, \" + (swiperHeight / 2 + offset) + \"px, \" + -swiperHeight / 2 / scale2 + \"px) rotateX(-90deg)\");\n      }\n    }\n\n    var zFactor = browser.isSafari || browser.isWebView ? -swiperSize / 2 : 0;\n    $wrapperEl.transform(\"translate3d(0px,0,\" + zFactor + \"px) rotateX(\" + (swiper.isHorizontal() ? 0 : wrapperRotate) + \"deg) rotateY(\" + (swiper.isHorizontal() ? -wrapperRotate : 0) + \"deg)\");\n  },\n  setTransition: function setTransition(duration) {\n    var swiper = this;\n    var $el = swiper.$el,\n        slides = swiper.slides;\n    slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n\n    if (swiper.params.cubeEffect.shadow && !swiper.isHorizontal()) {\n      $el.find('.swiper-cube-shadow').transition(duration);\n    }\n  }\n};\nexport default {\n  name: 'effect-cube',\n  params: {\n    cubeEffect: {\n      slideShadows: true,\n      shadow: true,\n      shadowOffset: 20,\n      shadowScale: 0.94\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      cubeEffect: _extends({}, Cube)\n    });\n  },\n  on: {\n    beforeInit: function beforeInit(swiper) {\n      if (swiper.params.effect !== 'cube') return;\n      swiper.classNames.push(swiper.params.containerModifierClass + \"cube\");\n      swiper.classNames.push(swiper.params.containerModifierClass + \"3d\");\n      var overwriteParams = {\n        slidesPerView: 1,\n        slidesPerColumn: 1,\n        slidesPerGroup: 1,\n        watchSlidesProgress: true,\n        resistanceRatio: 0,\n        spaceBetween: 0,\n        centeredSlides: false,\n        virtualTranslate: true\n      };\n      extend(swiper.params, overwriteParams);\n      extend(swiper.originalParams, overwriteParams);\n    },\n    setTranslate: function setTranslate(swiper) {\n      if (swiper.params.effect !== 'cube') return;\n      swiper.cubeEffect.setTranslate();\n    },\n    setTransition: function setTransition(swiper, duration) {\n      if (swiper.params.effect !== 'cube') return;\n      swiper.cubeEffect.setTransition(duration);\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport $ from '../../utils/dom';\nimport { extend, bindModuleMethods } from '../../utils/utils';\nvar Flip = {\n  setTranslate: function setTranslate() {\n    var swiper = this;\n    var slides = swiper.slides,\n        rtl = swiper.rtlTranslate;\n\n    for (var i = 0; i < slides.length; i += 1) {\n      var $slideEl = slides.eq(i);\n      var progress = $slideEl[0].progress;\n\n      if (swiper.params.flipEffect.limitRotation) {\n        progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n      }\n\n      var offset = $slideEl[0].swiperSlideOffset;\n      var rotate = -180 * progress;\n      var rotateY = rotate;\n      var rotateX = 0;\n      var tx = -offset;\n      var ty = 0;\n\n      if (!swiper.isHorizontal()) {\n        ty = tx;\n        tx = 0;\n        rotateX = -rotateY;\n        rotateY = 0;\n      } else if (rtl) {\n        rotateY = -rotateY;\n      }\n\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(progress)) + slides.length;\n\n      if (swiper.params.flipEffect.slideShadows) {\n        // Set shadows\n        var shadowBefore = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n        var shadowAfter = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n        if (shadowBefore.length === 0) {\n          shadowBefore = $(\"<div class=\\\"swiper-slide-shadow-\" + (swiper.isHorizontal() ? 'left' : 'top') + \"\\\"></div>\");\n          $slideEl.append(shadowBefore);\n        }\n\n        if (shadowAfter.length === 0) {\n          shadowAfter = $(\"<div class=\\\"swiper-slide-shadow-\" + (swiper.isHorizontal() ? 'right' : 'bottom') + \"\\\"></div>\");\n          $slideEl.append(shadowAfter);\n        }\n\n        if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n        if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n      }\n\n      $slideEl.transform(\"translate3d(\" + tx + \"px, \" + ty + \"px, 0px) rotateX(\" + rotateX + \"deg) rotateY(\" + rotateY + \"deg)\");\n    }\n  },\n  setTransition: function setTransition(duration) {\n    var swiper = this;\n    var slides = swiper.slides,\n        activeIndex = swiper.activeIndex,\n        $wrapperEl = swiper.$wrapperEl;\n    slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n\n    if (swiper.params.virtualTranslate && duration !== 0) {\n      var eventTriggered = false; // eslint-disable-next-line\n\n      slides.eq(activeIndex).transitionEnd(function onTransitionEnd() {\n        if (eventTriggered) return;\n        if (!swiper || swiper.destroyed) return; // if (!$(this).hasClass(swiper.params.slideActiveClass)) return;\n\n        eventTriggered = true;\n        swiper.animating = false;\n        var triggerEvents = ['webkitTransitionEnd', 'transitionend'];\n\n        for (var i = 0; i < triggerEvents.length; i += 1) {\n          $wrapperEl.trigger(triggerEvents[i]);\n        }\n      });\n    }\n  }\n};\nexport default {\n  name: 'effect-flip',\n  params: {\n    flipEffect: {\n      slideShadows: true,\n      limitRotation: true\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      flipEffect: _extends({}, Flip)\n    });\n  },\n  on: {\n    beforeInit: function beforeInit(swiper) {\n      if (swiper.params.effect !== 'flip') return;\n      swiper.classNames.push(swiper.params.containerModifierClass + \"flip\");\n      swiper.classNames.push(swiper.params.containerModifierClass + \"3d\");\n      var overwriteParams = {\n        slidesPerView: 1,\n        slidesPerColumn: 1,\n        slidesPerGroup: 1,\n        watchSlidesProgress: true,\n        spaceBetween: 0,\n        virtualTranslate: true\n      };\n      extend(swiper.params, overwriteParams);\n      extend(swiper.originalParams, overwriteParams);\n    },\n    setTranslate: function setTranslate(swiper) {\n      if (swiper.params.effect !== 'flip') return;\n      swiper.flipEffect.setTranslate();\n    },\n    setTransition: function setTransition(swiper, duration) {\n      if (swiper.params.effect !== 'flip') return;\n      swiper.flipEffect.setTransition(duration);\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport $ from '../../utils/dom';\nimport { bindModuleMethods } from '../../utils/utils';\nvar Coverflow = {\n  setTranslate: function setTranslate() {\n    var swiper = this;\n    var swiperWidth = swiper.width,\n        swiperHeight = swiper.height,\n        slides = swiper.slides,\n        slidesSizesGrid = swiper.slidesSizesGrid;\n    var params = swiper.params.coverflowEffect;\n    var isHorizontal = swiper.isHorizontal();\n    var transform = swiper.translate;\n    var center = isHorizontal ? -transform + swiperWidth / 2 : -transform + swiperHeight / 2;\n    var rotate = isHorizontal ? params.rotate : -params.rotate;\n    var translate = params.depth; // Each slide offset from center\n\n    for (var i = 0, length = slides.length; i < length; i += 1) {\n      var $slideEl = slides.eq(i);\n      var slideSize = slidesSizesGrid[i];\n      var slideOffset = $slideEl[0].swiperSlideOffset;\n      var offsetMultiplier = (center - slideOffset - slideSize / 2) / slideSize * params.modifier;\n      var rotateY = isHorizontal ? rotate * offsetMultiplier : 0;\n      var rotateX = isHorizontal ? 0 : rotate * offsetMultiplier; // var rotateZ = 0\n\n      var translateZ = -translate * Math.abs(offsetMultiplier);\n      var stretch = params.stretch; // Allow percentage to make a relative stretch for responsive sliders\n\n      if (typeof stretch === 'string' && stretch.indexOf('%') !== -1) {\n        stretch = parseFloat(params.stretch) / 100 * slideSize;\n      }\n\n      var translateY = isHorizontal ? 0 : stretch * offsetMultiplier;\n      var translateX = isHorizontal ? stretch * offsetMultiplier : 0;\n      var scale = 1 - (1 - params.scale) * Math.abs(offsetMultiplier); // Fix for ultra small values\n\n      if (Math.abs(translateX) < 0.001) translateX = 0;\n      if (Math.abs(translateY) < 0.001) translateY = 0;\n      if (Math.abs(translateZ) < 0.001) translateZ = 0;\n      if (Math.abs(rotateY) < 0.001) rotateY = 0;\n      if (Math.abs(rotateX) < 0.001) rotateX = 0;\n      if (Math.abs(scale) < 0.001) scale = 0;\n      var slideTransform = \"translate3d(\" + translateX + \"px,\" + translateY + \"px,\" + translateZ + \"px)  rotateX(\" + rotateX + \"deg) rotateY(\" + rotateY + \"deg) scale(\" + scale + \")\";\n      $slideEl.transform(slideTransform);\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(offsetMultiplier)) + 1;\n\n      if (params.slideShadows) {\n        // Set shadows\n        var $shadowBeforeEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n        var $shadowAfterEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n        if ($shadowBeforeEl.length === 0) {\n          $shadowBeforeEl = $(\"<div class=\\\"swiper-slide-shadow-\" + (isHorizontal ? 'left' : 'top') + \"\\\"></div>\");\n          $slideEl.append($shadowBeforeEl);\n        }\n\n        if ($shadowAfterEl.length === 0) {\n          $shadowAfterEl = $(\"<div class=\\\"swiper-slide-shadow-\" + (isHorizontal ? 'right' : 'bottom') + \"\\\"></div>\");\n          $slideEl.append($shadowAfterEl);\n        }\n\n        if ($shadowBeforeEl.length) $shadowBeforeEl[0].style.opacity = offsetMultiplier > 0 ? offsetMultiplier : 0;\n        if ($shadowAfterEl.length) $shadowAfterEl[0].style.opacity = -offsetMultiplier > 0 ? -offsetMultiplier : 0;\n      }\n    }\n  },\n  setTransition: function setTransition(duration) {\n    var swiper = this;\n    swiper.slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n  }\n};\nexport default {\n  name: 'effect-coverflow',\n  params: {\n    coverflowEffect: {\n      rotate: 50,\n      stretch: 0,\n      depth: 100,\n      scale: 1,\n      modifier: 1,\n      slideShadows: true\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      coverflowEffect: _extends({}, Coverflow)\n    });\n  },\n  on: {\n    beforeInit: function beforeInit(swiper) {\n      if (swiper.params.effect !== 'coverflow') return;\n      swiper.classNames.push(swiper.params.containerModifierClass + \"coverflow\");\n      swiper.classNames.push(swiper.params.containerModifierClass + \"3d\");\n      swiper.params.watchSlidesProgress = true;\n      swiper.originalParams.watchSlidesProgress = true;\n    },\n    setTranslate: function setTranslate(swiper) {\n      if (swiper.params.effect !== 'coverflow') return;\n      swiper.coverflowEffect.setTranslate();\n    },\n    setTransition: function setTransition(swiper, duration) {\n      if (swiper.params.effect !== 'coverflow') return;\n      swiper.coverflowEffect.setTransition(duration);\n    }\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { extend, isObject, bindModuleMethods } from '../../utils/utils';\nimport $ from '../../utils/dom';\nvar Thumbs = {\n  init: function init() {\n    var swiper = this;\n    var thumbsParams = swiper.params.thumbs;\n    if (swiper.thumbs.initialized) return false;\n    swiper.thumbs.initialized = true;\n    var SwiperClass = swiper.constructor;\n\n    if (thumbsParams.swiper instanceof SwiperClass) {\n      swiper.thumbs.swiper = thumbsParams.swiper;\n      extend(swiper.thumbs.swiper.originalParams, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n      extend(swiper.thumbs.swiper.params, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n    } else if (isObject(thumbsParams.swiper)) {\n      swiper.thumbs.swiper = new SwiperClass(extend({}, thumbsParams.swiper, {\n        watchSlidesVisibility: true,\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      }));\n      swiper.thumbs.swiperCreated = true;\n    }\n\n    swiper.thumbs.swiper.$el.addClass(swiper.params.thumbs.thumbsContainerClass);\n    swiper.thumbs.swiper.on('tap', swiper.thumbs.onThumbClick);\n    return true;\n  },\n  onThumbClick: function onThumbClick() {\n    var swiper = this;\n    var thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper) return;\n    var clickedIndex = thumbsSwiper.clickedIndex;\n    var clickedSlide = thumbsSwiper.clickedSlide;\n    if (clickedSlide && $(clickedSlide).hasClass(swiper.params.thumbs.slideThumbActiveClass)) return;\n    if (typeof clickedIndex === 'undefined' || clickedIndex === null) return;\n    var slideToIndex;\n\n    if (thumbsSwiper.params.loop) {\n      slideToIndex = parseInt($(thumbsSwiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n    } else {\n      slideToIndex = clickedIndex;\n    }\n\n    if (swiper.params.loop) {\n      var currentIndex = swiper.activeIndex;\n\n      if (swiper.slides.eq(currentIndex).hasClass(swiper.params.slideDuplicateClass)) {\n        swiper.loopFix(); // eslint-disable-next-line\n\n        swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n        currentIndex = swiper.activeIndex;\n      }\n\n      var prevIndex = swiper.slides.eq(currentIndex).prevAll(\"[data-swiper-slide-index=\\\"\" + slideToIndex + \"\\\"]\").eq(0).index();\n      var nextIndex = swiper.slides.eq(currentIndex).nextAll(\"[data-swiper-slide-index=\\\"\" + slideToIndex + \"\\\"]\").eq(0).index();\n      if (typeof prevIndex === 'undefined') slideToIndex = nextIndex;else if (typeof nextIndex === 'undefined') slideToIndex = prevIndex;else if (nextIndex - currentIndex < currentIndex - prevIndex) slideToIndex = nextIndex;else slideToIndex = prevIndex;\n    }\n\n    swiper.slideTo(slideToIndex);\n  },\n  update: function update(initial) {\n    var swiper = this;\n    var thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper) return;\n    var slidesPerView = thumbsSwiper.params.slidesPerView === 'auto' ? thumbsSwiper.slidesPerViewDynamic() : thumbsSwiper.params.slidesPerView;\n    var autoScrollOffset = swiper.params.thumbs.autoScrollOffset;\n    var useOffset = autoScrollOffset && !thumbsSwiper.params.loop;\n\n    if (swiper.realIndex !== thumbsSwiper.realIndex || useOffset) {\n      var currentThumbsIndex = thumbsSwiper.activeIndex;\n      var newThumbsIndex;\n      var direction;\n\n      if (thumbsSwiper.params.loop) {\n        if (thumbsSwiper.slides.eq(currentThumbsIndex).hasClass(thumbsSwiper.params.slideDuplicateClass)) {\n          thumbsSwiper.loopFix(); // eslint-disable-next-line\n\n          thumbsSwiper._clientLeft = thumbsSwiper.$wrapperEl[0].clientLeft;\n          currentThumbsIndex = thumbsSwiper.activeIndex;\n        } // Find actual thumbs index to slide to\n\n\n        var prevThumbsIndex = thumbsSwiper.slides.eq(currentThumbsIndex).prevAll(\"[data-swiper-slide-index=\\\"\" + swiper.realIndex + \"\\\"]\").eq(0).index();\n        var nextThumbsIndex = thumbsSwiper.slides.eq(currentThumbsIndex).nextAll(\"[data-swiper-slide-index=\\\"\" + swiper.realIndex + \"\\\"]\").eq(0).index();\n\n        if (typeof prevThumbsIndex === 'undefined') {\n          newThumbsIndex = nextThumbsIndex;\n        } else if (typeof nextThumbsIndex === 'undefined') {\n          newThumbsIndex = prevThumbsIndex;\n        } else if (nextThumbsIndex - currentThumbsIndex === currentThumbsIndex - prevThumbsIndex) {\n          newThumbsIndex = thumbsSwiper.params.slidesPerGroup > 1 ? nextThumbsIndex : currentThumbsIndex;\n        } else if (nextThumbsIndex - currentThumbsIndex < currentThumbsIndex - prevThumbsIndex) {\n          newThumbsIndex = nextThumbsIndex;\n        } else {\n          newThumbsIndex = prevThumbsIndex;\n        }\n\n        direction = swiper.activeIndex > swiper.previousIndex ? 'next' : 'prev';\n      } else {\n        newThumbsIndex = swiper.realIndex;\n        direction = newThumbsIndex > swiper.previousIndex ? 'next' : 'prev';\n      }\n\n      if (useOffset) {\n        newThumbsIndex += direction === 'next' ? autoScrollOffset : -1 * autoScrollOffset;\n      }\n\n      if (thumbsSwiper.visibleSlidesIndexes && thumbsSwiper.visibleSlidesIndexes.indexOf(newThumbsIndex) < 0) {\n        if (thumbsSwiper.params.centeredSlides) {\n          if (newThumbsIndex > currentThumbsIndex) {\n            newThumbsIndex = newThumbsIndex - Math.floor(slidesPerView / 2) + 1;\n          } else {\n            newThumbsIndex = newThumbsIndex + Math.floor(slidesPerView / 2) - 1;\n          }\n        } else if (newThumbsIndex > currentThumbsIndex && thumbsSwiper.params.slidesPerGroup === 1) {// newThumbsIndex = newThumbsIndex - slidesPerView + 1;\n        }\n\n        thumbsSwiper.slideTo(newThumbsIndex, initial ? 0 : undefined);\n      }\n    } // Activate thumbs\n\n\n    var thumbsToActivate = 1;\n    var thumbActiveClass = swiper.params.thumbs.slideThumbActiveClass;\n\n    if (swiper.params.slidesPerView > 1 && !swiper.params.centeredSlides) {\n      thumbsToActivate = swiper.params.slidesPerView;\n    }\n\n    if (!swiper.params.thumbs.multipleActiveThumbs) {\n      thumbsToActivate = 1;\n    }\n\n    thumbsToActivate = Math.floor(thumbsToActivate);\n    thumbsSwiper.slides.removeClass(thumbActiveClass);\n\n    if (thumbsSwiper.params.loop || thumbsSwiper.params.virtual && thumbsSwiper.params.virtual.enabled) {\n      for (var i = 0; i < thumbsToActivate; i += 1) {\n        thumbsSwiper.$wrapperEl.children(\"[data-swiper-slide-index=\\\"\" + (swiper.realIndex + i) + \"\\\"]\").addClass(thumbActiveClass);\n      }\n    } else {\n      for (var _i = 0; _i < thumbsToActivate; _i += 1) {\n        thumbsSwiper.slides.eq(swiper.realIndex + _i).addClass(thumbActiveClass);\n      }\n    }\n  }\n};\nexport default {\n  name: 'thumbs',\n  params: {\n    thumbs: {\n      swiper: null,\n      multipleActiveThumbs: true,\n      autoScrollOffset: 0,\n      slideThumbActiveClass: 'swiper-slide-thumb-active',\n      thumbsContainerClass: 'swiper-container-thumbs'\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      thumbs: _extends({\n        swiper: null,\n        initialized: false\n      }, Thumbs)\n    });\n  },\n  on: {\n    beforeInit: function beforeInit(swiper) {\n      var thumbs = swiper.params.thumbs;\n      if (!thumbs || !thumbs.swiper) return;\n      swiper.thumbs.init();\n      swiper.thumbs.update(true);\n    },\n    slideChange: function slideChange(swiper) {\n      if (!swiper.thumbs.swiper) return;\n      swiper.thumbs.update();\n    },\n    update: function update(swiper) {\n      if (!swiper.thumbs.swiper) return;\n      swiper.thumbs.update();\n    },\n    resize: function resize(swiper) {\n      if (!swiper.thumbs.swiper) return;\n      swiper.thumbs.update();\n    },\n    observerUpdate: function observerUpdate(swiper) {\n      if (!swiper.thumbs.swiper) return;\n      swiper.thumbs.update();\n    },\n    setTransition: function setTransition(swiper, duration) {\n      var thumbsSwiper = swiper.thumbs.swiper;\n      if (!thumbsSwiper) return;\n      thumbsSwiper.setTransition(duration);\n    },\n    beforeDestroy: function beforeDestroy(swiper) {\n      var thumbsSwiper = swiper.thumbs.swiper;\n      if (!thumbsSwiper) return;\n\n      if (swiper.thumbs.swiperCreated && thumbsSwiper) {\n        thumbsSwiper.destroy();\n      }\n    }\n  }\n};","/**\n * Swiper 6.8.4\n * Most modern mobile touch slider and framework with hardware accelerated transitions\n * https://swiperjs.com\n *\n * Copyright 2014-2021 Vladimir Kharlampidi\n *\n * Released under the MIT License\n *\n * Released on: August 23, 2021\n */\n\nimport Swiper from './esm/components/core/core-class';\nexport { default as Swiper, default } from './esm/components/core/core-class';\nimport Virtual from './esm/components/virtual/virtual';\nimport Keyboard from './esm/components/keyboard/keyboard';\nimport Mousewheel from './esm/components/mousewheel/mousewheel';\nimport Navigation from './esm/components/navigation/navigation';\nimport Pagination from './esm/components/pagination/pagination';\nimport Scrollbar from './esm/components/scrollbar/scrollbar';\nimport Parallax from './esm/components/parallax/parallax';\nimport Zoom from './esm/components/zoom/zoom';\nimport Lazy from './esm/components/lazy/lazy';\nimport Controller from './esm/components/controller/controller';\nimport A11y from './esm/components/a11y/a11y';\nimport History from './esm/components/history/history';\nimport HashNavigation from './esm/components/hash-navigation/hash-navigation';\nimport Autoplay from './esm/components/autoplay/autoplay';\nimport EffectFade from './esm/components/effect-fade/effect-fade';\nimport EffectCube from './esm/components/effect-cube/effect-cube';\nimport EffectFlip from './esm/components/effect-flip/effect-flip';\nimport EffectCoverflow from './esm/components/effect-coverflow/effect-coverflow';\nimport Thumbs from './esm/components/thumbs/thumbs';\n\n// Swiper Class\nvar components = [Virtual, Keyboard, Mousewheel, Navigation, Pagination, Scrollbar, Parallax, Zoom, Lazy, Controller, A11y, History, HashNavigation, Autoplay, EffectFade, EffectCube, EffectFlip, EffectCoverflow, Thumbs];\nSwiper.use(components);\n","import Swiper from 'swiper/bundle';\nimport $ from '../../shared/dom7';\nimport ConstructorMethods from '../../shared/constructor-methods';\n\n// UMD_ONLY_START\n/* eslint-disable */\nif (!window.Swiper) {\n  window.Swiper = Swiper;\n}\n/* eslint-enable */\n// UMD_ONLY_END\n\nfunction initSwiper(swiperEl) {\n  const app = this;\n  const $swiperEl = $(swiperEl);\n  if ($swiperEl.length === 0) return;\n  if ($swiperEl[0].swiper) return;\n  let initialSlide;\n  let params = {};\n  let isTabs;\n  let isRoutableTabs;\n  if ($swiperEl.hasClass('tabs-swipeable-wrap')) {\n    $swiperEl\n      .addClass('swiper-container')\n      .children('.tabs')\n      .addClass('swiper-wrapper')\n      .children('.tab')\n      .addClass('swiper-slide');\n    initialSlide = $swiperEl.children('.tabs').children('.tab-active').index();\n    isTabs = true;\n    isRoutableTabs = $swiperEl.find('.tabs-routable').length > 0;\n  }\n  if ($swiperEl.attr('data-swiper')) {\n    params = JSON.parse($swiperEl.attr('data-swiper'));\n  } else if ($swiperEl[0].f7SwiperParams) {\n    params = $swiperEl[0].f7SwiperParams;\n  } else {\n    params = $swiperEl.dataset();\n    Object.keys(params).forEach((key) => {\n      const value = params[key];\n      if (typeof value === 'string' && value.indexOf('{') === 0 && value.indexOf('}') > 0) {\n        try {\n          params[key] = JSON.parse(value);\n        } catch (e) {\n          // not JSON\n        }\n      }\n    });\n  }\n  if (typeof params.initialSlide === 'undefined' && typeof initialSlide !== 'undefined') {\n    params.initialSlide = initialSlide;\n  }\n\n  const swiper = app.swiper.create($swiperEl[0], params);\n  function updateSwiper() {\n    swiper.update();\n  }\n  const $tabEl = $swiperEl\n    .parents('.tab')\n    .filter((tabEl) => {\n      return (\n        $(tabEl).parent('.tabs').parent('.tabs-animated-wrap, .tabs-swipeable-wrap').length === 0\n      );\n    })\n    .eq(0);\n  $swiperEl.parents('.popup, .login-screen, .sheet-modal, .popover').on('modal:open', updateSwiper);\n  $swiperEl.parents('.panel').on('panel:open', updateSwiper);\n  if ($tabEl && $tabEl.length) {\n    $tabEl.on('tab:show', updateSwiper);\n  }\n\n  swiper.on('beforeDestroy', () => {\n    $swiperEl\n      .parents('.popup, .login-screen, .sheet-modal, .popover')\n      .off('modal:open', updateSwiper);\n    $swiperEl.parents('.panel').off('panel:open', updateSwiper);\n    if ($tabEl && $tabEl.length) {\n      $tabEl.off('tab:show', updateSwiper);\n    }\n  });\n  if (isTabs) {\n    swiper.on('slideChange', () => {\n      if (isRoutableTabs) {\n        let view = app.views.get($swiperEl.parents('.view'));\n        if (!view) view = app.views.main;\n        const router = view.router;\n        const tabRouteUrl = router.findTabRouteUrl(swiper.slides.eq(swiper.activeIndex)[0]);\n        if (tabRouteUrl) {\n          setTimeout(() => {\n            router.navigate(tabRouteUrl);\n          }, 0);\n        }\n      } else {\n        app.tab.show({\n          tabEl: swiper.slides.eq(swiper.activeIndex),\n        });\n      }\n    });\n  }\n}\n\nexport default {\n  name: 'swiper',\n  static: {\n    Swiper,\n  },\n  create() {\n    const app = this;\n    app.swiper = ConstructorMethods({\n      defaultSelector: '.swiper-container',\n      constructor: Swiper,\n      domProp: 'swiper',\n    });\n  },\n  on: {\n    pageBeforeRemove(page) {\n      const app = this;\n      page.$el.find('.swiper-init, .tabs-swipeable-wrap').each((swiperEl) => {\n        app.swiper.destroy(swiperEl);\n      });\n    },\n    pageMounted(page) {\n      const app = this;\n      page.$el.find('.tabs-swipeable-wrap').each((swiperEl) => {\n        initSwiper.call(app, swiperEl);\n      });\n    },\n    pageInit(page) {\n      const app = this;\n      page.$el.find('.swiper-init, .tabs-swipeable-wrap').each((swiperEl) => {\n        initSwiper.call(app, swiperEl);\n      });\n    },\n    pageReinit(page) {\n      const app = this;\n      page.$el.find('.swiper-init, .tabs-swipeable-wrap').each((swiperEl) => {\n        const swiper = app.swiper.get(swiperEl);\n        if (swiper && swiper.update) swiper.update();\n      });\n    },\n    tabMounted(tabEl) {\n      const app = this;\n      $(tabEl)\n        .find('.swiper-init, .tabs-swipeable-wrap')\n        .each((swiperEl) => {\n          initSwiper.call(app, swiperEl);\n        });\n    },\n    tabShow(tabEl) {\n      const app = this;\n      $(tabEl)\n        .find('.swiper-init, .tabs-swipeable-wrap')\n        .each((swiperEl) => {\n          const swiper = app.swiper.get(swiperEl);\n          if (swiper && swiper.update) swiper.update();\n        });\n    },\n    tabBeforeRemove(tabEl) {\n      const app = this;\n      $(tabEl)\n        .find('.swiper-init, .tabs-swipeable-wrap')\n        .each((swiperEl) => {\n          app.swiper.destroy(swiperEl);\n        });\n    },\n  },\n  vnode: {\n    'swiper-init': {\n      insert(vnode) {\n        const app = this;\n        const swiperEl = vnode.elm;\n        initSwiper.call(app, swiperEl);\n      },\n      destroy(vnode) {\n        const app = this;\n        const swiperEl = vnode.elm;\n        app.swiper.destroy(swiperEl);\n      },\n    },\n    'tabs-swipeable-wrap': {\n      insert(vnode) {\n        const app = this;\n        const swiperEl = vnode.elm;\n        initSwiper.call(app, swiperEl);\n      },\n      destroy(vnode) {\n        const app = this;\n        const swiperEl = vnode.elm;\n        app.swiper.destroy(swiperEl);\n      },\n    },\n  },\n};\n","/* eslint indent: [\"off\"] */\nimport { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom7';\nimport { extend, now, nextTick, deleteProps } from '../../shared/utils';\nimport Framework7Class from '../../shared/class';\n/** @jsx $jsx */\nimport $jsx from '../../shared/$jsx';\n\nclass PhotoBrowser extends Framework7Class {\n  constructor(app, params = {}) {\n    super(params, [app]);\n\n    const pb = this;\n    pb.app = app;\n\n    const defaults = extend(\n      {\n        on: {},\n      },\n      app.params.photoBrowser,\n    );\n\n    // Extend defaults with modules params\n    pb.useModulesParams(defaults);\n\n    pb.params = extend(defaults, params);\n\n    extend(pb, {\n      exposed: false,\n      opened: false,\n      activeIndex: pb.params.swiper.initialSlide,\n      url: pb.params.url,\n      swipeToClose: {\n        allow: true,\n        isTouched: false,\n        diff: undefined,\n        start: undefined,\n        current: undefined,\n        started: false,\n        activeSlide: undefined,\n        timeStart: undefined,\n      },\n    });\n\n    // Install Modules\n    pb.useModules();\n\n    // Init\n    pb.init();\n  }\n\n  get view() {\n    const { params, app } = this;\n    return params.view || app.views.main;\n  }\n\n  onSlideChange(swiper) {\n    const pb = this;\n    pb.activeIndex = swiper.activeIndex;\n\n    let current = swiper.activeIndex + 1;\n    let total = pb.params.virtualSlides ? pb.params.photos.length : swiper.slides.length;\n    if (swiper.params.loop) {\n      total -= 2;\n      current -= swiper.loopedSlides;\n      if (current < 1) current = total + current;\n      if (current > total) current -= total;\n    }\n\n    const $activeSlideEl = pb.params.virtualSlides\n      ? swiper.$wrapperEl.find(`.swiper-slide[data-swiper-slide-index=\"${swiper.activeIndex}\"]`)\n      : swiper.slides.eq(swiper.activeIndex);\n    const $previousSlideEl = pb.params.virtualSlides\n      ? swiper.$wrapperEl.find(`.swiper-slide[data-swiper-slide-index=\"${swiper.previousIndex}\"]`)\n      : swiper.slides.eq(swiper.previousIndex);\n\n    let $currentEl = pb.$el.find('.photo-browser-current');\n    let $totalEl = pb.$el.find('.photo-browser-total');\n    let navbarEl;\n    if (\n      pb.params.type === 'page' &&\n      pb.params.navbar &&\n      $currentEl.length === 0 &&\n      pb.app.theme === 'ios'\n    ) {\n      navbarEl = pb.app.navbar.getElByPage(pb.$el);\n      if (navbarEl) {\n        $currentEl = $(navbarEl).find('.photo-browser-current');\n        $totalEl = $(navbarEl).find('.photo-browser-total');\n      }\n    }\n    if ($currentEl.length && $totalEl.length) {\n      $currentEl.text(current);\n      $totalEl.text(total);\n      if (!navbarEl) navbarEl = $currentEl.parents('.navbar')[0];\n      if (navbarEl) {\n        pb.app.navbar.size(navbarEl);\n      }\n    }\n\n    // Update captions\n    if (pb.captions.length > 0) {\n      const captionIndex = swiper.params.loop\n        ? $activeSlideEl.attr('data-swiper-slide-index')\n        : pb.activeIndex;\n      pb.$captionsContainerEl\n        .find('.photo-browser-caption-active')\n        .removeClass('photo-browser-caption-active');\n      pb.$captionsContainerEl\n        .find(`[data-caption-index=\"${captionIndex}\"]`)\n        .addClass('photo-browser-caption-active');\n    }\n\n    // Stop Video\n    const previousSlideVideo = $previousSlideEl.find('video');\n    if (previousSlideVideo.length > 0) {\n      if ('pause' in previousSlideVideo[0]) previousSlideVideo[0].pause();\n    }\n  }\n\n  onTouchStart() {\n    const pb = this;\n    const swipeToClose = pb.swipeToClose;\n    if (!swipeToClose.allow) return;\n    swipeToClose.isTouched = true;\n  }\n\n  onTouchMove(e) {\n    const pb = this;\n    const swipeToClose = pb.swipeToClose;\n\n    if (!swipeToClose.isTouched) return;\n    if (!swipeToClose.started) {\n      swipeToClose.started = true;\n      swipeToClose.start = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n      if (pb.params.virtualSlides) {\n        swipeToClose.activeSlide = pb.swiper.$wrapperEl.children('.swiper-slide-active');\n      } else {\n        swipeToClose.activeSlide = pb.swiper.slides.eq(pb.swiper.activeIndex);\n      }\n      swipeToClose.timeStart = now();\n    }\n    e.preventDefault();\n    swipeToClose.current = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n    swipeToClose.diff = swipeToClose.start - swipeToClose.current;\n    pb.$el.transition(0).transform(`translate3d(0,${-swipeToClose.diff}px,0)`);\n  }\n\n  onTouchEnd() {\n    const pb = this;\n    const swipeToClose = pb.swipeToClose;\n    swipeToClose.isTouched = false;\n    if (!swipeToClose.started) {\n      swipeToClose.started = false;\n      return;\n    }\n    swipeToClose.started = false;\n    swipeToClose.allow = false;\n    const diff = Math.abs(swipeToClose.diff);\n    const timeDiff = new Date().getTime() - swipeToClose.timeStart;\n    if ((timeDiff < 300 && diff > 20) || (timeDiff >= 300 && diff > 100)) {\n      nextTick(() => {\n        if (pb.$el) {\n          if (swipeToClose.diff < 0) pb.$el.addClass('swipe-close-to-bottom');\n          else pb.$el.addClass('swipe-close-to-top');\n        }\n        pb.emit('local::swipeToClose', pb);\n        pb.$el.transform('').transition('');\n        pb.close();\n        swipeToClose.allow = true;\n      });\n      return;\n    }\n    if (diff !== 0) {\n      pb.$el.addClass('photo-browser-transitioning').transitionEnd(() => {\n        swipeToClose.allow = true;\n        pb.$el.removeClass('photo-browser-transitioning');\n      });\n    } else {\n      swipeToClose.allow = true;\n    }\n    nextTick(() => {\n      pb.$el.transform('').transition('');\n    });\n  }\n\n  // Render Functions\n  renderNavbar() {\n    const pb = this;\n    if (pb.params.renderNavbar) return pb.params.renderNavbar.call(pb);\n\n    let iconsColor = pb.params.iconsColor;\n    if (!pb.params.iconsColor && pb.params.theme === 'dark') iconsColor = 'white';\n\n    const pageBackLinkText =\n      (pb.app.theme === 'ios' || pb.app.theme === 'aurora') && pb.params.pageBackLinkText\n        ? pb.params.pageBackLinkText\n        : '';\n\n    const renderNavbarCount =\n      typeof pb.params.navbarShowCount === 'undefined'\n        ? pb.params.photos.length > 1\n        : pb.params.navbarShowCount;\n\n    const isPopup = pb.params.type !== 'page';\n    return (\n      <div\n        class={`navbar navbar-photo-browser ${\n          pb.params.theme === 'dark' ? 'navbar-photo-browser-dark' : ''\n        }`}\n      >\n        <div class=\"navbar-bg\"></div>\n        <div class=\"navbar-inner navbar-inner-centered-title sliding\">\n          {!isPopup && (\n            <div class=\"left\">\n              <a class={`link ${!pageBackLinkText ? 'icon-only' : ''} back`}>\n                <i class={`icon icon-back ${iconsColor ? `color-${iconsColor}` : ''}`}></i>\n                {pageBackLinkText && <span>{pageBackLinkText}</span>}\n              </a>\n            </div>\n          )}\n          {renderNavbarCount && (\n            <div class=\"title\">\n              <span class=\"photo-browser-current\"></span>\n              <span class=\"photo-browser-of\">{pb.params.navbarOfText}</span>\n              <span class=\"photo-browser-total\"></span>\n            </div>\n          )}\n          {isPopup && (\n            <div class=\"right\">\n              <a class=\"link popup-close\" data-popup=\".photo-browser-popup\">\n                <span>{pb.params.popupCloseLinkText}</span>\n              </a>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  renderToolbar() {\n    const pb = this;\n    if (pb.params.renderToolbar) return pb.params.renderToolbar.call(pb);\n\n    let iconsColor = pb.params.iconsColor;\n    if (!pb.params.iconsColor && pb.params.theme === 'dark') iconsColor = 'white';\n\n    return (\n      <div class=\"toolbar toolbar-bottom tabbar\">\n        <div class=\"toolbar-inner\">\n          <a class=\"link photo-browser-prev\">\n            <i class={`icon icon-back ${iconsColor ? `color-${iconsColor}` : ''}`}></i>\n          </a>\n          <a class=\"link photo-browser-next\">\n            <i class={`icon icon-forward ${iconsColor ? `color-${iconsColor}` : ''}`}></i>\n          </a>\n        </div>\n      </div>\n    );\n  }\n\n  renderCaption(caption, index) {\n    const pb = this;\n    if (pb.params.renderCaption) return pb.params.renderCaption.call(pb, caption, index);\n    return (\n      <div class=\"photo-browser-caption\" data-caption-index={index}>\n        {caption}\n      </div>\n    );\n  }\n\n  renderObject(photo, index) {\n    const pb = this;\n    if (pb.params.renderObject) return pb.params.renderObject.call(pb, photo, index);\n    return (\n      <div\n        class=\"photo-browser-slide photo-browser-object-slide swiper-slide\"\n        data-swiper-slide-index={index}\n      >\n        {photo.html ? photo.html : photo}\n      </div>\n    );\n  }\n\n  renderLazyPhoto(photo, index) {\n    const pb = this;\n    if (pb.params.renderLazyPhoto) return pb.params.renderLazyPhoto.call(pb, photo, index);\n    return (\n      <div\n        class=\"photo-browser-slide photo-browser-slide-lazy swiper-slide\"\n        data-swiper-slide-index={index}\n      >\n        <div class=\"swiper-lazy-preloader\"></div>\n        <span class=\"swiper-zoom-container\">\n          <img data-src={photo.url ? photo.url : photo} class=\"swiper-lazy\" />\n        </span>\n      </div>\n    );\n  }\n\n  renderPhoto(photo, index) {\n    const pb = this;\n    if (pb.params.renderPhoto) return pb.params.renderPhoto.call(pb, photo, index);\n    return (\n      <div class=\"photo-browser-slide swiper-slide\" data-swiper-slide-index={index}>\n        <span class=\"swiper-zoom-container\">\n          <img src={photo.url ? photo.url : photo} />\n        </span>\n      </div>\n    );\n  }\n\n  render() {\n    const pb = this;\n    if (pb.params.render) return pb.params.render.call(pb, pb.params);\n    return (\n      <div class={`photo-browser photo-browser-${pb.params.theme}`}>\n        <div class=\"view\">\n          <div\n            class={`page photo-browser-page photo-browser-page-${pb.params.theme} no-toolbar ${\n              !pb.params.navbar ? 'no-navbar' : ''\n            }`}\n            data-name=\"photo-browser-page\"\n          >\n            {pb.params.navbar && pb.renderNavbar()}\n            {pb.params.toolbar && pb.renderToolbar()}\n            <div\n              class={`photo-browser-captions photo-browser-captions-${\n                pb.params.captionsTheme || pb.params.theme\n              }`}\n            >\n              {pb.params.photos.map((photo, index) => {\n                if (photo.caption) return pb.renderCaption(photo.caption, index);\n                return '';\n              })}\n            </div>\n            <div class=\"photo-browser-swiper-container swiper-container\">\n              <div class=\"photo-browser-swiper-wrapper swiper-wrapper\">\n                {!pb.params.virtualSlides &&\n                  pb.params.photos.map((photo, index) => {\n                    if (\n                      photo.html ||\n                      ((typeof photo === 'string' || photo instanceof String) &&\n                        photo.indexOf('<') >= 0 &&\n                        photo.indexOf('>') >= 0)\n                    ) {\n                      return pb.renderObject(photo, index);\n                    }\n                    if (\n                      pb.params.swiper.lazy === true ||\n                      (pb.params.swiper.lazy && pb.params.swiper.lazy.enabled)\n                    ) {\n                      return pb.renderLazyPhoto(photo, index);\n                    }\n                    return pb.renderPhoto(photo, index);\n                  })}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  renderStandalone() {\n    const pb = this;\n    if (pb.params.renderStandalone) return pb.params.renderStandalone.call(pb);\n    const standaloneHtml = `<div class=\"popup photo-browser-popup photo-browser-standalone popup-tablet-fullscreen\">${pb.render()}</div>`;\n    return standaloneHtml;\n  }\n\n  renderPage() {\n    const pb = this;\n    if (pb.params.renderPage) return pb.params.renderPage.call(pb);\n    const pageHtml = pb.render();\n\n    return pageHtml;\n  }\n\n  renderPopup() {\n    const pb = this;\n    if (pb.params.renderPopup) return pb.params.renderPopup.call(pb);\n    const popupHtml = `<div class=\"popup photo-browser-popup\">${pb.render()}</div>`;\n\n    return popupHtml;\n  }\n\n  // Callbacks\n  onOpen(type, el) {\n    const pb = this;\n    const app = pb.app;\n    const $el = $(el);\n\n    $el[0].f7PhotoBrowser = pb;\n\n    pb.$el = $el;\n    pb.el = $el[0];\n    pb.openedIn = type;\n    pb.opened = true;\n\n    pb.$swiperContainerEl = pb.$el.find('.photo-browser-swiper-container');\n    pb.$swiperWrapperEl = pb.$el.find('.photo-browser-swiper-wrapper');\n    pb.slides = pb.$el.find('.photo-browser-slide');\n    pb.$captionsContainerEl = pb.$el.find('.photo-browser-captions');\n    pb.captions = pb.$el.find('.photo-browser-caption');\n\n    // Init Swiper\n    let clickTimeout;\n\n    const swiperParams = extend({}, pb.params.swiper, {\n      initialSlide: pb.activeIndex,\n      on: {\n        click(e) {\n          clearTimeout(clickTimeout);\n\n          if (pb.params.exposition) {\n            clickTimeout = setTimeout(() => {\n              pb.expositionToggle();\n            }, 350);\n          }\n          pb.emit('local::tap', e);\n          pb.emit('local::click', e);\n        },\n        doubleClick(e) {\n          clearTimeout(clickTimeout);\n          pb.emit('local::doubleTap', e);\n          pb.emit('local::doubleClick', e);\n        },\n        slideChange(...args) {\n          const swiper = this;\n          pb.onSlideChange(swiper);\n          pb.emit('local::slideChange', ...args);\n        },\n        transitionStart(...args) {\n          pb.emit('local::transitionStart', ...args);\n        },\n        transitionEnd(...args) {\n          pb.emit('local::transitionEnd', ...args);\n        },\n        slideChangeTransitionStart(...args) {\n          const swiper = this;\n          pb.onSlideChange(swiper);\n          pb.emit('local::slideChangeTransitionStart', ...args);\n        },\n        slideChangeTransitionEnd(...args) {\n          pb.emit('local::slideChangeTransitionEnd', ...args);\n        },\n        lazyImageLoad(...args) {\n          pb.emit('local::lazyImageLoad', ...args);\n        },\n        lazyImageReady(...args) {\n          const slideEl = args[0];\n          $(slideEl).removeClass('photo-browser-slide-lazy');\n          pb.emit('local::lazyImageReady', ...args);\n        },\n      },\n    });\n    if (pb.params.swipeToClose && pb.params.type !== 'page') {\n      extend(swiperParams.on, {\n        touchStart(swiper, e) {\n          pb.onTouchStart(e);\n          pb.emit('local::touchStart', e);\n        },\n        touchMoveOpposite(swiper, e) {\n          pb.onTouchMove(e);\n          pb.emit('local::touchMoveOpposite', e);\n        },\n        touchEnd(swiper, e) {\n          pb.onTouchEnd(e);\n          pb.emit('local::touchEnd', e);\n        },\n      });\n    }\n    if (pb.params.virtualSlides) {\n      extend(swiperParams, {\n        virtual: {\n          slides: pb.params.photos,\n          renderSlide(photo, index) {\n            if (\n              photo.html ||\n              ((typeof photo === 'string' || photo instanceof String) &&\n                photo.indexOf('<') >= 0 &&\n                photo.indexOf('>') >= 0)\n            ) {\n              return pb.renderObject(photo, index);\n            }\n            if (\n              pb.params.swiper.lazy === true ||\n              (pb.params.swiper.lazy && pb.params.swiper.lazy.enabled)\n            ) {\n              return pb.renderLazyPhoto(photo, index);\n            }\n            return pb.renderPhoto(photo, index);\n          },\n        },\n      });\n    }\n    const window = getWindow();\n    pb.swiper = app.swiper\n      ? app.swiper.create(pb.$swiperContainerEl, swiperParams)\n      : new window.Swiper(pb.$swiperContainerEl, swiperParams);\n\n    if (pb.activeIndex === 0) {\n      pb.onSlideChange(pb.swiper);\n    }\n    if (pb.$el) {\n      pb.$el.trigger('photobrowser:open');\n    }\n    pb.emit('local::open photoBrowserOpen', pb);\n  }\n\n  onOpened() {\n    const pb = this;\n    if (pb.$el && pb.params.type === 'standalone') {\n      pb.$el.css('animation', 'none');\n    }\n    if (pb.$el) {\n      pb.$el.trigger('photobrowser:opened');\n    }\n    pb.emit('local::opened photoBrowserOpened', pb);\n  }\n\n  onClose() {\n    const pb = this;\n    if (pb.destroyed) return;\n\n    // Destroy Swiper\n    if (pb.swiper && pb.swiper.destroy) {\n      pb.swiper.destroy(true, false);\n      pb.swiper = null;\n      delete pb.swiper;\n    }\n    if (pb.$el) {\n      pb.$el.trigger('photobrowser:close');\n    }\n    pb.emit('local::close photoBrowserClose', pb);\n  }\n\n  onClosed() {\n    const pb = this;\n    if (pb.destroyed) return;\n    pb.opened = false;\n    pb.$el = null;\n    pb.el = null;\n    delete pb.$el;\n    delete pb.el;\n    if (pb.$el) {\n      pb.$el.trigger('photobrowser:closed');\n    }\n    pb.emit('local::closed photoBrowserClosed', pb);\n  }\n\n  // Open\n  openPage() {\n    const pb = this;\n    if (pb.opened) return pb;\n\n    const pageHtml = pb.renderPage();\n\n    pb.view.router.navigate({\n      url: pb.url,\n      route: {\n        content: pageHtml,\n        path: pb.url,\n        on: {\n          pageBeforeIn(e, page) {\n            pb.view.$el.addClass(\n              `with-photo-browser-page with-photo-browser-page-${pb.params.theme}`,\n            );\n            pb.onOpen('page', page.el);\n          },\n          pageAfterIn(e, page) {\n            pb.onOpened('page', page.el);\n          },\n          pageBeforeOut(e, page) {\n            pb.view.$el.removeClass(\n              `with-photo-browser-page with-photo-browser-page-exposed with-photo-browser-page-${pb.params.theme}`,\n            );\n            pb.onClose('page', page.el);\n          },\n          pageAfterOut(e, page) {\n            pb.onClosed('page', page.el);\n          },\n        },\n      },\n    });\n    return pb;\n  }\n\n  openStandalone() {\n    const pb = this;\n    if (pb.opened) return pb;\n\n    const standaloneHtml = pb.renderStandalone();\n\n    const popupParams = {\n      backdrop: false,\n      content: standaloneHtml,\n      on: {\n        popupOpen(popup) {\n          pb.onOpen('popup', popup.el);\n        },\n        popupOpened(popup) {\n          pb.onOpened('popup', popup.el);\n        },\n        popupClose(popup) {\n          pb.onClose('popup', popup.el);\n        },\n        popupClosed(popup) {\n          pb.onClosed('popup', popup.el);\n        },\n      },\n    };\n\n    if (pb.params.routableModals && pb.view) {\n      pb.view.router.navigate({\n        url: pb.url,\n        route: {\n          path: pb.url,\n          popup: popupParams,\n        },\n      });\n    } else {\n      pb.modal = pb.app.popup.create(popupParams).open();\n    }\n    return pb;\n  }\n\n  openPopup() {\n    const pb = this;\n    if (pb.opened) return pb;\n\n    const popupHtml = pb.renderPopup();\n\n    const popupParams = {\n      content: popupHtml,\n      push: pb.params.popupPush,\n      on: {\n        popupOpen(popup) {\n          pb.onOpen('popup', popup.el);\n        },\n        popupOpened(popup) {\n          pb.onOpened('popup', popup.el);\n        },\n        popupClose(popup) {\n          pb.onClose('popup', popup.el);\n        },\n        popupClosed(popup) {\n          pb.onClosed('popup', popup.el);\n        },\n      },\n    };\n\n    if (pb.params.routableModals && pb.view) {\n      pb.view.router.navigate({\n        url: pb.url,\n        route: {\n          path: pb.url,\n          popup: popupParams,\n        },\n      });\n    } else {\n      pb.modal = pb.app.popup.create(popupParams).open();\n    }\n    return pb;\n  }\n\n  // Exposition\n  expositionEnable() {\n    const pb = this;\n    if (pb.params.type === 'page') {\n      pb.view.$el.addClass('with-photo-browser-page-exposed');\n    }\n    if (pb.$el) pb.$el.addClass('photo-browser-exposed');\n    if (pb.params.expositionHideCaptions)\n      pb.$captionsContainerEl.addClass('photo-browser-captions-exposed');\n    pb.exposed = true;\n    return pb;\n  }\n\n  expositionDisable() {\n    const pb = this;\n    if (pb.params.type === 'page') {\n      pb.view.$el.removeClass('with-photo-browser-page-exposed');\n    }\n    if (pb.$el) pb.$el.removeClass('photo-browser-exposed');\n    if (pb.params.expositionHideCaptions)\n      pb.$captionsContainerEl.removeClass('photo-browser-captions-exposed');\n    pb.exposed = false;\n    return pb;\n  }\n\n  expositionToggle() {\n    const pb = this;\n    if (pb.params.type === 'page') {\n      pb.view.$el.toggleClass('with-photo-browser-page-exposed');\n    }\n    if (pb.$el) pb.$el.toggleClass('photo-browser-exposed');\n    if (pb.params.expositionHideCaptions)\n      pb.$captionsContainerEl.toggleClass('photo-browser-captions-exposed');\n    pb.exposed = !pb.exposed;\n    return pb;\n  }\n\n  open(index) {\n    const pb = this;\n    const type = pb.params.type;\n    if (pb.opened) {\n      if (pb.swiper && typeof index !== 'undefined') {\n        pb.swiper.slideTo(parseInt(index, 10));\n      }\n      return pb;\n    }\n    if (typeof index !== 'undefined') {\n      pb.activeIndex = index;\n    }\n    if (type === 'standalone') {\n      pb.openStandalone();\n    }\n    if (type === 'page') {\n      pb.openPage();\n    }\n    if (type === 'popup') {\n      pb.openPopup();\n    }\n    return pb;\n  }\n\n  close() {\n    const pb = this;\n    if (!pb.opened) return pb;\n    if ((pb.params.routableModals && pb.view) || pb.openedIn === 'page') {\n      pb.view.router.back();\n    } else {\n      pb.modal.once('modalClosed', () => {\n        nextTick(() => {\n          if (pb.destroyed) return;\n          pb.modal.destroy();\n          delete pb.modal;\n        });\n      });\n      pb.modal.close();\n    }\n    return pb;\n  }\n  // eslint-disable-next-line\n  init() {}\n\n  destroy() {\n    let pb = this;\n    pb.emit('local::beforeDestroy photoBrowserBeforeDestroy', pb);\n    if (pb.$el) {\n      pb.$el.trigger('photobrowser:beforedestroy');\n      pb.$el[0].f7PhotoBrowser = null;\n      delete pb.$el[0].f7PhotoBrowser;\n    }\n    deleteProps(pb);\n    pb.destroyed = true;\n    pb = null;\n  }\n}\n\nexport default PhotoBrowser;\n","import PhotoBrowser from './photo-browser-class';\nimport ConstructorMethods from '../../shared/constructor-methods';\n\nexport default {\n  name: 'photoBrowser',\n  params: {\n    photoBrowser: {\n      photos: [],\n      exposition: true,\n      expositionHideCaptions: false,\n      type: 'standalone',\n      navbar: true,\n      toolbar: true,\n      theme: 'light',\n      captionsTheme: undefined,\n      iconsColor: undefined,\n      popupPush: false,\n      swipeToClose: true,\n      pageBackLinkText: 'Back',\n      popupCloseLinkText: 'Close',\n      navbarOfText: 'of',\n      navbarShowCount: undefined,\n      view: undefined,\n      url: 'photos/',\n      routableModals: false,\n      virtualSlides: true,\n\n      renderNavbar: undefined,\n      renderToolbar: undefined,\n      renderCaption: undefined,\n      renderObject: undefined,\n      renderLazyPhoto: undefined,\n      renderPhoto: undefined,\n      renderPage: undefined,\n      renderPopup: undefined,\n      renderStandalone: undefined,\n\n      swiper: {\n        initialSlide: 0,\n        spaceBetween: 20,\n        speed: 300,\n        loop: false,\n        preloadImages: true,\n        navigation: {\n          nextEl: '.photo-browser-next',\n          prevEl: '.photo-browser-prev',\n        },\n        zoom: {\n          enabled: true,\n          maxRatio: 3,\n          minRatio: 1,\n        },\n        lazy: {\n          enabled: true,\n        },\n      },\n    },\n  },\n  create() {\n    const app = this;\n    app.photoBrowser = ConstructorMethods({\n      defaultSelector: '.photo-browser-popup, .photo-browser-page',\n      constructor: PhotoBrowser,\n      app,\n      domProp: 'f7PhotoBrowser',\n    });\n  },\n  static: {\n    PhotoBrowser,\n  },\n};\n","import $ from '../../shared/dom7';\nimport { extend, now, nextTick } from '../../shared/utils';\nimport Modal from '../modal/modal-class';\n/** @jsx $jsx */\nimport $jsx from '../../shared/$jsx';\n\nclass Notification extends Modal {\n  constructor(app, params) {\n    const extendedParams = extend(\n      {\n        on: {},\n      },\n      app.params.notification,\n      params,\n    );\n\n    // Extends with open/close Modal methods;\n    super(app, extendedParams);\n\n    const notification = this;\n\n    notification.app = app;\n\n    notification.params = extendedParams;\n\n    const {\n      icon,\n      title,\n      titleRightText,\n      subtitle,\n      text,\n      closeButton,\n      closeTimeout,\n      cssClass,\n      closeOnClick,\n    } = notification.params;\n\n    let $el;\n    if (!notification.params.el) {\n      // Find Element\n      const notificationHtml = notification.render({\n        icon,\n        title,\n        titleRightText,\n        subtitle,\n        text,\n        closeButton,\n        cssClass,\n      });\n\n      $el = $(notificationHtml);\n    } else {\n      $el = $(notification.params.el);\n    }\n\n    if ($el && $el.length > 0 && $el[0].f7Modal) {\n      return $el[0].f7Modal;\n    }\n\n    if ($el.length === 0) {\n      return notification.destroy();\n    }\n\n    extend(notification, {\n      $el,\n      el: $el[0],\n      type: 'notification',\n    });\n\n    $el[0].f7Modal = notification;\n\n    if (closeButton) {\n      $el.find('.notification-close-button').on('click', () => {\n        notification.close();\n      });\n    }\n    $el.on('click', (e) => {\n      if (closeButton && $(e.target).closest('.notification-close-button').length) {\n        return;\n      }\n      notification.emit('local::click notificationClick', notification);\n      if (closeOnClick) notification.close();\n    });\n\n    notification.on('beforeDestroy', () => {\n      $el.off('click');\n    });\n\n    /* Touch Events */\n    let isTouched;\n    let isMoved;\n    let isScrolling;\n    let touchesDiff;\n    let touchStartTime;\n    let notificationHeight;\n    const touchesStart = {};\n    function handleTouchStart(e) {\n      if (isTouched) return;\n      isTouched = true;\n      isMoved = false;\n      isScrolling = undefined;\n      touchStartTime = now();\n      touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n      touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n    }\n    function handleTouchMove(e) {\n      if (!isTouched) return;\n      const pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n      const pageY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n      if (typeof isScrolling === 'undefined') {\n        isScrolling = !!(\n          isScrolling || Math.abs(pageY - touchesStart.y) < Math.abs(pageX - touchesStart.x)\n        );\n      }\n      if (isScrolling) {\n        isTouched = false;\n        return;\n      }\n      e.preventDefault();\n      if (!isMoved) {\n        notification.$el.removeClass('notification-transitioning');\n        notification.$el.transition(0);\n        notificationHeight = notification.$el[0].offsetHeight / 2;\n      }\n      isMoved = true;\n      touchesDiff = pageY - touchesStart.y;\n      let newTranslate = touchesDiff;\n      if (touchesDiff > 0) {\n        newTranslate = touchesDiff ** 0.8;\n      }\n      notification.$el.transform(`translate3d(0, ${newTranslate}px, 0)`);\n    }\n    function handleTouchEnd() {\n      if (!isTouched || !isMoved) {\n        isTouched = false;\n        isMoved = false;\n        return;\n      }\n      isTouched = false;\n      isMoved = false;\n      if (touchesDiff === 0) {\n        return;\n      }\n\n      const timeDiff = now() - touchStartTime;\n      notification.$el.transition('');\n      notification.$el.addClass('notification-transitioning');\n      notification.$el.transform('');\n\n      if ((touchesDiff < -10 && timeDiff < 300) || -touchesDiff >= notificationHeight / 1) {\n        notification.close();\n      }\n    }\n\n    function attachTouchEvents() {\n      notification.$el.on(app.touchEvents.start, handleTouchStart, { passive: true });\n      app.on('touchmove:active', handleTouchMove);\n      app.on('touchend:passive', handleTouchEnd);\n    }\n    function detachTouchEvents() {\n      notification.$el.off(app.touchEvents.start, handleTouchStart, { passive: true });\n      app.off('touchmove:active', handleTouchMove);\n      app.off('touchend:passive', handleTouchEnd);\n    }\n\n    let timeoutId;\n    function closeOnTimeout() {\n      timeoutId = nextTick(() => {\n        if (isTouched && isMoved) {\n          closeOnTimeout();\n          return;\n        }\n        notification.close();\n      }, closeTimeout);\n    }\n    notification.on('open', () => {\n      if (notification.params.swipeToClose) {\n        attachTouchEvents();\n      }\n      $('.notification.modal-in').each((openedEl) => {\n        const notificationInstance = app.notification.get(openedEl);\n        if (openedEl !== notification.el && notificationInstance) {\n          notificationInstance.close();\n        }\n      });\n      if (closeTimeout) {\n        closeOnTimeout();\n      }\n    });\n    notification.on('close beforeDestroy', () => {\n      if (notification.params.swipeToClose) {\n        detachTouchEvents();\n      }\n      clearTimeout(timeoutId);\n    });\n\n    return notification;\n  }\n\n  render() {\n    const notification = this;\n    if (notification.params.render)\n      return notification.params.render.call(notification, notification);\n    const { icon, title, titleRightText, subtitle, text, closeButton, cssClass } =\n      notification.params;\n    return (\n      <div class={`notification ${cssClass || ''}`}>\n        <div class=\"notification-header\">\n          {icon && <div class=\"notification-icon\">{icon}</div>}\n          {title && <div class=\"notification-title\">{title}</div>}\n          {titleRightText && <div class=\"notification-title-right-text\">{titleRightText}</div>}\n          {closeButton && <span class=\"notification-close-button\"></span>}\n        </div>\n        <div class=\"notification-content\">\n          {subtitle && <div class=\"notification-subtitle\">{subtitle}</div>}\n          {text && <div class=\"notification-text\">{text}</div>}\n        </div>\n      </div>\n    );\n  }\n}\nexport default Notification;\n","import { extend } from '../../shared/utils';\nimport Notification from './notification-class';\nimport ModalMethods from '../../shared/modal-methods';\n\nexport default {\n  name: 'notification',\n  static: {\n    Notification,\n  },\n  create() {\n    const app = this;\n    app.notification = extend(\n      {},\n      ModalMethods({\n        app,\n        constructor: Notification,\n        defaultSelector: '.notification.modal-in',\n      }),\n    );\n  },\n  params: {\n    notification: {\n      icon: null,\n      title: null,\n      titleRightText: null,\n      subtitle: null,\n      text: null,\n      closeButton: false,\n      closeTimeout: null,\n      closeOnClick: false,\n      swipeToClose: true,\n      cssClass: null,\n      render: null,\n      containerEl: null,\n    },\n  },\n};\n","/* eslint \"no-useless-escape\": \"off\" */\nimport $ from '../../shared/dom7';\nimport {\n  extend,\n  id,\n  nextTick,\n  deleteProps,\n  iosPreloaderContent,\n  mdPreloaderContent,\n  auroraPreloaderContent,\n} from '../../shared/utils';\nimport { getDevice } from '../../shared/get-device';\nimport Framework7Class from '../../shared/class';\n/** @jsx $jsx */\nimport $jsx from '../../shared/$jsx';\n\nclass Autocomplete extends Framework7Class {\n  constructor(app, params = {}) {\n    super(params, [app]);\n\n    const ac = this;\n    ac.app = app;\n\n    const device = getDevice();\n\n    const defaults = extend(\n      {\n        on: {},\n      },\n      app.params.autocomplete,\n    );\n\n    if (typeof defaults.searchbarDisableButton === 'undefined') {\n      defaults.searchbarDisableButton = app.theme !== 'aurora';\n    }\n\n    // Extend defaults with modules params\n    ac.useModulesParams(defaults);\n\n    ac.params = extend(defaults, params);\n\n    let $openerEl;\n    if (ac.params.openerEl) {\n      $openerEl = $(ac.params.openerEl);\n      if ($openerEl.length) $openerEl[0].f7Autocomplete = ac;\n    }\n\n    let $inputEl;\n    if (ac.params.inputEl) {\n      $inputEl = $(ac.params.inputEl);\n      if ($inputEl.length) $inputEl[0].f7Autocomplete = ac;\n    }\n\n    const uniqueId = id();\n\n    let url = params.url;\n    if (!url && $openerEl && $openerEl.length) {\n      if ($openerEl.attr('href')) url = $openerEl.attr('href');\n      else if ($openerEl.find('a').length > 0) {\n        url = $openerEl.find('a').attr('href');\n      }\n    }\n    if (!url || url === '#' || url === '') url = ac.params.url;\n\n    const inputType = ac.params.multiple ? 'checkbox' : 'radio';\n\n    extend(ac, {\n      $openerEl,\n      openerEl: $openerEl && $openerEl[0],\n      $inputEl,\n      inputEl: $inputEl && $inputEl[0],\n      id: uniqueId,\n      url,\n      value: ac.params.value || [],\n      inputType,\n      inputName: `${inputType}-${uniqueId}`,\n      $modalEl: undefined,\n      $dropdownEl: undefined,\n    });\n\n    let previousQuery = '';\n    function onInputChange() {\n      let query = ac.$inputEl.val().trim();\n\n      if (!ac.params.source) return;\n      ac.params.source.call(ac, query, (items) => {\n        let itemsHTML = '';\n        const limit = ac.params.limit ? Math.min(ac.params.limit, items.length) : items.length;\n        ac.items = items;\n        let regExp;\n        if (ac.params.highlightMatches) {\n          query = query.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n          regExp = new RegExp(`(${query})`, 'i');\n        }\n\n        let firstValue;\n        let firstItem;\n        for (let i = 0; i < limit; i += 1) {\n          const itemValue =\n            typeof items[i] === 'object' ? items[i][ac.params.valueProperty] : items[i];\n          const itemText =\n            typeof items[i] === 'object' ? items[i][ac.params.textProperty] : items[i];\n          if (i === 0) {\n            firstValue = itemValue;\n            firstItem = ac.items[i];\n          }\n          itemsHTML += ac.renderItem(\n            {\n              value: itemValue,\n              text: ac.params.highlightMatches ? itemText.replace(regExp, '<b>$1</b>') : itemText,\n            },\n            i,\n          );\n        }\n        if (itemsHTML === '' && query === '' && ac.params.dropdownPlaceholderText) {\n          itemsHTML += ac.renderItem({\n            placeholder: true,\n            text: ac.params.dropdownPlaceholderText,\n          });\n        }\n        ac.$dropdownEl.find('ul').html(itemsHTML);\n        if (ac.params.typeahead) {\n          if (!firstValue || !firstItem) {\n            return;\n          }\n          if (firstValue.toLowerCase().indexOf(query.toLowerCase()) !== 0) {\n            return;\n          }\n          if (previousQuery.toLowerCase() === query.toLowerCase()) {\n            ac.value = [];\n            return;\n          }\n\n          if (previousQuery.toLowerCase().indexOf(query.toLowerCase()) === 0) {\n            previousQuery = query;\n            ac.value = [];\n            return;\n          }\n          $inputEl.val(firstValue);\n          $inputEl[0].setSelectionRange(query.length, firstValue.length);\n\n          const previousValue =\n            typeof ac.value[0] === 'object' ? ac.value[0][ac.params.valueProperty] : ac.value[0];\n          if (!previousValue || firstValue.toLowerCase() !== previousValue.toLowerCase()) {\n            ac.value = [firstItem];\n            ac.emit('local::change autocompleteChange', [firstItem]);\n          }\n        }\n\n        previousQuery = query;\n      });\n    }\n    function onPageInputChange() {\n      const inputEl = this;\n      const value = inputEl.value;\n      const isValues = $(inputEl).parents('.autocomplete-values').length > 0;\n      let item;\n      let itemValue;\n      let aValue;\n      if (isValues) {\n        if (ac.inputType === 'checkbox' && !inputEl.checked) {\n          for (let i = 0; i < ac.value.length; i += 1) {\n            aValue =\n              typeof ac.value[i] === 'string' ? ac.value[i] : ac.value[i][ac.params.valueProperty];\n            if (aValue === value || aValue * 1 === value * 1) {\n              ac.value.splice(i, 1);\n            }\n          }\n          ac.updateValues();\n          ac.emit('local::change autocompleteChange', ac.value);\n        }\n        return;\n      }\n\n      // Find Related Item\n      for (let i = 0; i < ac.items.length; i += 1) {\n        itemValue =\n          typeof ac.items[i] === 'object' ? ac.items[i][ac.params.valueProperty] : ac.items[i];\n        if (itemValue === value || itemValue * 1 === value * 1) item = ac.items[i];\n      }\n      if (ac.inputType === 'radio') {\n        ac.value = [item];\n      } else if (inputEl.checked) {\n        ac.value.push(item);\n      } else {\n        for (let i = 0; i < ac.value.length; i += 1) {\n          aValue =\n            typeof ac.value[i] === 'object' ? ac.value[i][ac.params.valueProperty] : ac.value[i];\n          if (aValue === value || aValue * 1 === value * 1) {\n            ac.value.splice(i, 1);\n          }\n        }\n      }\n\n      // Update Values Block\n      ac.updateValues();\n\n      // On Select Callback\n      if ((ac.inputType === 'radio' && inputEl.checked) || ac.inputType === 'checkbox') {\n        ac.emit('local::change autocompleteChange', ac.value);\n      }\n    }\n    function onHtmlClick(e) {\n      const $targetEl = $(e.target);\n      if (\n        $targetEl.is(ac.$inputEl[0]) ||\n        (ac.$dropdownEl && $targetEl.closest(ac.$dropdownEl[0]).length)\n      )\n        return;\n      ac.close();\n    }\n    function onOpenerClick() {\n      ac.open();\n    }\n    function onInputFocus() {\n      ac.open();\n    }\n    function onInputBlur() {\n      if (ac.$dropdownEl.find('label.active-state').length > 0) return;\n      setTimeout(() => {\n        ac.close();\n      }, 0);\n    }\n    function onResize() {\n      ac.positionDropdown();\n    }\n\n    function onKeyDown(e) {\n      if (!ac.opened) return;\n      if (e.keyCode === 27) {\n        // ESC\n        e.preventDefault();\n        ac.$inputEl.blur();\n        return;\n      }\n      if (e.keyCode === 13) {\n        // Enter\n        const $selectedItemLabel = ac.$dropdownEl.find('.autocomplete-dropdown-selected label');\n        if ($selectedItemLabel.length) {\n          e.preventDefault();\n          $selectedItemLabel.trigger('click');\n          ac.$inputEl.blur();\n          return;\n        }\n        if (ac.params.typeahead) {\n          e.preventDefault();\n          ac.$inputEl.blur();\n        }\n        return;\n      }\n      if (e.keyCode !== 40 && e.keyCode !== 38) return;\n      e.preventDefault();\n      const $selectedItem = ac.$dropdownEl.find('.autocomplete-dropdown-selected');\n      let $newItem;\n      if ($selectedItem.length) {\n        $newItem = $selectedItem[e.keyCode === 40 ? 'next' : 'prev']('li');\n        if (!$newItem.length) {\n          $newItem = ac.$dropdownEl\n            .find('li')\n            .eq(e.keyCode === 40 ? 0 : ac.$dropdownEl.find('li').length - 1);\n        }\n      } else {\n        $newItem = ac.$dropdownEl\n          .find('li')\n          .eq(e.keyCode === 40 ? 0 : ac.$dropdownEl.find('li').length - 1);\n      }\n      if ($newItem.hasClass('autocomplete-dropdown-placeholder')) return;\n      $selectedItem.removeClass('autocomplete-dropdown-selected');\n      $newItem.addClass('autocomplete-dropdown-selected');\n    }\n    function onDropdownClick() {\n      const $clickedEl = $(this);\n      let clickedItem;\n      for (let i = 0; i < ac.items.length; i += 1) {\n        const itemValue =\n          typeof ac.items[i] === 'object' ? ac.items[i][ac.params.valueProperty] : ac.items[i];\n        const value = $clickedEl.attr('data-value');\n        if (itemValue === value || itemValue * 1 === value * 1) {\n          clickedItem = ac.items[i];\n        }\n      }\n      if (ac.params.updateInputValueOnSelect) {\n        ac.$inputEl.val(\n          typeof clickedItem === 'object' ? clickedItem[ac.params.valueProperty] : clickedItem,\n        );\n        ac.$inputEl.trigger('input change');\n      }\n      ac.value = [clickedItem];\n      ac.emit('local::change autocompleteChange', [clickedItem]);\n      ac.close();\n    }\n\n    ac.attachEvents = function attachEvents() {\n      if (ac.params.openIn !== 'dropdown' && ac.$openerEl) {\n        ac.$openerEl.on('click', onOpenerClick);\n      }\n      if (ac.params.openIn === 'dropdown' && ac.$inputEl) {\n        ac.$inputEl.on('focus', onInputFocus);\n        ac.$inputEl.on(ac.params.inputEvents, onInputChange);\n        if (device.android) {\n          $('html').on('click', onHtmlClick);\n        } else {\n          ac.$inputEl.on('blur', onInputBlur);\n        }\n        ac.$inputEl.on('keydown', onKeyDown);\n      }\n    };\n    ac.detachEvents = function attachEvents() {\n      if (ac.params.openIn !== 'dropdown' && ac.$openerEl) {\n        ac.$openerEl.off('click', onOpenerClick);\n      }\n      if (ac.params.openIn === 'dropdown' && ac.$inputEl) {\n        ac.$inputEl.off('focus', onInputFocus);\n        ac.$inputEl.off(ac.params.inputEvents, onInputChange);\n        if (device.android) {\n          $('html').off('click', onHtmlClick);\n        } else {\n          ac.$inputEl.off('blur', onInputBlur);\n        }\n        ac.$inputEl.off('keydown', onKeyDown);\n      }\n    };\n    ac.attachDropdownEvents = function attachDropdownEvents() {\n      ac.$dropdownEl.on('click', 'label', onDropdownClick);\n      app.on('resize', onResize);\n    };\n    ac.detachDropdownEvents = function detachDropdownEvents() {\n      ac.$dropdownEl.off('click', 'label', onDropdownClick);\n      app.off('resize', onResize);\n    };\n\n    ac.attachPageEvents = function attachPageEvents() {\n      ac.$el.on('change', 'input[type=\"radio\"], input[type=\"checkbox\"]', onPageInputChange);\n      if (ac.params.closeOnSelect && !ac.params.multiple) {\n        ac.$el.once('click', '.list label', () => {\n          nextTick(() => {\n            ac.close();\n          });\n        });\n      }\n    };\n    ac.detachPageEvents = function detachPageEvents() {\n      ac.$el.off('change', 'input[type=\"radio\"], input[type=\"checkbox\"]', onPageInputChange);\n    };\n\n    // Install Modules\n    ac.useModules();\n\n    // Init\n    ac.init();\n\n    return ac;\n  }\n\n  get view() {\n    const ac = this;\n    const { $openerEl, $inputEl, app } = ac;\n    let view;\n    if (ac.params.view) {\n      view = ac.params.view;\n    } else if ($openerEl || $inputEl) {\n      const $el = $openerEl || $inputEl;\n      view = $el.closest('.view').length && $el.closest('.view')[0].f7View;\n    }\n    if (!view) view = app.views.main;\n    return view;\n  }\n\n  positionDropdown() {\n    const ac = this;\n    const { $inputEl, app, $dropdownEl } = ac;\n\n    const $pageContentEl = $inputEl.parents('.page-content');\n    if ($pageContentEl.length === 0) return;\n    const inputOffset = $inputEl.offset();\n    const inputOffsetWidth = $inputEl[0].offsetWidth;\n    const inputOffsetHeight = $inputEl[0].offsetHeight;\n    const $listEl = $inputEl.parents('.list');\n\n    let $listParent;\n    $listEl.parents().each((parentEl) => {\n      if ($listParent) return;\n      const $parentEl = $(parentEl);\n      if ($parentEl.parent($pageContentEl).length) $listParent = $parentEl;\n    });\n\n    const listOffset = $listEl.offset();\n    const paddingBottom = parseInt($pageContentEl.css('padding-bottom'), 10);\n    const listOffsetLeft = $listEl.length > 0 ? listOffset.left - $pageContentEl.offset().left : 0;\n    const inputOffsetLeft =\n      inputOffset.left - ($listEl.length > 0 ? listOffset.left : 0) - (app.rtl ? 0 : 0);\n    const inputOffsetTop =\n      inputOffset.top - ($pageContentEl.offset().top - $pageContentEl[0].scrollTop);\n\n    const maxHeight =\n      $pageContentEl[0].scrollHeight -\n      paddingBottom -\n      (inputOffsetTop + $pageContentEl[0].scrollTop) -\n      $inputEl[0].offsetHeight;\n\n    const paddingProp = app.rtl ? 'padding-right' : 'padding-left';\n    let paddingValue;\n    if ($listEl.length && !ac.params.expandInput) {\n      paddingValue =\n        (app.rtl ? $listEl[0].offsetWidth - inputOffsetLeft - inputOffsetWidth : inputOffsetLeft) -\n        (app.theme === 'md' ? 16 : 15);\n    }\n\n    $dropdownEl.css({\n      left: `${$listEl.length > 0 ? listOffsetLeft : inputOffsetLeft}px`,\n      top: `${inputOffsetTop + $pageContentEl[0].scrollTop + inputOffsetHeight}px`,\n      width: `${$listEl.length > 0 ? $listEl[0].offsetWidth : inputOffsetWidth}px`,\n    });\n    $dropdownEl.children('.autocomplete-dropdown-inner').css({\n      maxHeight: `${maxHeight}px`,\n      [paddingProp]: $listEl.length > 0 && !ac.params.expandInput ? `${paddingValue}px` : '',\n    });\n  }\n\n  focus() {\n    const ac = this;\n    ac.$el.find('input[type=search]').focus();\n  }\n\n  source(query) {\n    const ac = this;\n    if (!ac.params.source) return;\n\n    const { $el } = ac;\n\n    ac.params.source.call(ac, query, (items) => {\n      let itemsHTML = '';\n      const limit = ac.params.limit ? Math.min(ac.params.limit, items.length) : items.length;\n      ac.items = items;\n      for (let i = 0; i < limit; i += 1) {\n        let selected = false;\n        const itemValue =\n          typeof items[i] === 'object' ? items[i][ac.params.valueProperty] : items[i];\n        for (let j = 0; j < ac.value.length; j += 1) {\n          const aValue =\n            typeof ac.value[j] === 'object' ? ac.value[j][ac.params.valueProperty] : ac.value[j];\n          if (aValue === itemValue || aValue * 1 === itemValue * 1) selected = true;\n        }\n        itemsHTML += ac.renderItem(\n          {\n            value: itemValue,\n            text: typeof items[i] === 'object' ? items[i][ac.params.textProperty] : items[i],\n            inputType: ac.inputType,\n            id: ac.id,\n            inputName: ac.inputName,\n            selected,\n          },\n          i,\n        );\n      }\n      $el.find('.autocomplete-found ul').html(itemsHTML);\n      if (items.length === 0) {\n        if (query.length !== 0) {\n          $el.find('.autocomplete-not-found').show();\n          $el.find('.autocomplete-found, .autocomplete-values').hide();\n        } else {\n          $el.find('.autocomplete-values').show();\n          $el.find('.autocomplete-found, .autocomplete-not-found').hide();\n        }\n      } else {\n        $el.find('.autocomplete-found').show();\n        $el.find('.autocomplete-not-found, .autocomplete-values').hide();\n      }\n    });\n  }\n\n  updateValues() {\n    const ac = this;\n    let valuesHTML = '';\n    for (let i = 0; i < ac.value.length; i += 1) {\n      valuesHTML += ac.renderItem(\n        {\n          value:\n            typeof ac.value[i] === 'object' ? ac.value[i][ac.params.valueProperty] : ac.value[i],\n          text: typeof ac.value[i] === 'object' ? ac.value[i][ac.params.textProperty] : ac.value[i],\n          inputType: ac.inputType,\n          id: ac.id,\n          inputName: `${ac.inputName}-checked}`,\n          selected: true,\n        },\n        i,\n      );\n    }\n    ac.$el.find('.autocomplete-values ul').html(valuesHTML);\n  }\n\n  preloaderHide() {\n    const ac = this;\n    if (ac.params.openIn === 'dropdown' && ac.$dropdownEl) {\n      ac.$dropdownEl.find('.autocomplete-preloader').removeClass('autocomplete-preloader-visible');\n    } else {\n      $('.autocomplete-preloader').removeClass('autocomplete-preloader-visible');\n    }\n  }\n\n  preloaderShow() {\n    const ac = this;\n    if (ac.params.openIn === 'dropdown' && ac.$dropdownEl) {\n      ac.$dropdownEl.find('.autocomplete-preloader').addClass('autocomplete-preloader-visible');\n    } else {\n      $('.autocomplete-preloader').addClass('autocomplete-preloader-visible');\n    }\n  }\n\n  renderPreloader() {\n    const ac = this;\n    const preloaders = {\n      iosPreloaderContent,\n      mdPreloaderContent,\n      auroraPreloaderContent,\n    };\n\n    return (\n      <div\n        class={`autocomplete-preloader preloader ${\n          ac.params.preloaderColor ? `color-${ac.params.preloaderColor}` : ''\n        }`}\n      >\n        {preloaders[`${ac.app.theme}PreloaderContent`] || ''}\n      </div>\n    );\n  }\n\n  renderSearchbar() {\n    const ac = this;\n    if (ac.params.renderSearchbar) return ac.params.renderSearchbar.call(ac);\n\n    return (\n      <form class=\"searchbar\">\n        <div class=\"searchbar-inner\">\n          <div class=\"searchbar-input-wrap\">\n            <input\n              type=\"search\"\n              spellcheck={ac.params.searchbarSpellcheck || 'false'}\n              placeholder={ac.params.searchbarPlaceholder}\n            />\n            <i class=\"searchbar-icon\"></i>\n            <span class=\"input-clear-button\"></span>\n          </div>\n          {ac.params.searchbarDisableButton && (\n            <span class=\"searchbar-disable-button\">{ac.params.searchbarDisableText}</span>\n          )}\n        </div>\n      </form>\n    );\n  }\n\n  renderItem(item, index) {\n    const ac = this;\n    if (ac.params.renderItem) return ac.params.renderItem.call(ac, item, index);\n\n    const itemValue =\n      item.value && typeof item.value === 'string'\n        ? item.value.replace(/\"/g, '&quot;')\n        : item.value;\n    if (ac.params.openIn !== 'dropdown') {\n      return (\n        <li>\n          <label class={`item-${item.inputType} item-content`}>\n            <input\n              type={item.inputType}\n              name={item.inputName}\n              value={itemValue}\n              _checked={item.selected}\n            />\n            <i class={`icon icon-${item.inputType}`} />\n            <div class=\"item-inner\">\n              <div class=\"item-title\">{item.text}</div>\n            </div>\n          </label>\n        </li>\n      );\n    }\n    // Dropdown\n    if (!item.placeholder) {\n      return (\n        <li>\n          <label class=\"item-radio item-content\" data-value={itemValue}>\n            <div class=\"item-inner\">\n              <div class=\"item-title\">{item.text}</div>\n            </div>\n          </label>\n        </li>\n      );\n    }\n\n    // Dropwdown placeholder\n    return (\n      <li class=\"autocomplete-dropdown-placeholder\">\n        <label class=\"item-content\">\n          <div class=\"item-inner\">\n            <div class=\"item-title\">{item.text}</div>\n          </div>\n        </label>\n      </li>\n    );\n  }\n\n  renderNavbar() {\n    const ac = this;\n    if (ac.params.renderNavbar) return ac.params.renderNavbar.call(ac);\n    let pageTitle = ac.params.pageTitle;\n    if (typeof pageTitle === 'undefined' && ac.$openerEl && ac.$openerEl.length) {\n      pageTitle = ac.$openerEl.find('.item-title').text().trim();\n    }\n    const inPopup = ac.params.openIn === 'popup';\n\n    // eslint-disable-next-line\n    const navbarLeft = inPopup ? (\n      ac.params.preloader && <div class=\"left\">{ac.renderPreloader()}</div>\n    ) : (\n      <div class=\"left sliding\">\n        <a class=\"link back\">\n          <i class=\"icon icon-back\"></i>\n          <span class=\"if-not-md\">{ac.params.pageBackLinkText}</span>\n        </a>\n      </div>\n    );\n    const navbarRight = inPopup ? (\n      <div class=\"right\">\n        <a class=\"link popup-close\" data-popup=\".autocomplete-popup\">\n          {ac.params.popupCloseLinkText}\n        </a>\n      </div>\n    ) : (\n      ac.params.preloader && <div class=\"right\">{ac.renderPreloader()}</div>\n    );\n    return (\n      <div\n        class={`navbar ${ac.params.navbarColorTheme ? `color-${ac.params.navbarColorTheme}` : ''}`}\n      >\n        <div class=\"navbar-bg\"></div>\n        <div\n          class={`navbar-inner ${\n            ac.params.navbarColorTheme ? `color-${ac.params.navbarColorTheme}` : ''\n          }`}\n        >\n          {navbarLeft}\n          {pageTitle && <div class=\"title sliding\">{pageTitle}</div>}\n          {navbarRight}\n          <div class=\"subnavbar sliding\">{ac.renderSearchbar()}</div>\n        </div>\n      </div>\n    );\n  }\n\n  renderDropdown() {\n    const ac = this;\n    if (ac.params.renderDropdown) return ac.params.renderDropdown.call(ac, ac.items);\n\n    return (\n      <div class=\"autocomplete-dropdown\">\n        <div class=\"autocomplete-dropdown-inner\">\n          <div class={`list ${!ac.params.expandInput ? 'no-safe-areas' : ''}`}>\n            <ul></ul>\n          </div>\n        </div>\n        {ac.params.preloader && ac.renderPreloader()}\n      </div>\n    );\n  }\n\n  renderPage(inPopup) {\n    const ac = this;\n    if (ac.params.renderPage) return ac.params.renderPage.call(ac, ac.items);\n\n    return (\n      <div class=\"page page-with-subnavbar autocomplete-page\" data-name=\"autocomplete-page\">\n        {ac.renderNavbar(inPopup)}\n        <div class=\"searchbar-backdrop\"></div>\n        <div class=\"page-content\">\n          <div\n            class={`list autocomplete-list autocomplete-found autocomplete-list-${ac.id} ${\n              ac.params.formColorTheme ? `color-${ac.params.formColorTheme}` : ''\n            }`}\n          >\n            <ul></ul>\n          </div>\n          <div class=\"list autocomplete-not-found\">\n            <ul>\n              <li class=\"item-content\">\n                <div class=\"item-inner\">\n                  <div class=\"item-title\">{ac.params.notFoundText}</div>\n                </div>\n              </li>\n            </ul>\n          </div>\n          <div class=\"list autocomplete-values\">\n            <ul></ul>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  renderPopup() {\n    const ac = this;\n    if (ac.params.renderPopup) return ac.params.renderPopup.call(ac, ac.items);\n    return (\n      <div class=\"popup autocomplete-popup\">\n        <div class=\"view\">{ac.renderPage(true)};</div>\n      </div>\n    );\n  }\n\n  onOpen(type, el) {\n    const ac = this;\n    const app = ac.app;\n    const $el = $(el);\n    ac.$el = $el;\n    ac.el = $el[0];\n    ac.openedIn = type;\n    ac.opened = true;\n\n    if (ac.params.openIn === 'dropdown') {\n      ac.attachDropdownEvents();\n\n      ac.$dropdownEl.addClass('autocomplete-dropdown-in');\n      ac.$inputEl.trigger('input');\n    } else {\n      // Init SB\n      let $searchbarEl = $el.find('.searchbar');\n      if (ac.params.openIn === 'page' && app.theme === 'ios' && $searchbarEl.length === 0) {\n        $searchbarEl = $(app.navbar.getElByPage($el)).find('.searchbar');\n      }\n      ac.searchbar = app.searchbar.create({\n        el: $searchbarEl,\n        backdropEl: $el.find('.searchbar-backdrop'),\n        customSearch: true,\n        on: {\n          search(sb, query) {\n            if (query.length === 0 && ac.searchbar.enabled) {\n              ac.searchbar.backdropShow();\n            } else {\n              ac.searchbar.backdropHide();\n            }\n            ac.source(query);\n          },\n        },\n      });\n\n      // Attach page events\n      ac.attachPageEvents();\n\n      // Update Values On Page Init\n      ac.updateValues();\n\n      // Source on load\n      if (ac.params.requestSourceOnOpen) ac.source('');\n    }\n\n    ac.emit('local::open autocompleteOpen', ac);\n  }\n\n  autoFocus() {\n    const ac = this;\n    if (ac.searchbar && ac.searchbar.$inputEl) {\n      ac.searchbar.$inputEl.focus();\n    }\n    return ac;\n  }\n\n  onOpened() {\n    const ac = this;\n    if (ac.params.openIn !== 'dropdown' && ac.params.autoFocus) {\n      ac.autoFocus();\n    }\n    ac.emit('local::opened autocompleteOpened', ac);\n  }\n\n  onClose() {\n    const ac = this;\n    if (ac.destroyed) return;\n\n    // Destroy SB\n    if (ac.searchbar && ac.searchbar.destroy) {\n      ac.searchbar.destroy();\n      ac.searchbar = null;\n      delete ac.searchbar;\n    }\n\n    if (ac.params.openIn === 'dropdown') {\n      ac.detachDropdownEvents();\n      ac.$dropdownEl.removeClass('autocomplete-dropdown-in').remove();\n      ac.$inputEl\n        .parents('.item-content-dropdown-expanded')\n        .removeClass('item-content-dropdown-expanded');\n    } else {\n      ac.detachPageEvents();\n    }\n\n    ac.emit('local::close autocompleteClose', ac);\n  }\n\n  onClosed() {\n    const ac = this;\n    if (ac.destroyed) return;\n    ac.opened = false;\n    ac.$el = null;\n    ac.el = null;\n    delete ac.$el;\n    delete ac.el;\n\n    ac.emit('local::closed autocompleteClosed', ac);\n  }\n\n  openPage() {\n    const ac = this;\n    if (ac.opened) return ac;\n    const pageHtml = ac.renderPage();\n    ac.view.router.navigate({\n      url: ac.url,\n      route: {\n        content: pageHtml,\n        path: ac.url,\n        on: {\n          pageBeforeIn(e, page) {\n            ac.onOpen('page', page.el);\n          },\n          pageAfterIn(e, page) {\n            ac.onOpened('page', page.el);\n          },\n          pageBeforeOut(e, page) {\n            ac.onClose('page', page.el);\n          },\n          pageAfterOut(e, page) {\n            ac.onClosed('page', page.el);\n          },\n        },\n        options: {\n          animate: ac.params.animate,\n        },\n      },\n    });\n    return ac;\n  }\n\n  openPopup() {\n    const ac = this;\n    if (ac.opened) return ac;\n    const popupHtml = ac.renderPopup();\n\n    const popupParams = {\n      content: popupHtml,\n      animate: ac.params.animate,\n      push: ac.params.popupPush,\n      swipeToClose: ac.params.popupSwipeToClose,\n      on: {\n        popupOpen(popup) {\n          ac.onOpen('popup', popup.el);\n        },\n        popupOpened(popup) {\n          ac.onOpened('popup', popup.el);\n        },\n        popupClose(popup) {\n          ac.onClose('popup', popup.el);\n        },\n        popupClosed(popup) {\n          ac.onClosed('popup', popup.el);\n        },\n      },\n    };\n\n    if (ac.params.routableModals && ac.view) {\n      ac.view.router.navigate({\n        url: ac.url,\n        route: {\n          path: ac.url,\n          popup: popupParams,\n        },\n      });\n    } else {\n      ac.modal = ac.app.popup.create(popupParams).open(ac.params.animate);\n    }\n    return ac;\n  }\n\n  openDropdown() {\n    const ac = this;\n\n    if (!ac.$dropdownEl) {\n      ac.$dropdownEl = $(ac.renderDropdown());\n    }\n    const $listEl = ac.$inputEl.parents('.list');\n    if (\n      $listEl.length &&\n      ac.$inputEl.parents('.item-content').length > 0 &&\n      ac.params.expandInput\n    ) {\n      ac.$inputEl.parents('.item-content').addClass('item-content-dropdown-expanded');\n    }\n\n    const $pageContentEl = ac.$inputEl.parents('.page-content');\n    if (ac.params.dropdownContainerEl) {\n      $(ac.params.dropdownContainerEl).append(ac.$dropdownEl);\n    } else if ($pageContentEl.length === 0) {\n      ac.$dropdownEl.insertAfter(ac.$inputEl);\n    } else {\n      ac.positionDropdown();\n      $pageContentEl.append(ac.$dropdownEl);\n    }\n    ac.onOpen('dropdown', ac.$dropdownEl);\n    ac.onOpened('dropdown', ac.$dropdownEl);\n  }\n\n  open() {\n    const ac = this;\n    if (ac.opened) return ac;\n    const openIn = ac.params.openIn;\n    ac[\n      `open${openIn\n        .split('')\n        .map((el, index) => {\n          if (index === 0) return el.toUpperCase();\n          return el;\n        })\n        .join('')}`\n    ]();\n    return ac;\n  }\n\n  close() {\n    const ac = this;\n    if (!ac.opened) return ac;\n    if (ac.params.openIn === 'dropdown') {\n      ac.onClose();\n      ac.onClosed();\n    } else if ((ac.params.routableModals && ac.view) || ac.openedIn === 'page') {\n      ac.view.router.back({ animate: ac.params.animate });\n    } else {\n      ac.modal.once('modalClosed', () => {\n        nextTick(() => {\n          if (ac.destroyed) return;\n          ac.modal.destroy();\n          delete ac.modal;\n        });\n      });\n      ac.modal.close();\n    }\n    return ac;\n  }\n\n  init() {\n    const ac = this;\n    ac.attachEvents();\n  }\n\n  destroy() {\n    const ac = this;\n    ac.emit('local::beforeDestroy autocompleteBeforeDestroy', ac);\n    ac.detachEvents();\n    if (ac.$inputEl && ac.$inputEl[0]) {\n      delete ac.$inputEl[0].f7Autocomplete;\n    }\n    if (ac.$openerEl && ac.$openerEl[0]) {\n      delete ac.$openerEl[0].f7Autocomplete;\n    }\n    deleteProps(ac);\n    ac.destroyed = true;\n  }\n}\n\nexport default Autocomplete;\n","import { extend } from '../../shared/utils';\nimport Autocomplete from './autocomplete-class';\nimport ConstructorMethods from '../../shared/constructor-methods';\n\nexport default {\n  name: 'autocomplete',\n  params: {\n    autocomplete: {\n      openerEl: undefined,\n      inputEl: undefined,\n      view: undefined,\n\n      // DropDown\n      dropdownContainerEl: undefined,\n      dropdownPlaceholderText: undefined,\n      typeahead: false,\n      highlightMatches: true,\n      expandInput: false,\n      updateInputValueOnSelect: true,\n      inputEvents: 'input',\n\n      value: undefined,\n      multiple: false,\n\n      source: undefined,\n      limit: undefined,\n      valueProperty: 'id',\n      textProperty: 'text',\n\n      openIn: 'page', // or 'popup' or 'dropdown'\n      pageBackLinkText: 'Back',\n      popupCloseLinkText: 'Close',\n      pageTitle: undefined,\n      searchbarPlaceholder: 'Search...',\n      searchbarDisableText: 'Cancel',\n      searchbarDisableButton: undefined,\n      searchbarSpellcheck: false,\n\n      popupPush: false,\n      popupSwipeToClose: undefined,\n\n      animate: true,\n\n      autoFocus: false,\n      closeOnSelect: false,\n      notFoundText: 'Nothing found',\n      requestSourceOnOpen: false,\n\n      // Preloader\n      preloaderColor: undefined,\n      preloader: false,\n\n      // Colors\n      formColorTheme: undefined,\n      navbarColorTheme: undefined,\n\n      // Routing\n      routableModals: false,\n      url: 'select/',\n\n      // Custom render functions\n      renderDropdown: undefined,\n      renderPage: undefined,\n      renderPopup: undefined,\n      renderItem: undefined,\n      renderSearchbar: undefined,\n      renderNavbar: undefined,\n    },\n  },\n  static: {\n    Autocomplete,\n  },\n  create() {\n    const app = this;\n    app.autocomplete = extend(\n      ConstructorMethods({\n        defaultSelector: undefined,\n        constructor: Autocomplete,\n        app,\n        domProp: 'f7Autocomplete',\n      }),\n      {\n        open(autocompleteEl) {\n          const ac = app.autocomplete.get(autocompleteEl);\n          if (ac && ac.open) return ac.open();\n          return undefined;\n        },\n        close(autocompleteEl) {\n          const ac = app.autocomplete.get(autocompleteEl);\n          if (ac && ac.close) return ac.close();\n          return undefined;\n        },\n      },\n    );\n  },\n};\n","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom7';\nimport { extend, deleteProps } from '../../shared/utils';\nimport { getSupport } from '../../shared/get-support';\nimport Framework7Class from '../../shared/class';\n\nclass Tooltip extends Framework7Class {\n  constructor(app, params = {}) {\n    super(params, [app]);\n\n    const tooltip = this;\n    const support = getSupport();\n\n    const defaults = extend({}, app.params.tooltip);\n\n    const document = getDocument();\n\n    // Extend defaults with modules params\n    tooltip.useModulesParams(defaults);\n\n    tooltip.params = extend(defaults, params);\n    if (\n      typeof params.offset === 'undefined' &&\n      support.touch &&\n      tooltip.params.trigger === 'hover'\n    ) {\n      tooltip.params.offset = 10;\n    }\n\n    const { targetEl, containerEl } = tooltip.params;\n    if (!targetEl && !tooltip.params.delegated) return tooltip;\n\n    const $targetEl = $(targetEl);\n    if ($targetEl.length === 0 && !tooltip.params.delegated) return tooltip;\n\n    if ($targetEl[0] && $targetEl[0].f7Tooltip && !tooltip.params.delegated)\n      return $targetEl[0].f7Tooltip;\n\n    let $containerEl = $(containerEl || app.$el).eq(0);\n    if ($containerEl.length === 0) {\n      $containerEl = app.$el;\n    }\n\n    const $el = $(tooltip.render()).eq(0);\n\n    extend(tooltip, {\n      app,\n      $targetEl,\n      targetEl: $targetEl && $targetEl[0],\n      $containerEl,\n      containerEl: $containerEl && $containerEl[0],\n      $el,\n      el: $el && $el[0],\n      text: tooltip.params.text || '',\n      visible: false,\n      opened: false,\n    });\n\n    if ($targetEl[0]) $targetEl[0].f7Tooltip = tooltip;\n\n    const touchesStart = {};\n    let isTouched;\n    function handleClick() {\n      if (tooltip.opened) tooltip.hide();\n      else tooltip.show(this);\n    }\n    function handleClickOut(e) {\n      if (\n        tooltip.opened &&\n        ($(e.target).closest($targetEl).length || $(e.target).closest(tooltip.$el).length)\n      )\n        return;\n      tooltip.hide();\n    }\n    function handleTouchStart(e) {\n      if (isTouched) return;\n      isTouched = true;\n      touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n      touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n      tooltip.show(this);\n    }\n    function handleTouchMove(e) {\n      if (!isTouched) return;\n      const x = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n      const y = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n      const distance = ((x - touchesStart.x) ** 2 + (y - touchesStart.y) ** 2) ** 0.5;\n      if (distance > 50) {\n        isTouched = false;\n        tooltip.hide();\n      }\n    }\n    function handleTouchEnd() {\n      if (!isTouched) return;\n      isTouched = false;\n      tooltip.hide();\n    }\n    function handleMouseEnter() {\n      tooltip.show(this);\n    }\n    function handleMouseLeave() {\n      tooltip.hide();\n    }\n    function handleTransitionEnd() {\n      if (!$el.hasClass('tooltip-in')) {\n        $el.removeClass('tooltip-out').remove();\n      }\n    }\n\n    tooltip.attachEvents = function attachEvents() {\n      $el.on('transitionend', handleTransitionEnd);\n      if (tooltip.params.trigger === 'click') {\n        if (tooltip.params.delegated) {\n          $(document).on('click', tooltip.params.targetEl, handleClick);\n        } else {\n          tooltip.$targetEl.on('click', handleClick);\n        }\n        $('html').on('click', handleClickOut);\n        return;\n      }\n      if (tooltip.params.trigger === 'manual') return;\n      if (support.touch) {\n        const passive = support.passiveListener ? { passive: true } : false;\n        if (tooltip.params.delegated) {\n          $(document).on(app.touchEvents.start, tooltip.params.targetEl, handleTouchStart, passive);\n        } else {\n          tooltip.$targetEl.on(app.touchEvents.start, handleTouchStart, passive);\n        }\n        app.on('touchmove', handleTouchMove);\n        app.on('touchend:passive', handleTouchEnd);\n      } else {\n        // eslint-disable-next-line\n        if (tooltip.params.delegated) {\n          $(document).on(\n            support.pointerEvents ? 'pointerenter' : 'mouseenter',\n            tooltip.params.targetEl,\n            handleMouseEnter,\n            true,\n          );\n          $(document).on(\n            support.pointerEvents ? 'pointerleave' : 'mouseleave',\n            tooltip.params.targetEl,\n            handleMouseLeave,\n            true,\n          );\n        } else {\n          tooltip.$targetEl.on(\n            support.pointerEvents ? 'pointerenter' : 'mouseenter',\n            handleMouseEnter,\n          );\n          tooltip.$targetEl.on(\n            support.pointerEvents ? 'pointerleave' : 'mouseleave',\n            handleMouseLeave,\n          );\n        }\n      }\n    };\n    tooltip.detachEvents = function detachEvents() {\n      $el.off('transitionend', handleTransitionEnd);\n      if (tooltip.params.trigger === 'click') {\n        if (tooltip.params.delegated) {\n          $(document).on('click', tooltip.params.targetEl, handleClick);\n        } else {\n          tooltip.$targetEl.off('click', handleClick);\n        }\n        $('html').off('click', handleClickOut);\n        return;\n      }\n      if (tooltip.params.trigger === 'manual') return;\n      if (support.touch) {\n        const passive = support.passiveListener ? { passive: true } : false;\n        if (tooltip.params.delegated) {\n          $(document).off(\n            app.touchEvents.start,\n            tooltip.params.targetEl,\n            handleTouchStart,\n            passive,\n          );\n        } else {\n          tooltip.$targetEl.off(app.touchEvents.start, handleTouchStart, passive);\n        }\n        app.off('touchmove', handleTouchMove);\n        app.off('touchend:passive', handleTouchEnd);\n      } else {\n        // eslint-disable-next-line\n        if (tooltip.params.delegated) {\n          $(document).off(\n            support.pointerEvents ? 'pointerenter' : 'mouseenter',\n            tooltip.params.targetEl,\n            handleMouseEnter,\n            true,\n          );\n          $(document).off(\n            support.pointerEvents ? 'pointerleave' : 'mouseleave',\n            tooltip.params.targetEl,\n            handleMouseLeave,\n            true,\n          );\n        } else {\n          tooltip.$targetEl.off(\n            support.pointerEvents ? 'pointerenter' : 'mouseenter',\n            handleMouseEnter,\n          );\n          tooltip.$targetEl.off(\n            support.pointerEvents ? 'pointerleave' : 'mouseleave',\n            handleMouseLeave,\n          );\n        }\n      }\n    };\n\n    // Install Modules\n    tooltip.useModules();\n\n    tooltip.init();\n\n    return tooltip;\n  }\n\n  setTargetEl(targetEl) {\n    const tooltip = this;\n    tooltip.detachEvents();\n    tooltip.$targetEl = $(targetEl);\n    tooltip.targetEl = tooltip.$targetEl[0];\n    tooltip.attachEvents();\n    return tooltip;\n  }\n\n  position(targetEl) {\n    const tooltip = this;\n    const { $el, app, $containerEl } = tooltip;\n    const hasContainerEl = !!tooltip.params.containerEl;\n    const tooltipOffset = tooltip.params.offset || 0;\n    $el.css({ left: '', top: '' });\n    const $targetEl = $(targetEl || tooltip.targetEl);\n    const [width, height] = [$el.width(), $el.height()];\n\n    $el.css({ left: '', top: '' });\n\n    let targetWidth;\n    let targetHeight;\n    let targetOffsetLeft;\n    let targetOffsetTop;\n\n    const boundaries =\n      hasContainerEl && $containerEl.length ? $containerEl[0].getBoundingClientRect() : app;\n\n    if ($targetEl && $targetEl.length > 0) {\n      targetWidth = $targetEl.outerWidth();\n      targetHeight = $targetEl.outerHeight();\n      if (typeof targetWidth === 'undefined' && typeof targetHeight === 'undefined') {\n        const clientRect = $targetEl[0].getBoundingClientRect();\n        targetWidth = clientRect.width;\n        targetHeight = clientRect.height;\n      }\n\n      const targetOffset = $targetEl.offset();\n      targetOffsetLeft = targetOffset.left - boundaries.left;\n      targetOffsetTop = targetOffset.top - boundaries.top;\n\n      const targetParentPage = $targetEl.parents('.page');\n      if (targetParentPage.length > 0) {\n        targetOffsetTop -= targetParentPage[0].scrollTop;\n      }\n    }\n    let [left, top] = [0, 0, 0];\n\n    // Top Position\n    let position = 'top';\n\n    if (height + tooltipOffset < targetOffsetTop) {\n      // On top\n      top = targetOffsetTop - height - tooltipOffset;\n    } else if (height < boundaries.height - targetOffsetTop - targetHeight) {\n      // On bottom\n      position = 'bottom';\n      top = targetOffsetTop + targetHeight + tooltipOffset;\n    } else {\n      // On middle\n      position = 'middle';\n      top = targetHeight / 2 + targetOffsetTop - height / 2;\n      if (top <= 0) {\n        top = 8;\n      } else if (top + height >= boundaries.height) {\n        top = boundaries.height - height - 8;\n      }\n    }\n\n    // Horizontal Position\n    if (position === 'top' || position === 'bottom') {\n      left = targetWidth / 2 + targetOffsetLeft - width / 2;\n      if (left < 8) left = 8;\n      if (left + width > boundaries.width) left = boundaries.width - width - 8;\n      if (left < 0) left = 0;\n    } else if (position === 'middle') {\n      left = targetOffsetLeft - width;\n      if (left < 8 || left + width > boundaries.width) {\n        if (left < 8) left = targetOffsetLeft + targetWidth;\n        if (left + width > boundaries.width) left = boundaries.width - width - 8;\n      }\n    }\n\n    // Apply Styles\n    $el.css({ top: `${top}px`, left: `${left}px` });\n  }\n\n  show(aroundEl) {\n    const tooltip = this;\n    const { $el, $targetEl, $containerEl } = tooltip;\n    if ($containerEl[0] && $el[0] && !$containerEl[0].contains($el[0])) {\n      $containerEl.append($el);\n    }\n    tooltip.position(aroundEl);\n    const $aroundEl = $(aroundEl);\n    tooltip.visible = true;\n    tooltip.opened = true;\n    $targetEl.trigger('tooltip:show');\n    $el.trigger('tooltip:show');\n    if ($aroundEl.length && $aroundEl[0] !== $targetEl[0]) {\n      $aroundEl.trigger('tooltip:show');\n    }\n    tooltip.emit('local::show tooltipShow', tooltip);\n    $el.removeClass('tooltip-out').addClass('tooltip-in');\n    return tooltip;\n  }\n\n  hide() {\n    const tooltip = this;\n    const { $el, $targetEl } = tooltip;\n    tooltip.visible = false;\n    tooltip.opened = false;\n    $targetEl.trigger('tooltip:hide');\n    $el.trigger('tooltip:hide');\n    tooltip.emit('local::hide tooltipHide', tooltip);\n    $el.addClass('tooltip-out').removeClass('tooltip-in');\n    return tooltip;\n  }\n\n  render() {\n    const tooltip = this;\n    if (tooltip.params.render) return tooltip.params.render.call(tooltip, tooltip);\n    const { cssClass, text } = tooltip.params;\n    return `\n      <div class=\"tooltip ${cssClass || ''}\">\n        <div class=\"tooltip-content\">${text || ''}</div>\n      </div>\n    `.trim();\n  }\n\n  setText(newText) {\n    const tooltip = this;\n    if (typeof newText === 'undefined') {\n      return tooltip;\n    }\n    tooltip.params.text = newText;\n    tooltip.text = newText;\n    if (tooltip.$el) {\n      tooltip.$el.children('.tooltip-content').html(newText);\n    }\n    if (tooltip.opened) {\n      tooltip.position();\n    }\n    return tooltip;\n  }\n\n  init() {\n    const tooltip = this;\n    tooltip.attachEvents();\n  }\n\n  destroy() {\n    const tooltip = this;\n    if (!tooltip.$targetEl || tooltip.destroyed) return;\n    tooltip.$targetEl.trigger('tooltip:beforedestroy');\n    tooltip.emit('local::beforeDestroy tooltipBeforeDestroy', tooltip);\n    tooltip.$el.remove();\n    if (tooltip.$targetEl[0]) delete tooltip.$targetEl[0].f7Tooltip;\n    tooltip.detachEvents();\n    deleteProps(tooltip);\n    tooltip.destroyed = true;\n  }\n}\nexport default Tooltip;\n","import $ from '../../shared/dom7';\nimport Tooltip from './tooltip-class';\nimport ConstructorMethods from '../../shared/constructor-methods';\n\nexport default {\n  name: 'tooltip',\n  static: {\n    Tooltip,\n  },\n  create() {\n    const app = this;\n    app.tooltip = ConstructorMethods({\n      defaultSelector: '.tooltip',\n      constructor: Tooltip,\n      app,\n      domProp: 'f7Tooltip',\n    });\n    app.tooltip.show = function show(el) {\n      const $el = $(el);\n      if ($el.length === 0) return undefined;\n      const tooltip = $el[0].f7Tooltip;\n      if (!tooltip) return undefined;\n      tooltip.show($el[0]);\n      return tooltip;\n    };\n    app.tooltip.hide = function hide(el) {\n      const $el = $(el);\n      if ($el.length === 0) return undefined;\n      const tooltip = $el[0].f7Tooltip;\n      if (!tooltip) return undefined;\n      tooltip.hide();\n      return tooltip;\n    };\n    app.tooltip.setText = function text(el, newText) {\n      const $el = $(el);\n      if ($el.length === 0) return undefined;\n      const tooltip = $el[0].f7Tooltip;\n      if (!tooltip) return undefined;\n      tooltip.setText(newText);\n      return tooltip;\n    };\n  },\n  params: {\n    tooltip: {\n      targetEl: null,\n      delegated: false,\n      text: null,\n      cssClass: null,\n      render: null,\n      offset: 0,\n      trigger: 'hover',\n      containerEl: undefined,\n    },\n  },\n  on: {\n    tabMounted(tabEl) {\n      const app = this;\n      $(tabEl)\n        .find('.tooltip-init')\n        .each((el) => {\n          const text = $(el).attr('data-tooltip');\n          if (!text) return;\n          app.tooltip.create({ targetEl: el, text });\n        });\n    },\n    tabBeforeRemove(tabEl) {\n      $(tabEl)\n        .find('.tooltip-init')\n        .each((el) => {\n          if (el.f7Tooltip) el.f7Tooltip.destroy();\n        });\n    },\n    pageInit(page) {\n      const app = this;\n      page.$el.find('.tooltip-init').each((el) => {\n        const text = $(el).attr('data-tooltip');\n        if (!text) return;\n        app.tooltip.create({ targetEl: el, text });\n      });\n      if (\n        app.theme === 'ios' &&\n        page.view &&\n        page.view.router.dynamicNavbar &&\n        page.$navbarEl &&\n        page.$navbarEl.length > 0\n      ) {\n        page.$navbarEl.find('.tooltip-init').each((el) => {\n          const text = $(el).attr('data-tooltip');\n          if (!text) return;\n          app.tooltip.create({ targetEl: el, text });\n        });\n      }\n    },\n    pageBeforeRemove(page) {\n      const app = this;\n      page.$el.find('.tooltip-init').each((el) => {\n        if (el.f7Tooltip) el.f7Tooltip.destroy();\n      });\n      if (\n        app.theme === 'ios' &&\n        page.view &&\n        page.view.router.dynamicNavbar &&\n        page.$navbarEl &&\n        page.$navbarEl.length > 0\n      ) {\n        page.$navbarEl.find('.tooltip-init').each((el) => {\n          if (el.f7Tooltip) el.f7Tooltip.destroy();\n        });\n      }\n    },\n  },\n  vnode: {\n    'tooltip-init': {\n      insert(vnode) {\n        const app = this;\n        const el = vnode.elm;\n        const text = $(el).attr('data-tooltip');\n        if (!text) return;\n        app.tooltip.create({ targetEl: el, text });\n      },\n      update(vnode) {\n        const el = vnode.elm;\n        if (!el.f7Tooltip) return;\n        if (vnode && vnode.data && vnode.data.attrs && vnode.data.attrs['data-tooltip']) {\n          el.f7Tooltip.setText(vnode.data.attrs['data-tooltip']);\n        }\n      },\n      destroy(vnode) {\n        const el = vnode.elm;\n        if (el.f7Tooltip) el.f7Tooltip.destroy();\n      },\n    },\n  },\n};\n","/* eslint no-nested-ternary: off */\nimport { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom7';\nimport { extend, deleteProps } from '../../shared/utils';\nimport Framework7Class from '../../shared/class';\n/** @jsx $jsx */\nimport $jsx from '../../shared/$jsx';\n\nclass Gauge extends Framework7Class {\n  constructor(app, params = {}) {\n    super(params, [app]);\n\n    const self = this;\n\n    const defaults = extend({}, app.params.gauge);\n\n    // Extend defaults with modules params\n    self.useModulesParams(defaults);\n\n    self.params = extend(defaults, params);\n\n    const { el } = self.params;\n    if (!el) return self;\n\n    const $el = $(el);\n    if ($el.length === 0) return self;\n\n    if ($el[0].f7Gauge) return $el[0].f7Gauge;\n\n    extend(self, {\n      app,\n      $el,\n      el: $el && $el[0],\n    });\n\n    $el[0].f7Gauge = self;\n\n    // Install Modules\n    self.useModules();\n\n    self.init();\n\n    return self;\n  }\n\n  calcRadius() {\n    const self = this;\n    const { size, borderWidth } = self.params;\n    return size / 2 - borderWidth / 2;\n  }\n\n  calcBorderLength() {\n    const self = this;\n    const radius = self.calcRadius();\n    return 2 * Math.PI * radius;\n  }\n\n  render() {\n    const self = this;\n    if (self.params.render) return self.params.render.call(self, self);\n\n    const {\n      type,\n      value,\n      size,\n      bgColor,\n      borderBgColor,\n      borderColor,\n      borderWidth,\n      valueText,\n      valueTextColor,\n      valueFontSize,\n      valueFontWeight,\n      labelText,\n      labelTextColor,\n      labelFontSize,\n      labelFontWeight,\n    } = self.params;\n\n    const semiCircle = type === 'semicircle';\n    const radius = self.calcRadius();\n    const length = self.calcBorderLength();\n    const progress = Math.max(Math.min(value, 1), 0);\n\n    return (\n      <svg\n        class=\"gauge-svg\"\n        width={`${size}px`}\n        height={`${semiCircle ? size / 2 : size}px`}\n        viewBox={`0 0 ${size} ${semiCircle ? size / 2 : size}`}\n      >\n        {semiCircle && (\n          <path\n            class=\"gauge-back-semi\"\n            d={`M${size - borderWidth / 2},${size / 2} a1,1 0 0,0 -${size - borderWidth},0`}\n            stroke={borderBgColor}\n            stroke-width={borderWidth}\n            fill={bgColor || 'none'}\n          />\n        )}\n        {semiCircle && (\n          <path\n            class=\"gauge-front-semi\"\n            d={`M${size - borderWidth / 2},${size / 2} a1,1 0 0,0 -${size - borderWidth},0`}\n            stroke={borderColor}\n            stroke-width={borderWidth}\n            stroke-dasharray={length / 2}\n            stroke-dashoffset={(length / 2) * (1 + progress)}\n            fill={borderBgColor ? 'none' : bgColor || 'none'}\n          />\n        )}\n        {!semiCircle && borderBgColor && (\n          <circle\n            class=\"gauge-back-circle\"\n            stroke={borderBgColor}\n            stroke-width={borderWidth}\n            fill={bgColor || 'none'}\n            cx={size / 2}\n            cy={size / 2}\n            r={radius}\n          />\n        )}\n        {!semiCircle && (\n          <circle\n            class=\"gauge-front-circle\"\n            transform={`rotate(-90 ${size / 2} ${size / 2})`}\n            stroke={borderColor}\n            stroke-width={borderWidth}\n            stroke-dasharray={length}\n            stroke-dashoffset={length * (1 - progress)}\n            fill={borderBgColor ? 'none' : bgColor || 'none'}\n            cx={size / 2}\n            cy={size / 2}\n            r={radius}\n          />\n        )}\n\n        {valueText && (\n          <text\n            class=\"gauge-value-text\"\n            x=\"50%\"\n            y={semiCircle ? '100%' : '50%'}\n            font-weight={valueFontWeight}\n            font-size={valueFontSize}\n            fill={valueTextColor}\n            dy={semiCircle ? (labelText ? -labelFontSize - 15 : -5) : 0}\n            text-anchor=\"middle\"\n            dominant-baseline={!semiCircle && 'middle'}\n          >\n            {valueText}\n          </text>\n        )}\n        {labelText && (\n          <text\n            class=\"gauge-label-text\"\n            x=\"50%\"\n            y={semiCircle ? '100%' : '50%'}\n            font-weight={labelFontWeight}\n            font-size={labelFontSize}\n            fill={labelTextColor}\n            dy={semiCircle ? -5 : valueText ? valueFontSize / 2 + 10 : 0}\n            text-anchor=\"middle\"\n            dominant-baseline={!semiCircle && 'middle'}\n          >\n            {labelText}\n          </text>\n        )}\n      </svg>\n    );\n  }\n\n  update(newParams = {}) {\n    const self = this;\n    const document = getDocument();\n    const { params, $svgEl } = self;\n\n    Object.keys(newParams).forEach((param) => {\n      if (typeof newParams[param] !== 'undefined') {\n        params[param] = newParams[param];\n      }\n    });\n    if ($svgEl.length === 0) return self;\n\n    const {\n      value,\n      size,\n      bgColor,\n      borderBgColor,\n      borderColor,\n      borderWidth,\n      valueText,\n      valueTextColor,\n      valueFontSize,\n      valueFontWeight,\n      labelText,\n      labelTextColor,\n      labelFontSize,\n      labelFontWeight,\n    } = params;\n\n    const length = self.calcBorderLength();\n    const progress = Math.max(Math.min(value, 1), 0);\n    const radius = self.calcRadius();\n    const semiCircle = params.type === 'semicircle';\n\n    const svgAttrs = {\n      width: `${size}px`,\n      height: `${semiCircle ? size / 2 : size}px`,\n      viewBox: `0 0 ${size} ${semiCircle ? size / 2 : size}`,\n    };\n    Object.keys(svgAttrs).forEach((attr) => {\n      $svgEl.attr(attr, svgAttrs[attr]);\n    });\n    if (semiCircle) {\n      const backAttrs = {\n        d: `M${size - borderWidth / 2},${size / 2} a1,1 0 0,0 -${size - borderWidth},0`,\n        stroke: borderBgColor,\n        'stroke-width': borderWidth,\n        fill: bgColor || 'none',\n      };\n      const frontAttrs = {\n        d: `M${size - borderWidth / 2},${size / 2} a1,1 0 0,0 -${size - borderWidth},0`,\n        stroke: borderColor,\n        'stroke-width': borderWidth,\n        'stroke-dasharray': length / 2,\n        'stroke-dashoffset': (length / 2) * (1 + progress),\n        fill: borderBgColor ? 'none' : bgColor || 'none',\n      };\n      Object.keys(backAttrs).forEach((attr) => {\n        $svgEl.find('.gauge-back-semi').attr(attr, backAttrs[attr]);\n      });\n      Object.keys(frontAttrs).forEach((attr) => {\n        $svgEl.find('.gauge-front-semi').attr(attr, frontAttrs[attr]);\n      });\n    } else {\n      const backAttrs = {\n        stroke: borderBgColor,\n        'stroke-width': borderWidth,\n        fill: bgColor || 'none',\n        cx: size / 2,\n        cy: size / 2,\n        r: radius,\n      };\n      const frontAttrs = {\n        transform: `rotate(-90 ${size / 2} ${size / 2})`,\n        stroke: borderColor,\n        'stroke-width': borderWidth,\n        'stroke-dasharray': length,\n        'stroke-dashoffset': length * (1 - progress),\n        fill: borderBgColor ? 'none' : bgColor || 'none',\n        cx: size / 2,\n        cy: size / 2,\n        r: radius,\n      };\n      Object.keys(backAttrs).forEach((attr) => {\n        $svgEl.find('.gauge-back-circle').attr(attr, backAttrs[attr]);\n      });\n      Object.keys(frontAttrs).forEach((attr) => {\n        $svgEl.find('.gauge-front-circle').attr(attr, frontAttrs[attr]);\n      });\n    }\n    if (valueText) {\n      if (!$svgEl.find('.gauge-value-text').length) {\n        const textEl = document.createElementNS('http://www.w3.org/2000/svg', 'text');\n        textEl.classList.add('gauge-value-text');\n        $svgEl.append(textEl);\n      }\n      const textAttrs = {\n        x: '50%',\n        y: semiCircle ? '100%' : '50%',\n        'font-weight': valueFontWeight,\n        'font-size': valueFontSize,\n        fill: valueTextColor,\n        dy: semiCircle ? (labelText ? -labelFontSize - 15 : -5) : 0,\n        'text-anchor': 'middle',\n        'dominant-baseline': !semiCircle && 'middle',\n      };\n      Object.keys(textAttrs).forEach((attr) => {\n        $svgEl.find('.gauge-value-text').attr(attr, textAttrs[attr]);\n      });\n      $svgEl.find('.gauge-value-text').text(valueText);\n    } else {\n      $svgEl.find('.gauge-value-text').remove();\n    }\n    if (labelText) {\n      if (!$svgEl.find('.gauge-label-text').length) {\n        const textEl = document.createElementNS('http://www.w3.org/2000/svg', 'text');\n        textEl.classList.add('gauge-label-text');\n        $svgEl.append(textEl);\n      }\n      const labelAttrs = {\n        x: '50%',\n        y: semiCircle ? '100%' : '50%',\n        'font-weight': labelFontWeight,\n        'font-size': labelFontSize,\n        fill: labelTextColor,\n        dy: semiCircle ? -5 : valueText ? valueFontSize / 2 + 10 : 0,\n        'text-anchor': 'middle',\n        'dominant-baseline': !semiCircle && 'middle',\n      };\n      Object.keys(labelAttrs).forEach((attr) => {\n        $svgEl.find('.gauge-label-text').attr(attr, labelAttrs[attr]);\n      });\n      $svgEl.find('.gauge-label-text').text(labelText);\n    } else {\n      $svgEl.find('.gauge-label-text').remove();\n    }\n    return self;\n  }\n\n  init() {\n    const self = this;\n    const $svgEl = $(self.render()).eq(0);\n    $svgEl.f7Gauge = self;\n    extend(self, {\n      $svgEl,\n      svgEl: $svgEl && $svgEl[0],\n    });\n    self.$el.append($svgEl);\n    return self;\n  }\n\n  destroy() {\n    const self = this;\n    if (!self.$el || self.destroyed) return;\n    self.$el.trigger('gauge:beforedestroy');\n    self.emit('local::beforeDestroy gaugeBeforeDestroy', self);\n    self.$svgEl.remove();\n    delete self.$el[0].f7Gauge;\n    deleteProps(self);\n    self.destroyed = true;\n  }\n}\nexport default Gauge;\n","import $ from '../../shared/dom7';\nimport Gauge from './gauge-class';\nimport ConstructorMethods from '../../shared/constructor-methods';\nimport { extend } from '../../shared/utils';\n\nexport default {\n  name: 'gauge',\n  static: {\n    Gauge,\n  },\n  create() {\n    const app = this;\n    app.gauge = ConstructorMethods({\n      defaultSelector: '.gauge',\n      constructor: Gauge,\n      app,\n      domProp: 'f7Gauge',\n    });\n    app.gauge.update = function update(el, newParams) {\n      const $el = $(el);\n      if ($el.length === 0) return undefined;\n      const gauge = app.gauge.get(el);\n      if (!gauge) return undefined;\n      gauge.update(newParams);\n      return gauge;\n    };\n  },\n  params: {\n    gauge: {\n      el: null,\n      type: 'circle',\n      value: 0,\n      size: 200,\n      bgColor: 'transparent',\n      borderBgColor: '#eeeeee',\n      borderColor: '#000000',\n      borderWidth: 10,\n      valueText: null,\n      valueTextColor: '#000000',\n      valueFontSize: 31,\n      valueFontWeight: 500,\n      labelText: null,\n      labelTextColor: '#888888',\n      labelFontSize: 14,\n      labelFontWeight: 400,\n    },\n  },\n  on: {\n    tabMounted(tabEl) {\n      const app = this;\n      $(tabEl)\n        .find('.gauge-init')\n        .each((el) => {\n          app.gauge.create(extend({ el }, $(el).dataset() || {}));\n        });\n    },\n    tabBeforeRemove(tabEl) {\n      $(tabEl)\n        .find('.gauge-init')\n        .each((el) => {\n          if (el.f7Gauge) el.f7Gauge.destroy();\n        });\n    },\n    pageInit(page) {\n      const app = this;\n      page.$el.find('.gauge-init').each((el) => {\n        app.gauge.create(extend({ el }, $(el).dataset() || {}));\n      });\n    },\n    pageBeforeRemove(page) {\n      page.$el.find('.gauge-init').each((el) => {\n        if (el.f7Gauge) el.f7Gauge.destroy();\n      });\n    },\n  },\n  vnode: {\n    'gauge-init': {\n      insert(vnode) {\n        const app = this;\n        const el = vnode.elm;\n        app.gauge.create(extend({ el }, $(el).dataset() || {}));\n      },\n      destroy(vnode) {\n        const el = vnode.elm;\n        if (el.f7Gauge) el.f7Gauge.destroy();\n      },\n    },\n  },\n};\n","export default {\n  name: 'skeleton',\n};\n","import $ from '../../shared/dom7';\nimport { bindMethods } from '../../shared/utils';\n\nconst Menu = {\n  open(el = '.menu-item-dropdown') {\n    const app = this;\n    if (!el) return;\n    const $el = $(el).closest('.menu-item-dropdown');\n    if (!$el.length) return;\n    const $menuEl = $el.closest('.menu').eq(0);\n    if ($menuEl.length) {\n      const zIndex = $menuEl.css('z-index');\n      const originalZIndex = $menuEl[0].style.zIndex;\n      $menuEl.css('z-index', parseInt(zIndex || 0, 10) + 1);\n      $menuEl[0].f7MenuZIndex = originalZIndex;\n    }\n    $el.eq(0).addClass('menu-item-dropdown-opened').trigger('menu:opened');\n    app.emit('menuOpened', $el.eq(0)[0]);\n  },\n  close(el = '.menu-item-dropdown-opened') {\n    const app = this;\n    if (!el) return;\n    const $el = $(el).closest('.menu-item-dropdown-opened');\n    if (!$el.length) return;\n    const $menuEl = $el.closest('.menu').eq(0);\n    if ($menuEl.length) {\n      const zIndex = $menuEl[0].f7MenuZIndex;\n      $menuEl.css('z-index', zIndex);\n      delete $menuEl[0].f7MenuZIndex;\n    }\n    $el.eq(0).removeClass('menu-item-dropdown-opened').trigger('menu:closed');\n    app.emit('menuClosed', $el.eq(0)[0]);\n  },\n};\n\nexport default {\n  name: 'menu',\n  create() {\n    const app = this;\n    bindMethods(app, {\n      menu: Menu,\n    });\n  },\n  on: {\n    click(e) {\n      const app = this;\n      const openedMenus = $('.menu-item-dropdown-opened');\n      if (!openedMenus.length) return;\n      openedMenus.each((el) => {\n        if (!$(e.target).closest('.menu-item-dropdown-opened').length) {\n          app.menu.close(el);\n        }\n      });\n    },\n  },\n  clicks: {\n    '.menu-item-dropdown': function onClick($clickedEl, dataset, e) {\n      const app = this;\n      if ($clickedEl.hasClass('menu-item-dropdown-opened')) {\n        if ($(e.target).closest('.menu-dropdown').length) return;\n        app.menu.close($clickedEl);\n      } else {\n        app.menu.open($clickedEl);\n      }\n    },\n    '.menu-close': function onClick() {\n      const app = this;\n      app.menu.close();\n    },\n  },\n};\n","/** @jsx $jsx */\nimport $jsx from '../../../shared/$jsx';\n\nexport default {\n  render(self) {\n    const { sliderLabel, sliderValue, sliderValueEditable, alphaLabelText } = self.params;\n    return (\n      <div class=\"color-picker-module color-picker-module-alpha-slider\">\n        <div class=\"color-picker-slider-wrap\">\n          {sliderLabel && <div class=\"color-picker-slider-label\">{alphaLabelText}</div>}\n          <div class=\"range-slider color-picker-slider color-picker-slider-alpha\"></div>\n          {sliderValue && (\n            <div class=\"color-picker-slider-value\">\n              {sliderValueEditable ? (\n                <input type=\"number\" step=\"0.01\" min=\"0\" max=\"1\" class=\"color-picker-value-alpha\" />\n              ) : (\n                <span class=\"color-picker-value-alpha\"></span>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  },\n  init(self) {\n    self.alphaRangeSlider = self.app.range.create({\n      el: self.$el.find('.color-picker-slider-alpha'),\n      min: 0,\n      max: 1,\n      step: 0.01,\n      value: 1,\n      on: {\n        change(range, value) {\n          const alpha = Math.floor(value * 100) / 100;\n          self.setValue({ alpha });\n        },\n      },\n    });\n    function handleInputChange(e) {\n      const alpha = self.value.alpha;\n      let value = parseFloat(e.target.value);\n      if (Number.isNaN(value)) {\n        e.target.value = alpha;\n        return;\n      }\n      value = Math.max(0, Math.min(1, value));\n      self.setValue({ alpha: value });\n    }\n\n    self.$el.on('change', '.color-picker-module-alpha-slider input', handleInputChange);\n\n    self.destroyAlphaSliderEvents = function destroyAlphaSliderEvents() {\n      self.$el.off('change', '.color-picker-module-alpha-slider input', handleInputChange);\n    };\n  },\n  update(self) {\n    const { value } = self;\n    const { sliderValue, sliderValueEditable } = self.params;\n\n    const { alpha } = value;\n    self.alphaRangeSlider.value = alpha;\n    self.alphaRangeSlider.layout();\n    if (sliderValue && sliderValueEditable) {\n      self.$el.find('input.color-picker-value-alpha').val(alpha);\n    } else {\n      self.$el.find('span.color-picker-value-alpha').text(alpha);\n    }\n  },\n  destroy(self) {\n    if (self.alphaRangeSlider && self.alphaRangeSlider.destroy) {\n      self.alphaRangeSlider.destroy();\n    }\n    delete self.alphaRangeSlider;\n\n    if (self.destroyAlphaSliderEvents) self.destroyAlphaSliderEvents();\n    delete self.destroyAlphaSliderEvents;\n  },\n};\n","/** @jsx $jsx */\nimport $jsx from '../../../shared/$jsx';\n\nexport default {\n  render() {\n    return (\n      <div class=\"color-picker-module color-picker-module-current-color\">\n        <div class=\"color-picker-current-color\"></div>\n      </div>\n    );\n  },\n  update(self) {\n    self.$el\n      .find('.color-picker-module-current-color .color-picker-current-color')\n      .css('background-color', self.value.hex);\n  },\n};\n","/** @jsx $jsx */\nimport $jsx from '../../../shared/$jsx';\n\nexport default {\n  render(self) {\n    const { hexLabel, hexLabelText, hexValueEditable } = self.params;\n    return (\n      <div class=\"color-picker-module color-picker-module-hex\">\n        <div class=\"color-picker-hex-wrap\">\n          {hexLabel && <div class=\"color-picker-hex-label\">{hexLabelText}</div>}\n          <div class=\"color-picker-hex-value\">\n            {hexValueEditable ? (\n              <input type=\"text\" class=\"color-picker-value-hex\" />\n            ) : (\n              <span class=\"color-picker-value-hex\"></span>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  },\n  init(self) {\n    function handleInputChange(e) {\n      const hex = self.value.hex;\n      let value = e.target.value.replace(/#/g, '');\n      if (Number.isNaN(value) || !value || (value.length !== 3 && value.length !== 6)) {\n        e.target.value = hex;\n        return;\n      }\n      const min = 0;\n      const current = parseInt(value, 16);\n      const max = parseInt('ffffff', 16); // eslint-disable-line\n      if (current > max) {\n        value = 'fff';\n      }\n      if (current < min) {\n        value = '000';\n      }\n      self.setValue({ hex: value });\n    }\n\n    self.$el.on('change', '.color-picker-module-hex input', handleInputChange);\n\n    self.destroyHexEvents = function destroyHexEvents() {\n      self.$el.off('change', '.color-picker-module-hex input', handleInputChange);\n    };\n  },\n  update(self) {\n    const { value } = self;\n\n    const { hexValueEditable } = self.params;\n\n    const { hex } = value;\n    if (hexValueEditable) {\n      self.$el.find('input.color-picker-value-hex').val(hex);\n    } else {\n      self.$el.find('span.color-picker-value-hex').text(hex);\n    }\n  },\n  destroy(self) {\n    if (self.destroyHexEvents) self.destroyHexEvents();\n    delete self.destroyHexEvents;\n  },\n};\n","import $ from '../../../shared/dom7';\nimport { colorHsbToHsl } from '../../../shared/utils';\n/** @jsx $jsx */\nimport $jsx from '../../../shared/$jsx';\n\nexport default {\n  render(self) {\n    const {\n      sliderLabel,\n      sliderValue,\n      sliderValueEditable,\n      hueLabelText,\n      saturationLabelText,\n      brightnessLabelText,\n    } = self.params;\n    return (\n      <div class=\"color-picker-module color-picker-module-hsb-sliders\">\n        <div class=\"color-picker-slider-wrap\">\n          {sliderLabel && <div class=\"color-picker-slider-label\">{hueLabelText}</div>}\n          <div class=\"range-slider color-picker-slider color-picker-slider-hue\"></div>\n          {sliderValue && (\n            <div class=\"color-picker-slider-value\">\n              {sliderValueEditable ? (\n                <input\n                  type=\"number\"\n                  step=\"0.1\"\n                  min=\"0\"\n                  max=\"360\"\n                  class=\"color-picker-value-hue\"\n                  data-color-index=\"0\"\n                />\n              ) : (\n                <span class=\"color-picker-value-hue\"></span>\n              )}\n            </div>\n          )}\n        </div>\n        <div class=\"color-picker-slider-wrap\">\n          {sliderLabel && <div class=\"color-picker-slider-label\">{saturationLabelText}</div>}\n          <div class=\"range-slider color-picker-slider color-picker-slider-saturation\"></div>\n          {sliderValue && (\n            <div class=\"color-picker-slider-value\">\n              {sliderValueEditable ? (\n                <input\n                  type=\"number\"\n                  step=\"0.1\"\n                  min=\"0\"\n                  max=\"100\"\n                  class=\"color-picker-value-saturation\"\n                  data-color-index=\"1\"\n                />\n              ) : (\n                <span class=\"color-picker-value-saturation\"></span>\n              )}\n            </div>\n          )}\n        </div>\n        <div class=\"color-picker-slider-wrap\">\n          {sliderLabel && <div class=\"color-picker-slider-label\">{brightnessLabelText}</div>}\n          <div class=\"range-slider color-picker-slider color-picker-slider-brightness\"></div>\n          {sliderValue && (\n            <div class=\"color-picker-slider-value\">\n              {sliderValueEditable ? (\n                <input\n                  type=\"number\"\n                  step=\"0.1\"\n                  min=\"0\"\n                  max=\"100\"\n                  class=\"color-picker-value-brightness\"\n                  data-color-index=\"2\"\n                />\n              ) : (\n                <span class=\"color-picker-value-brightness\"></span>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  },\n  init(self) {\n    self.hueRangeSlider = self.app.range.create({\n      el: self.$el.find('.color-picker-slider-hue'),\n      min: 0,\n      max: 360,\n      step: 0.1,\n      value: 0,\n      on: {\n        change(range, value) {\n          self.setValue({ hue: value });\n        },\n      },\n    });\n    self.saturationRangeSlider = self.app.range.create({\n      el: self.$el.find('.color-picker-slider-saturation'),\n      min: 0,\n      max: 1,\n      step: 0.001,\n      value: 0,\n      on: {\n        change(range, value) {\n          const s = Math.floor(value * 1000) / 1000;\n          self.setValue({ hsb: [self.value.hsb[0], s, self.value.hsb[2]] });\n        },\n      },\n    });\n    self.brightnessRangeSlider = self.app.range.create({\n      el: self.$el.find('.color-picker-slider-brightness'),\n      min: 0,\n      max: 1,\n      step: 0.001,\n      value: 0,\n      on: {\n        change(range, value) {\n          const b = Math.floor(value * 1000) / 1000;\n          self.setValue({ hsb: [self.value.hsb[0], self.value.hsb[1], b] });\n        },\n      },\n    });\n\n    function handleInputChange(e) {\n      const hsb = [...self.value.hsb];\n      const index = parseInt($(e.target).attr('data-color-index'), 10);\n      let value = parseFloat(e.target.value);\n      if (Number.isNaN(value)) {\n        e.target.value = hsb[index];\n        return;\n      }\n      if (index === 0) {\n        value = Math.max(0, Math.min(360, value));\n      } else {\n        value = Math.max(0, Math.min(100, value)) / 100;\n      }\n\n      hsb[index] = value;\n      self.setValue({ hsb });\n    }\n\n    self.$el.on('change', '.color-picker-module-hsb-sliders input', handleInputChange);\n\n    self.destroyHsbSlidersEvents = function destroyHsbSlidersEvents() {\n      self.$el.off('change', '.color-picker-module-hsb-sliders input', handleInputChange);\n    };\n  },\n  update(self) {\n    const { app, value } = self;\n    const { sliderValue, sliderValueEditable } = self.params;\n\n    const { hsb, hue } = value;\n\n    self.hueRangeSlider.value = hue;\n    self.saturationRangeSlider.value = hsb[1];\n    self.brightnessRangeSlider.value = hsb[2];\n\n    self.hueRangeSlider.layout();\n    self.saturationRangeSlider.layout();\n    self.brightnessRangeSlider.layout();\n\n    const hslCurrent = colorHsbToHsl(hsb[0], hsb[1], 1);\n    const hslLeft = colorHsbToHsl(hsb[0], 0, 1);\n    const hslRight = colorHsbToHsl(hsb[0], 1, 1);\n    const brightness = hsb[2];\n\n    self.hueRangeSlider.$el[0].style.setProperty('--f7-range-knob-color', `hsl(${hue}, 100%, 50%)`);\n    self.saturationRangeSlider.$el[0].style.setProperty(\n      '--f7-range-knob-color',\n      `hsl(${hslCurrent[0]}, ${hslCurrent[1] * 100}%, ${hslCurrent[2] * 100}%)`,\n    );\n    self.brightnessRangeSlider.$el[0].style.setProperty(\n      '--f7-range-knob-color',\n      `rgb(${brightness * 255}, ${brightness * 255}, ${brightness * 255})`,\n    );\n    self.saturationRangeSlider.$el\n      .find('.range-bar')\n      .css(\n        'background-image',\n        `linear-gradient(${app.rtl ? 'to left' : 'to right'}, hsl(${hslLeft[0]}, ${\n          hslLeft[1] * 100\n        }%, ${hslLeft[2] * 100}%), hsl(${hslRight[0]}, ${hslRight[1] * 100}%, ${\n          hslRight[2] * 100\n        }%))`,\n      );\n\n    if (sliderValue && sliderValueEditable) {\n      self.$el.find('input.color-picker-value-hue').val(`${hue}`);\n      self.$el.find('input.color-picker-value-saturation').val(`${(hsb[1] * 1000) / 10}`);\n      self.$el.find('input.color-picker-value-brightness').val(`${(hsb[2] * 1000) / 10}`);\n    } else if (sliderValue) {\n      self.$el.find('span.color-picker-value-hue').text(`${hue}`);\n      self.$el.find('span.color-picker-value-saturation').text(`${(hsb[1] * 1000) / 10}`);\n      self.$el.find('span.color-picker-value-brightness').text(`${(hsb[2] * 1000) / 10}`);\n    }\n  },\n  destroy(self) {\n    if (self.hueRangeSlider && self.hueRangeSlider.destroy) {\n      self.hueRangeSlider.destroy();\n    }\n    if (self.saturationRangeSlider && self.saturationRangeSlider.destroy) {\n      self.saturationRangeSlider.destroy();\n    }\n    if (self.brightnessRangeSlider && self.brightnessRangeSlider.destroy) {\n      self.brightnessRangeSlider.destroy();\n    }\n\n    delete self.hueRangeSlider;\n    delete self.saturationRangeSlider;\n    delete self.brightnessRangeSlider;\n\n    if (self.destroyHsbSlidersEvents) self.destroyHsbSlidersEvents();\n    delete self.destroyHsbSlidersEvents;\n  },\n};\n","/** @jsx $jsx */\nimport $jsx from '../../../shared/$jsx';\n\nexport default {\n  render(self) {\n    const { sliderLabel, sliderValue, sliderValueEditable, hueLabelText } = self.params;\n    return (\n      <div class=\"color-picker-module color-picker-module-hue-slider\">\n        <div class=\"color-picker-slider-wrap\">\n          {sliderLabel && <div class=\"color-picker-slider-label\">{hueLabelText}</div>}\n          <div class=\"range-slider color-picker-slider color-picker-slider-hue\"></div>\n          {sliderValue && (\n            <div class=\"color-picker-slider-value\">\n              {sliderValueEditable ? (\n                <input type=\"number\" step=\"0.1\" min=\"0\" max=\"360\" class=\"color-picker-value-hue\" />\n              ) : (\n                <span class=\"color-picker-value-hue\"></span>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  },\n  init(self) {\n    self.hueRangeSlider = self.app.range.create({\n      el: self.$el.find('.color-picker-slider-hue'),\n      min: 0,\n      max: 360,\n      step: 0.1,\n      value: 0,\n      on: {\n        change(range, value) {\n          self.setValue({ hue: value });\n        },\n      },\n    });\n  },\n  update(self) {\n    const { value } = self;\n    const { sliderValue, sliderValueEditable } = self.params;\n\n    const { hue } = value;\n\n    self.hueRangeSlider.value = hue;\n    self.hueRangeSlider.layout();\n    self.hueRangeSlider.$el[0].style.setProperty('--f7-range-knob-color', `hsl(${hue}, 100%, 50%)`);\n    if (sliderValue && sliderValueEditable) {\n      self.$el.find('input.color-picker-value-hue').val(`${hue}`);\n    } else if (sliderValue) {\n      self.$el.find('span.color-picker-value-hue').text(`${hue}`);\n    }\n  },\n  destroy(self) {\n    if (self.hueRangeSlider && self.hueRangeSlider.destroy) {\n      self.hueRangeSlider.destroy();\n    }\n    delete self.hueRangeSlider;\n  },\n};\n","import { colorHsbToHsl } from '../../../shared/utils';\n/** @jsx $jsx */\nimport $jsx from '../../../shared/$jsx';\n\nexport default {\n  render(self) {\n    const { sliderLabel, sliderValue, sliderValueEditable, brightnessLabelText } = self.params;\n    return (\n      <div class=\"color-picker-module color-picker-module-brightness-slider\">\n        <div class=\"color-picker-slider-wrap\">\n          {sliderLabel && <div class=\"color-picker-slider-label\">{brightnessLabelText}</div>}\n          <div class=\"range-slider color-picker-slider color-picker-slider-brightness\"></div>\n          {sliderValue && (\n            <div class=\"color-picker-slider-value\">\n              {sliderValueEditable ? (\n                <input\n                  type=\"number\"\n                  step=\"0.1\"\n                  min=\"0\"\n                  max=\"100\"\n                  class=\"color-picker-value-brightness\"\n                />\n              ) : (\n                <span class=\"color-picker-value-brightness\"></span>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  },\n  init(self) {\n    self.brightnessRangeSlider = self.app.range.create({\n      el: self.$el.find('.color-picker-slider-brightness'),\n      min: 0,\n      max: 1,\n      step: 0.001,\n      value: 0,\n      on: {\n        change(range, value) {\n          const b = Math.floor(value * 1000) / 1000;\n          self.setValue({ hsb: [self.value.hsb[0], self.value.hsb[1], b] });\n        },\n      },\n    });\n  },\n  update(self) {\n    const { value, app } = self;\n    const { sliderValue, sliderValueEditable } = self.params;\n\n    const { hsb } = value;\n\n    self.brightnessRangeSlider.value = hsb[2];\n    self.brightnessRangeSlider.layout();\n\n    const hslCurrent = colorHsbToHsl(hsb[0], hsb[1], hsb[2]);\n    const hslLeft = colorHsbToHsl(hsb[0], hsb[1], 0);\n    const hslRight = colorHsbToHsl(hsb[0], hsb[1], 1);\n\n    self.brightnessRangeSlider.$el[0].style.setProperty(\n      '--f7-range-knob-color',\n      `hsl(${hslCurrent[0]}, ${hslCurrent[1] * 100}%, ${hslCurrent[2] * 100}%)`,\n    );\n    self.brightnessRangeSlider.$el\n      .find('.range-bar')\n      .css(\n        'background-image',\n        `linear-gradient(${app.rtl ? 'to left' : 'to right'}, hsl(${hslLeft[0]}, ${\n          hslLeft[1] * 100\n        }%, ${hslLeft[2] * 100}%), hsl(${hslRight[0]}, ${hslRight[1] * 100}%, ${\n          hslRight[2] * 100\n        }%))`,\n      );\n    if (sliderValue && sliderValueEditable) {\n      self.$el.find('input.color-picker-value-brightness').val(`${(hsb[2] * 1000) / 10}`);\n    } else if (sliderValue) {\n      self.$el.find('span.color-picker-value-brightness').text(`${(hsb[2] * 1000) / 10}`);\n    }\n  },\n  destroy(self) {\n    if (self.brightnessRangeSlider && self.brightnessRangeSlider.destroy) {\n      self.brightnessRangeSlider.destroy();\n    }\n    delete self.brightnessRangeSlider;\n  },\n};\n","/* eslint indent: [\"off\"] */\nimport $ from '../../../shared/dom7';\n/** @jsx $jsx */\nimport $jsx from '../../../shared/$jsx';\n\nexport default {\n  render(self) {\n    return (\n      <div class=\"color-picker-module color-picker-module-palette\">\n        <div class=\"color-picker-palette\">\n          {self.params.palette.map((p) => {\n            if (Array.isArray(p)) {\n              let row = '<div class=\"color-picker-palette-row\">';\n              // prettier-ignore\n              row += p.map((c) => `\n                <div class=\"color-picker-palette-value\" data-palette-color=\"${c}\" style=\"background-color: ${c}\"></div>\n              `).join('');\n              row += '</div>';\n              return row;\n            }\n            return (\n              <div\n                class=\"color-picker-palette-value\"\n                data-palette-color={p}\n                style={`background-color: ${p}`}\n              ></div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  },\n  init(self) {\n    function handlePaletteClick(e) {\n      const hex = $(e.target).attr('data-palette-color');\n      self.setValue({\n        hex,\n      });\n    }\n\n    self.$el.on(\n      'click',\n      '.color-picker-module-palette .color-picker-palette-value',\n      handlePaletteClick,\n    );\n\n    self.destroyPaletteEvents = function destroyPaletteEvents() {\n      self.$el.off('click', '.color-picker-module-hex input', handlePaletteClick);\n    };\n  },\n  destroy(self) {\n    if (self.destroyPaletteEvents) {\n      self.destroyPaletteEvents();\n    }\n    delete self.destroyPaletteEvents;\n  },\n};\n","/** @jsx $jsx */\nimport $jsx from '../../../shared/$jsx';\n\nexport default {\n  render() {\n    return (\n      <div class=\"color-picker-module color-picker-module-initial-current-colors\">\n        <div class=\"color-picker-initial-current-colors\">\n          <div class=\"color-picker-initial-color\"></div>\n          <div class=\"color-picker-current-color\"></div>\n        </div>\n      </div>\n    );\n  },\n  init(self) {\n    function handleInitialColorClick() {\n      if (self.initialValue) {\n        const { hex, alpha } = self.initialValue;\n        self.setValue({\n          hex,\n          alpha,\n        });\n      }\n    }\n    self.$el.on('click', '.color-picker-initial-color', handleInitialColorClick);\n    self.destroyInitialCurrentEvents = function destroyInitialCurrentEvents() {\n      self.$el.off('click', '.color-picker-initial-color', handleInitialColorClick);\n    };\n  },\n  update(self) {\n    self.$el\n      .find('.color-picker-module-initial-current-colors .color-picker-initial-color')\n      .css('background-color', self.initialValue.hex);\n    self.$el\n      .find('.color-picker-module-initial-current-colors .color-picker-current-color')\n      .css('background-color', self.value.hex);\n  },\n  destroy(self) {\n    if (self.destroyInitialCurrentEvents) {\n      self.destroyInitialCurrentEvents();\n    }\n    delete self.destroyInitialCurrentEvents;\n  },\n};\n","import $ from '../../../shared/dom7';\n/** @jsx $jsx */\nimport $jsx from '../../../shared/$jsx';\n\nexport default {\n  render(self) {\n    const { barLabel, barValue, barValueEditable, redLabelText, greenLabelText, blueLabelText } =\n      self.params;\n    return (\n      <div class=\"color-picker-module color-picker-module-rgb-bars\">\n        <div class=\"color-picker-bar-wrap\">\n          {barLabel && <div class=\"color-picker-bar-label\">{redLabelText}</div>}\n          <div class=\"range-slider color-picker-bar color-picker-bar-red\"></div>\n          {barValue && (\n            <div class=\"color-picker-bar-value\">\n              {barValueEditable ? (\n                <input\n                  type=\"number\"\n                  step=\"1\"\n                  min=\"0\"\n                  max=\"255\"\n                  class=\"color-picker-value-bar-red\"\n                  data-color-index=\"0\"\n                />\n              ) : (\n                <span class=\"color-picker-value-bar-red\"></span>\n              )}\n            </div>\n          )}\n        </div>\n        <div class=\"color-picker-bar-wrap\">\n          {barLabel && <div class=\"color-picker-bar-label\">{greenLabelText}</div>}\n          <div class=\"range-slider color-picker-bar color-picker-bar-green\"></div>\n          {barValue && (\n            <div class=\"color-picker-bar-value\">\n              {barValueEditable ? (\n                <input\n                  type=\"number\"\n                  step=\"1\"\n                  min=\"0\"\n                  max=\"255\"\n                  class=\"color-picker-value-bar-green\"\n                  data-color-index=\"1\"\n                />\n              ) : (\n                <span class=\"color-picker-value-bar-green\"></span>\n              )}\n            </div>\n          )}\n        </div>\n        <div class=\"color-picker-bar-wrap\">\n          {barLabel && <div class=\"color-picker-bar-label\">{blueLabelText}</div>}\n          <div class=\"range-slider color-picker-bar color-picker-bar-blue\"></div>\n          {barValue && (\n            <div class=\"color-picker-bar-value\">\n              {barValueEditable ? (\n                <input\n                  type=\"number\"\n                  step=\"1\"\n                  min=\"0\"\n                  max=\"255\"\n                  class=\"color-picker-value-bar-blue\"\n                  data-color-index=\"2\"\n                />\n              ) : (\n                <span class=\"color-picker-value-bar-blue\"></span>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  },\n  init(self) {\n    self.redBar = self.app.range.create({\n      el: self.$el.find('.color-picker-bar-red'),\n      min: 0,\n      max: 255,\n      step: 1,\n      value: 0,\n      vertical: true,\n      on: {\n        change(range, value) {\n          self.setValue({ rgb: [value, self.value.rgb[1], self.value.rgb[2]] });\n        },\n      },\n    });\n    self.greenBar = self.app.range.create({\n      el: self.$el.find('.color-picker-bar-green'),\n      min: 0,\n      max: 255,\n      step: 1,\n      value: 0,\n      vertical: true,\n      on: {\n        change(range, value) {\n          self.setValue({ rgb: [self.value.rgb[0], value, self.value.rgb[2]] });\n        },\n      },\n    });\n    self.blueBar = self.app.range.create({\n      el: self.$el.find('.color-picker-bar-blue'),\n      min: 0,\n      max: 255,\n      step: 1,\n      value: 0,\n      vertical: true,\n      on: {\n        change(range, value) {\n          self.setValue({ rgb: [self.value.rgb[0], self.value.rgb[1], value] });\n        },\n      },\n    });\n\n    function handleInputChange(e) {\n      const rgb = [...self.value.rgb];\n      const index = parseInt($(e.target).attr('data-color-index'), 10);\n      let value = parseInt(e.target.value, 10);\n      if (Number.isNaN(value)) {\n        e.target.value = rgb[index];\n        return;\n      }\n      value = Math.max(0, Math.min(255, value));\n      rgb[index] = value;\n      self.setValue({ rgb });\n    }\n\n    self.$el.on('change', '.color-picker-module-rgb-bars input', handleInputChange);\n\n    self.destroyRgbBarsEvents = function destroyRgbBarsEvents() {\n      self.$el.off('change', '.color-picker-module-rgb-bars input', handleInputChange);\n    };\n  },\n  update(self) {\n    const { value, redBar, greenBar, blueBar } = self;\n\n    const { barValue, barValueEditable } = self.params;\n\n    const { rgb } = value;\n\n    redBar.value = rgb[0];\n    greenBar.value = rgb[1];\n    blueBar.value = rgb[2];\n\n    redBar.layout();\n    greenBar.layout();\n    blueBar.layout();\n\n    redBar.$el\n      .find('.range-bar')\n      .css(\n        'background-image',\n        `linear-gradient(to top, rgb(0, ${rgb[1]}, ${rgb[2]}), rgb(255, ${rgb[1]}, ${rgb[2]}))`,\n      );\n    greenBar.$el\n      .find('.range-bar')\n      .css(\n        'background-image',\n        `linear-gradient(to top, rgb(${rgb[0]}, 0, ${rgb[2]}), rgb(${rgb[0]}, 255, ${rgb[2]}))`,\n      );\n    blueBar.$el\n      .find('.range-bar')\n      .css(\n        'background-image',\n        `linear-gradient(to top, rgb(${rgb[0]}, ${rgb[1]}, 0), rgb(${rgb[0]}, ${rgb[1]}, 255))`,\n      );\n\n    if (barValue && barValueEditable) {\n      self.$el.find('input.color-picker-value-bar-red').val(rgb[0]);\n      self.$el.find('input.color-picker-value-bar-green').val(rgb[1]);\n      self.$el.find('input.color-picker-value-bar-blue').val(rgb[2]);\n    } else if (barValue) {\n      self.$el.find('span.color-picker-value-bar-red').text(rgb[0]);\n      self.$el.find('span.color-picker-value-bar-green').text(rgb[1]);\n      self.$el.find('span.color-picker-value-bar-blue').text(rgb[2]);\n    }\n  },\n  destroy(self) {\n    if (self.redBar && self.redBar.destroy) {\n      self.redBar.destroy();\n    }\n    if (self.greenBar && self.greenBar.destroy) {\n      self.greenBar.destroy();\n    }\n    if (self.blueBar && self.blueBar.destroy) {\n      self.blueBar.destroy();\n    }\n\n    delete self.redBar;\n    delete self.greenBar;\n    delete self.blueBar;\n\n    if (self.destroyRgbBarsEvents) self.destroyRgbBarsEvents();\n    delete self.destroyRgbBarsEvents;\n  },\n};\n","import $ from '../../../shared/dom7';\n/** @jsx $jsx */\nimport $jsx from '../../../shared/$jsx';\n\nexport default {\n  render(self) {\n    const {\n      sliderLabel,\n      sliderValue,\n      sliderValueEditable,\n      redLabelText,\n      greenLabelText,\n      blueLabelText,\n    } = self.params;\n    return (\n      <div class=\"color-picker-module color-picker-module-rgb-sliders\">\n        <div class=\"color-picker-slider-wrap\">\n          {sliderLabel && <div class=\"color-picker-slider-label\">{redLabelText}</div>}\n          <div class=\"range-slider color-picker-slider color-picker-slider-red\"></div>\n          {sliderValue && (\n            <div class=\"color-picker-slider-value\">\n              {sliderValueEditable ? (\n                <input\n                  type=\"number\"\n                  step=\"1\"\n                  min=\"0\"\n                  max=\"255\"\n                  class=\"color-picker-value-red\"\n                  data-color-index=\"0\"\n                />\n              ) : (\n                <span class=\"color-picker-value-red\"></span>\n              )}\n            </div>\n          )}\n        </div>\n        <div class=\"color-picker-slider-wrap\">\n          {sliderLabel && <div class=\"color-picker-slider-label\">{greenLabelText}</div>}\n          <div class=\"range-slider color-picker-slider color-picker-slider-green\"></div>\n          {sliderValue && (\n            <div class=\"color-picker-slider-value\">\n              {sliderValueEditable ? (\n                <input\n                  type=\"number\"\n                  step=\"1\"\n                  min=\"0\"\n                  max=\"255\"\n                  class=\"color-picker-value-green\"\n                  data-color-index=\"1\"\n                />\n              ) : (\n                <span class=\"color-picker-value-green\"></span>\n              )}\n            </div>\n          )}\n        </div>\n        <div class=\"color-picker-slider-wrap\">\n          {sliderLabel && <div class=\"color-picker-slider-label\">{blueLabelText}</div>}\n          <div class=\"range-slider color-picker-slider color-picker-slider-blue\"></div>\n          {sliderValue && (\n            <div class=\"color-picker-slider-value\">\n              {sliderValueEditable ? (\n                <input\n                  type=\"number\"\n                  step=\"1\"\n                  min=\"0\"\n                  max=\"255\"\n                  class=\"color-picker-value-blue\"\n                  data-color-index=\"2\"\n                />\n              ) : (\n                <span class=\"color-picker-value-blue\"></span>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  },\n  init(self) {\n    self.redRangeSlider = self.app.range.create({\n      el: self.$el.find('.color-picker-slider-red'),\n      min: 0,\n      max: 255,\n      step: 1,\n      value: 0,\n      on: {\n        change(range, value) {\n          self.setValue({ rgb: [value, self.value.rgb[1], self.value.rgb[2]] });\n        },\n      },\n    });\n    self.greenRangeSlider = self.app.range.create({\n      el: self.$el.find('.color-picker-slider-green'),\n      min: 0,\n      max: 255,\n      step: 1,\n      value: 0,\n      on: {\n        change(range, value) {\n          self.setValue({ rgb: [self.value.rgb[0], value, self.value.rgb[2]] });\n        },\n      },\n    });\n    self.blueRangeSlider = self.app.range.create({\n      el: self.$el.find('.color-picker-slider-blue'),\n      min: 0,\n      max: 255,\n      step: 1,\n      value: 0,\n      on: {\n        change(range, value) {\n          self.setValue({ rgb: [self.value.rgb[0], self.value.rgb[1], value] });\n        },\n      },\n    });\n\n    function handleInputChange(e) {\n      const rgb = [...self.value.rgb];\n      const index = parseInt($(e.target).attr('data-color-index'), 10);\n      let value = parseInt(e.target.value, 10);\n      if (Number.isNaN(value)) {\n        e.target.value = rgb[index];\n        return;\n      }\n      value = Math.max(0, Math.min(255, value));\n      rgb[index] = value;\n      self.setValue({ rgb });\n    }\n\n    self.$el.on('change', '.color-picker-module-rgb-sliders input', handleInputChange);\n\n    self.destroyRgbSlidersEvents = function destroyRgbSlidersEvents() {\n      self.$el.off('change', '.color-picker-module-rgb-sliders input', handleInputChange);\n    };\n  },\n  update(self) {\n    const { app, value, redRangeSlider, greenRangeSlider, blueRangeSlider } = self;\n\n    const { sliderValue, sliderValueEditable } = self.params;\n\n    const { rgb } = value;\n\n    redRangeSlider.value = rgb[0];\n    greenRangeSlider.value = rgb[1];\n    blueRangeSlider.value = rgb[2];\n\n    redRangeSlider.layout();\n    greenRangeSlider.layout();\n    blueRangeSlider.layout();\n\n    redRangeSlider.$el[0].style.setProperty(\n      '--f7-range-knob-color',\n      `rgb(${rgb[0]}, ${rgb[1]}, ${rgb[2]})`,\n    );\n    greenRangeSlider.$el[0].style.setProperty(\n      '--f7-range-knob-color',\n      `rgb(${rgb[0]}, ${rgb[1]}, ${rgb[2]})`,\n    );\n    blueRangeSlider.$el[0].style.setProperty(\n      '--f7-range-knob-color',\n      `rgb(${rgb[0]}, ${rgb[1]}, ${rgb[2]})`,\n    );\n\n    const direction = app.rtl ? 'to left' : 'to right';\n\n    redRangeSlider.$el\n      .find('.range-bar')\n      .css(\n        'background-image',\n        `linear-gradient(${direction}, rgb(0, ${rgb[1]}, ${rgb[2]}), rgb(255, ${rgb[1]}, ${rgb[2]}))`,\n      );\n    greenRangeSlider.$el\n      .find('.range-bar')\n      .css(\n        'background-image',\n        `linear-gradient(${direction}, rgb(${rgb[0]}, 0, ${rgb[2]}), rgb(${rgb[0]}, 255, ${rgb[2]}))`,\n      );\n    blueRangeSlider.$el\n      .find('.range-bar')\n      .css(\n        'background-image',\n        `linear-gradient(${direction}, rgb(${rgb[0]}, ${rgb[1]}, 0), rgb(${rgb[0]}, ${rgb[1]}, 255))`,\n      );\n\n    if (sliderValue && sliderValueEditable) {\n      self.$el.find('input.color-picker-value-red').val(rgb[0]);\n      self.$el.find('input.color-picker-value-green').val(rgb[1]);\n      self.$el.find('input.color-picker-value-blue').val(rgb[2]);\n    } else if (sliderValue) {\n      self.$el.find('span.color-picker-value-red').text(rgb[0]);\n      self.$el.find('span.color-picker-value-green').text(rgb[1]);\n      self.$el.find('span.color-picker-value-blue').text(rgb[2]);\n    }\n  },\n  destroy(self) {\n    if (self.redRangeSlider && self.redRangeSlider.destroy) {\n      self.redRangeSlider.destroy();\n    }\n    if (self.greenRangeSlider && self.greenRangeSlider.destroy) {\n      self.greenRangeSlider.destroy();\n    }\n    if (self.blueRangeSlider && self.blueRangeSlider.destroy) {\n      self.blueRangeSlider.destroy();\n    }\n\n    delete self.redRangeSlider;\n    delete self.greenRangeSlider;\n    delete self.blueRangeSlider;\n\n    if (self.destroyRgbSlidersEvents) self.destroyRgbSlidersEvents();\n    delete self.destroyRgbSlidersEvents;\n  },\n};\n","import $ from '../../../shared/dom7';\nimport { getSupport } from '../../../shared/get-support';\n/** @jsx $jsx */\nimport $jsx from '../../../shared/$jsx';\n\nexport default {\n  render() {\n    return (\n      <div class=\"color-picker-module color-picker-module-sb-spectrum\">\n        <div class=\"color-picker-sb-spectrum\" style=\"background-color: hsl(0, 100%, 50%)\">\n          <div class=\"color-picker-sb-spectrum-handle\"></div>\n        </div>\n      </div>\n    );\n  },\n  init(self) {\n    const { app } = self;\n\n    let isTouched;\n    let isMoved;\n    let touchStartX;\n    let touchStartY;\n    let touchCurrentX;\n    let touchCurrentY;\n\n    let specterRect;\n    let specterIsTouched;\n    let specterHandleIsTouched;\n\n    const { $el } = self;\n\n    function setSBFromSpecterCoords(x, y) {\n      let s = (x - specterRect.left) / specterRect.width;\n      let b = (y - specterRect.top) / specterRect.height;\n      s = Math.max(0, Math.min(1, s));\n      b = 1 - Math.max(0, Math.min(1, b));\n\n      self.setValue({ hsb: [self.value.hue, s, b] });\n    }\n\n    function handleTouchStart(e) {\n      if (isMoved || isTouched) return;\n      touchStartX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n      touchCurrentX = touchStartX;\n      touchStartY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n      touchCurrentY = touchStartY;\n      const $targetEl = $(e.target);\n      specterHandleIsTouched = $targetEl.closest('.color-picker-sb-spectrum-handle').length > 0;\n      if (!specterHandleIsTouched) {\n        specterIsTouched = $targetEl.closest('.color-picker-sb-spectrum').length > 0;\n      }\n      if (specterIsTouched) {\n        specterRect = $el.find('.color-picker-sb-spectrum')[0].getBoundingClientRect();\n        setSBFromSpecterCoords(touchStartX, touchStartY);\n      }\n      if (specterHandleIsTouched || specterIsTouched) {\n        $el\n          .find('.color-picker-sb-spectrum-handle')\n          .addClass('color-picker-sb-spectrum-handle-pressed');\n      }\n    }\n    function handleTouchMove(e) {\n      if (!(specterIsTouched || specterHandleIsTouched)) return;\n      touchCurrentX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n      touchCurrentY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n      e.preventDefault();\n      if (!isMoved) {\n        // First move\n        isMoved = true;\n        if (specterHandleIsTouched) {\n          specterRect = $el.find('.color-picker-sb-spectrum')[0].getBoundingClientRect();\n        }\n      }\n      if (specterIsTouched || specterHandleIsTouched) {\n        setSBFromSpecterCoords(touchCurrentX, touchCurrentY);\n      }\n    }\n    function handleTouchEnd() {\n      isMoved = false;\n      if (specterIsTouched || specterHandleIsTouched) {\n        $el\n          .find('.color-picker-sb-spectrum-handle')\n          .removeClass('color-picker-sb-spectrum-handle-pressed');\n      }\n      specterIsTouched = false;\n      specterHandleIsTouched = false;\n    }\n\n    function handleResize() {\n      self.modules['sb-spectrum'].update(self);\n    }\n\n    const passiveListener =\n      app.touchEvents.start === 'touchstart' && getSupport().passiveListener\n        ? { passive: true, capture: false }\n        : false;\n\n    self.$el.on(app.touchEvents.start, handleTouchStart, passiveListener);\n    app.on('touchmove:active', handleTouchMove);\n    app.on('touchend:passive', handleTouchEnd);\n    app.on('resize', handleResize);\n\n    self.destroySpectrumEvents = function destroySpectrumEvents() {\n      self.$el.off(app.touchEvents.start, handleTouchStart, passiveListener);\n      app.off('touchmove:active', handleTouchMove);\n      app.off('touchend:passive', handleTouchEnd);\n      app.off('resize', handleResize);\n    };\n  },\n  update(self) {\n    const { value } = self;\n\n    const { hsl, hsb } = value;\n\n    const specterWidth = self.$el.find('.color-picker-sb-spectrum')[0].offsetWidth;\n    const specterHeight = self.$el.find('.color-picker-sb-spectrum')[0].offsetHeight;\n\n    self.$el.find('.color-picker-sb-spectrum').css('background-color', `hsl(${hsl[0]}, 100%, 50%)`);\n\n    self.$el\n      .find('.color-picker-sb-spectrum-handle')\n      .css('background-color', `hsl(${hsl[0]}, ${hsl[1] * 100}%, ${hsl[2] * 100}%)`)\n      .transform(`translate(${specterWidth * hsb[1]}px, ${specterHeight * (1 - hsb[2])}px)`);\n  },\n  destroy(self) {\n    if (self.destroySpectrumEvents) self.destroySpectrumEvents();\n    delete self.destroySpectrumEvents;\n  },\n};\n","import $ from '../../../shared/dom7';\nimport { colorHsbToHsl } from '../../../shared/utils';\nimport { getSupport } from '../../../shared/get-support';\n/** @jsx $jsx */\nimport $jsx from '../../../shared/$jsx';\n\nexport default {\n  render() {\n    return (\n      <div class=\"color-picker-module color-picker-module-hs-spectrum\">\n        <div class=\"color-picker-hs-spectrum\">\n          <div class=\"color-picker-hs-spectrum-handle\"></div>\n        </div>\n      </div>\n    );\n  },\n  init(self) {\n    const { app } = self;\n\n    let isTouched;\n    let isMoved;\n    let touchStartX;\n    let touchStartY;\n    let touchCurrentX;\n    let touchCurrentY;\n\n    let specterRect;\n    let specterIsTouched;\n    let specterHandleIsTouched;\n\n    const { $el } = self;\n\n    function setHSFromSpecterCoords(x, y) {\n      let h = ((x - specterRect.left) / specterRect.width) * 360;\n      let s = (y - specterRect.top) / specterRect.height;\n      h = Math.max(0, Math.min(360, h));\n      s = 1 - Math.max(0, Math.min(1, s));\n\n      self.setValue({ hsb: [h, s, self.value.hsb[2]] });\n    }\n\n    function handleTouchStart(e) {\n      if (isMoved || isTouched) return;\n      touchStartX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n      touchCurrentX = touchStartX;\n      touchStartY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n      touchCurrentY = touchStartY;\n      const $targetEl = $(e.target);\n      specterHandleIsTouched = $targetEl.closest('.color-picker-hs-spectrum-handle').length > 0;\n      if (!specterHandleIsTouched) {\n        specterIsTouched = $targetEl.closest('.color-picker-hs-spectrum').length > 0;\n      }\n      if (specterIsTouched) {\n        specterRect = $el.find('.color-picker-hs-spectrum')[0].getBoundingClientRect();\n        setHSFromSpecterCoords(touchStartX, touchStartY);\n      }\n      if (specterHandleIsTouched || specterIsTouched) {\n        $el\n          .find('.color-picker-hs-spectrum-handle')\n          .addClass('color-picker-hs-spectrum-handle-pressed');\n      }\n    }\n    function handleTouchMove(e) {\n      if (!(specterIsTouched || specterHandleIsTouched)) return;\n      touchCurrentX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n      touchCurrentY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n      e.preventDefault();\n      if (!isMoved) {\n        // First move\n        isMoved = true;\n        if (specterHandleIsTouched) {\n          specterRect = $el.find('.color-picker-hs-spectrum')[0].getBoundingClientRect();\n        }\n      }\n      if (specterIsTouched || specterHandleIsTouched) {\n        setHSFromSpecterCoords(touchCurrentX, touchCurrentY);\n      }\n    }\n    function handleTouchEnd() {\n      isMoved = false;\n      if (specterIsTouched || specterHandleIsTouched) {\n        $el\n          .find('.color-picker-hs-spectrum-handle')\n          .removeClass('color-picker-hs-spectrum-handle-pressed');\n      }\n      specterIsTouched = false;\n      specterHandleIsTouched = false;\n    }\n\n    function handleResize() {\n      self.modules['hs-spectrum'].update(self);\n    }\n\n    const passiveListener =\n      app.touchEvents.start === 'touchstart' && getSupport().passiveListener\n        ? { passive: true, capture: false }\n        : false;\n\n    self.$el.on(app.touchEvents.start, handleTouchStart, passiveListener);\n    app.on('touchmove:active', handleTouchMove);\n    app.on('touchend:passive', handleTouchEnd);\n    app.on('resize', handleResize);\n\n    self.destroySpectrumEvents = function destroySpectrumEvents() {\n      self.$el.off(app.touchEvents.start, handleTouchStart, passiveListener);\n      app.off('touchmove:active', handleTouchMove);\n      app.off('touchend:passive', handleTouchEnd);\n      app.off('resize', handleResize);\n    };\n  },\n  update(self) {\n    const { value } = self;\n\n    const { hsb } = value;\n\n    const specterWidth = self.$el.find('.color-picker-hs-spectrum')[0].offsetWidth;\n    const specterHeight = self.$el.find('.color-picker-hs-spectrum')[0].offsetHeight;\n\n    const hslBright = colorHsbToHsl(hsb[0], hsb[1], 1);\n\n    self.$el\n      .find('.color-picker-hs-spectrum-handle')\n      .css(\n        'background-color',\n        `hsl(${hslBright[0]}, ${hslBright[1] * 100}%, ${hslBright[2] * 100}%)`,\n      )\n      .transform(\n        `translate(${specterWidth * (hsb[0] / 360)}px, ${specterHeight * (1 - hsb[1])}px)`,\n      );\n  },\n  destroy(self) {\n    if (self.destroySpectrumEvents) self.destroySpectrumEvents();\n    delete self.destroySpectrumEvents;\n  },\n};\n","import $ from '../../../shared/dom7';\nimport { getSupport } from '../../../shared/get-support';\n/** @jsx $jsx */\nimport $jsx from '../../../shared/$jsx';\n\nfunction svgWheelCircles() {\n  const total = 256;\n  let circles = '';\n  for (let i = total; i > 0; i -= 1) {\n    const angle = (i * Math.PI) / (total / 2);\n    const hue = (360 / total) * i;\n    circles += `<circle cx=\"${150 - Math.sin(angle) * 125}\" cy=\"${\n      150 - Math.cos(angle) * 125\n    }\" r=\"25\" fill=\"hsl(${hue}, 100%, 50%)\"></circle>`;\n  }\n  return circles;\n}\nexport default {\n  render() {\n    return (\n      <div class=\"color-picker-module color-picker-module-wheel\">\n        <div class=\"color-picker-wheel\">\n          <svg viewBox=\"0 0 300 300\" width=\"300\" height=\"300\">\n            {svgWheelCircles()}\n          </svg>\n          <div class=\"color-picker-wheel-handle\"></div>\n          <div class=\"color-picker-sb-spectrum\" style=\"background-color: hsl(0, 100%, 50%)\">\n            <div class=\"color-picker-sb-spectrum-handle\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  },\n  init(self) {\n    const { app } = self;\n\n    let isTouched;\n    let isMoved;\n    let touchStartX;\n    let touchStartY;\n    let touchCurrentX;\n    let touchCurrentY;\n\n    let wheelRect;\n    let wheelIsTouched;\n    let wheelHandleIsTouched;\n    let specterRect;\n    let specterIsTouched;\n    let specterHandleIsTouched;\n\n    const { $el } = self;\n\n    function setHueFromWheelCoords(x, y) {\n      const wheelCenterX = wheelRect.left + wheelRect.width / 2;\n      const wheelCenterY = wheelRect.top + wheelRect.height / 2;\n      const angleRad = Math.atan2(y - wheelCenterY, x - wheelCenterX);\n      let angleDeg = (angleRad * 180) / Math.PI + 90;\n      if (angleDeg < 0) angleDeg += 360;\n      angleDeg = 360 - angleDeg;\n      self.setValue({ hue: angleDeg });\n    }\n    function setSBFromSpecterCoords(x, y) {\n      let s = (x - specterRect.left) / specterRect.width;\n      let b = (y - specterRect.top) / specterRect.height;\n      s = Math.max(0, Math.min(1, s));\n      b = 1 - Math.max(0, Math.min(1, b));\n\n      self.setValue({ hsb: [self.value.hue, s, b] });\n    }\n\n    function handleTouchStart(e) {\n      if (isMoved || isTouched) return;\n      touchStartX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n      touchCurrentX = touchStartX;\n      touchStartY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n      touchCurrentY = touchStartY;\n      const $targetEl = $(e.target);\n      wheelHandleIsTouched = $targetEl.closest('.color-picker-wheel-handle').length > 0;\n      wheelIsTouched = $targetEl.closest('circle').length > 0;\n      specterHandleIsTouched = $targetEl.closest('.color-picker-sb-spectrum-handle').length > 0;\n      if (!specterHandleIsTouched) {\n        specterIsTouched = $targetEl.closest('.color-picker-sb-spectrum').length > 0;\n      }\n      if (wheelIsTouched) {\n        wheelRect = $el.find('.color-picker-wheel')[0].getBoundingClientRect();\n        setHueFromWheelCoords(touchStartX, touchStartY);\n      }\n      if (specterIsTouched) {\n        specterRect = $el.find('.color-picker-sb-spectrum')[0].getBoundingClientRect();\n        setSBFromSpecterCoords(touchStartX, touchStartY);\n      }\n      if (specterHandleIsTouched || specterIsTouched) {\n        $el\n          .find('.color-picker-sb-spectrum-handle')\n          .addClass('color-picker-sb-spectrum-handle-pressed');\n      }\n    }\n    function handleTouchMove(e) {\n      if (\n        !(wheelIsTouched || wheelHandleIsTouched) &&\n        !(specterIsTouched || specterHandleIsTouched)\n      )\n        return;\n      touchCurrentX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n      touchCurrentY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n      e.preventDefault();\n      if (!isMoved) {\n        // First move\n        isMoved = true;\n        if (wheelHandleIsTouched) {\n          wheelRect = $el.find('.color-picker-wheel')[0].getBoundingClientRect();\n        }\n        if (specterHandleIsTouched) {\n          specterRect = $el.find('.color-picker-sb-spectrum')[0].getBoundingClientRect();\n        }\n      }\n      if (wheelIsTouched || wheelHandleIsTouched) {\n        setHueFromWheelCoords(touchCurrentX, touchCurrentY);\n      }\n      if (specterIsTouched || specterHandleIsTouched) {\n        setSBFromSpecterCoords(touchCurrentX, touchCurrentY);\n      }\n    }\n    function handleTouchEnd() {\n      isMoved = false;\n      if (specterIsTouched || specterHandleIsTouched) {\n        $el\n          .find('.color-picker-sb-spectrum-handle')\n          .removeClass('color-picker-sb-spectrum-handle-pressed');\n      }\n      wheelIsTouched = false;\n      wheelHandleIsTouched = false;\n      specterIsTouched = false;\n      specterHandleIsTouched = false;\n    }\n\n    function handleResize() {\n      self.modules.wheel.update(self);\n    }\n\n    const passiveListener =\n      app.touchEvents.start === 'touchstart' && getSupport().passiveListener\n        ? { passive: true, capture: false }\n        : false;\n\n    self.$el.on(app.touchEvents.start, handleTouchStart, passiveListener);\n    app.on('touchmove:active', handleTouchMove);\n    app.on('touchend:passive', handleTouchEnd);\n    app.on('resize', handleResize);\n\n    self.destroyWheelEvents = function destroyWheelEvents() {\n      self.$el.off(app.touchEvents.start, handleTouchStart, passiveListener);\n      app.off('touchmove:active', handleTouchMove);\n      app.off('touchend:passive', handleTouchEnd);\n      app.off('resize', handleResize);\n    };\n  },\n  update(self) {\n    const { value } = self;\n\n    const { hsl, hsb } = value;\n\n    const specterWidth = self.$el.find('.color-picker-sb-spectrum')[0].offsetWidth;\n    const specterHeight = self.$el.find('.color-picker-sb-spectrum')[0].offsetHeight;\n    const wheelSize = self.$el.find('.color-picker-wheel')[0].offsetWidth;\n    const wheelHalfSize = wheelSize / 2;\n    const angleRad = (value.hue * Math.PI) / 180;\n    const handleSize = wheelSize / 6;\n    const handleHalfSize = handleSize / 2;\n    const tX =\n      wheelHalfSize - Math.sin(angleRad) * (wheelHalfSize - handleHalfSize) - handleHalfSize;\n    const tY =\n      wheelHalfSize - Math.cos(angleRad) * (wheelHalfSize - handleHalfSize) - handleHalfSize;\n    self.$el\n      .find('.color-picker-wheel-handle')\n      .css('background-color', `hsl(${hsl[0]}, 100%, 50%)`)\n      .transform(`translate(${tX}px, ${tY}px)`);\n\n    self.$el.find('.color-picker-sb-spectrum').css('background-color', `hsl(${hsl[0]}, 100%, 50%)`);\n\n    self.$el\n      .find('.color-picker-sb-spectrum-handle')\n      .css('background-color', `hsl(${hsl[0]}, ${hsl[1] * 100}%, ${hsl[2] * 100}%)`)\n      .transform(`translate(${specterWidth * hsb[1]}px, ${specterHeight * (1 - hsb[2])}px)`);\n  },\n  destroy(self) {\n    if (self.destroyWheelEvents) self.destroyWheelEvents();\n    delete self.destroyWheelEvents;\n  },\n};\n","import {\n  extend,\n  colorRgbToHex,\n  colorRgbToHsl,\n  colorHslToHsb,\n  colorHslToRgb,\n  colorHsbToHsl,\n  colorHexToRgb,\n  nextTick,\n  deleteProps,\n} from '../../shared/utils';\nimport Framework7Class from '../../shared/class';\nimport $ from '../../shared/dom7';\nimport { getDevice } from '../../shared/get-device';\n\nimport moduleAlphaSlider from './modules/alpha-slider';\nimport moduleCurrentColor from './modules/current-color';\nimport moduleHex from './modules/hex';\nimport moduleHsbSliders from './modules/hsb-sliders';\nimport moduleHueSlider from './modules/hue-slider';\nimport moduleBrightnessSlider from './modules/brightness-slider';\nimport modulePalette from './modules/palette';\nimport moduleInitialCurrentColors from './modules/initial-current-colors';\nimport moduleRgbBars from './modules/rgb-bars';\nimport moduleRgbSliders from './modules/rgb-sliders';\nimport moduleSbSpectrum from './modules/sb-spectrum';\nimport moduleHsSpectrum from './modules/hs-spectrum';\nimport moduleWheel from './modules/wheel';\n\n/** @jsx $jsx */\nimport $jsx from '../../shared/$jsx';\n\nclass ColorPicker extends Framework7Class {\n  constructor(app, params = {}) {\n    super(params, [app]);\n    const self = this;\n\n    self.params = extend({}, app.params.colorPicker, params);\n\n    let $containerEl;\n    if (self.params.containerEl) {\n      $containerEl = $(self.params.containerEl);\n      if ($containerEl.length === 0) return self;\n    }\n\n    let $inputEl;\n    if (self.params.inputEl) {\n      $inputEl = $(self.params.inputEl);\n    }\n\n    let $targetEl;\n    if (self.params.targetEl) {\n      $targetEl = $(self.params.targetEl);\n    }\n\n    extend(self, {\n      app,\n      $containerEl,\n      containerEl: $containerEl && $containerEl[0],\n      inline: $containerEl && $containerEl.length > 0,\n      $inputEl,\n      inputEl: $inputEl && $inputEl[0],\n      $targetEl,\n      targetEl: $targetEl && $targetEl[0],\n      initialized: false,\n      opened: false,\n      url: self.params.url,\n      modules: {\n        'alpha-slider': moduleAlphaSlider,\n        'current-color': moduleCurrentColor,\n        hex: moduleHex, // eslint-disable-line\n        'hsb-sliders': moduleHsbSliders,\n        'hue-slider': moduleHueSlider,\n        'brightness-slider': moduleBrightnessSlider,\n        palette: modulePalette, // eslint-disable-line\n        'initial-current-colors': moduleInitialCurrentColors,\n        'rgb-bars': moduleRgbBars,\n        'rgb-sliders': moduleRgbSliders,\n        'sb-spectrum': moduleSbSpectrum,\n        'hs-spectrum': moduleHsSpectrum,\n        wheel: moduleWheel, // eslint-disable-line\n      },\n    });\n\n    function onInputClick() {\n      self.open();\n    }\n    function onInputFocus(e) {\n      e.preventDefault();\n    }\n    function onTargetClick() {\n      self.open();\n    }\n    function onHtmlClick(e) {\n      if (self.destroyed || !self.params) return;\n      if (self.params.openIn === 'page') return;\n      const $clickTargetEl = $(e.target);\n      if (!self.opened || self.closing) return;\n      if ($clickTargetEl.closest('[class*=\"backdrop\"]').length) return;\n      if ($clickTargetEl.closest('.color-picker-popup, .color-picker-popover').length) return;\n      if ($inputEl && $inputEl.length > 0) {\n        if (\n          $clickTargetEl[0] !== $inputEl[0] &&\n          $clickTargetEl.closest('.sheet-modal').length === 0\n        ) {\n          self.close();\n        }\n      } else if ($(e.target).closest('.sheet-modal').length === 0) {\n        self.close();\n      }\n    }\n\n    // Events\n    extend(self, {\n      attachInputEvents() {\n        self.$inputEl.on('click', onInputClick);\n        if (self.params.inputReadOnly) {\n          self.$inputEl.on('focus mousedown', onInputFocus);\n          if (self.$inputEl[0]) {\n            self.$inputEl[0].f7ValidateReadonly = true;\n          }\n        }\n      },\n      detachInputEvents() {\n        self.$inputEl.off('click', onInputClick);\n        if (self.params.inputReadOnly) {\n          self.$inputEl.off('focus mousedown', onInputFocus);\n          if (self.$inputEl[0]) {\n            delete self.$inputEl[0].f7ValidateReadonly;\n          }\n        }\n      },\n      attachTargetEvents() {\n        self.$targetEl.on('click', onTargetClick);\n      },\n      detachTargetEvents() {\n        self.$targetEl.off('click', onTargetClick);\n      },\n      attachHtmlEvents() {\n        app.on('click', onHtmlClick);\n      },\n      detachHtmlEvents() {\n        app.off('click', onHtmlClick);\n      },\n    });\n\n    self.init();\n\n    return self;\n  }\n\n  get view() {\n    const { $inputEl, $targetEl, app, params } = this;\n    let view;\n    if (params.view) {\n      view = params.view;\n    } else {\n      if ($inputEl) {\n        view = $inputEl.parents('.view').length && $inputEl.parents('.view')[0].f7View;\n      }\n      if (!view && $targetEl) {\n        view = $targetEl.parents('.view').length && $targetEl.parents('.view')[0].f7View;\n      }\n    }\n    if (!view) view = app.views.main;\n\n    return view;\n  }\n\n  attachEvents() {\n    const self = this;\n    self.centerModules = self.centerModules.bind(self);\n    if (self.params.centerModules) {\n      self.app.on('resize', self.centerModules);\n    }\n  }\n\n  detachEvents() {\n    const self = this;\n    if (self.params.centerModules) {\n      self.app.off('resize', self.centerModules);\n    }\n  }\n\n  centerModules() {\n    const self = this;\n    if (!self.opened || !self.$el || self.inline) return;\n    const $pageContentEl = self.$el.find('.page-content');\n    if (!$pageContentEl.length) return;\n    const { scrollHeight, offsetHeight } = $pageContentEl[0];\n    if (scrollHeight <= offsetHeight) {\n      $pageContentEl.addClass('justify-content-center');\n    } else {\n      $pageContentEl.removeClass('justify-content-center');\n    }\n  }\n\n  initInput() {\n    const self = this;\n    if (!self.$inputEl) return;\n    if (self.params.inputReadOnly) self.$inputEl.prop('readOnly', true);\n  }\n\n  getModalType() {\n    const self = this;\n    const { app, modal, params } = self;\n    const { openIn, openInPhone } = params;\n    const device = getDevice();\n    if (modal && modal.type) return modal.type;\n    if (openIn !== 'auto') return openIn;\n    if (self.inline) return null;\n    if (device.ios) {\n      return device.ipad ? 'popover' : openInPhone;\n    }\n    if (app.width >= 768 || (device.desktop && app.theme === 'aurora')) {\n      return 'popover';\n    }\n\n    return openInPhone;\n  }\n\n  formatValue() {\n    const self = this;\n    const { value } = self;\n    if (self.params.formatValue) {\n      return self.params.formatValue.call(self, value);\n    }\n    return value.hex;\n  }\n\n  // eslint-disable-next-line\n  normalizeHsValues(arr) {\n    return [\n      Math.floor(arr[0] * 10) / 10,\n      Math.floor(arr[1] * 1000) / 1000,\n      Math.floor(arr[2] * 1000) / 1000,\n    ];\n  }\n\n  setValue(value = {}, updateModules = true) {\n    const self = this;\n    if (typeof value === 'undefined') return;\n\n    let { hex, rgb, hsl, hsb, alpha = 1, hue, rgba, hsla } = self.value || {};\n\n    const needChangeEvent = self.value || (!self.value && !self.params.value);\n    let valueChanged;\n    Object.keys(value).forEach((k) => {\n      if (!self.value || typeof self.value[k] === 'undefined') {\n        valueChanged = true;\n        return;\n      }\n      const v = value[k];\n      if (Array.isArray(v)) {\n        v.forEach((subV, subIndex) => {\n          if (subV !== self.value[k][subIndex]) {\n            valueChanged = true;\n          }\n        });\n      } else if (v !== self.value[k]) {\n        valueChanged = true;\n      }\n    });\n    if (!valueChanged) return;\n\n    if (value.rgb || value.rgba) {\n      const [r, g, b, a = alpha] = value.rgb || value.rgba;\n      rgb = [r, g, b];\n      hex = colorRgbToHex(...rgb);\n      hsl = colorRgbToHsl(...rgb);\n      hsb = colorHslToHsb(...hsl);\n      hsl = self.normalizeHsValues(hsl);\n      hsb = self.normalizeHsValues(hsb);\n      hue = hsb[0];\n      alpha = a;\n      rgba = [rgb[0], rgb[1], rgb[2], a];\n      hsla = [hsl[0], hsl[1], hsl[2], a];\n    }\n\n    if (value.hsl || value.hsla) {\n      const [h, s, l, a = alpha] = value.hsl || value.hsla;\n      hsl = [h, s, l];\n      rgb = colorHslToRgb(...hsl);\n      hex = colorRgbToHex(...rgb);\n      hsb = colorHslToHsb(...hsl);\n      hsl = self.normalizeHsValues(hsl);\n      hsb = self.normalizeHsValues(hsb);\n      hue = hsb[0];\n      alpha = a;\n      rgba = [rgb[0], rgb[1], rgb[2], a];\n      hsla = [hsl[0], hsl[1], hsl[2], a];\n    }\n\n    if (value.hsb) {\n      const [h, s, b, a = alpha] = value.hsb;\n      hsb = [h, s, b];\n      hsl = colorHsbToHsl(...hsb);\n      rgb = colorHslToRgb(...hsl);\n      hex = colorRgbToHex(...rgb);\n      hsl = self.normalizeHsValues(hsl);\n      hsb = self.normalizeHsValues(hsb);\n      hue = hsb[0];\n      alpha = a;\n      rgba = [rgb[0], rgb[1], rgb[2], a];\n      hsla = [hsl[0], hsl[1], hsl[2], a];\n    }\n\n    if (value.hex) {\n      rgb = colorHexToRgb(value.hex);\n      hex = colorRgbToHex(...rgb);\n      hsl = colorRgbToHsl(...rgb);\n      hsb = colorHslToHsb(...hsl);\n      hsl = self.normalizeHsValues(hsl);\n      hsb = self.normalizeHsValues(hsb);\n      hue = hsb[0];\n      rgba = [rgb[0], rgb[1], rgb[2], alpha];\n      hsla = [hsl[0], hsl[1], hsl[2], alpha];\n    }\n\n    if (typeof value.alpha !== 'undefined') {\n      alpha = value.alpha;\n      if (typeof rgb !== 'undefined') {\n        rgba = [rgb[0], rgb[1], rgb[2], alpha];\n      }\n      if (typeof hsl !== 'undefined') {\n        hsla = [hsl[0], hsl[1], hsl[2], alpha];\n      }\n    }\n\n    if (typeof value.hue !== 'undefined') {\n      const [h, s, l] = hsl; // eslint-disable-line\n      hsl = [value.hue, s, l];\n      hsb = colorHslToHsb(...hsl);\n      rgb = colorHslToRgb(...hsl);\n      hex = colorRgbToHex(...rgb);\n      hsl = self.normalizeHsValues(hsl);\n      hsb = self.normalizeHsValues(hsb);\n      hue = hsb[0];\n      rgba = [rgb[0], rgb[1], rgb[2], alpha];\n      hsla = [hsl[0], hsl[1], hsl[2], alpha];\n    }\n    self.value = {\n      hex,\n      alpha,\n      hue,\n      rgb,\n      hsl,\n      hsb,\n      rgba,\n      hsla,\n    };\n    if (!self.initialValue) self.initialValue = extend({}, self.value);\n    self.updateValue(needChangeEvent);\n    if (self.opened && updateModules) {\n      self.updateModules();\n    }\n  }\n\n  getValue() {\n    const self = this;\n    return self.value;\n  }\n\n  updateValue(fireEvents = true) {\n    const self = this;\n    const { $inputEl, value, $targetEl } = self;\n    if ($targetEl && self.params.targetElSetBackgroundColor) {\n      const { rgba } = value;\n      $targetEl.css('background-color', `rgba(${rgba.join(', ')})`);\n    }\n    if (fireEvents) {\n      self.emit('local::change colorPickerChange', self, value);\n    }\n\n    if ($inputEl && $inputEl.length) {\n      const inputValue = self.formatValue(value);\n      if ($inputEl && $inputEl.length) {\n        $inputEl.val(inputValue);\n        if (fireEvents) {\n          $inputEl.trigger('change');\n        }\n      }\n    }\n  }\n\n  updateModules() {\n    const self = this;\n    const { modules } = self;\n    self.params.modules.forEach((m) => {\n      if (typeof m === 'string' && modules[m] && modules[m].update) {\n        modules[m].update(self);\n      } else if (m && m.update) {\n        m.update(self);\n      }\n    });\n  }\n\n  update() {\n    const self = this;\n    self.updateModules();\n  }\n\n  renderPicker() {\n    const self = this;\n    const { params, modules } = self;\n    let html = '';\n\n    params.modules.forEach((m) => {\n      if (typeof m === 'string' && modules[m] && modules[m].render) {\n        html += modules[m].render(self);\n      } else if (m && m.render) {\n        html += m.render(self);\n      }\n    });\n\n    return html;\n  }\n\n  renderNavbar() {\n    const self = this;\n    if (self.params.renderNavbar) {\n      return self.params.renderNavbar.call(self, self);\n    }\n    const { openIn, navbarTitleText, navbarBackLinkText, navbarCloseText } = self.params;\n    return (\n      <div class=\"navbar\">\n        <div class=\"navbar-bg\"></div>\n        <div class=\"navbar-inner sliding\">\n          {openIn === 'page' && (\n            <div class=\"left\">\n              <a class=\"link back\">\n                <i class=\"icon icon-back\"></i>\n                <span class=\"if-not-md\">{navbarBackLinkText}</span>\n              </a>\n            </div>\n          )}\n          <div class=\"title\">{navbarTitleText}</div>\n          {openIn !== 'page' && (\n            <div class=\"right\">\n              <a class=\"link popup-close\" data-popup=\".color-picker-popup\">\n                {navbarCloseText}\n              </a>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  renderToolbar() {\n    const self = this;\n    if (self.params.renderToolbar) {\n      return self.params.renderToolbar.call(self, self);\n    }\n    return (\n      <div class=\"toolbar toolbar-top no-shadow\">\n        <div class=\"toolbar-inner\">\n          <div class=\"left\"></div>\n          <div class=\"right\">\n            <a\n              class=\"link sheet-close popover-close\"\n              data-sheet=\".color-picker-sheet-modal\"\n              data-popover=\".color-picker-popover\"\n            >\n              {self.params.toolbarCloseText}\n            </a>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  renderInline() {\n    const self = this;\n    const { cssClass, groupedModules } = self.params;\n    return (\n      <div\n        class={`color-picker color-picker-inline ${\n          groupedModules ? 'color-picker-grouped-modules' : ''\n        } ${cssClass || ''}`}\n      >\n        {self.renderPicker()}\n      </div>\n    );\n  }\n\n  renderSheet() {\n    const self = this;\n    const { cssClass, toolbarSheet, groupedModules } = self.params;\n    return (\n      <div\n        class={`sheet-modal color-picker color-picker-sheet-modal ${\n          groupedModules ? 'color-picker-grouped-modules' : ''\n        } ${cssClass || ''}`}\n      >\n        {toolbarSheet && self.renderToolbar()}\n        <div class=\"sheet-modal-inner\">\n          <div class=\"page-content\">{self.renderPicker()}</div>\n        </div>\n      </div>\n    );\n  }\n\n  renderPopover() {\n    const self = this;\n    const { cssClass, toolbarPopover, groupedModules } = self.params;\n    return (\n      <div class={`popover color-picker-popover ${cssClass || ''}`}>\n        <div class=\"popover-inner\">\n          <div class={`color-picker ${groupedModules ? 'color-picker-grouped-modules' : ''}`}>\n            {toolbarPopover && self.renderToolbar()}\n            <div class=\"page-content\">{self.renderPicker()}</div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  renderPopup() {\n    const self = this;\n    const { cssClass, navbarPopup, groupedModules } = self.params;\n    return (\n      <div class={`popup color-picker-popup ${cssClass || ''}`}>\n        <div class=\"page\">\n          {navbarPopup && self.renderNavbar()}\n          <div class={`color-picker ${groupedModules ? 'color-picker-grouped-modules' : ''}`}>\n            <div class=\"page-content\">{self.renderPicker()}</div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  renderPage() {\n    const self = this;\n    const { cssClass, groupedModules } = self.params;\n    return (\n      <div class={`page color-picker-page ${cssClass || ''}`} data-name=\"color-picker-page\">\n        {self.renderNavbar()}\n        <div class={`color-picker ${groupedModules ? 'color-picker-grouped-modules' : ''}`}>\n          <div class=\"page-content\">{self.renderPicker()}</div>\n        </div>\n      </div>\n    );\n  }\n\n  // eslint-disable-next-line\n  render() {\n    const self = this;\n    const { params } = self;\n    if (params.render) return params.render.call(self);\n    if (self.inline) return self.renderInline();\n    if (params.openIn === 'page') {\n      return self.renderPage();\n    }\n\n    const modalType = self.getModalType();\n    if (modalType === 'popover') return self.renderPopover();\n    if (modalType === 'sheet') return self.renderSheet();\n    if (modalType === 'popup') return self.renderPopup();\n  }\n\n  onOpen() {\n    const self = this;\n    const { initialized, $el, app, $inputEl, inline, value, params, modules } = self;\n    self.closing = false;\n    self.opened = true;\n    self.opening = true;\n\n    // Init main events\n    self.attachEvents();\n\n    params.modules.forEach((m) => {\n      if (typeof m === 'string' && modules[m] && modules[m].init) {\n        modules[m].init(self);\n      } else if (m && m.init) {\n        m.init(self);\n      }\n    });\n\n    const updateValue = !value && params.value;\n\n    // Set value\n    if (!initialized) {\n      if (value) self.setValue(value);\n      else if (params.value) {\n        self.setValue(params.value, false);\n      } else if (!params.value) {\n        self.setValue({ hex: '#ff0000' }, false);\n      }\n    } else if (value) {\n      self.initialValue = extend({}, value);\n      self.setValue(value, false);\n    }\n\n    // Update input value\n    if (updateValue) self.updateValue();\n    self.updateModules();\n\n    // Center modules\n    if (params.centerModules) {\n      self.centerModules();\n    }\n\n    // Extra focus\n    if (!inline && $inputEl && $inputEl.length && app.theme === 'md') {\n      $inputEl.trigger('focus');\n    }\n\n    self.initialized = true;\n\n    // Trigger events\n    if ($el) {\n      $el.trigger('colorpicker:open');\n    }\n    if ($inputEl) {\n      $inputEl.trigger('colorpicker:open');\n    }\n    self.emit('local::open colorPickerOpen', self);\n  }\n\n  onOpened() {\n    const self = this;\n    self.opening = false;\n    if (self.$el) {\n      self.$el.trigger('colorpicker:opened');\n    }\n    if (self.$inputEl) {\n      self.$inputEl.trigger('colorpicker:opened');\n    }\n    self.emit('local::opened colorPickerOpened', self);\n  }\n\n  onClose() {\n    const self = this;\n    const { app, params, modules } = self;\n    self.opening = false;\n    self.closing = true;\n\n    // Detach events\n    self.detachEvents();\n\n    if (self.$inputEl) {\n      if (app.theme === 'md') {\n        self.$inputEl.trigger('blur');\n      } else {\n        const validate = self.$inputEl.attr('validate');\n        const required = self.$inputEl.attr('required');\n        if (validate && required) {\n          app.input.validate(self.$inputEl);\n        }\n      }\n    }\n    params.modules.forEach((m) => {\n      if (typeof m === 'string' && modules[m] && modules[m].destroy) {\n        modules[m].destroy(self);\n      } else if (m && m.destroy) {\n        m.destroy(self);\n      }\n    });\n\n    if (self.$el) {\n      self.$el.trigger('colorpicker:close');\n    }\n    if (self.$inputEl) {\n      self.$inputEl.trigger('colorpicker:close');\n    }\n    self.emit('local::close colorPickerClose', self);\n  }\n\n  onClosed() {\n    const self = this;\n    self.opened = false;\n    self.closing = false;\n\n    if (!self.inline) {\n      nextTick(() => {\n        if (self.modal && self.modal.el && self.modal.destroy) {\n          if (!self.params.routableModals) {\n            self.modal.destroy();\n          }\n        }\n        delete self.modal;\n      });\n    }\n    if (self.$el) {\n      self.$el.trigger('colorpicker:closed');\n    }\n    if (self.$inputEl) {\n      self.$inputEl.trigger('colorpicker:closed');\n    }\n    self.emit('local::closed colorPickerClosed', self);\n  }\n\n  open() {\n    const self = this;\n    const { app, opened, inline, $inputEl, $targetEl, params } = self;\n    if (opened) return;\n\n    if (inline) {\n      self.$el = $(self.render());\n      self.$el[0].f7ColorPicker = self;\n      self.$containerEl.append(self.$el);\n      self.onOpen();\n      self.onOpened();\n      return;\n    }\n\n    const colorPickerContent = self.render();\n\n    if (params.openIn === 'page') {\n      self.view.router.navigate({\n        url: self.url,\n        route: {\n          content: colorPickerContent,\n          path: self.url,\n          on: {\n            pageBeforeIn(e, page) {\n              self.$el = page.$el.find('.color-picker');\n              self.$el[0].f7ColorPicker = self;\n              self.onOpen();\n            },\n            pageAfterIn() {\n              self.onOpened();\n            },\n            pageBeforeOut() {\n              self.onClose();\n            },\n            pageAfterOut() {\n              self.onClosed();\n              if (self.$el && self.$el[0]) {\n                self.$el[0].f7ColorPicker = null;\n                delete self.$el[0].f7ColorPicker;\n              }\n            },\n          },\n        },\n      });\n    } else {\n      const modalType = self.getModalType();\n      let backdrop = params.backdrop;\n      if (backdrop === null || typeof backdrop === 'undefined') {\n        if (modalType === 'popover' && app.params.popover.backdrop !== false) backdrop = true;\n        if (modalType === 'popup') backdrop = true;\n      }\n      const modalParams = {\n        targetEl: $targetEl || $inputEl,\n        scrollToEl: params.scrollToInput ? $targetEl || $inputEl : undefined,\n        content: colorPickerContent,\n        backdrop,\n        closeByBackdropClick: params.closeByBackdropClick,\n        on: {\n          open() {\n            const modal = this;\n            self.modal = modal;\n            self.$el =\n              modalType === 'popover' || modalType === 'popup'\n                ? modal.$el.find('.color-picker')\n                : modal.$el;\n            self.$el[0].f7ColorPicker = self;\n            self.onOpen();\n          },\n          opened() {\n            self.onOpened();\n          },\n          close() {\n            self.onClose();\n          },\n          closed() {\n            self.onClosed();\n            if (self.$el && self.$el[0]) {\n              self.$el[0].f7ColorPicker = null;\n              delete self.$el[0].f7ColorPicker;\n            }\n          },\n        },\n      };\n      if (modalType === 'popup') {\n        modalParams.push = params.popupPush;\n        modalParams.swipeToClose = params.popupSwipeToClose;\n      }\n      if (modalType === 'sheet') {\n        modalParams.push = params.sheetPush;\n        modalParams.swipeToClose = params.sheetSwipeToClose;\n      }\n      if (params.routableModals && self.view) {\n        self.view.router.navigate({\n          url: self.url,\n          route: {\n            path: self.url,\n            [modalType]: modalParams,\n          },\n        });\n      } else {\n        self.modal = app[modalType].create(modalParams);\n        self.modal.open();\n      }\n    }\n  }\n\n  close() {\n    const self = this;\n    const { opened, inline } = self;\n    if (!opened) return;\n    if (inline) {\n      self.onClose();\n      self.onClosed();\n      return;\n    }\n    if ((self.params.routableModals && self.view) || self.params.openIn === 'page') {\n      self.view.router.back();\n    } else {\n      self.modal.close();\n    }\n  }\n\n  init() {\n    const self = this;\n\n    self.initInput();\n\n    if (self.inline) {\n      self.open();\n      self.emit('local::init colorPickerInit', self);\n      return;\n    }\n\n    if (!self.initialized && self.params.value) {\n      self.setValue(self.params.value);\n    }\n\n    // Attach input Events\n    if (self.$inputEl) {\n      self.attachInputEvents();\n    }\n    if (self.$targetEl) {\n      self.attachTargetEvents();\n    }\n    if (self.params.closeByOutsideClick) {\n      self.attachHtmlEvents();\n    }\n    self.emit('local::init colorPickerInit', self);\n  }\n\n  destroy() {\n    const self = this;\n    if (self.destroyed) return;\n    const { $el } = self;\n    self.emit('local::beforeDestroy colorPickerBeforeDestroy', self);\n    if ($el) $el.trigger('colorpicker:beforedestroy');\n\n    self.close();\n\n    // Detach Events\n    self.detachEvents();\n    if (self.$inputEl) {\n      self.detachInputEvents();\n    }\n    if (self.$targetEl) {\n      self.detachTargetEvents();\n    }\n    if (self.params.closeByOutsideClick) {\n      self.detachHtmlEvents();\n    }\n\n    if ($el && $el.length) delete self.$el[0].f7ColorPicker;\n    deleteProps(self);\n    self.destroyed = true;\n  }\n}\n\nexport default ColorPicker;\n","import $ from '../../shared/dom7';\nimport ConstructorMethods from '../../shared/constructor-methods';\nimport ColorPicker from './color-picker-class';\n\nexport default {\n  name: 'colorPicker',\n  static: {\n    ColorPicker,\n  },\n  create() {\n    const app = this;\n    app.colorPicker = ConstructorMethods({\n      defaultSelector: '.color-picker',\n      constructor: ColorPicker,\n      app,\n      domProp: 'f7ColorPicker',\n    });\n    app.colorPicker.close = function close(el = '.color-picker') {\n      const $el = $(el);\n      if ($el.length === 0) return;\n      const colorPicker = $el[0].f7ColorPicker;\n      if (!colorPicker || (colorPicker && !colorPicker.opened)) return;\n      colorPicker.close();\n    };\n  },\n  params: {\n    colorPicker: {\n      // Color picker settings\n      value: null,\n      modules: ['wheel'],\n      palette: [\n        [\n          '#FFEBEE',\n          '#FFCDD2',\n          '#EF9A9A',\n          '#E57373',\n          '#EF5350',\n          '#F44336',\n          '#E53935',\n          '#D32F2F',\n          '#C62828',\n          '#B71C1C',\n        ],\n        [\n          '#F3E5F5',\n          '#E1BEE7',\n          '#CE93D8',\n          '#BA68C8',\n          '#AB47BC',\n          '#9C27B0',\n          '#8E24AA',\n          '#7B1FA2',\n          '#6A1B9A',\n          '#4A148C',\n        ],\n        [\n          '#E8EAF6',\n          '#C5CAE9',\n          '#9FA8DA',\n          '#7986CB',\n          '#5C6BC0',\n          '#3F51B5',\n          '#3949AB',\n          '#303F9F',\n          '#283593',\n          '#1A237E',\n        ],\n        [\n          '#E1F5FE',\n          '#B3E5FC',\n          '#81D4FA',\n          '#4FC3F7',\n          '#29B6F6',\n          '#03A9F4',\n          '#039BE5',\n          '#0288D1',\n          '#0277BD',\n          '#01579B',\n        ],\n        [\n          '#E0F2F1',\n          '#B2DFDB',\n          '#80CBC4',\n          '#4DB6AC',\n          '#26A69A',\n          '#009688',\n          '#00897B',\n          '#00796B',\n          '#00695C',\n          '#004D40',\n        ],\n        [\n          '#F1F8E9',\n          '#DCEDC8',\n          '#C5E1A5',\n          '#AED581',\n          '#9CCC65',\n          '#8BC34A',\n          '#7CB342',\n          '#689F38',\n          '#558B2F',\n          '#33691E',\n        ],\n        [\n          '#FFFDE7',\n          '#FFF9C4',\n          '#FFF59D',\n          '#FFF176',\n          '#FFEE58',\n          '#FFEB3B',\n          '#FDD835',\n          '#FBC02D',\n          '#F9A825',\n          '#F57F17',\n        ],\n        [\n          '#FFF3E0',\n          '#FFE0B2',\n          '#FFCC80',\n          '#FFB74D',\n          '#FFA726',\n          '#FF9800',\n          '#FB8C00',\n          '#F57C00',\n          '#EF6C00',\n          '#E65100',\n        ],\n      ],\n      groupedModules: false,\n      centerModules: true,\n\n      sliderLabel: false,\n      sliderValue: false,\n      sliderValueEdiable: false,\n\n      barLabel: false,\n      barValue: false,\n      barValueEdiable: false,\n\n      hexLabel: false,\n      hexValueEditable: false,\n\n      redLabelText: 'R',\n      greenLabelText: 'G',\n      blueLabelText: 'B',\n      hueLabelText: 'H',\n      saturationLabelText: 'S',\n      brightnessLabelText: 'B',\n      hexLabelText: 'HEX',\n      alphaLabelText: 'A',\n\n      // Common opener settings\n      containerEl: null,\n      openIn: 'popover', // or 'popover' or 'sheet' or 'popup' or 'page' or 'auto'\n      openInPhone: 'popup', // or 'popover' or 'sheet' or 'popup' or 'page'\n      popupPush: false,\n      popupSwipeToClose: undefined,\n      sheetPush: false,\n      sheetSwipeToClose: undefined,\n      formatValue: null,\n      targetEl: null,\n      targetElSetBackgroundColor: false,\n      inputEl: null,\n      inputReadOnly: true,\n      closeByOutsideClick: true,\n      scrollToInput: true,\n      toolbarSheet: true,\n      toolbarPopover: false,\n      toolbarCloseText: 'Done',\n      navbarPopup: true,\n      navbarCloseText: 'Done',\n      navbarTitleText: 'Color',\n      navbarBackLinkText: 'Back',\n      cssClass: null,\n      routableModals: false,\n      view: null,\n      url: 'color/',\n      backdrop: null,\n      closeByBackdropClick: true,\n      // Render functions\n      renderToolbar: null,\n      renderNavbar: null,\n      renderInline: null,\n      renderPopover: null,\n      renderSheet: null,\n      renderPopup: null,\n      render: null,\n    },\n  },\n};\n","import $ from '../../shared/dom7';\nimport {\n  bindMethods,\n  iosPreloaderContent,\n  mdPreloaderContent,\n  auroraPreloaderContent,\n} from '../../shared/utils';\n\nconst Treeview = {\n  open(itemEl) {\n    const app = this;\n    const $itemEl = $(itemEl).eq(0);\n    if (!$itemEl.length) return;\n    $itemEl.addClass('treeview-item-opened');\n    $itemEl.trigger('treeview:open');\n    app.emit('treeviewOpen', $itemEl[0]);\n    function done(cancel) {\n      if (cancel) {\n        $itemEl.removeClass('treeview-item-opened');\n        $itemEl.trigger('treeview:close');\n        app.emit('treeviewClose', $itemEl[0]);\n      } else {\n        $itemEl[0].f7TreeviewChildrenLoaded = true;\n      }\n      $itemEl.find('.treeview-toggle').removeClass('treeview-toggle-hidden');\n      $itemEl.find('.treeview-preloader').remove();\n    }\n\n    if ($itemEl.hasClass('treeview-load-children') && !$itemEl[0].f7TreeviewChildrenLoaded) {\n      const preloaders = { iosPreloaderContent, mdPreloaderContent, auroraPreloaderContent };\n      $itemEl.trigger('treeview:loadchildren', done);\n      app.emit('treeviewLoadChildren', $itemEl[0], done);\n      $itemEl.find('.treeview-toggle').addClass('treeview-toggle-hidden');\n      $itemEl\n        .find('.treeview-item-root')\n        .prepend(\n          `<div class=\"preloader treeview-preloader\">${\n            preloaders[`${app.theme}PreloaderContent`]\n          }</div>`,\n        );\n    }\n  },\n  close(itemEl) {\n    const app = this;\n    const $itemEl = $(itemEl).eq(0);\n    if (!$itemEl.length) return;\n    $itemEl.removeClass('treeview-item-opened');\n    $itemEl.trigger('treeview:close');\n    app.emit('treeviewClose', $itemEl[0]);\n  },\n  toggle(itemEl) {\n    const app = this;\n    const $itemEl = $(itemEl).eq(0);\n    if (!$itemEl.length) return;\n    const wasOpened = $itemEl.hasClass('treeview-item-opened');\n    app.treeview[wasOpened ? 'close' : 'open']($itemEl);\n  },\n};\n\nexport default {\n  name: 'treeview',\n  create() {\n    const app = this;\n    bindMethods(app, {\n      treeview: Treeview,\n    });\n  },\n  clicks: {\n    '.treeview-toggle': function toggle($clickedEl, clickedData, e) {\n      const app = this;\n      if ($clickedEl.parents('.treeview-item-toggle').length) return;\n      const $treeviewItemEl = $clickedEl.parents('.treeview-item').eq(0);\n      if (!$treeviewItemEl.length) return;\n      e.preventF7Router = true;\n      app.treeview.toggle($treeviewItemEl[0]);\n    },\n    '.treeview-item-toggle': function toggle($clickedEl, clickedData, e) {\n      const app = this;\n      const $treeviewItemEl = $clickedEl.closest('.treeview-item').eq(0);\n      if (!$treeviewItemEl.length) return;\n      e.preventF7Router = true;\n      app.treeview.toggle($treeviewItemEl[0]);\n    },\n  },\n};\n","import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom7';\nimport { extend, deleteProps } from '../../shared/utils';\nimport Framework7Class from '../../shared/class';\nimport { getDevice } from '../../shared/get-device';\n\nconst textEditorButtonsMap = {\n  // f7-icon, material-icon, command\n  bold: ['bold', 'format_bold', 'bold'],\n  italic: ['italic', 'format_italic', 'italic'],\n  underline: ['underline', 'format_underlined', 'underline'],\n  strikeThrough: ['strikethrough', 'strikethrough_s', 'strikeThrough'],\n  orderedList: ['list_number', 'format_list_numbered', 'insertOrderedList'],\n  unorderedList: ['list_bullet', 'format_list_bulleted', 'insertUnorderedList'],\n  link: ['link', 'link', 'createLink'],\n  image: ['photo', 'image', 'insertImage'],\n  paragraph: ['paragraph', '<i class=\"icon\"></i>', 'formatBlock.P'],\n  h1: ['<i class=\"icon\">H<sub>1</sub></i>', '<i class=\"icon\">H<sub>1</sub></i>', 'formatBlock.H1'],\n  h2: ['<i class=\"icon\">H<sub>2</sub></i>', '<i class=\"icon\">H<sub>2</sub></i>', 'formatBlock.H2'],\n  h3: ['<i class=\"icon\">H<sub>3</sub></i>', '<i class=\"icon\">H<sub>3</sub></i>', 'formatBlock.H3'],\n  alignLeft: ['text_alignleft', 'format_align_left', 'justifyLeft'],\n  alignCenter: ['text_aligncenter', 'format_align_center', 'justifyCenter'],\n  alignRight: ['text_alignright', 'format_align_right', 'justifyRight'],\n  alignJustify: ['text_justify', 'format_align_justify', 'justifyFull'],\n  subscript: ['textformat_subscript', '<i class=\"icon\">A<sub>1</sub></i>', 'subscript'],\n  superscript: ['textformat_superscript', '<i class=\"icon\">A<sup>1</sup></i>', 'superscript'],\n  indent: ['increase_indent', 'format_indent_increase', 'indent'],\n  outdent: ['decrease_indent', 'format_indent_decrease', 'outdent'],\n};\n\nclass TextEditor extends Framework7Class {\n  constructor(app, params) {\n    super(params, [app]);\n    const self = this;\n    const document = getDocument();\n    const device = getDevice();\n\n    const defaults = extend({}, app.params.textEditor);\n\n    // Extend defaults with modules params\n    self.useModulesParams(defaults);\n\n    self.params = extend(defaults, params);\n\n    const el = self.params.el;\n    if (!el) return self;\n\n    const $el = $(el);\n    if ($el.length === 0) return self;\n\n    if ($el[0].f7TextEditor) return $el[0].f7TextEditor;\n\n    let $contentEl = $el.children('.text-editor-content');\n    if (!$contentEl.length) {\n      $el.append('<div class=\"text-editor-content\" contenteditable></div>');\n      $contentEl = $el.children('.text-editor-content');\n    }\n\n    extend(self, {\n      app,\n      $el,\n      el: $el[0],\n      $contentEl,\n      contentEl: $contentEl[0],\n    });\n    if ('value' in params) {\n      self.value = self.params.value;\n    }\n\n    if (self.params.mode === 'keyboard-toolbar') {\n      if (!(device.cordova || device.capacitor) && !device.android) {\n        self.params.mode = 'popover';\n      }\n    }\n\n    if (typeof self.params.buttons === 'string') {\n      try {\n        self.params.buttons = JSON.parse(self.params.buttons);\n      } catch (err) {\n        throw new Error('Framework7: TextEditor: wrong \"buttons\" parameter format');\n      }\n    }\n\n    $el[0].f7TextEditor = self;\n\n    // Bind\n    self.onButtonClick = self.onButtonClick.bind(self);\n    self.onFocus = self.onFocus.bind(self);\n    self.onBlur = self.onBlur.bind(self);\n    self.onInput = self.onInput.bind(self);\n    self.onPaste = self.onPaste.bind(self);\n    self.onSelectionChange = self.onSelectionChange.bind(self);\n    self.closeKeyboardToolbar = self.closeKeyboardToolbar.bind(self);\n\n    // Handle Events\n    self.attachEvents = function attachEvents() {\n      if (self.params.mode === 'toolbar') {\n        self.$el.find('.text-editor-toolbar').on('click', 'button', self.onButtonClick);\n      }\n      if (self.params.mode === 'keyboard-toolbar') {\n        self.$keyboardToolbarEl.on('click', 'button', self.onButtonClick);\n        self.$el.parents('.page').on('page:beforeout', self.closeKeyboardToolbar);\n      }\n      if (self.params.mode === 'popover' && self.popover) {\n        self.popover.$el.on('click', 'button', self.onButtonClick);\n      }\n      self.$contentEl.on('paste', self.onPaste);\n      self.$contentEl.on('focus', self.onFocus);\n      self.$contentEl.on('blur', self.onBlur);\n      self.$contentEl.on('input', self.onInput, true);\n      $(document).on('selectionchange', self.onSelectionChange);\n    };\n    self.detachEvents = function detachEvents() {\n      if (self.params.mode === 'toolbar') {\n        self.$el.find('.text-editor-toolbar').off('click', 'button', self.onButtonClick);\n      }\n      if (self.params.mode === 'keyboard-toolbar') {\n        self.$keyboardToolbarEl.off('click', 'button', self.onButtonClick);\n        self.$el.parents('.page').off('page:beforeout', self.closeKeyboardToolbar);\n      }\n      if (self.params.mode === 'popover' && self.popover) {\n        self.popover.$el.off('click', 'button', self.onButtonClick);\n      }\n      self.$contentEl.off('paste', self.onPaste);\n      self.$contentEl.off('focus', self.onFocus);\n      self.$contentEl.off('blur', self.onBlur);\n      self.$contentEl.off('input', self.onInput, true);\n      $(document).off('selectionchange', self.onSelectionChange);\n    };\n\n    // Install Modules\n    self.useModules();\n\n    // Init\n    self.init();\n\n    return self;\n  }\n\n  setValue(newValue) {\n    const self = this;\n    const currentValue = self.value;\n    if (currentValue === newValue) return self;\n    self.value = newValue;\n    self.$contentEl.html(newValue);\n    self.$el.trigger('texteditor:change', self.value);\n    self.emit('local::change textEditorChange', self, self.value);\n    return self;\n  }\n\n  getValue() {\n    const self = this;\n    return self.value;\n  }\n\n  clearValue() {\n    const self = this;\n    self.setValue('');\n    if (self.params.placeholder && !self.$contentEl.html()) {\n      self.insertPlaceholder();\n    }\n    return self;\n  }\n\n  createLink() {\n    const self = this;\n    const window = getWindow();\n    const document = getDocument();\n    const currentSelection = window.getSelection();\n    const selectedNodes = [];\n    let $selectedLinks;\n    if (\n      currentSelection &&\n      currentSelection.anchorNode &&\n      $(currentSelection.anchorNode).parents(self.$el).length\n    ) {\n      let anchorNode = currentSelection.anchorNode;\n      while (anchorNode) {\n        selectedNodes.push(anchorNode);\n        if (!anchorNode.nextSibling || anchorNode === currentSelection.focusNode) {\n          anchorNode = null;\n        }\n        if (anchorNode) {\n          anchorNode = anchorNode.nextSibling;\n        }\n      }\n\n      const selectedNodesLinks = [];\n      const $selectedNodes = $(selectedNodes);\n      for (let i = 0; i < $selectedNodes.length; i += 1) {\n        const childNodes = $selectedNodes[i].children;\n        if (childNodes) {\n          for (let j = 0; j < childNodes.length; j += 1) {\n            if ($(childNodes[j]).is('a')) {\n              selectedNodesLinks.push(childNodes[j]);\n            }\n          }\n        }\n      }\n      $selectedLinks = $selectedNodes.closest('a').add($(selectedNodesLinks));\n    }\n    if ($selectedLinks && $selectedLinks.length) {\n      $selectedLinks.each((linkNode) => {\n        const selection = window.getSelection();\n        const range = document.createRange();\n        range.selectNodeContents(linkNode);\n        selection.removeAllRanges();\n        selection.addRange(range);\n        document.execCommand('unlink', false);\n        selection.removeAllRanges();\n      });\n      return self;\n    }\n    const currentRange = self.getSelectionRange();\n    if (!currentRange) return self;\n    const dialog = self.app.dialog.prompt(self.params.linkUrlText, '', (link) => {\n      if (link && link.trim().length) {\n        self.setSelectionRange(currentRange);\n        document.execCommand('createLink', false, link.trim());\n        self.$el.trigger('texteditor:insertlink', { url: link.trim() });\n        self.emit('local:insertLink textEditorInsertLink', self, link.trim());\n      }\n    });\n    dialog.$el.find('input').focus();\n    return self;\n  }\n\n  insertImage() {\n    const self = this;\n    const document = getDocument();\n    const currentRange = self.getSelectionRange();\n    if (!currentRange) return self;\n    const dialog = self.app.dialog.prompt(self.params.imageUrlText, '', (imageUrl) => {\n      if (imageUrl && imageUrl.trim().length) {\n        self.setSelectionRange(currentRange);\n        document.execCommand('insertImage', false, imageUrl.trim());\n        self.$el.trigger('texteditor:insertimage', { url: imageUrl.trim() });\n        self.emit('local:insertImage textEditorInsertImage', self, imageUrl.trim());\n      }\n    });\n    dialog.$el.find('input').focus();\n    return self;\n  }\n\n  removePlaceholder() {\n    const self = this;\n    self.$contentEl.find('.text-editor-placeholder').remove();\n  }\n\n  insertPlaceholder() {\n    const self = this;\n    self.$contentEl.append(`<div class=\"text-editor-placeholder\">${self.params.placeholder}</div>`);\n  }\n\n  onSelectionChange() {\n    const self = this;\n    const window = getWindow();\n    const document = getDocument();\n    if (self.params.mode === 'toolbar') return;\n    const selection = window.getSelection();\n    const selectionIsInContent =\n      $(selection.anchorNode).parents(self.contentEl).length ||\n      selection.anchorNode === self.contentEl;\n    if (self.params.mode === 'keyboard-toolbar') {\n      if (!selectionIsInContent) {\n        self.closeKeyboardToolbar();\n      } else {\n        self.openKeyboardToolbar();\n      }\n      return;\n    }\n    if (self.params.mode === 'popover') {\n      const selectionIsInPopover =\n        $(selection.anchorNode).parents(self.popover.el).length ||\n        selection.anchorNode === self.popover.el;\n      if (!selectionIsInContent && !selectionIsInPopover) {\n        self.closePopover();\n        return;\n      }\n      if (!selection.isCollapsed && selection.rangeCount) {\n        const range = selection.getRangeAt(0);\n        const rect = range.getBoundingClientRect();\n        const rootEl = self.app.$el[0] || document.body;\n        self.openPopover(\n          rect.x + (window.scrollX || 0) - rootEl.offsetLeft,\n          rect.y + (window.scrollY || 0) - rootEl.offsetTop,\n          rect.width,\n          rect.height,\n        );\n      } else if (selection.isCollapsed) {\n        self.closePopover();\n      }\n    }\n  }\n\n  onPaste(e) {\n    const self = this;\n    const document = getDocument();\n    if (self.params.clearFormattingOnPaste && e.clipboardData && e.clipboardData.getData) {\n      const text = e.clipboardData.getData('text/plain');\n      e.preventDefault();\n      document.execCommand('insertText', false, text);\n    }\n  }\n\n  onInput() {\n    const self = this;\n    const value = self.$contentEl.html();\n\n    self.value = value;\n\n    self.$el.trigger('texteditor:input');\n    self.emit('local:input textEditorInput', self, self.value);\n\n    self.$el.trigger('texteditor:change', self.value);\n    self.emit('local::change textEditorChange', self, self.value);\n  }\n\n  onFocus() {\n    const self = this;\n    self.removePlaceholder();\n    self.$contentEl.focus();\n    self.$el.trigger('texteditor:focus');\n    self.emit('local::focus textEditorFocus', self);\n  }\n\n  onBlur() {\n    const self = this;\n    const window = getWindow();\n    const document = getDocument();\n    if (self.params.placeholder && self.$contentEl.html() === '') {\n      self.insertPlaceholder();\n    }\n    if (self.params.mode === 'popover') {\n      const selection = window.getSelection();\n      const selectionIsInContent =\n        $(selection.anchorNode).parents(self.contentEl).length ||\n        selection.anchorNode === self.contentEl;\n      const inPopover =\n        document.activeElement &&\n        self.popover &&\n        $(document.activeElement).closest(self.popover.$el).length;\n      if (!inPopover && !selectionIsInContent) {\n        self.closePopover();\n      }\n    }\n    if (self.params.mode === 'keyboard-toolbar') {\n      const selection = window.getSelection();\n      const selectionIsInContent =\n        $(selection.anchorNode).parents(self.contentEl).length ||\n        selection.anchorNode === self.contentEl;\n      if (!selectionIsInContent) {\n        self.closeKeyboardToolbar();\n      }\n    }\n    self.$el.trigger('texteditor:blur');\n    self.emit('local::blur textEditorBlur', self);\n  }\n\n  onButtonClick(e) {\n    const self = this;\n    const window = getWindow();\n    const document = getDocument();\n    const selection = window.getSelection();\n    const selectionIsInContent =\n      $(selection.anchorNode).parents(self.contentEl).length ||\n      selection.anchorNode === self.contentEl;\n    if (!selectionIsInContent) return;\n    const $buttonEl = $(e.target).closest('button');\n    if ($buttonEl.parents('form').length) {\n      e.preventDefault();\n    }\n    const button = $buttonEl.attr('data-button');\n    const buttonData = self.params.customButtons && self.params.customButtons[button];\n    if (!button || !(textEditorButtonsMap[button] || buttonData)) return;\n    $buttonEl.trigger('texteditor:buttonclick', button);\n    self.emit('local::buttonClick textEditorButtonClick', self, button);\n    if (buttonData) {\n      if (buttonData.onClick) buttonData.onClick(self, $buttonEl[0]);\n      return;\n    }\n    const command = textEditorButtonsMap[button][2];\n    if (command === 'createLink') {\n      self.createLink();\n      return;\n    }\n    if (command === 'insertImage') {\n      self.insertImage();\n      return;\n    }\n    if (command.indexOf('formatBlock') === 0) {\n      const tagName = command.split('.')[1];\n      const $anchorNode = $(selection.anchorNode);\n      if ($anchorNode.parents(tagName.toLowerCase()).length || $anchorNode.is(tagName)) {\n        document.execCommand('formatBlock', false, 'div');\n      } else {\n        document.execCommand('formatBlock', false, tagName);\n      }\n      return;\n    }\n    document.execCommand(command, false);\n  }\n\n  // eslint-disable-next-line\n  getSelectionRange() {\n    const window = getWindow();\n    const document = getDocument();\n    if (window.getSelection) {\n      const sel = window.getSelection();\n      if (sel.getRangeAt && sel.rangeCount) {\n        return sel.getRangeAt(0);\n      }\n    } else if (document.selection && document.selection.createRange) {\n      return document.selection.createRange();\n    }\n    return null;\n  }\n\n  // eslint-disable-next-line\n  setSelectionRange(range) {\n    const window = getWindow();\n    const document = getDocument();\n    if (range) {\n      if (window.getSelection) {\n        const sel = window.getSelection();\n        sel.removeAllRanges();\n        sel.addRange(range);\n      } else if (document.selection && range.select) {\n        range.select();\n      }\n    }\n  }\n\n  renderButtons() {\n    const self = this;\n    let html = '';\n    function renderButton(button) {\n      const iconClass = self.app.theme === 'md' ? 'material-icons' : 'f7-icons';\n      if (self.params.customButtons && self.params.customButtons[button]) {\n        const buttonData = self.params.customButtons[button];\n        return `<button type=\"button\" class=\"text-editor-button\" data-button=\"${button}\">${\n          buttonData.content || ''\n        }</button>`;\n      }\n      if (!textEditorButtonsMap[button]) return '';\n      const iconContent = textEditorButtonsMap[button][self.app.theme === 'md' ? 1 : 0];\n      return `<button type=\"button\" class=\"text-editor-button\" data-button=\"${button}\">${\n        iconContent.indexOf('<') >= 0 ? iconContent : `<i class=\"${iconClass}\">${iconContent}</i>`\n      }</button>`.trim();\n    }\n    self.params.buttons.forEach((button, buttonIndex) => {\n      if (Array.isArray(button)) {\n        button.forEach((b) => {\n          html += renderButton(b);\n        });\n        if (buttonIndex < self.params.buttons.length - 1 && self.params.dividers) {\n          html += '<div class=\"text-editor-button-divider\"></div>';\n        }\n      } else {\n        html += renderButton(button);\n      }\n    });\n    return html;\n  }\n\n  createToolbar() {\n    const self = this;\n    self.$el.prepend(`<div class=\"text-editor-toolbar\">${self.renderButtons()}</div>`);\n  }\n\n  createKeyboardToolbar() {\n    const self = this;\n    self.$keyboardToolbarEl = $(\n      `<div class=\"toolbar toolbar-bottom text-editor-keyboard-toolbar\"><div class=\"toolbar-inner\">${self.renderButtons()}</div></div>`,\n    );\n  }\n\n  createPopover() {\n    const self = this;\n    self.popover = self.app.popover.create({\n      content: `\n        <div class=\"popover theme-dark text-editor-popover\">\n          <div class=\"popover-inner\">${self.renderButtons()}</div>\n        </div>\n      `,\n      closeByOutsideClick: false,\n      backdrop: false,\n    });\n  }\n\n  openKeyboardToolbar() {\n    const self = this;\n    if (self.$keyboardToolbarEl.parent(self.app.$el).length) return;\n    self.$el.trigger('texteditor:keyboardopen');\n    self.emit('local::keyboardOpen textEditorKeyboardOpen', self);\n    self.app.$el.append(self.$keyboardToolbarEl);\n  }\n\n  closeKeyboardToolbar() {\n    const self = this;\n    self.$keyboardToolbarEl.remove();\n    self.$el.trigger('texteditor:keyboardclose');\n    self.emit('local::keyboardClose textEditorKeyboardClose', self);\n  }\n\n  openPopover(targetX, targetY, targetWidth, targetHeight) {\n    const self = this;\n\n    if (!self.popover) return;\n    Object.assign(self.popover.params, {\n      targetX,\n      targetY,\n      targetWidth,\n      targetHeight,\n    });\n    clearTimeout(self.popoverTimeout);\n    self.popoverTimeout = setTimeout(() => {\n      if (!self.popover) return;\n      if (self.popover.opened) {\n        self.popover.resize();\n      } else {\n        self.$el.trigger('texteditor:popoveropen');\n        self.emit('local::popoverOpen textEditorPopoverOpen', self);\n        self.popover.open();\n      }\n    }, 400);\n  }\n\n  closePopover() {\n    const self = this;\n    clearTimeout(self.popoverTimeout);\n    if (!self.popover || !self.popover.opened) return;\n    self.popoverTimeout = setTimeout(() => {\n      if (!self.popover) return;\n      self.$el.trigger('texteditor:popoverclose');\n      self.emit('local::popoverClose textEditorPopoverClose', self);\n      self.popover.close();\n    }, 400);\n  }\n\n  init() {\n    const self = this;\n    if (self.value) {\n      self.$contentEl.html(self.value);\n    } else {\n      self.value = self.$contentEl.html();\n    }\n    if (self.params.placeholder && self.value === '') {\n      self.insertPlaceholder();\n    }\n    if (self.params.mode === 'toolbar') {\n      self.createToolbar();\n    } else if (self.params.mode === 'popover') {\n      self.createPopover();\n    } else if (self.params.mode === 'keyboard-toolbar') {\n      self.createKeyboardToolbar();\n    }\n\n    self.attachEvents();\n    self.$el.trigger('texteditor:init');\n    self.emit('local::init textEditorInit', self);\n    return self;\n  }\n\n  destroy() {\n    let self = this;\n    self.$el.trigger('texteditor:beforedestroy');\n    self.emit('local::beforeDestroy textEditorBeforeDestroy', self);\n    self.detachEvents();\n    if (self.params.mode === 'keyboard-toolbar' && self.$keyboardToolbarEl) {\n      self.$keyboardToolbarEl.remove();\n    }\n    if (self.popover) {\n      self.popover.close(false);\n      self.popover.destroy();\n    }\n    delete self.$el[0].f7TextEditor;\n    deleteProps(self);\n    self = null;\n  }\n}\n\nexport default TextEditor;\n","import $ from '../../shared/dom7';\nimport { extend } from '../../shared/utils';\nimport TextEditor from './text-editor-class';\nimport ConstructorMethods from '../../shared/constructor-methods';\n\nexport default {\n  name: 'textEditor',\n  params: {\n    textEditor: {\n      el: null,\n      mode: 'toolbar', // or 'popover'\n      value: undefined, // will use html content\n      customButtons: null,\n      buttons: [\n        ['bold', 'italic', 'underline', 'strikeThrough'],\n        ['orderedList', 'unorderedList'],\n        ['link', 'image'],\n        ['paragraph', 'h1', 'h2', 'h3'],\n        ['alignLeft', 'alignCenter', 'alignRight', 'alignJustify'],\n        ['subscript', 'superscript'],\n        ['indent', 'outdent'],\n      ],\n      dividers: true,\n      imageUrlText: 'Insert image URL',\n      linkUrlText: 'Insert link URL',\n      placeholder: null,\n      clearFormattingOnPaste: true,\n    },\n  },\n  create() {\n    const app = this;\n    app.textEditor = extend(\n      ConstructorMethods({\n        defaultSelector: '.text-editor',\n        constructor: TextEditor,\n        app,\n        domProp: 'f7TextEditor',\n      }),\n    );\n  },\n  static: {\n    TextEditor,\n  },\n  on: {\n    tabMounted(tabEl) {\n      const app = this;\n      $(tabEl)\n        .find('.text-editor-init')\n        .each((editorEl) => {\n          const dataset = $(editorEl).dataset();\n          app.textEditor.create(extend({ el: editorEl }, dataset || {}));\n        });\n    },\n    tabBeforeRemove(tabEl) {\n      $(tabEl)\n        .find('.text-editor-init')\n        .each((editorEl) => {\n          if (editorEl.f7TextEditor) editorEl.f7TextEditor.destroy();\n        });\n    },\n    pageInit(page) {\n      const app = this;\n      page.$el.find('.text-editor-init').each((editorEl) => {\n        const dataset = $(editorEl).dataset();\n        app.textEditor.create(extend({ el: editorEl }, dataset || {}));\n      });\n    },\n    pageBeforeRemove(page) {\n      page.$el.find('.text-editor-init').each((editorEl) => {\n        if (editorEl.f7TextEditor) editorEl.f7TextEditor.destroy();\n      });\n    },\n  },\n  vnode: {\n    'text-editor-init': {\n      insert(vnode) {\n        const app = this;\n        const editorEl = vnode.elm;\n        const dataset = $(editorEl).dataset();\n        app.textEditor.create(extend({ el: editorEl }, dataset || {}));\n      },\n      destroy(vnode) {\n        const editorEl = vnode.elm;\n        if (editorEl.f7TextEditor) editorEl.f7TextEditor.destroy();\n      },\n    },\n  },\n};\n","import $ from '../../shared/dom7';\nimport { extend, deleteProps } from '../../shared/utils';\nimport Framework7Class from '../../shared/class';\n/** @jsx $jsx */\nimport $jsx from '../../shared/$jsx';\n\nclass PieChart extends Framework7Class {\n  constructor(app, params = {}) {\n    super(params, [app]);\n\n    const self = this;\n\n    const defaults = extend({}, app.params.pieChart);\n\n    // Extend defaults with modules params\n    self.useModulesParams(defaults);\n\n    self.params = extend(defaults, params);\n\n    const { el } = self.params;\n    if (!el) return self;\n\n    const $el = $(el);\n    if ($el.length === 0) return self;\n\n    if ($el[0].f7PieChart) return $el[0].f7PieChart;\n\n    extend(self, {\n      app,\n      $el,\n      el: $el && $el[0],\n      currentIndex: null,\n      f7Tooltip: null,\n    });\n\n    $el[0].f7PieChart = self;\n\n    // Install Modules\n    self.useModules();\n\n    self.showTooltip = self.showTooltip.bind(this);\n    self.hideTooltip = self.hideTooltip.bind(this);\n\n    self.init();\n\n    return self;\n  }\n\n  getSummValue() {\n    const { datasets } = this.params;\n    let summ = 0;\n    datasets\n      .map((d) => d.value || 0)\n      .forEach((value) => {\n        summ += value;\n      });\n    return summ;\n  }\n\n  getPaths() {\n    const { datasets, size } = this.params;\n    const paths = [];\n\n    let cumulativePercentage = 0;\n\n    function getCoordinatesForPercentage(percentage) {\n      const x = Math.cos(2 * Math.PI * percentage) * (size / 3);\n      const y = Math.sin(2 * Math.PI * percentage) * (size / 3);\n      return [x, y];\n    }\n\n    datasets.forEach(({ value, label, color }) => {\n      const percentage = value / this.getSummValue();\n\n      const [startX, startY] = getCoordinatesForPercentage(cumulativePercentage);\n      cumulativePercentage += percentage;\n      const [endX, endY] = getCoordinatesForPercentage(cumulativePercentage);\n      const largeArcFlag = percentage > 0.5 ? 1 : 0;\n      const points = [\n        `M ${startX} ${startY}`, // Move\n        `A ${size / 3} ${size / 3} 0 ${largeArcFlag} 1 ${endX} ${endY}`, // Arc\n        'L 0 0', // Line\n      ].join(' ');\n\n      paths.push({\n        points,\n        label,\n        color,\n      });\n    });\n    return paths;\n  }\n\n  formatTooltipText() {\n    const { datasets } = this.params;\n    const { currentIndex } = this;\n    if (currentIndex === null) return '';\n    const { value, label, color } = datasets[currentIndex];\n    const percentage = (value / this.getSummValue()) * 100;\n\n    const round = (v) => {\n      if (parseInt(v, 10) === v) return v;\n      return Math.round(v * 100) / 100;\n    };\n\n    if (this.params.formatTooltip) {\n      return this.params.formatTooltip.call(this, {\n        index: currentIndex,\n        value,\n        label,\n        color,\n        percentage,\n      });\n    }\n\n    const tooltipText = `${label ? `${label}: ` : ''}${round(value)} (${round(percentage)}%)`;\n\n    return `\n      <div class=\"pie-chart-tooltip-label\">\n        <span class=\"pie-chart-tooltip-color\" style=\"background-color: ${color};\"></span> ${tooltipText}\n      </div>\n    `;\n  }\n\n  setTooltip() {\n    const self = this;\n    const { currentIndex, el, app, params } = self;\n    const { tooltip } = params;\n    if (currentIndex === null && !self.f7Tooltip) return;\n    if (!tooltip || !el) return;\n\n    if (currentIndex !== null && !self.f7Tooltip) {\n      self.f7Tooltip = app.tooltip.create({\n        trigger: 'manual',\n        containerEl: el,\n        targetEl: el.querySelector(`path[data-index=\"${currentIndex}\"]`),\n        text: self.formatTooltipText(),\n        cssClass: 'pie-chart-tooltip',\n      });\n      self.f7Tooltip.show();\n      return;\n    }\n    if (!self.f7Tooltip) return;\n    if (currentIndex !== null) {\n      self.f7Tooltip.setText(self.formatTooltipText());\n      self.f7Tooltip.setTargetEl(el.querySelector(`path[data-index=\"${currentIndex}\"]`));\n\n      self.f7Tooltip.show();\n    } else {\n      self.f7Tooltip.hide();\n    }\n  }\n\n  render() {\n    const self = this;\n    const size = self.params.size;\n    const paths = self.getPaths();\n    return (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width={size}\n        viewBox={`-${size / 3} -${size / 3} ${(size * 2) / 3} ${(size * 2) / 3}`}\n        style=\"transform: rotate(-90deg)\"\n      >\n        {paths.map((path, index) => (\n          <path d={path.points} fill={path.color} data-index={index} />\n        ))}\n      </svg>\n    );\n  }\n\n  update(newParams = {}) {\n    const self = this;\n    const { params } = self;\n    Object.keys(newParams).forEach((param) => {\n      if (typeof newParams[param] !== 'undefined') {\n        params[param] = newParams[param];\n      }\n    });\n    if (self.$svgEl.length === 0) return self;\n    self.$svgEl.remove();\n    delete self.$svgEl.f7PieChart;\n    const $svgEl = $(self.render()).eq(0);\n    $svgEl.f7PieChart = self;\n    extend(self, {\n      $svgEl,\n      svgEl: $svgEl && $svgEl[0],\n    });\n    self.$el.append($svgEl);\n    return self;\n  }\n\n  setCurrentIndex(index) {\n    const self = this;\n    if (index === self.currentIndex) return;\n    const { datasets } = self.params;\n    self.currentIndex = index;\n    self.$el.trigger('piechart:select', { index, dataset: datasets[index] });\n    self.emit('local::select pieChartSelect', self, index, datasets[index]);\n  }\n\n  showTooltip(e) {\n    const newIndex = parseInt(e.target.getAttribute('data-index'), 10);\n    this.setCurrentIndex(newIndex);\n    this.$svgEl\n      .find('path')\n      .removeClass('pie-chart-hidden')\n      .forEach((el, index) => {\n        if (index !== this.currentIndex) $(el).addClass('pie-chart-hidden');\n      });\n    this.setTooltip();\n  }\n\n  hideTooltip() {\n    this.setCurrentIndex(null);\n    this.$svgEl.find('path').removeClass('pie-chart-hidden');\n    this.setTooltip();\n  }\n\n  init() {\n    const self = this;\n    const $svgEl = $(self.render()).eq(0);\n    $svgEl.f7PieChart = self;\n    extend(self, {\n      $svgEl,\n      svgEl: $svgEl && $svgEl[0],\n    });\n    self.$el.append($svgEl);\n    self.$el.on('click mouseenter', 'path', self.showTooltip, true);\n    self.$el.on('mouseleave', 'path', self.hideTooltip, true);\n    return self;\n  }\n\n  destroy() {\n    const self = this;\n    if (!self.$el || self.destroyed) return;\n    self.$el.trigger('piechart:beforedestroy');\n    self.emit('local::beforeDestroy pieChartBeforeDestroy', self);\n    self.$el.off('click mouseenter', 'path', self.showTooltip, true);\n    self.$el.off('mouseleave', 'path', self.hideTooltip, true);\n    self.$svgEl.remove();\n    if (self.f7Tooltip && self.f7Tooltip.destroy) {\n      self.f7Tooltip.destroy();\n    }\n    delete self.$el[0].f7PieChart;\n    deleteProps(self);\n    self.destroyed = true;\n  }\n}\n\nexport default PieChart;\n","import $ from '../../shared/dom7';\nimport PieChart from './pie-chart-class';\nimport ConstructorMethods from '../../shared/constructor-methods';\n\nexport default {\n  name: 'pieChart',\n  params: {\n    pieChart: {\n      el: null,\n      datasets: [],\n      size: 320,\n      tooltip: false,\n      formatTooltip: null,\n    },\n  },\n  create() {\n    const app = this;\n    app.pieChart = ConstructorMethods({\n      defaultSelector: '.pie-chart',\n      constructor: PieChart,\n      app,\n      domProp: 'f7PieChart',\n    });\n    app.pieChart.update = function update(el, newParams) {\n      const $el = $(el);\n      if ($el.length === 0) return undefined;\n      const pieChart = app.pieChart.get(el);\n      if (!pieChart) return undefined;\n      pieChart.update(newParams);\n      return pieChart;\n    };\n  },\n};\n","import $ from '../../shared/dom7';\nimport { extend, deleteProps } from '../../shared/utils';\nimport Framework7Class from '../../shared/class';\n/** @jsx $jsx */\nimport $jsx from '../../shared/$jsx';\n\nclass AreaChart extends Framework7Class {\n  constructor(app, params = {}) {\n    super(params, [app]);\n\n    const self = this;\n\n    const defaults = extend({}, app.params.areaChart);\n\n    // Extend defaults with modules params\n    self.useModulesParams(defaults);\n\n    self.params = extend(defaults, params);\n\n    const { el } = self.params;\n    if (!el) return self;\n\n    const $el = $(el);\n    if ($el.length === 0) return self;\n\n    if ($el[0].f7AreaChart) return $el[0].f7AreaChart;\n\n    extend(self, {\n      app,\n      $el,\n      el: $el && $el[0],\n      currentIndex: null,\n      hiddenDatasets: [],\n      f7Tooltip: null,\n      linesOffsets: null,\n    });\n\n    $el[0].f7AreaChart = self;\n\n    // Install Modules\n    self.useModules();\n\n    self.onMouseEnter = self.onMouseEnter.bind(self);\n    self.onMouseMove = self.onMouseMove.bind(self);\n    self.onMouseLeave = self.onMouseLeave.bind(self);\n    self.onLegendClick = self.onLegendClick.bind(self);\n\n    self.init();\n\n    return self;\n  }\n\n  getVisibleLabels() {\n    const { maxAxisLabels, axisLabels } = this.params;\n    if (!maxAxisLabels || axisLabels.length <= maxAxisLabels) return axisLabels;\n    const skipStep = Math.ceil(axisLabels.length / maxAxisLabels);\n    const filtered = axisLabels.filter((label, index) => index % skipStep === 0);\n    return filtered;\n  }\n\n  getSummValues() {\n    const { datasets } = this.params;\n    const { hiddenDatasets } = this;\n    const summValues = [];\n    datasets\n      .filter((dataset, index) => !hiddenDatasets.includes(index))\n      .forEach(({ values }) => {\n        values.forEach((value, valueIndex) => {\n          if (!summValues[valueIndex]) summValues[valueIndex] = 0;\n          summValues[valueIndex] += value;\n        });\n      });\n    return summValues;\n  }\n\n  getChartData() {\n    const { datasets, lineChart, width, height } = this.params;\n    const { hiddenDatasets } = this;\n    const data = [];\n    if (!datasets.length) {\n      return data;\n    }\n    const lastValues = datasets[0].values.map(() => 0);\n    let maxValue = 0;\n    if (lineChart) {\n      datasets\n        .filter((dataset, index) => !hiddenDatasets.includes(index))\n        .forEach(({ values }) => {\n          const datasetMaxValue = Math.max(...values);\n          if (datasetMaxValue > maxValue) maxValue = datasetMaxValue;\n        });\n    } else {\n      maxValue = Math.max(...this.getSummValues());\n    }\n\n    datasets\n      .filter((dataset, index) => !hiddenDatasets.includes(index))\n      .forEach(({ label, values, color }) => {\n        const points = values.map((originalValue, valueIndex) => {\n          lastValues[valueIndex] += originalValue;\n          const value = lineChart ? originalValue : lastValues[valueIndex];\n          const x = (valueIndex / (values.length - 1)) * width;\n          const y = height - (value / maxValue) * height;\n          if (lineChart) {\n            return `${valueIndex === 0 ? 'M' : 'L'}${x},${y}`;\n          }\n          return `${x} ${y}`;\n        });\n        if (!lineChart) {\n          points.push(`${width} ${height} 0 ${height}`);\n        }\n\n        data.push({\n          label,\n          points: points.join(' '),\n          color,\n        });\n      });\n    return data.reverse();\n  }\n\n  getVerticalLines() {\n    const { datasets, width } = this.params;\n    const lines = [];\n    if (!datasets.length) {\n      return lines;\n    }\n    const values = datasets[0].values;\n    values.forEach((value, valueIndex) => {\n      const x = (valueIndex / (values.length - 1)) * width;\n      lines.push(x);\n    });\n    return lines;\n  }\n\n  toggleDataset(index) {\n    const {\n      hiddenDatasets,\n      params: { toggleDatasets },\n    } = this;\n    if (!toggleDatasets) return;\n    if (hiddenDatasets.includes(index)) {\n      hiddenDatasets.splice(hiddenDatasets.indexOf(index), 1);\n    } else {\n      hiddenDatasets.push(index);\n    }\n    if (this.$legendEl) {\n      this.$legendEl.find('.area-chart-legend-item').removeClass('area-chart-legend-item-hidden');\n      hiddenDatasets.forEach((i) => {\n        this.$legendEl\n          .find(`.area-chart-legend-item[data-index=\"${i}\"]`)\n          .addClass('area-chart-legend-item-hidden');\n      });\n    }\n    this.update({}, true);\n  }\n\n  formatAxisLabel(label) {\n    const { formatAxisLabel } = this.params;\n    if (formatAxisLabel) return formatAxisLabel.call(this, label);\n    return label;\n  }\n\n  formatLegendLabel(label) {\n    const { formatLegendLabel } = this.params;\n    if (formatLegendLabel) return formatLegendLabel.call(this, label);\n    return label;\n  }\n\n  calcLinesOffsets() {\n    const lines = this.svgEl.querySelectorAll('line');\n    this.linesOffsets = [];\n    for (let i = 0; i < lines.length; i += 1) {\n      this.linesOffsets.push(lines[i].getBoundingClientRect().left);\n    }\n  }\n\n  formatTooltip() {\n    const self = this;\n    const {\n      currentIndex,\n      hiddenDatasets,\n      params: {\n        datasets,\n        axisLabels,\n        formatTooltip,\n        formatTooltipTotal,\n        formatTooltipAxisLabel,\n        formatTooltipDataset,\n      },\n    } = self;\n    if (currentIndex === null) return '';\n    let total = 0;\n    const currentValues = datasets\n      .filter((dataset, index) => !hiddenDatasets.includes(index))\n      .map((dataset) => ({\n        color: dataset.color,\n        label: dataset.label,\n        value: dataset.values[currentIndex],\n      }));\n    currentValues.forEach((dataset) => {\n      total += dataset.value;\n    });\n    if (formatTooltip) {\n      return formatTooltip({\n        index: currentIndex,\n        total,\n        datasets: currentValues,\n      });\n    }\n    let labelText = formatTooltipAxisLabel\n      ? formatTooltipAxisLabel.call(self, axisLabels[currentIndex])\n      : this.formatAxisLabel(axisLabels[currentIndex]);\n    if (!labelText) labelText = '';\n    const totalText = formatTooltipTotal ? formatTooltipTotal.call(self, total) : total;\n    // prettier-ignore\n    const datasetsText = currentValues.length > 0 ? `\n      <ul class=\"area-chart-tooltip-list\">\n        ${currentValues\n          .map(({ label, color, value }) => {\n            const valueText = formatTooltipDataset\n              ? formatTooltipDataset.call(self, label, value, color)\n              : `${label ? `${label}: ` : ''}${value}`;\n            return `\n              <li><span style=\"background-color: ${color};\"></span>${valueText}</li>\n            `;\n          }).join('')}\n      </ul>` : '';\n    // prettier-ignore\n    return `\n      <div class=\"area-chart-tooltip-label\">${labelText}</div>\n      <div class=\"area-chart-tooltip-total\">${totalText}</div>\n      ${datasetsText}\n    `;\n  }\n\n  setTooltip() {\n    const self = this;\n    const {\n      app,\n      el,\n      svgEl,\n      hiddenDatasets,\n      currentIndex,\n      params: { tooltip, datasets },\n    } = self;\n    if (!tooltip) return;\n    const hasVisibleDataSets =\n      datasets.filter((dataset, index) => !hiddenDatasets.includes(index)).length > 0;\n    if (!hasVisibleDataSets) {\n      if (self.f7Tooltip && self.f7Tooltip.hide) self.f7Tooltip.hide();\n      return;\n    }\n\n    if (currentIndex !== null && !self.f7Tooltip) {\n      self.f7Tooltip = app.tooltip.create({\n        trigger: 'manual',\n        containerEl: el,\n        targetEl: svgEl.querySelector(`line[data-index=\"${currentIndex}\"]`),\n        text: self.formatTooltip(),\n        cssClass: 'area-chart-tooltip',\n      });\n      if (self.f7Tooltip && self.f7Tooltip.show) {\n        self.f7Tooltip.show();\n      }\n      return;\n    }\n    if (!self.f7Tooltip || !self.f7Tooltip.hide || !self.f7Tooltip.show) {\n      return;\n    }\n    if (currentIndex !== null) {\n      self.f7Tooltip.setText(self.formatTooltip());\n      self.f7Tooltip.setTargetEl(svgEl.querySelector(`line[data-index=\"${currentIndex}\"]`));\n      self.f7Tooltip.show();\n    } else {\n      self.f7Tooltip.hide();\n    }\n  }\n\n  setCurrentIndex(index) {\n    if (index === this.currentIndex) return;\n    this.currentIndex = index;\n    this.$el.trigger('areachart:select', { index });\n    this.emit('local::select areaChartSelect', this, index);\n    this.$svgEl.find('line').removeClass('area-chart-current-line');\n    this.$svgEl.find(`line[data-index=\"${index}\"]`).addClass('area-chart-current-line');\n    this.setTooltip();\n  }\n\n  onLegendClick(e) {\n    const index = parseInt($(e.target).closest('.area-chart-legend-item').attr('data-index'), 10);\n    this.toggleDataset(index);\n  }\n\n  onMouseEnter() {\n    this.calcLinesOffsets();\n  }\n\n  onMouseMove(e) {\n    const self = this;\n    if (!self.linesOffsets) {\n      self.calcLinesOffsets();\n    }\n    let currentLeft = e.pageX;\n    if (typeof currentLeft === 'undefined') currentLeft = 0;\n    const distances = self.linesOffsets.map((left) => Math.abs(currentLeft - left));\n    const minDistance = Math.min(...distances);\n    const closestIndex = distances.indexOf(minDistance);\n    self.setCurrentIndex(closestIndex);\n  }\n\n  onMouseLeave() {\n    this.setCurrentIndex(null);\n  }\n\n  attachEvents() {\n    const { svgEl, $el } = this;\n    if (!svgEl) return;\n    svgEl.addEventListener('mouseenter', this.onMouseEnter);\n    svgEl.addEventListener('mousemove', this.onMouseMove);\n    svgEl.addEventListener('mouseleave', this.onMouseLeave);\n    $el.on('click', '.area-chart-legend-item', this.onLegendClick);\n  }\n\n  detachEvents() {\n    const { svgEl, $el } = this;\n    if (!svgEl) return;\n    svgEl.removeEventListener('mouseenter', this.onMouseEnter);\n    svgEl.removeEventListener('mousemove', this.onMouseMove);\n    svgEl.removeEventListener('mouseleave', this.onMouseLeave);\n    $el.off('click', '.area-chart-legend-item', this.onLegendClick);\n  }\n\n  render() {\n    const self = this;\n    const { lineChart, toggleDatasets, width, height, axis, axisLabels, legend, datasets } =\n      self.params;\n    const chartData = self.getChartData();\n    const verticalLines = self.getVerticalLines();\n    const visibleLegends = self.getVisibleLabels();\n\n    const LegendItemTag = toggleDatasets ? 'button' : 'span';\n    return (\n      <div>\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width={width}\n          height={height}\n          viewBox={`0 0 ${width} ${height}`}\n          preserveAspectRatio=\"none\"\n        >\n          {chartData.map((data) =>\n            lineChart ? (\n              <path stroke={data.color} fill-rule=\"evenodd\" d={data.points} />\n            ) : (\n              <polygon fill={data.color} fill-rule=\"evenodd\" points={data.points} />\n            ),\n          )}\n\n          {verticalLines.map((line, index) => (\n            <line data-index={index} fill=\"#000\" x1={line} y1={0} x2={line} y2={height} />\n          ))}\n        </svg>\n        {axis && (\n          <div class=\"area-chart-axis\">\n            {axisLabels.map((label) => (\n              <span>\n                {visibleLegends.includes(label) && <span>{self.formatAxisLabel(label)}</span>}\n              </span>\n            ))}\n          </div>\n        )}\n        {legend && (\n          <div class=\"area-chart-legend\">\n            {datasets.map((dataset, index) => (\n              <LegendItemTag\n                data-index={index}\n                class={`area-chart-legend-item ${toggleDatasets ? 'area-chart-legend-button' : ''}`}\n                _type={toggleDatasets ? 'button' : undefined}\n              >\n                <span style={`background-color: ${dataset.color}`}></span>\n                {self.formatLegendLabel(dataset.label)}\n              </LegendItemTag>\n            ))}\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  update(newParams = {}, onlySvg = false) {\n    const self = this;\n    const { params } = self;\n    Object.keys(newParams).forEach((param) => {\n      if (typeof newParams[param] !== 'undefined') {\n        params[param] = newParams[param];\n      }\n    });\n    if (self.$svgEl.length === 0) return self;\n    self.detachEvents();\n    self.$svgEl.remove();\n    if (!onlySvg) {\n      self.$axisEl.remove();\n      self.$legendEl.remove();\n    }\n    const $rendered = $(self.render());\n    const $svgEl = $rendered.find('svg');\n    extend(self, {\n      svgEl: $svgEl && $svgEl[0],\n      $svgEl,\n    });\n\n    if (!onlySvg) {\n      const $axisEl = $rendered.find('.area-chart-axis');\n      const $legendEl = $rendered.find('.area-chart-legend');\n      extend(self, {\n        $axisEl,\n        $legendEl,\n      });\n      self.$el.append($axisEl);\n      self.$el.append($legendEl);\n    }\n    self.$el.prepend($svgEl);\n\n    self.attachEvents();\n    return self;\n  }\n\n  init() {\n    const self = this;\n    const $rendered = $(self.render());\n    const $svgEl = $rendered.find('svg');\n    const $axisEl = $rendered.find('.area-chart-axis');\n    const $legendEl = $rendered.find('.area-chart-legend');\n    extend(self, {\n      svgEl: $svgEl && $svgEl[0],\n      $svgEl,\n      $axisEl,\n      $legendEl,\n    });\n    self.$el.append($svgEl);\n    self.$el.append($axisEl);\n    self.$el.append($legendEl);\n    self.attachEvents();\n    return self;\n  }\n\n  destroy() {\n    const self = this;\n    if (!self.$el || self.destroyed) return;\n    self.$el.trigger('piechart:beforedestroy');\n    self.emit('local::beforeDestroy areaChartBeforeDestroy', self);\n    self.detachEvents();\n    self.$svgEl.remove();\n    self.$axisEl.remove();\n    self.$legendEl.remove();\n    if (self.f7Tooltip && self.f7Tooltip.destroy) {\n      self.f7Tooltip.destroy();\n    }\n    delete self.$el[0].f7AreaChart;\n    deleteProps(self);\n    self.destroyed = true;\n  }\n}\n\nexport default AreaChart;\n","import $ from '../../shared/dom7';\nimport AreaChart from './area-chart-class';\nimport ConstructorMethods from '../../shared/constructor-methods';\n\nexport default {\n  name: 'areaChart',\n  params: {\n    areaChart: {\n      el: null,\n      lineChart: false,\n      datasets: [],\n      axis: false,\n      axisLabels: [],\n      tooltip: false,\n      legend: false,\n      toggleDatasets: false,\n      width: 640,\n      height: 320,\n      maxAxisLabels: 8,\n      formatAxisLabel: null,\n      formatLegendLabel: null,\n      formatTooltip: null,\n      formatTooltipAxisLabel: null,\n      formatTooltipTotal: null,\n      formatTooltipDataset: null,\n    },\n  },\n  create() {\n    const app = this;\n    app.areaChart = ConstructorMethods({\n      defaultSelector: '.area-chart',\n      constructor: AreaChart,\n      app,\n      domProp: 'f7AreaChart',\n    });\n    app.areaChart.update = function update(el, newParams) {\n      const $el = $(el);\n      if ($el.length === 0) return undefined;\n      const areaChart = app.areaChart.get(el);\n      if (!areaChart) return undefined;\n      areaChart.update(newParams);\n      return areaChart;\n    };\n  },\n};\n","export default {\n  name: 'elevation',\n};\n","export default {\n  name: 'typography',\n};\n","import $ from './shared/dom7';\n\nimport Framework7 from './components/app/app-class';\n\n//IMPORT_HELPERS\n\nimport DeviceModule from './modules/device/device';\nimport SupportModule from './modules/support/support';\nimport UtilsModule from './modules/utils/utils';\nimport ResizeModule from './modules/resize/resize';\nimport RequestModule from './modules/request/request';\nimport TouchModule from './modules/touch/touch';\nimport ClicksModule from './modules/clicks/clicks';\nimport RouterModule from './modules/router/router';\nimport RouterComponentLoaderModule from './modules/router/component-loader';\nimport ComponentModule, { Component, $jsx } from './modules/component/component';\nimport HistoryModule from './modules/history/history';\nimport ServiceWorkerModule from './modules/service-worker/service-worker';\nimport StoreModule, { createStore } from './modules/store/store';\n\nimport Statusbar from './components/statusbar/statusbar';\nimport View from './components/view/view';\nimport Navbar from './components/navbar/navbar';\nimport Toolbar from './components/toolbar/toolbar';\nimport Subnavbar from './components/subnavbar/subnavbar';\nimport TouchRipple from './components/touch-ripple/touch-ripple';\nimport Modal from './components/modal/modal';\nimport Router from './modules/router/router-class';\n\n//IMPORT_COMPONENTS\n\n// UMD_ONLY_START\nif (typeof window !== 'undefined') {\n  // Dom7\n  if (!window.Dom7) window.Dom7 = $;\n}\n// UMD_ONLY_END\n\nRouter.use([RouterComponentLoaderModule]);\n\nFramework7.use([\n  DeviceModule,\n  SupportModule,\n  UtilsModule,\n  ResizeModule,\n  RequestModule,\n  TouchModule,\n  ClicksModule,\n  RouterModule,\n  HistoryModule,\n  ComponentModule,\n  ServiceWorkerModule,\n  StoreModule,\n  Statusbar,\n  View,\n  Navbar,\n  Toolbar,\n  Subnavbar,\n  TouchRipple,\n  Modal,\n  //INSTALL_COMPONENTS\n]);\n\n//NAMED_EXPORT\nexport default Framework7;\n"],"names":["isObject","obj","constructor","Object","extend","target","src","keys","forEach","key","length","ssrDocument","body","addEventListener","removeEventListener","activeElement","blur","nodeName","querySelector","querySelectorAll","getElementById","createEvent","initEvent","createElement","children","childNodes","style","setAttribute","getElementsByTagName","createElementNS","importNode","location","hash","host","hostname","href","origin","pathname","protocol","search","getDocument","doc","document","ssrWindow","navigator","userAgent","history","replaceState","pushState","go","back","CustomEvent","getComputedStyle","getPropertyValue","Image","Date","screen","setTimeout","clearTimeout","matchMedia","requestAnimationFrame","callback","cancelAnimationFrame","id","getWindow","win","window","_inheritsLoose","subClass","superClass","prototype","create","__proto__","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","_setPrototypeOf","p","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","toString","call","e","_construct","Parent","args","Class","a","push","apply","Constructor","Function","bind","instance","arguments","_isNativeFunction","fn","indexOf","_wrapNativeSuper","_cache","Map","undefined","TypeError","has","get","set","Wrapper","value","enumerable","writable","configurable","_assertThisInitialized","self","ReferenceError","makeReactive","proto","defineProperty","Dom7","_Array","items","_this","concat","Array","arrayFlat","arr","res","el","isArray","arrayFilter","filter","arrayUnique","uniqueArray","i","toCamelCase","string","toLowerCase","replace","match","group","toUpperCase","qsa","selector","context","$","html","trim","toCreate","tempParent","innerHTML","nodeType","addClass","_len","classes","_key","classNames","map","c","split","_el$classList","classList","add","removeClass","_len2","_key2","_el$classList2","remove","toggleClass","_len3","_key3","className","toggle","hasClass","_len4","_key4","contains","attr","attrs","getAttribute","attrName","removeAttr","removeAttribute","prop","props","propName","data","dom7ElementDataStorage","dataKey","removeData","dataset","attributes","_attr","name","parseFloat","val","multiple","values","selectedOptions","_i","_el","j","options","selected","transform","transition","duration","transitionDuration","on","_len5","_key5","eventType","targetSelector","listener","capture","handleLiveEvent","eventData","dom7EventData","unshift","is","_parents","parents","k","handleEvent","events","event","dom7Listeners","proxyListener","_event","dom7LiveListeners","off","_len6","_key6","handlers","handler","splice","dom7proxy","once","dom","_len7","_key7","eventName","onceHandler","_len8","eventArgs","_key8","trigger","_len9","_key9","evt","detail","bubbles","cancelable","dataIndex","dispatchEvent","transitionEnd","fireCallBack","animationEnd","width","innerWidth","css","outerWidth","includeMargins","_styles","styles","offsetWidth","height","innerHeight","outerHeight","_styles2","offsetHeight","offset","box","getBoundingClientRect","clientTop","clientLeft","scrollTop","scrollY","scrollLeft","scrollX","top","left","hide","display","show","_prop","each","index","result","text","textContent","compareWith","matches","webkitMatchesSelector","msMatchesSelector","child","previousSibling","eq","returnIndex","append","newChild","tempDiv","firstChild","appendChild","appendTo","parent","prepend","insertBefore","prependTo","before","parentNode","cloneNode","insertAfter","after","nextSibling","next","nextElementSibling","nextAll","nextEls","_next","prev","previousElementSibling","prevAll","prevEls","_prev","siblings","_parent","closest","find","foundElements","found","removeChild","detach","_len10","els","_key10","toAdd","empty","scrollTo","easing","animate","currentTop","currentLeft","maxTop","maxLeft","newTop","newLeft","animateTop","animateLeft","scrollHeight","Math","max","min","scrollWidth","startTime","render","time","getTime","progress","easeProgress","cos","PI","done","initialProps","initialParams","assign","params","elements","animating","que","easingProgress","stop","frameId","element","dom7AnimateInstance","complete","shift","initialFullValue","initialValue","unit","finalValue","finalFullValue","container","currentValue","elementsDone","propsDone","began","begin","_el$prop","animateInstance","noTrigger","shortcut","eventHandler","click","focus","focusin","focusout","keyup","keydown","keypress","submit","change","mousedown","mousemove","mouseup","mouseenter","mouseleave","mouseout","mouseover","touchstart","touchend","touchmove","resize","scroll","methods","methodName","uniqueNum","uniqueNumber","mask","floor","random","mdPreloaderContent","iosPreloaderContent","join","auroraPreloaderContent","eventNameToColonCase","hasColon","char","deleteProps","object","nextTick","delay","nextFrame","now","parseUrlQuery","url","query","urlToParse","param","paramsPart","decodeURIComponent","slice","getTranslate","axis","matrix","curTransform","transformMatrix","curStyle","WebKitCSSMatrix","webkitTransform","MozTransform","OTransform","MsTransform","msTransform","m41","m42","serializeObject","resultArray","separator","newParents","varName","parentParts","encodeURIComponent","varValue","toPush","String","merge","to","from","nextSource","keysArray","nextIndex","len","nextKey","desc","getOwnPropertyDescriptor","deep","colorHexToRgb","hex","h","m","r","g","b","exec","n","parseInt","colorRgbToHex","colorRgbToHsl","d","l","s","abs","colorHslToRgb","hp","x","rgb1","Number","isNaN","round","colorHsbToHsl","HSL","HSB","colorHslToHsb","t","colorThemeCSSProperties","rgb","hsl","hslShade","hslTint","shade","tint","bindMethods","subKey","flattenArray","arg","support","calcSupport","touch","DocumentTouch","pointerEvents","PointerEvent","maxTouchPoints","passiveListener","checkPassiveListener","supportsPassive","opts","intersectionObserver","checkObserver","getSupport","deviceCalculated","calcDevice","platform","ua","device","ios","android","androidChrome","desktop","iphone","ipod","ipad","edge","ie","firefox","macos","windows","cordova","phonegap","electron","capacitor","Capacitor","nwjs","screenWidth","screenHeight","nw","process","versions","iPadScreens","os","osVersion","webView","standalone","webview","pixelRatio","devicePixelRatio","DARK","LIGHT","prefersColorScheme","prefersColorTheme","theme","getDevice","overrides","reset","EventsClass","eventsParents","eventsListeners","priority","method","f7proxy","emit","local","eventsArray","localEvents","parentEvents","eventsParent","Framework7Class","useModuleParams","module","instanceParams","originalParams","paramKey","useModulesParams","modules","moduleName","useModule","moduleParams","modulePropName","moduleProp","moduleEventName","vnode","vnodeHooks","vnodeId","hookName","useModules","modulesParams","installModule","static","install","use","components","ConstructorMethods","parameters","defaultSelector","domProp","app","addMethods","$el","destroy","ModalMethods","open","targetEl","$targetPage","modalEl","$modalEl","f7Modal","close","$parentEl","$targetEl","fetchedModules","loadModule","moduleToLoad","Framework7","Promise","resolve","reject","modulePath","moduleObj","moduleFunc","Error","matchNamePattern","lazyModulesPath","scriptLoad","resolveScript","rejectScript","request","scriptContent","callbackId","callbackLoadName","scriptEl","componentLoader","xhr","status","styleLoad","resolveStyle","rtl","styleContent","styleEl","all","then","catch","err","passedParams","w","defaults","version","language","routes","initOnDeviceReady","init","autoDarkTheme","iosTranslucentBars","iosTranslucentModals","component","componentUrl","getTheme","online","onLine","store","f7","initStore","mount","rootEl","$rootEl","mq","dark","light","colorSchemeListener","media","darkTheme","__store","createStore","enableAutoDarkTheme","addListener","disableAutoDarkTheme","removeListener","initAppComponent","router","componentOptions","$elComponent","f7Component","initialized","loadModules","getVnodeHooks","hook","metaStatusbar","content","utils","getSize","orientationchange","globals","jsonpRequests","RequestResponse","RequestError","requestOptions","globalsNoCallbacks","callbackName","async","cache","user","password","headers","xhrFields","statusCode","processData","dataType","contentType","timeout","proceedRequest","abortController","canceled","message","fireCallback","globalCallbackValue","optionCallbackValue","type","paramsPrefix","stringData","abortTimeout","callbackSplit","requestUrl","addVars","script","onerror","jsonpCallback","XMLHttpRequest","aborted","onAbort","abort","requestParameters","postData","postDataInstances","ArrayBuffer","Blob","Document","FormData","boundary","setRequestHeader","newData","JSON","stringify","Accept","headerName","crossDomain","test","RegExp","$2","onload","responseData","parseError","parse","responseText","responseType","response","statusText","ontimeout","send","requestShortcut","success","error","post","json","getJSON","postJSON","contoller","setup","initTouch","useRipple","touchStartX","touchStartY","targetElement","isMoved","tapHoldFired","tapHoldTimeout","preventClick","activableElement","activeTimeout","rippleWave","rippleTarget","rippleTimeout","findActivableElement","activeStateElements","activable","newActivable","preventPropagation","isInsideScrollableView","pageContent","addActive","removeActive","findRippleElement","rippleElements","touchRippleElements","rippleParent","createRipple","y","touchRipple","removeRipple","rippleTouchStart","inScrollable","rippleTouchMove","rippleTouchEnd","handleMouseDown","$activableEl","which","pageX","pageY","handleMouseMove","activeStateOnMouseMove","handleMouseUp","handleTouchCancel","activeState","isScrolling","isSegmentedStrong","segmentedStrongEl","touchMoveActivableIos","isTouchMoveActivable","touchmoveActivableEl","handleTouchStart","targetTouches","touches","tapHold","preventDefault","tapHoldDelay","handleTouchMove","distance","shouldRemoveActive","touchClicksDistanceThreshold","touchCurrentX","touchCurrentY","elementFromPoint","clientX","clientY","buttonEl","handleTouchEnd","tapHoldPreventClicks","handleClick","isOverswipe","isSegmented","localPreventClick","stopImmediatePropagation","stopPropagation","emitAppTouchEvent","appClick","appTouchStartActive","appTouchMoveActive","appTouchEndActive","appTouchStartPassive","appTouchMovePassive","appTouchEndPassive","passive","passiveListenerCapture","activeListener","activeListenerCapture","touchEvents","start","move","end","disableContextMenu","isNative","mdTouchRipple","iosTouchRipple","auroraTouchRipple","touchRippleInsetElements","History","queue","clearQueue","currentQueue","routerQueue","clearRouterQueue","pop","stateUrl","action","browserHistoryAnimate","browserHistory","navigate","handle","blockPopstate","state","previousState","allowChange","views","view","viewState","allowPageChange","initViewState","viewId","newState","substr","readyState","SwipeBack","$navbarsEl","isTouched","touchesStart","$currentPageEl","$previousPageEl","viewContainerWidth","touchesDiff","allowViewTouchMove","touchStartTime","$currentNavbarEl","$previousNavbarEl","dynamicNavbar","$pageShadowEl","$pageOpacityEl","animatableNavEls","paramsSwipeBackAnimateShadow","paramsSwipeBackAnimateOpacity","paramsSwipeBackActiveArea","paramsSwipeBackThreshold","transformOrigin","transformOriginTitleLarge","animatableNavElements","inverter","currentNavIsTransparent","currentNavIsLarge","currentNavIsCollapsed","currentNavIsLargeTransparent","previousNavIsTransparent","previousNavIsLarge","previousNavIsCollapsed","previousNavIsLargeTransparent","fromLarge","toLarge","$currentNavElements","$previousNavElements","activeNavBackIconText","previousNavBackIconText","iosAnimateNavbarBackIcon","f7NavbarLeftOffset","navEl","$navEl","isSubnavbar","isLeft","isTitle","isBg","overflow","subNavEl","opacity","isSliding","transformTarget","textEl","activeNavTranslate","f7NavbarRightOffset","previousNavTranslate","setAnimatableNavElements","reflow","_clientLeft","classNameSet","styleProp","swipeBackEnabled","swipeout","masterDetailBreakpoint","f7PreventSwipeBack","preventSwipeBack","cancel","notFromBorder","sheet","f7PreventSwipePanel","preventSwipePanelBySwipeBack","percentage","callbackData","currentPageEl","previousPageEl","currentNavbarEl","previousNavbarEl","currentPageTranslate","previousPageTranslate","swipeBackActive","$pages","timeDiff","pageChanged","setNavbarPosition","currentRoute","f7Page","route","currentPage","pageCallback","swipeBack","saveHistory","stackPages","initialPages","removePage","removeNavbar","previousRoute","preloadPreviousPage","preload","attachEvents","detachEvents","redirect","direction","initial","redirectResolve","redirectUrl","redirectOptions","redirectReject","processQueue","routeQueue","queueItem","processRouteQueue","enterNextRoute","routesBeforeEnter","beforeEnter","leaveCurrentRoute","routesBeforeLeave","beforeLeave","appRouterCheck","asyncComponent","resolvePromise","componentPromise","default","_default","asyncComponentResult","refreshPage","ignoreCache","reloadCurrent","forward","forwardOptions","reloadPages","reloadPrevious","reloadAll","clearPreviousHistory","reloadDetail","masterDetailEnabled","isMaster","master","masterPageEl","otherDetailPageEl","detailsInBetweenRemoved","currentRouteIsModal","modal","modalType","modalLoadProp","modalToClose","modalInstance","previousUrl","findMatchingRoute","path","modalRemove","$viewEl","$newPage","reload","$oldPage","$newNavbarEl","$oldNavbarEl","removeThemeElements","$navbarEl","keepAlive","keepAliveData","pageEl","$pagesInView","pageInView","$navbarsInView","navbarInView","isDetail","isDetailRoot","newPagePosition","position","role","root","detailRoot","navbar","getElByPage","navbarEl","removedPageEls","removedNavbarEls","oldNavbarEl","browserHistoryRoot","browserHistorySeparator","newPageInDom","componentEl","f7PageMounted","$oldPageEl","$oldNavbarElEl","tab","tabLoad","checkMasterDetailBreakpoint","setPagePosition","afterAnimation","keepOldPage","setPositionClasses","f7PageTransition","load","loadParams","loadOptions","ignorePageChange","pageName","parentPath","sameParams","paramName","allowDuplicateUrls","parseRouteUrl","newOptions","getPageEl","pageComponentLoader","routerEl","xhrAbortController","xhrRequest","openIn","navigateOptions","popup","loginScreen","clickedEl","popover","parts","side","effect","panel","navigateParams","createRoute","generateUrl","navigateUrl","currentPath","viewName","anotherViewName","anotherView","ignoreOpenIn","routerLoaded","modalLoad","pageLoadProp","asyncResolve","resolveParams","resolveOptions","resolvedAsModal","modalRoute","asyncReject","masterRoute","preloadMaster","masterLoaded","pageAfterIn","tabRoute","parentPageEl","$parentPageEl","tabEl","tabShowResult","$newTabEl","$oldTabEl","animated","onTabsChanged","tabParentPageData","onTabLoaded","contentEl","tabEventTarget","unloadTabContent","tabRemove","f7RouterTabLoaded","loadTab","loadTabParams","loadTabOptions","tabComponentLoader","tabContent","hasContentLoadProp","tabLoadProp","hasTabComponentChild","tabChild","removeTabContent","isPanel","modalOrPanel","modalParams","routeCallback","modalOpen","panelOpen","modalClose","panelClose","modalClosed","panelClosed","onModalLoaded","hasEl","closeOnSwipeBack","closeByRouter","modalComponent","removeModal","loadModal","loadModalParams","loadModalOptions","modalComponentLoader","modalContent","foundLoadProp","backward","backwardOptions","masterPageRemoved","initialPreload","currentIsMaster","backIndex","force","pageToRemove","$pageToRemove","$navbarToRemove","insertPage","$previousPages","loadBack","backParams","backOptions","prevOpenedModals","forceOtherUrl","isBrokenBrowserHistory","needHistoryBack","currentRouteWithoutBrowserHistory","$previousPage","skipMaster","$previousMaster","expectedPreviousPageUrl","expectedPreviousPageRoute","previousPageRoute","backForceLoaded","clearPreviousPages","$pagesToRemove","Router","isAppRouter","routerId","scrollHistory","iosDynamicNavbar","initialNavbars","newRoute","tempDom","navbarsEl","animateIcon","newNavEls","oldNavEls","animatableNavEl","$navbarInner","needsOpacityTransition","$iconEl","isIconLabel","leftOffset","rightOffset","navEls","otherEls","otherNavEl","iconTextEl","offsetLeft","$newPageEl","animateCustom","routerCustomTransitionClass","onCustomTransitionDone","routerTransitionClass","toDifferent","oldIsLarge","newIsLarge","betweenMasterAndDetail","animateNavbars","setProperty","onDone","removeEl","$tabEl","removeElements","removeElementsWithTimeout","removeElementsTimeout","findElement","stringSelector","notStacked","modalsSelector","$container","viewMainClass","flattenRoutes","flattenedRoutes","hasTabRoutes","tabs","mergedPathsRoutes","tRoute","detailRoutes","detailRoute","dRoute","masterRoutePath","childRoute","cRoute","findRouteByKey","constructRouteUrl","toUrl","compile","findTabRouteUrl","tabId","foundTabRouteUrl","matchingRoute","pathsToMatch","alias","aliasPath","matched","pathToMatch","pathToRegexp","keyObj","paramValue","replaceRequestUrlParams","compiledUrl","regExp","removeFromXhrCache","xhrCache","hasQuery","passRouteQueryToRequest","passRouteParamsToRequest","xhrCacheIgnoreGetParameters","xhrCacheIgnore","cachedUrl","xhrCacheDuration","beforeSend","ariaHidden","toRemove","getPageData","pageFromEl","$pageEl","pageFrom","fromPage","$pageFromEl","page","restoreScrollTopOnBack","camelName","colonName","f7RouteEventsAttached","f7RouteEventsOn","f7RouteEventsOnce","$pageContent","pageContentEl","f7PageInitialized","browserHistoryStoreHistory","localStorage","restoreHistory","clearHistory","updateCurrentUrl","newUrl","getInitialUrl","initialUrl","historyRestored","URL","documentUrl","browserHistoryOnLoad","console","warn","iosSwipeBack","mdSwipeBack","auroraSwipeBack","browserHistoryAnimateOnLoad","browserHistoryInitialMatch","initUrl","loadInitialPage","hasTabRoute","initOptions","routerProp","templates","resizableView","resizableInitialized","resizable","resizableWidth","$htmlEl","$resizeHandlerEl","minWidth","maxWidth","transformCSSWidth","v","newV","isResizable","$pageMasterEl","newWidth","handleResize","View","viewParams","ssr","routesAdd","main","f7View","viewProp","wasMasterDetail","isMasterDetail","initMasterDetail","masterDetailResizable","viewEl","initClicks","handleClicks","$clickedEl","$clickedLinkEl","isLink","clicks","externalLinks","InAppBrowser","Plugins","Browser","moduleClicks","preventF7Router","clickSelector","matchingClickedElement","clickedLinkData","validUrl","current","linksView","ViewClass","f7RouteProps","componentFunction","componentContext","f7route","f7router","componentProps","routeProps","componentRoot","createdComponent","cachedComponent","componentCache","cached","loadedComponent","parsedComponent","u","ignoreChildren","$h","htm","is.array","is.primitive","SELF_CLOSING","PROPS_ATTRS","BOOLEAN_PROPS","getTagName","treeNode","word","propsFromAttrs","createCustomComponent","customComponents","elm","__component__","updateCustomComponent","newProps","update","destroyCustomComponent","isCustomComponent","treeNodeType","getHooks","isRoot","hooks","insert","postpatch","isFakeElement","tagName","isCustom","sel","oldVnode","class","vn","f","getEventHandler","prevent","fired","getData","attrValue","eventNamePart","eventNameIndex","prepatch","getChildren","nodes","childNode","treeNodeToVNode","getSlots","slotName","slotNodes","childTreeNode","childSlotName","slot","subTreeNode","isTreeNode","vdom","tree","invokeHandler","createListener","updateEvents","oldOn","oldListener","oldElm","patch","attributesModule","propsModule","styleModule","eventListenersModule","Component","generateId","md","aurora","__updateQueue","__eventHandlers","__onceEventHandlers","__onBeforeMount","__onMounted","__onBeforeUpdate","__onUpdated","__onBeforeUnmount","__onUnmounted","createComponent","getComponentContext","getRenderFuncion","componentResult","renderFunction","getComponentRef","getComponentStore","_gettersPlain","dispatch","$store","getters","onUpdated","includeHooks","ctx","$f7route","$f7router","$id","$f7","$f7ready","f7ready","$theme","$tick","tick","$update","$emit","$ref","$on","$once","$onBeforeMount","$onMounted","$onBeforeUpdate","$onUpdated","$onBeforeUnmount","$onUnmounted","startUpdateQueue","__requestAnimationFrameId","newVNode","__updateIsPending","resolvers","resolver","__destroyed","setState","mountMethod","parseComponent","componentString","componentId","callbackCreateName","template","hasTemplate","item","scripts","$jsx","flatChildren","registerComponent","unregisterComponent","SW","registrations","register","scope","serviceWorker","reg","unregister","registration","paths","toRegister","storeParams","originalState","actions","propsQueue","gettersDependencies","gettersCallbacks","getterKey","getGetterValue","addGetterDependencies","deps","dep","addGetterCallback","runGetterCallbacks","stateKey","removeGetterCallback","callbacks","__removeCallback","getterValue","addCallback","__callback","actionName","isCapacitor","StatusBar","Statusbar","onClick","setTextColor","color","styleLightContent","styleDefault","setStyle","setBackgroundColor","backgroundColorByHexString","isVisible","getInfo","info","visible","overlaysWebView","overlays","setOverlaysWebView","overlay","statusbar","enabled","isCordova","isCap","scrollTopOnClick","iosOverlaysWebView","iosTextColor","androidOverlaysWebView","androidTextColor","iosBackgroundColor","androidBackgroundColor","getCurrentView","$popoverView","$popupView","$panelView","$viewsEl","iosSwipeBackAnimateShadow","iosSwipeBackAnimateOpacity","iosSwipeBackActiveArea","iosSwipeBackThreshold","mdSwipeBackAnimateShadow","mdSwipeBackAnimateOpacity","mdSwipeBackActiveArea","mdSwipeBackThreshold","auroraSwipeBackAnimateShadow","auroraSwipeBackAnimateOpacity","auroraSwipeBackActiveArea","auroraSwipeBackThreshold","iosPageLoadDelay","mdPageLoadDelay","auroraPageLoadDelay","onOpen","onClose","Navbar","size","$innerEl","needCenterTitle","needLeftTitle","iosCenterTitle","right","title","subnavbar","noLeft","noRight","leftWidth","rightWidth","titleWidth","navbarStyles","navbarWidth","navbarInnerWidth","paddingLeft","paddingRight","isPrevious","sliding","currLeft","diff","requiredLeft","titleLeftOffset","titleRightOffset","activeNavbarBackLink","titleLeft","hideStatusbar","hideOnlyCurrent","isDynamic","currentIsLarge","subEl","pageData","getPageByEl","collapseLargeTitle","expandLargeTitle","toggleLargeTitle","initNavbarOnScroll","needHide","needCollapse","needTransparent","$titleLargeEl","isLarge","navbarHideHeight","snapPageScrollToLargeTitle","snapPageScrollToTransparentNavbar","previousScrollTop","currentScrollTop","reachEnd","navbarHidden","navbarCollapsed","navbarTitleLargeHeight","navbarOffsetHeight","scrollChanged","scrollContent","scrollTimeoutId","touchEndTimeoutId","touchSnapTimeout","desktopSnapTimeout","calcScrollableDistance","f7ScrollableDistance","snapLargeNavbar","inSearchbarExpanded","snapTransparentNavbar","handleNavbarTransparent","isHidden","notTransparent","previousCollapseProgress","collapseProgress","handleLargeNavbarCollapse","isLargeTransparent","scrollableDistance","previousCollapseWasInMiddle","handleTitleHideShow","showOnPageScrollEnd","showOnPageScrollTop","handleScroll","handeTouchStart","f7DetachNavbarScrollHandlers","scrollTopOnTitleClick","mdCenterTitle","auroraCenterTitle","hideOnPageScroll","collapseLargeTitleOnScroll","onPanelResize","pageBeforeRemove","pageBeforeIn","pageReinit","pageInit","needCollapseOnScrollHandler","needTransparentOnScroll","needHideOnScrollHandler","onPanelModalOpen","tabShow","onTitleClick","clickedData","$pageContentEl","Toolbar","setHighlight","tabbarEl","$tabbarEl","$highlightEl","tabLinksCount","$activeLink","highlightWidth","highlightTranslate","activeIndex","toolbar","initToolbarOnScroll","$toolbarEl","toolbarHidden","f7ScrollToolbarHandler","tabbar","$innerSubnavbars","subnavbarEl","TouchRipple","ripple","center","diameter","isInset","insetElements","distanceFromCenter","scale","rippleTransform","$rippleWaveEl","shouldBeRemoved","out","removeTimeout","openedModals","dialogsQueue","clearDialogsQueue","dialog","Modal","opened","$containerEl","containerEl","onOpened","onClosed","animateModal","$backdropEl","queueDialogs","pushToQueue","openedModal","$modalParentEl","wasInDom","needToHideBackdrop","popupEl","popupInstance","closeByBackdropClick","backdrop","backdropEl","destroyed","CustomModal","extendedParams","customModal","tag","attrsString","childrenContent","Dialog","buttons","verticalButtons","cssClass","destroyOnClose","dialogClasses","buttonsHTML","button","bold","dialogHtml","buttonOnClick","addKeyboardHander","onKeyDown","keyCode","keyCodes","setProgress","progressbar","setText","newText","$textEl","setTitle","newTitle","$titleEl","$target","buttonOk","buttonCancel","usernamePlaceholder","passwordPlaceholder","preloaderTitle","progressTitle","destroyPredefinedDialogs","keyboardActions","autoFocus","defaultDialogTitle","autoFocusHandler","alert","callbackOk","prompt","callbackCancel","defaultValue","inputValue","confirm","login","username","preloader","preloaders","preloaderInner","infinite","Popup","node","keyboardOpened","Keyboard","plugins","needToClose","closeOnEscape","pushOffset","isPush","pushViewScale","allowSwipeToClose","startTouch","currentTouch","pageContentScrollTop","pageContentOffsetHeight","pageContentScrollHeight","popupHeight","$pushEl","swipeToClose","swipeHandler","pushProgress","hasPreviousPushPopup","updatePushOffset","wasPush","setPushOffset","removeProperty","parentSelector","openPopup","closePopup","LoginScreen","openLoginScreen","closeLoginScreen","Popover","$angleEl","originalOpen","angleEl","touchStartTarget","closeByOutsideClick","targetX","targetY","angleSize","angleLeft","angleTop","targetWidth","targetHeight","targetOffsetLeft","targetOffsetTop","safeAreaTop","safeAreaLeft","safeAreaRight","targetOffset","targetParentPage","hPosition","popoverEl","$popoverEl","openPopover","closePopover","Actions","groups","convertToPopover","popoverHtml","renderPopover","actionsHtml","originalClose","$buttonEl","buttonIndex","groupIndex","forceToPopover","closed","grid","buttonClasses","label","bg","disabled","icon","itemClasses","openActions","closeActions","Sheet","scrollToElementOnOpen","$scrollEl","scrollToEl","paddingTop","paddingBottom","pageHeight","pageScrollHeight","pageScroll","newPaddingBottom","scrollElTop","scrollToElementOnClose","isTopSheetModal","swipeStepTranslate","startTranslate","currentTranslate","sheetElOffsetHeight","minTranslate","maxTranslate","$pushViewEl","pushBorderRadius","sheetPageContentEl","sheetPageContentScrollTop","sheetPageContentScrollHeight","sheetPageContentOffsetHeight","swipeToStep","openDirection","closeDirection","absCurrentTranslate","absSwipeStepTranslate","stepOpened","setSwipeStep","byResize","$swipeStepEl","onResize","stepOpen","stepClose","stepToggle","sheetInstance","openSheet","closeSheet","Toast","toast","closeButton","closeTimeout","toastHtml","timeoutId","openedEl","toastInstance","horizontalPosition","closeButtonColor","closeButtonText","horizontalClass","Preloader","showIn","hideIn","photoBrowserOpen","pb","preloaderEl","tabMounted","Progressbar","progressNormalized","$progressbarEl","$progressbarLine","removeAfterHide","progressbarEl","Sortable","$sortingEl","$sortingItems","$sortableContainer","sortingElHeight","minTop","$insertAfterEl","$insertBeforeEl","indexFrom","pageOffset","sortingElOffsetLocal","sortingElOffsetTop","initialScrollTop","wasTapHold","isTapHold","$listGroup","allowOpen","allow","offsetTop","translateScrollOffset","translate","scrollAddition","allowScroll","scrollDiff","$currentEl","currentElOffset","currentElHeight","sortingElOffset","prevTranslate","f7Translate","indexTo","moveElements","sortableMoveElements","sortable","f7VirtualListIndex","virtualList","f7VirtualList","moveItem","pointerEvent","enable","disable","Swipeout","$swipeoutEl","$swipeoutContent","$actionsRight","$actionsLeft","actionsLeftWidth","actionsRightWidth","openedActionsSide","$leftButtons","$rightButtons","$overswipeLeftButton","$overswipeRightButton","overswipeLeft","overswipeRight","noFollow","buttonOffset","buttonTranslate","ratio","overswipeRatio","f7SwipeoutButtonOffset","$actions","actionsWidth","$buttons","newTranslate","$swipeoutActions","swipeoutActionsWidth","onSwipeoutClose","delete","virtualIndex","deleteItem","actionsNoFold","openSwipeout","closeSwipeout","deleteSwipeout","confirmTitle","Accordion","toggleClicked","$accordionItemEl","$accordionContent","accordion","prevented","$list","$contentEl","$openedItem","VirtualList","vl","defaultHeight","cols","dynamicHeightBufferSize","showFilteredItemsOnly","renderExternal","setListHeight","searchByItem","searchAll","ul","createUl","scrollableParentEl","renderItem","filteredItems","$scrollableParentEl","updatableScroll","$ul","$itemsWrapEl","itemsWrapEl","domCache","displayDomCache","tempDomElement","lastRepaintY","fragment","createDocumentFragment","rowsPerScreen","rowsBefore","rowsAfter","rowsToRender","maxBufferHeight","listHeight","dynamicHeight","handleScrollBound","handleResizeBound","$panelEl","$popupEl","setListSize","heights","itemHeight","ceil","forceScrollTop","fromIndex","toIndex","heightBeforeFirstItem","heightBeforeLastItem","itemTop","topPosition","renderExternalItems","itemEl","currentFromIndex","currentToIndex","emptyTemplate","filterItems","indexes","resetScrollTop","resetFilter","scrollToItem","listTop","getClientRects","appendItems","appendItem","replaceAllItems","replaceItem","prependItems","newCache","prependItem","cachedIndex","leftIndex","rightIndex","indexShift","insertItemBefore","deleteItems","prevIndex","deletedItem","deleteAllItems","clearCache","deleteCache","ListIndex","listEl","iosItemHeight","mdItemHeight","auroraItemHeight","scrollList","itemContent","itemIndex","renderSkipPlaceholder","$listEl","f7ListIndex","skipRate","calcSize","$clickedLi","scrollListToIndex","topPoint","bottomPoint","$labelEl","previousIndex","$children","ulHeight","bubbleBottom","$scrollToEl","parentTop","scrollToElTop","navbarInnerEl","wasSkipped","itemHtml","maxItems","calcIndexes","elContent","listIndex","listIndexEl","tabBeforeRemove","Tab","tabLinkEl","animatedInit","f7TabRoute","newTabEl","$tabLinkEl","$tabsEl","tabsChangedCallbacks","tabsChanged","tabsTranslate","swiper","slideTo","tabLinkElement","$oldTabLinkEl","oldTabId","hasHighlight","oldTabEl","onInit","pageOrTabEl","animatedTabEl","tabLinkClick","swipePanel","swipeInitialized","swipeable","otherPanel","isGestureStarted","isInterrupted","backdropOpacity","panelWidth","touchMoves","swipe","swipeOnlyClose","otherPanelOpened","swipeActiveArea","getViewEl","preventSwipePanel","threshold","swipeThreshold","insertToRoot","noFollowProgress","swipeNoFollow","viewTranslate","stateChanged","isGesture","removePanelInClass","setStateClasses","visibility","handleGestureStart","handleGestureEnd","resizablePanel","panelMinWidth","panelMaxWidth","visibleByBreakpoint","newPanelWidth","Panel","f7Panel","panelInView","enableVisibleBreakpoint","visibleBreakpointDisabled","setVisibleBreakpoint","disableVisibleBreakpoint","toggleVisibleBreakpoint","emitEvents","visibleBreakpointResizeHandler","breakpoint","visibleBreakpoint","wasVisible","allowPanelOpen","enableCollapsedBreakpoint","collapsedBreakpointDisabled","setCollapsedBreakpoint","disableCollapsedBreakpoint","toggleCollapsedBreakpoint","collapsedBreakpointResizeHandler","collapsedBreakpoint","collapsed","enableResizable","disableResizable","enableSwipe","disableSwipe","modifyHtmlClasses","shouldHideBackdrop","$panelParentEl","otherOpenedPanel","transitionEndTarget","panelTransitionEnd","panelEl","CardExpandable","cardEl","$cardEl","cardParams","card","hideNavbarOnOpen","hideToolbarOnOpen","currTransform","hasTransform","$cardContentEl","$cardSizeEl","cardWidth","cardHeight","pageWidth","maxHeight","statusbarHeight","hideStatusbarOnOpen","scaleX","scaleY","cardLeftOffset","cardTopOffset","transformValues","cardRightOffset","cardBottomOffset","translateX","translateY","f7KeepNavbarOnClose","f7KeepToolbarOnClose","cardScrollTop","touchEndX","touchEndY","isV","isH","$cardScrollableEl","onTouchStart","scrollableEl","onTouchMove","onTouchEnd","detachEventHandlers","animateWidth","closeCard","toggleExpandableCard","onBackdropClick","$openedCardEl","form","formId","$formEl","removeItem","FormStorage","formEl","initialData","getFormData","fillFromData","convertToData","storeFormData","formToData","skipTypes","skipNames","inputEl","$inputEl","checked","formFromData","formData","selectEl","checkboxEl","radioEl","initAjaxForm","onSubmitChange","fromData","removeFormData","storage","Input","ignoreTypes","createTextareaResizableShadow","$shadowEl","readonly","textareaResizableShadow","resizeTextarea","textareaEl","$textareaEl","styleValue","currentHeight","clientHeight","initialHeight","validate","$itemInputEl","$inputWrapEl","unsetReadonly","f7ValidateReadonly","readOnly","setReadonly","validity","validationMessage","errorMessage","valid","$errorEl","validateInputs","validates","input","checkEmptyState","isContentEditable","hasAttribute","scrollIntoView","centered","$scrollableEl","contentHeight","contentScrollTop","contentPaddingTop","contentPaddingBottom","contentOffsetTop","inputOffsetTop","inputHeight","centeredPosition","onFocus","scrollIntoViewOnFocus","scrollIntoViewDuration","scrollIntoViewCentered","scrollIntoViewAlways","onBlur","onChange","onInvalid","clearInput","$clicked","previousValue","itemInputEl","onPanelOpen","Toggle","f7Toggle","toggleWidth","touchStartChecked","changed","handleInputChange","toggleEl","Range","range","dual","step","draggableBar","vertical","verticalReversed","formatLabel","scaleSteps","scaleSubSteps","formatScaleLabel","limitKnobPosition","f7Range","valueLeft","valueRight","$barEl","$barActiveEl","knobHTML","knobs","$knobEl","labels","$scaleEl","renderScale","rangeOffset","rangeOffsetLeft","rangeOffsetTop","$touchedKnobEl","dualValueIndex","valueChangedByTouch","targetTouchIdentifier","onTouchChange","identifier","rangeHeight","rangeWidth","newValue","setValue","leftValue","rightValue","touchEnded","changedTouches","layout","parentModals","parentPanel","parentPage","knobHeight","knobWidth","knobSize","rangeSize","positionProperty","knobIndex","startPos","realStartPos","byTouchMove","valueChanged","oldValue","newValues","valueIndex","getValue","labelEl","scaleEl","scaleStepValue","scaleValue","subStepEl","subIndex","subStep","scaleSubValue","subProgress","updateScale","rangeEl","Stepper","stepper","valueEl","formatValue","watchInput","autorepeat","autorepeatDynamic","wraps","manualInputMode","decimalPoint","buttonsEndInputMode","f7Stepper","$valueEl","$buttonPlusEl","$buttonMinusEl","buttonPlusEl","buttonMinusEl","typeModeChanged","preventButtonClick","intervalId","autorepeatAction","autorepeatInAction","manualInput","dynamicRepeat","progressions","startsIn","progressionStep","repeatEvery","clearInterval","setInterval","onMinusClick","endTypeMode","decrement","onPlusClick","increment","onInputClick","selectionStart","selectionEnd","onInputKey","onInputBlur","onInput","typeValue","sentByF7Stepper","minus","plus","forceUpdate","withWraps","formattedValue","noBlur","inputTxt","lastIndexOf","powVal","toFixed","stepperEl","SmartSelect","ss","smartSelect","searchbarDisableButton","f7SmartSelect","$selectEl","setValueText","inputType","selectId","inputName","selectName","maxLength","optionEl","optionText","displayAs","checkMaxLength","optEl","formatValueText","closeOnSelect","attachInputsEvents","detachInputsEvents","unsetValue","textValue","valueArray","$optionEl","getItemsData","previousGroupEl","optionData","optionImage","optionIcon","optionIconIos","optionIconMd","optionIconAurora","optionHasMedia","optionColor","optionClassName","optionClass","optionGroupEl","optionGroupLabel","optionIsLabel","groupLabel","isLabel","groupEl","image","iconIos","iconMd","iconAurora","hasMedia","checkbox","radio","renderSearchbar","searchbarSpellcheck","searchbarPlaceholder","searchbarDisableText","getIconContent","iconValue","getIconClass","ssValue","hasIcon","iconContent","iconClass","renderItems","itemsHtml","renderPage","pageTitle","$itemTitleEl","navbarColorTheme","pageBackLinkText","searchbar","formColorTheme","renderPopup","popupTabletFullscreen","popupCloseLinkText","renderSheet","toolbarColorTheme","sheetCloseLinkText","scrollToSelectedItem","selectedIndex","$selectedItemEl","openedIn","virtualListHeight","$searchbarEl","appendSearchbarNotFound","$notFoundEl","searchbarParams","searchContainer","searchIn","openPage","pageHtml","pageBeforeOut","pageAfterOut","popupHtml","popupParams","popupPush","popupSwipeToClose","popupOpen","popupOpened","popupClose","popupClosed","routableModals","sheetHtml","sheetParams","sheetBackdrop","sheetPush","sheetSwipeToClose","sheetOpen","sheetOpened","sheetClose","sheetClosed","popoverParams","popoverOpen","popoverOpened","popoverClose","popoverClosed","smartSelectEl","getElMinSize","dimension","minSize","getElMaxSize","maxSize","Grid","$prevResizableEl","$nextResizableEl","prevElSize","prevElMinSize","prevElMaxSize","nextElSize","nextElMinSize","nextElMaxSize","parentSize","itemsInFlow","gapSize","isRow","sizeProp","getSizeProp","isAbsolute","resizeNextEl","prevElNewSize","nextElNewSize","gapAddSize","gapAddSizeCSS","prevElNewSizeNormalized","nextElNewSizeNormalized","Calendar","calendar","isHorizontal","inline","allowTouchMove","hasTimePicker","timePicker","rangePicker","dayFormatter","date","formatter","Intl","DateTimeFormat","locale","day","format","monthFormatter","month","yearFormatter","year","timeSelectorFormatter","timePickerFormat","timeFormatCheckDate","is12HoursFormat","monthNames","monthNamesShort","dayNames","dayNamesShort","getIntlNames","monthNamesIntl","monthNamesShortIntl","dayNamesIntl","dayNamesShortIntl","onInputFocus","onInputClear","onHtmlClick","isPopover","closing","attachInputEvents","inputReadOnly","detachInputEvents","attachHtmlEvents","detachHtmlEvents","attachCalendarEvents","allowItemClick","touchEndTime","wrapperWidth","wrapperHeight","$wrapperEl","monthsTranslate","resetMonth","nextMonth","prevMonth","handleDayClick","$dayEl","dateYear","dateMonth","dateDay","valueToAdd","setHours","getHours","getMinutes","addValue","onNextMonthClick","onPrevMonthClick","onNextYearClick","nextYear","onPrevYearClick","prevYear","onMonthSelectorClick","renderMonthPicker","onMonthSelectorItemClick","localeMonthIndex","monthIndex","currentMonth","diffIndex","setYearMonth","currentYear","onYearSelectorClick","renderYearPicker","$yearPickerEl","onYearSelectorItemClick","onTimeSelectorClick","openTimePicker","onTimePickerCloseClick","closeTimePicker","monthPicker","yearPicker","touchMove","detachCalendarEvents","formatterMonthNames","formatterMonthNamesShort","formatterDayNames","weekday","formatterDayNamesShort","yearStarted","yearEnded","setMonth","weekDay","getDay","normalizeDate","getFullYear","getMonth","getDate","normalizeValues","initInput","formatDate","month1","dateFormat","twoDigits","number","tokens","yyyy","yy","substring","mm","MM","M","dd","DD","D","hours","minutes","seconds","getSeconds","hours12","HH","H","hh","A","regexp","token","rangePickerMinDays","rangePickerMaxDays","inValuesIndex","updateValue","sort","equal","onlyHeader","valueDate","leftDate","rightDate","timePickerPlaceholder","header","updateCurrentMonthYear","dir","$months","currentLocaleMonth","currentLocaleYear","currentDate","prevMonthHtml","renderMonth","currentMonthHtml","nextMonthHtml","setMonthsTranslate","monthEl","onMonthChangeStart","currentIndex","onMonthChangeEnd","rebuildBoth","prevMonthTranslate","currentMonthTranslate","nextMonthTranslate","nextDate","nextDateTime","transitionEndCallback","maxDate","prevDate","prevDateTime","minDate","targetDate","newMonthHTML","monthTranslate","wrapperTranslate","dateInRange","dayDate","daysInMonth","renderMonths","localeMonth","localeYear","currentValues","today","rows","daysInPrevMonth","minDayNumber","firstDay","monthHtml","dayIndex","hasEvents","firstDayOfMonthIndex","row","rowHtml","col","dayNumber","weekDayIndex","weekendDays","eventsHtml","eventDots","ev","rangesClasses","dayYear","dayMonth","dayNumberDisplay","renderWeekHeader","weekDaysHtml","dayName","renderMonthSelector","renderYearSelector","yearMin","yearPickerMin","yearMax","yearPickerMax","years","setFullYear","renderTimeSelector","timeString","renderHeader","headerPlaceholder","renderFooter","toolbarCloseText","renderToolbar","monthSelector","yearSelector","renderInline","footer","weekHeader","renderCustomModal","hoursArr","minutesArr","hoursMin","hoursMax","timePickerInstance","picker","rotateEffect","divider","displayValues","timePickerValue","period","opening","required","f7Calendar","scrollToInput","hour","minute","pickerColumn","colEl","updateItems","$colEl","colIndex","$itemsEl","itemsHeight","animationFrameId","updateDuringScroll","replaceValues","replaceColValues","renderColumn","calcColSize","colWidth","colHeight","setColValue","valueCallbacks","newActiveIndex","updateValuesOnMomentum","updateColItems","previousActiveIndex","selectedItem","$itemEl","itemOffsetTop","translateOffset","itemOffset","itemsFit","angle","needsOriginFix","displayValue","returnTo","velocityTranslate","updateValuesOnTouchmove","momentumRatio","freeMode","mousewheelTimeout","handleMouseWheel","deltaX","deltaY","updateValuesOnMousewheel","attachColEvents","mousewheel","detachColEvents","initCol","destroyCol","Picker","resizeCols","htmlTouchStartTarget","onHtmlTouchStart","attachResizeEvent","detachResizeEvent","forceValues","newDisplayValue","column","noDividerColumns","initColumn","destroyColumn","onlyItems","colClasses","textAlign","columnHtml","columnItemsHtml","inlineHtml","f7Picker","InfiniteScroll","virtualListContainer","onTop","scrollHandler","infiniteScroll","f7InfiniteScrollHandler","$isEls","PullToRefresh","ptr","$preloaderEl","bottom","isMaterial","isIos","isAurora","$transitionTarget","onTranstionEnd","refresh","touchId","useTranslate","forceUseTranslate","wasScrolled","triggerDistance","dynamicTriggerDistance","pullStarted","hasNavbar","maxScrollTop","pageNavbarEl","$pageNavbarEl","isTransparent","setPreloaderProgress","$bars","perBarProgress","barEl","barIndex","barProgress","unsetPreloaderProgress","targetIsScrollable","$ptrWatchScrollable","ptrScrollableEl","ptrStarted","mousewheelMoved","mousewheelAllow","mousewheelTranslate","handleMouseWheelRelease","f7PullToRefresh","$ptrEls","Lazy","f7LazyDestroy","$lazyLoadImages","placeholderSrc","lazy","placeholder","lazyEl","imagesSequence","imageIsLoading","onImageComplete","sequential","loadImage","observerCallback","entries","observer","entry","isIntersecting","unobserve","f7LazyObserver","IntersectionObserver","f7LazyObserverAdded","observe","disconnect","lazyHandler","f7LazyAttached","isInViewport","rect","imageEl","$imageEl","onLoad","onError","$lazyEl","DataTable","table","f7DataTable","collapsible","$headerEl","$headerSelectedEl","handleChange","sentByF7DataTable","columnIndex","checkedRows","totalRows","$headCheckboxEl","checkSelectedHeader","handleSortableClick","$cellEl","isActive","currentSort","newSort","setCollapsibleLabels","elIndex","collpsibleTitle","checkedItems","dataTable","tableEl","Fab","morphOpen","fabEl","$fabEl","borderRadius","zIndex","fab","f7FabMorphData","diffX","diffY","f7FabMorphResizeHandler","resizeHandler","diffXNew","diffYNew","scaleXNew","scaleYNew","morphClose","morphData","$buttonsEl","defaultDiacriticsRemovalap","base","letters","diacriticsMap","removeDiacritics","str","Searchbar","sb","inputEvents","disableButton","disableButtonEl","searchItem","searchGroup","searchGroupTitle","ignore","foundEl","notFoundEl","hideOnEnableEl","hideOnSearchEl","customSearch","hideDividers","hideGroups","disableOnBackdropClick","expandable","f7Searchbar","$foundEl","$hideOnEnableEl","$hideOnSearchEl","$searchContainer","$disableButtonEl","disableButtonHasMargin","previousQuery","isVirtualList","preventSubmit","onInputChange","disableOnClick","onPageBeforeOut","onPageBeforeIn","clear","setDisableButtonMargin","setFocus","backdropShow","needsFocus","titleLargeHeight","backdropHide","internal","foundItems","vlQuery","compareWithText","$searchIn","searchInEl","itemText","wordsMatch","titleEl","$nextElements","$nextEl","$groupEl","notHidden","FrameworkClass","searchbarEl","Messages","autoLayout","messages","newMessagesFirst","scrollMessages","scrollMessagesOnEdge","firstMessageRule","lastMessageRule","tailMessageRule","sameNameMessageRule","sameHeaderMessageRule","sameFooterMessageRule","sameAvatarMessageRule","customClassMessageRule","renderMessage","f7Messages","getMessageData","messageEl","$messageEl","textHeader","textFooter","imageSrc","typing","avatar","getMessagesData","messageToRender","isTyping","renderMessages","messagesToRender","isFirstMessage","isLastMessage","isTailMessage","isSameNameMessage","isSameHeaderMessage","isSameFooterMessage","isSameAvatarMessage","isCustomClassMessage","previousMessage","nextMessage","customMessageClasses","customClass","removeMessage","messageToRemove","removeMessages","messagesToRemove","messagesToRemoveEls","messageToRemoveIndex","addMessage","messageToAdd","addMessages","setScrollData","scrollHeightBefore","heightBefore","scrollBefore","scrollData","messagesToAdd","messagesHTML","typingMessage","$messagesEls","scrollWithEdgeCheck","showTyping","hideTyping","typingMessageIndex","typingFound","$typingMessageEl","onEdge","currentScroll","newScrollTop","messagesEl","Messagebar","messagebar","topOffset","bottomOffset","attachments","renderAttachments","renderAttachment","resizePage","f7Messagebar","$areaEl","$attachmentsEl","$sheetEl","areaEl","attachmentsEl","attachmentsVisible","sheetEl","sheetVisible","onAppResize","onSubmit","onAttachmentClick","onTextareaChange","onTextareaFocus","sheetHide","onTextareaBlur","setPlaceholder","elHeight","currentPaddingBottom","requiredPaddingBottom","currentPaddingTop","pageOffsetHeight","pageScrollTop","scrollOnBottom","attachmentsCreate","attachmentsShow","attachmentsHide","attachmentsToggle","attachment","sheetCreate","sheetShow","sheetToggle","messagebarEl","Methods","currentStyle","isNode","HTMLElement","noExtend","__swiper__","bindModuleMethods","classesToSelector","createElementIfNotDefined","createElements","checkProps","auto","gestures","checkGestures","_temp","_ref","browser","calcBrowser","isSafari","isEdge","isWebView","getBrowser","supportsResizeObserver","ResizeObserver","createObserver","newHeight","contentBoxSize","contentRect","inlineSize","blockSize","removeObserver","orientationChangeHandler","resizeObserver","_extends","source","hasOwnProperty","Observer","attach","ObserverFunc","MutationObserver","WebkitMutationObserver","mutations","observerUpdate","childList","characterData","observers","observeParents","containerParents","observeSlideChildren","useParams","__emitterProxy","onAny","eventsAnyListeners","offAny","updateSize","clientWidth","isVertical","updateSlides","getDirectionLabel","property","getDirectionPropertyValue","swiperSize","rtlTranslate","wrongRTL","isVirtual","virtual","previousSlidesLength","slides","slideClass","slidesLength","snapGrid","slidesGrid","slidesSizesGrid","offsetBefore","slidesOffsetBefore","offsetAfter","slidesOffsetAfter","previousSnapGridLength","previousSlidesGridLength","spaceBetween","slidePosition","prevSlideSize","virtualSize","marginLeft","marginBottom","marginTop","marginRight","slidesNumberEvenToRows","slidesPerColumn","slidesPerView","slidesPerColumnFill","slideSize","slidesPerRow","numFullColumns","slide","newSlideOrderIndex","slidesPerGroup","slideIndexInGroup","columnsInGroup","order","slideStyles","currentTransform","currentWebKitTransform","roundLengths","boxSizing","_slide$","swiperSlideSize","centeredSlides","slidesPerGroupSkip","newSlidesGrid","setWrapperSize","_$wrapperEl$css","_$wrapperEl$css2","slidesGridItem","_i2","_slidesGridItem","_slides$filter$css","_","slideIndex","cssMode","centeredSlidesBounds","allSlidesSize","slideSizeValue","maxSnap","snap","centerInsufficientSlides","_allSlidesSize","allSlidesOffset","snapIndex","watchOverflow","checkOverflow","watchSlidesProgress","watchSlidesVisibility","updateSlidesOffset","updateAutoHeight","speed","activeSlides","setTransition","getSlideByIndex","visibleSlides","swiperSlideOffset","updateSlidesProgress","offsetCenter","slideVisibleClass","visibleSlidesIndexes","slideProgress","autoHeight","slideBefore","slideAfter","updateProgress","multiplier","translatesDiff","isBeginning","isEnd","wasBeginning","wasEnd","updateSlidesClasses","realIndex","slideActiveClass","slideNextClass","slidePrevClass","slideDuplicateActiveClass","slideDuplicateNextClass","slideDuplicatePrevClass","activeSlide","loop","slideDuplicateClass","nextSlide","prevSlide","emitSlidesClasses","updateActiveIndex","previousRealIndex","previousSnapIndex","normalizeSlideIndex","skip","runCallbacksOnInit","updateClickedSlide","slideFound","clickedSlide","clickedIndex","slideToClickedSlide","getSwiperTranslate","virtualTranslate","setTranslate","byController","wrapperEl","z","previousTranslate","newProgress","translateTo","runCallbacks","translateBounds","preventInteractionOnTransition","_wrapperEl$scrollTo","behavior","onTranslateToWrapperTransitionEnd","transitionStart","indexAsNumber","isValidNumber","isFinite","initialSlide","normalizedTranslate","normalizedGird","normalizedGridNext","allowSlideNext","allowSlidePrev","onSlideToWrapperTransitionEnd","slideToLoop","newIndex","loopedSlides","slideNext","loopPreventsSlide","loopFix","slidePrev","normalize","normalizedSnapGrid","prevSnap","slideReset","slideToClosest","currentSnap","nextSnap","_currentSnap","slidesPerViewDynamic","slideToIndex","loopCreate","loopFillGroupWithBlank","blankSlidesNum","blankNode","slideBlankClass","loopAdditionalSlides","prependSlides","appendSlides","snapTranslate","slideChanged","_slideChanged","loopDestroy","setGrabCursor","moving","simulateTouch","isLocked","cursor","unsetGrabCursor","appendSlide","prependSlide","addSlide","activeIndexBuffer","baseLength","slidesBuffer","currentSlide","removeSlide","slidesIndexes","indexToRemove","removeAllSlides","closestElement","__closestFrom","assignedSlot","getRootNode","touchEventsData","originalEvent","touchEventsTarget","isTouchEvent","swipingClassHasValue","noSwipingClass","shadowRoot","noSwipingSelector","isTargetShadow","noSwiping","allowClick","currentX","currentY","startX","startY","edgeSwipeDetection","iOSEdgeSwipeDetection","edgeSwipeThreshold","iOSEdgeSwipeThreshold","allowTouchCallbacks","startMoving","swipeDirection","allowThresholdMove","focusableElements","shouldPreventDefault","touchStartPreventDefault","touchStartForcePreventDefault","targetTouch","preventedByNestedSwiper","touchReleaseOnEdges","sqrt","pow","touchAngle","atan2","touchMoveStopPropagation","nested","allowMomentumBounce","grabCursor","touchRatio","disableParentSwiper","resistanceRatio","resistance","followFinger","velocities","lastClickTime","currentPos","freeModeMomentum","lastMoveEvent","velocityEvent","velocity","freeModeMinimumVelocity","freeModeMomentumVelocityRatio","momentumDuration","freeModeMomentumRatio","momentumDistance","newPosition","doBounce","afterBouncePosition","bounceAmount","freeModeMomentumBounceRatio","needsLoopFix","freeModeMomentumBounce","freeModeSticky","moveDistance","currentSlideSize","longSwipesMs","stopIndex","groupSize","_increment","longSwipes","longSwipesRatio","shortSwipes","isNavButtonTarget","navigation","nextEl","prevEl","breakpoints","setBreakpoint","autoplay","running","paused","run","preventClicks","preventClicksPropagation","onScroll","dummyEventAttached","dummyEventListener","passiveListeners","updateOnWindowResize","_swiper$loopedSlides","getBreakpoint","breakpointsBase","currentBreakpoint","breakpointOnlyParams","breakpointParams","wasMultiRow","isMultiRow","wasEnabled","containerModifierClass","emitContainerClasses","directionChanged","needsReLoop","changeDirection","isEnabled","points","point","minRatio","_points$i","prepareClasses","prefix","resultClasses","addClasses","suffixes","removeClasses","srcset","sizes","checkForComplete","onReady","isPicture","preloadImages","imagesToLoad","imagesLoaded","updateOnImagesReady","currentSrc","wasLocked","lastSlidePosition","uniqueNavElements","wrapperClass","_emitClasses","_defineProperties","descriptor","_createClass","protoProps","staticProps","prototypes","modular","eventsEmitter","manipulation","images","extendedDefaults","Swiper","swipers","newParams","moduleParamName","swiperParams","touchEventsTouch","touchEventsDesktop","clickTimeout","_proto","getSlideClasses","slideEl","updates","spv","breakLoop","translateValue","translated","newDirection","needUpdate","currentDirection","mounted","getWrapperSelector","getWrapper","wrapper","deleteInstance","cleanStyles","extendDefaults","newDefaults","prototypeGroup","protoMethod","Resize","Virtual","_swiper$params","_swiper$params$virtua","addSlidesBefore","addSlidesAfter","_swiper$virtual","previousFrom","previousTo","previousSlidesGrid","renderSlide","previousOffset","offsetProp","slidesAfter","slidesBefore","onRendered","getSlides","slidesToRender","renderExternalUpdate","prependIndexes","appendIndexes","$slideEl","numberOfNewSlides","$cachedEl","cachedElIndex","beforeInit","overwriteParams","kc","charCode","pageUpDown","keyboard","isPageUp","isPageDown","isArrowLeft","isArrowRight","isArrowUp","isArrowDown","shiftKey","altKey","ctrlKey","metaKey","onlyInViewport","inView","swiperWidth","swiperHeight","windowWidth","windowHeight","swiperOffset","swiperCoord","returnValue","isEventSupported","isSupported","implementation","hasFeature","Mousewheel","lastScrollTime","lastEventBeforeSnap","recentWheelEvents","PIXEL_STEP","LINE_HEIGHT","PAGE_HEIGHT","sX","sY","pX","pY","wheelDelta","wheelDeltaY","wheelDeltaX","HORIZONTAL_AXIS","deltaMode","spinX","spinY","pixelX","pixelY","handleMouseEnter","mouseEntered","handleMouseLeave","eventsTarget","releaseOnEdges","delta","rtlFactor","forceToAxis","invert","positions","sensitivity","newEvent","sign","raw","prevEvent","animateSlider","releaseScroll","_newEvent","ignoreWheelEvents","_recentWheelEvents","_prevEvent","firstEvent","snapToThreshold","autoplayDisableOnInteraction","thresholdDelta","thresholdTime","Navigation","disabledClass","_swiper$navigation","$prevEl","lockClass","onPrevClick","onNextClick","_swiper$navigation2","hideOnClick","hiddenClass","toEdge","fromEdge","enableDisable","_swiper$navigation3","_swiper$navigation4","pagination","clickable","Pagination","total","paginationType","bullets","firstIndex","lastIndex","midIndex","dynamicBullets","bulletSize","dynamicMainBullets","dynamicBulletIndex","bulletActiveClass","bullet","$bullet","bulletIndex","$firstDisplayedBullet","$lastDisplayedBullet","dynamicBulletsLength","bulletsOffset","currentClass","formatFractionCurrent","totalClass","formatFractionTotal","progressbarDirection","progressbarOpposite","progressbarFillClass","renderCustom","paginationHTML","numberOfBullets","renderBullet","bulletClass","bulletElement","renderFraction","renderProgressbar","clickableClass","modifierClass","progressbarOppositeClass","activeIndexChange","snapIndexChange","slidesLengthChange","snapGridLengthChange","Scrollbar","scrollbar","dragSize","trackSize","$dragEl","newSize","newPos","moveDivider","getPointerPosition","setDragPosition","dragStartPos","positionRatio","onDragStart","dragTimeout","onDragMove","onDragEnd","snapOnRelease","enableDraggable","disableDraggable","$swiperEl","dragClass","dragEl","draggable","Parallax","setTransform","currentOpacity","currentScale","parallax","parallaxEl","$parallaxEl","parallaxDuration","Zoom","getDistanceBetweenTouches","x1","y1","x2","y2","onGestureStart","zoom","gesture","fakeGestureTouched","fakeGestureMoved","scaleStart","$imageWrapEl","containerClass","maxRatio","isScaling","onGestureChange","scaleMove","onGestureEnd","slideWidth","slideHeight","scaledWidth","scaledHeight","minX","maxX","minY","maxY","touchesCurrent","prevPositionX","prevPositionY","prevTime","momentumDurationX","momentumDurationY","momentumDistanceX","newPositionX","momentumDistanceY","newPositionY","onTransitionEnd","in","_in","zoomedSlideClass","touchX","touchY","offsetX","offsetY","imageWidth","imageHeight","translateMinX","translateMinY","translateMaxX","translateMaxY","toggleGestures","slideSelector","enableGestures","gesturesEnabled","disableGestures","activeListenerWithCapture","touchStart","touchEnd","doubleTap","slideChange","loadInSlide","loadInDuplicate","$images","elementClass","loadedClass","loadingClass","background","$pictureEl","sourceEl","$source","preloaderClass","slideOriginalIndex","originalSlide","duplicatedSlide","slideExist","initialImageLoaded","loadPrevNext","loadPrevNextAmount","amount","maxIndex","minIndex","checkInViewOnLoad","$scrollElement","scrollingElement","isWindow","scrollElementWidth","scrollElementHeight","scrollHandlerAttached","checkInView","loadOnTransitionStart","lazyLoad","Controller","LinearSpline","binarySearch","guess","array","i1","i3","interpolate","getInterpolateFunction","controller","spline","_setTranslate","controlled","control","controlledTranslate","setControlledTranslate","by","inverse","setControlledTransition","A11y","getRandomNumber","randomChar","repeat","makeElFocusable","makeElNotFocusable","addElRole","addElRoleDescription","description","addElControls","controls","addElLabel","addElId","addElLive","live","disableEl","enableEl","onEnterOrSpaceKey","a11y","notify","lastSlideMessage","nextSlideMessage","firstSlideMessage","prevSlideMessage","notification","liveRegion","updateNavigation","updatePagination","bulletEl","$bulletEl","paginationBulletMessage","containerRoleDescriptionMessage","containerMessage","wrapperId","itemRoleDescriptionMessage","slideRole","ariaLabelMessage","slideLabelMessage","notificationClass","afterInit","paginationUpdate","hashNavigation","getPathValues","scrollToSlide","setHistoryPopState","urlOverride","pathArray","part","setHistory","slugify","includes","currentState","slideHistory","transitionEnd_freeModeNoMomentumRelease","HashNavigation","onHashChange","newHash","activeSlideHash","setHash","slideHash","watchState","Autoplay","$activeSlideEl","autoplayResult","reverseDirection","stopOnLastSlide","pause","waitForTransition","onVisibilityChange","visibilityState","onMouseEnter","disableOnInteraction","onMouseLeave","attachMouseEvents","pauseOnMouseEnter","detachMouseEvents","beforeTransitionStart","sliderFirstMove","Fade","tx","ty","slideOpacity","fadeEffect","crossFade","eventTriggered","triggerEvents","Cube","cubeEffect","wrapperRotate","$cubeShadowEl","shadow","slideAngle","tz","slideShadows","shadowBefore","shadowAfter","shadowOffset","shadowScale","shadowAngle","sin","scale1","scale2","zFactor","Flip","flipEffect","limitRotation","rotate","rotateY","rotateX","Coverflow","coverflowEffect","depth","slideOffset","offsetMultiplier","modifier","translateZ","stretch","slideTransform","$shadowBeforeEl","$shadowAfterEl","Thumbs","thumbsParams","thumbs","SwiperClass","swiperCreated","thumbsContainerClass","onThumbClick","thumbsSwiper","slideThumbActiveClass","autoScrollOffset","useOffset","currentThumbsIndex","newThumbsIndex","prevThumbsIndex","nextThumbsIndex","thumbsToActivate","thumbActiveClass","multipleActiveThumbs","beforeDestroy","EffectFade","EffectCube","EffectFlip","EffectCoverflow","initSwiper","swiperEl","isTabs","isRoutableTabs","f7SwiperParams","updateSwiper","tabRouteUrl","pageMounted","PhotoBrowser","photoBrowser","exposed","started","timeStart","onSlideChange","virtualSlides","photos","$previousSlideEl","$totalEl","captions","captionIndex","$captionsContainerEl","previousSlideVideo","renderNavbar","iconsColor","renderNavbarCount","navbarShowCount","isPopup","navbarOfText","renderCaption","caption","renderObject","photo","renderLazyPhoto","renderPhoto","captionsTheme","renderStandalone","standaloneHtml","f7PhotoBrowser","$swiperContainerEl","$swiperWrapperEl","exposition","expositionToggle","doubleClick","slideChangeTransitionStart","slideChangeTransitionEnd","lazyImageLoad","lazyImageReady","touchMoveOpposite","openStandalone","expositionEnable","expositionHideCaptions","expositionDisable","Notification","titleRightText","subtitle","closeOnClick","notificationHtml","notificationHeight","attachTouchEvents","detachTouchEvents","closeOnTimeout","notificationInstance","Autocomplete","ac","autocomplete","$openerEl","openerEl","f7Autocomplete","uniqueId","$dropdownEl","itemsHTML","limit","highlightMatches","firstValue","firstItem","itemValue","valueProperty","textProperty","dropdownPlaceholderText","typeahead","setSelectionRange","onPageInputChange","isValues","aValue","updateValues","onOpenerClick","positionDropdown","$selectedItemLabel","$selectedItem","$newItem","onDropdownClick","clickedItem","updateInputValueOnSelect","attachDropdownEvents","detachDropdownEvents","attachPageEvents","detachPageEvents","inputOffset","inputOffsetWidth","inputOffsetHeight","$listParent","parentEl","listOffset","listOffsetLeft","inputOffsetLeft","paddingProp","paddingValue","expandInput","valuesHTML","preloaderHide","preloaderShow","renderPreloader","preloaderColor","inPopup","navbarLeft","navbarRight","renderDropdown","notFoundText","requestSourceOnOpen","openDropdown","dropdownContainerEl","autocompleteEl","Tooltip","tooltip","delegated","f7Tooltip","handleClickOut","handleTransitionEnd","setTargetEl","hasContainerEl","tooltipOffset","boundaries","clientRect","aroundEl","$aroundEl","Gauge","gauge","f7Gauge","calcRadius","borderWidth","calcBorderLength","radius","bgColor","borderBgColor","borderColor","valueText","valueTextColor","valueFontSize","valueFontWeight","labelText","labelTextColor","labelFontSize","labelFontWeight","semiCircle","$svgEl","svgAttrs","viewBox","backAttrs","stroke","fill","frontAttrs","cx","cy","textAttrs","dy","labelAttrs","svgEl","Menu","$menuEl","originalZIndex","f7MenuZIndex","menu","openedMenus","sliderLabel","sliderValue","sliderValueEditable","alphaLabelText","alphaRangeSlider","alpha","destroyAlphaSliderEvents","hexLabel","hexLabelText","hexValueEditable","destroyHexEvents","hueLabelText","saturationLabelText","brightnessLabelText","hueRangeSlider","hue","saturationRangeSlider","hsb","brightnessRangeSlider","destroyHsbSlidersEvents","hslCurrent","hslLeft","hslRight","brightness","palette","handlePaletteClick","destroyPaletteEvents","handleInitialColorClick","destroyInitialCurrentEvents","barLabel","barValue","barValueEditable","redLabelText","greenLabelText","blueLabelText","redBar","greenBar","blueBar","destroyRgbBarsEvents","redRangeSlider","greenRangeSlider","blueRangeSlider","destroyRgbSlidersEvents","specterRect","specterIsTouched","specterHandleIsTouched","setSBFromSpecterCoords","destroySpectrumEvents","specterWidth","specterHeight","setHSFromSpecterCoords","hslBright","svgWheelCircles","circles","wheelRect","wheelIsTouched","wheelHandleIsTouched","setHueFromWheelCoords","wheelCenterX","wheelCenterY","angleRad","angleDeg","wheel","destroyWheelEvents","wheelSize","wheelHalfSize","handleSize","handleHalfSize","tX","tY","ColorPicker","colorPicker","moduleAlphaSlider","moduleCurrentColor","moduleHex","moduleHsbSliders","moduleHueSlider","moduleBrightnessSlider","modulePalette","moduleInitialCurrentColors","moduleRgbBars","moduleRgbSliders","moduleSbSpectrum","moduleHsSpectrum","moduleWheel","onTargetClick","$clickTargetEl","attachTargetEvents","detachTargetEvents","centerModules","getModalType","openInPhone","normalizeHsValues","updateModules","rgba","hsla","needChangeEvent","subV","fireEvents","targetElSetBackgroundColor","renderPicker","navbarTitleText","navbarBackLinkText","navbarCloseText","groupedModules","toolbarSheet","toolbarPopover","navbarPopup","f7ColorPicker","colorPickerContent","sliderValueEdiable","barValueEdiable","Treeview","f7TreeviewChildrenLoaded","wasOpened","treeview","$treeviewItemEl","textEditorButtonsMap","italic","underline","strikeThrough","orderedList","unorderedList","link","paragraph","h1","h2","h3","alignLeft","alignCenter","alignRight","alignJustify","subscript","superscript","indent","outdent","TextEditor","textEditor","f7TextEditor","mode","onButtonClick","onPaste","onSelectionChange","closeKeyboardToolbar","$keyboardToolbarEl","clearValue","insertPlaceholder","createLink","currentSelection","getSelection","selectedNodes","$selectedLinks","anchorNode","focusNode","selectedNodesLinks","$selectedNodes","linkNode","selection","createRange","selectNodeContents","removeAllRanges","addRange","execCommand","currentRange","getSelectionRange","linkUrlText","insertImage","imageUrlText","imageUrl","removePlaceholder","selectionIsInContent","openKeyboardToolbar","selectionIsInPopover","isCollapsed","rangeCount","getRangeAt","clearFormattingOnPaste","clipboardData","inPopover","buttonData","customButtons","command","$anchorNode","select","renderButtons","renderButton","dividers","createToolbar","createKeyboardToolbar","createPopover","popoverTimeout","editorEl","PieChart","pieChart","f7PieChart","showTooltip","hideTooltip","getSummValue","datasets","summ","getPaths","cumulativePercentage","getCoordinatesForPercentage","endX","endY","largeArcFlag","formatTooltipText","formatTooltip","tooltipText","setTooltip","setCurrentIndex","AreaChart","areaChart","f7AreaChart","hiddenDatasets","linesOffsets","onMouseMove","onLegendClick","getVisibleLabels","maxAxisLabels","axisLabels","skipStep","filtered","getSummValues","summValues","getChartData","lineChart","lastValues","maxValue","datasetMaxValue","originalValue","reverse","getVerticalLines","lines","toggleDataset","toggleDatasets","$legendEl","formatAxisLabel","formatLegendLabel","calcLinesOffsets","formatTooltipTotal","formatTooltipAxisLabel","formatTooltipDataset","totalText","datasetsText","hasVisibleDataSets","distances","minDistance","closestIndex","legend","chartData","verticalLines","visibleLegends","LegendItemTag","line","onlySvg","$axisEl","$rendered","RouterComponentLoaderModule","DeviceModule","SupportModule","UtilsModule","ResizeModule","RequestModule","TouchModule","ClicksModule","RouterModule","HistoryModule","ComponentModule","ServiceWorkerModule","StoreModule","Subnavbar","Appbar"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}